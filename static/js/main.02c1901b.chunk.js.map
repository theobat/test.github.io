{"version":3,"sources":["util/apollo/operation/index.ts","util/apollo/operation/operation.ts","ui/Icons/collectionPlaceholder.png","../ /^/.//.*//messages/.po$/ groupOptions: {} namespace object","locales lazy /^/.//.*//messages/.js$/ groupOptions: {} namespace object","ui/modules/AddResource/cc-zero.png","ui/modules/AddResource/by.png","ui/modules/AddResource/by-sa.png","fe/lib/graphql/ctx.ts","HOC/pages/settings/SettingsPage.generated.tsx","HOC/modules/Sidebar/Sidebar.generated.tsx","fe/session/me.generated.tsx","fe/session/anon.generated.tsx","graphql/types.generated.ts","mn-constants.tsx","apollo/uploadLink.js","apollo/client.tsx","ui/themes/default.theme.ts","ui/styleguide/Wrapper.tsx","ui/themes/styled.ts","ui/modules/Header/index.tsx","ui/elements/Panel/index.tsx","ui/elements/Loader/index.tsx","ui/elements/Button/index.tsx","ui/modules/Loadmore/index.tsx","ui/elements/Layout/index.tsx","ui/pages/allCollections/index.tsx","HOC/modules/previews/community/CommunityPreview.generated.tsx","HOC/modules/previews/collection/CollectionPreview.generated.tsx","@fragments/misc.generated.tsx","fe/collection/all/useAllCollections.generated.tsx","fe/lib/helpers/usePage.ts","fe/collection/all/useAllCollections.ts","ui/helpers/SimpleLink.tsx","ui/modules/Previews/Collection.tsx","fe/collection/myFollowed/myFollowedCollections.generated.tsx","fe/community/myFollowed/myFollowedCommunities.generated.tsx","fe/lib/helpers/mutations.ts","fe/mutation/follow/useMutateFollow.generated.tsx","HOC/modules/previews/user/UserPreview.generated.tsx","fe/user/followers/collection/useCollectionFollowers.generated.tsx","fe/user/followers/community/useCommunityFollowers.generated.tsx","fe/lib/extraInfo/extraInfo.ts","fe/lib/helpers/data.ts","fe/mutation/upload/getUploadInput.ts","fe/session/useMe.ts","util/keyvaluestore/localSessionStorage.ts","context/global/localizationCtx.tsx","ui/elements/Logo/index.tsx","ui/pages/login/index.tsx","fe/session/useAnon.ts","context/global/pageCtx.tsx","HOC/pages/login/LoginPage.tsx","HOC/context/SideBar.tsx","HOC/modules/previews/resource/ResourcePreview.generated.tsx","HOC/modules/previews/comment/CommentPreview.generated.tsx","HOC/modules/previews/flag/FlagPreview.generated.tsx","HOC/modules/previews/like/LikePreview.generated.tsx","HOC/modules/previews/follow/FollowPreview.generated.tsx","HOC/modules/previews/activity/ActivityPreview.generated.tsx","fe/activities/outbox/instance/useInstanceOutboxActivities.generated.tsx","fe/community/all/useAllCommunities.generated.tsx","HOC/modules/HeroCommunity/HeroCommunity.generated.tsx","HOC/modules/previews/thread/ThreadPreview.generated.tsx","HOC/pages/community/CommunityPage.generated.tsx","fe/community/create/useCreateCommunity.generated.tsx","fe/community/create/useCreateCommunity.ts","ui/modules/DropzoneModal/index.tsx","ui/elements/Alert/index.tsx","ui/modules/Modal/index.tsx","ui/modules/CreateCommunityPanel/index.tsx","HOC/lib/formik-validations.ts","HOC/modules/CreateCommunityPanel/createCommunityPanelHOC.tsx","HOC/modules/SearchBox/SearchBox.tsx","ui/elements/Avatar/index.tsx","ui/modules/Dropdown/index.tsx","ui/modules/MainHeader/dropdown.tsx","fe/activities/outbox/community/useCommunityOutboxActivities.generated.tsx","fe/activities/outbox/community/useCommunityOutboxActivities.ts","fe/collection/community/useCommunityCollections.generated.tsx","fe/collection/community/useCommunityCollections.ts","fe/mutation/createThread/useCreateThread.generated.tsx","fe/thread/community/useCommunityThreads.generated.tsx","fe/context/createThread/useCreateThreadContext.ts","fe/community/edit/useEditCommunity.generated.tsx","fe/community/edit/useEditCommunity.ts","fe/community/useCommunity.generated.tsx","fe/community/useCommunity.ts","fe/thread/community/useCommunityThreads.ts","fe/user/followers/community/useCommunityFollowers.ts","HOC/modules/HeroCollection/HeroCollection.generated.tsx","HOC/pages/collection/CollectionPage.generated.tsx","fe/collection/create/useCreateCollection.generated.tsx","fe/collection/create/useCreateCollection.ts","ui/modules/CreateCollectionPanel/style.ts","ui/modules/HeroCommunity/index.tsx","ui/modules/CreateCollectionPanel/index.tsx","HOC/modules/CreateCollectionPanel/createCollectionPanelHOC.tsx","ui/modules/EditCommunityPanel/index.tsx","HOC/modules/EditCommunityPanel/editCommunityPanelHOC.tsx","HOC/pages/discover/DiscoverPage.generated.tsx","HOC/modules/FeaturedCollections/featuredCollection.generated.tsx","fe/instance/featuredCollections/instanceFeaturedCollections.generated.tsx","HOC/modules/FeaturedCommunities/featuredCommunity.generated.tsx","fe/instance/featuredCommunities/instanceFeaturedCommunities.generated.tsx","fe/mutation/feature/useMutateFeature.generated.tsx","fe/context/feature/useFeatureContext.ts","ui/modules/FeaturedModal/index.tsx","HOC/modules/FeatureModal/FeatureModal.tsx","fe/flags/all/useAllFlags.generated.tsx","fe/mutation/flag/useMutateFlag.generated.tsx","fe/context/flag/useFlagContext.ts","ui/modules/FlagModal/index.tsx","HOC/modules/FlagModal/flagModalHOC.tsx","HOC/modules/HeroCommunity/HeroCommunity.tsx","fe/activities/preview/useActivityPreview.generated.tsx","fe/lib/activity/getActivityMainContext.ts","fe/lib/activity/getActivityEventString.tsx","ui/modules/SocialText/index.tsx","ui/pages/thread/index.tsx","fe/comment/preview/useCommentPreview.generated.tsx","fe/mutation/like/useMutateLike.generated.tsx","fe/context/like/useLikeContext.ts","fe/activities/inbox/my/useMyInboxActivities.generated.tsx","fe/comment/thread/useThreadComments.generated.tsx","fe/comment/reply/useReplyComment.generated.tsx","fe/comment/reply/useReplyComment.ts","fe/comment/preview/useCommentPreview.ts","ui/elements/Layout/comment.tsx","ui/modules/Previews/Comment.tsx","ui/modules/Previews/MainComment.tsx","HOC/modules/previews/comment/CommentPreview.tsx","fe/thread/preview/useThreadPreview.generated.tsx","ui/modules/ActivityPreview/index.tsx","fe/thread/preview/useThreadPreview.ts","fe/lib/activity/getContextCommunityInfo.ts","HOC/modules/HeroUser/HeroUser.generated.tsx","HOC/pages/user/UserPage.generated.tsx","fe/activities/outbox/user/useUserOutboxActivities.generated.tsx","fe/activities/outbox/user/useUserOutboxActivities.ts","fe/collection/user/useUserFollowedCollections.generated.tsx","fe/collection/user/useUserFollowedCollections.ts","fe/community/user/useUserFollowedCommunities.generated.tsx","fe/community/user/useUserFollowedCommunities.ts","fe/likes/user/useUserLikes.generated.tsx","fe/likes/user/useUserLikes.ts","fe/user/followed/user/useUserFollowedUsers.generated.tsx","fe/user/followed/user/useUserFollowedUsers.ts","fe/user/useUser.generated.tsx","ui/modules/HeroUser/index.tsx","fe/user/useUser.ts","HOC/modules/HeroUser/HeroUser.tsx","fe/community/preview/useCommunityPreview.generated.tsx","fe/community/preview/useCommunityPreview.ts","ui/modules/Previews/Community.tsx","HOC/modules/previews/community/CommunityPreview.tsx","ui/modules/MoodlePanel/index.tsx","fe/instance/info/useInstanceInfo.generated.tsx","fe/lib/moodleLMS/useSendToMoodle.ts","fe/lib/moodleLMS/LMSintegration.ts","HOC/modules/MoodlePanel/MoodlePanel.tsx","fe/resource/preview/useResourcePreview.generated.tsx","fe/resource/preview/useResourcePreview.ts","fe/lib/moodleLMS/mappings/gql2LMS.ts","fe/collection/edit/useEditCollection.generated.tsx","fe/collection/edit/useEditCollection.ts","fe/collection/useCollection.generated.tsx","fe/collection/useCollection.ts","fe/resource/collection/useCollectionResources.generated.tsx","fe/resource/collection/useCollectionResources.ts","fe/user/followers/collection/useCollectionFollowers.ts","HOC/modules/AddResource/addResource.generated.tsx","fe/resource/add/useAddResource.generated.tsx","fe/resource/add/useAddResource.tsx","ui/modules/AddResource/UploadResource.tsx","HOC/modules/AddResource/addResourceHOC.tsx","ui/modules/EditCollectionPanel/index.tsx","ui/modules/HeroCollection/index.tsx","HOC/modules/EditCollectionPanel/editCollectionPanelHOC.tsx","HOC/modules/HeroCollection/HeroCollection.tsx","fe/user/preview/useUserPreview.generated.tsx","fe/user/preview/useUserPreview.ts","ui/modules/Previews/User.tsx","HOC/modules/previews/user/UserPreview.tsx","HOC/modules/ShareLink/shareLink.generated.tsx","fe/resource/shareLink/useShareLink.generated.tsx","ui/modules/ShareLink/fetched.tsx","ui/modules/ShareLink/index.tsx","HOC/modules/ShareLink/shareLinkHOC.tsx","ui/pages/collection/index.tsx","HOC/pages/collection/CollectionPage.tsx","ui/pages/notFound/index.tsx","ui/modules/Sidebar/index.tsx","HOC/pages/not-found/NotFound.tsx","fe/community/myFollowed/myFollowedCommunities.ts","fe/instance/featuredCollections/useInstanceFeaturedCollections.ts","ui/Icons/index.tsx","ui/modules/FeaturedCollections/index.tsx","ui/modules/FeaturedCollections/preview.tsx","HOC/modules/FeaturedCollections/featuredCollections.tsx","ui/pages/discover/index.tsx","fe/activities/outbox/instance/useInstanceOutboxActivities.ts","fe/instance/featuredCommunities/useInstanceFeaturedCommunities.ts","ui/modules/FeaturedCommunities/index.tsx","ui/modules/FeaturedCommunities/preview.tsx","HOC/pages/discover/DiscoverPage.tsx","HOC/modules/FeaturedCommunities/featuredCommunities.tsx","fe/community/all/useAllCommunities.ts","routes/lib/helper.tsx","routes/DiscoverPageRoute.tsx","fe/activities/inbox/my/useMyInboxActivities.ts","ui/pages/home/index.tsx","HOC/pages/home/HomeHoc.tsx","routes/wrappers/RedirectBySession.tsx","routes/HomePageRoute.tsx","HOC/modules/Sidebar/Sidebar.tsx","HOC/modules/CreateMenuHOK/CreateDropdown.tsx","fe/intent/create/useCreateIntent.generated.tsx","fe/intent/create/useCreateIntent.ts","ui/modules/EconomicEventManager/styles.ts","ui/elements/Input/index.tsx","ui/elements/CustomSelect/index.tsx","ui/modules/CreateIntentPanel/index.tsx","HOC/modules/EconomicEventManager/EconomicEventManager.generated.tsx","HOC/modules/CreateIntentPanel/createIntentPanelHOC.tsx","fe/location/add/useAddLocation.generated.tsx","fe/location/add/useAddLocation.tsx","ui/elements/LocationPiker/index.tsx","ui/elements/Map/index.tsx","ui/elements/LocationPanel/index.tsx","HOC/modules/CreateLocationPanel/CreateLocationPanelHOK.tsx","fe/resource/create/useCreateResource.generated.tsx","fe/resource/create/useCreateResource.ts","ui/elements/CustomSelect/select.ts","ui/modules/CreateResourcePanel/index.tsx","fe/resourceDefault/useCreateResource.generated.tsx","fe/resourceDefault/useCreateDefaultResource.ts","HOC/modules/IntentPanel/Actions.generated.tsx","HOC/modules/EconomicEventManager/EconomicEventManagerHOC.tsx","HOC/modules/CreateResourcePanel/CreateResourcePanelHOC.tsx","HOC/modules/CreateMenuHOK/CreateMenuHOK.tsx","ui/modules/Burger/index.tsx","ui/templates/withSidebar.tsx","HOC/templates/WithSidebar/WithSidebar.tsx","routes/CollectionPageRoute.tsx","ui/modules/Previews/Resource.tsx","HOC/modules/previews/resource/ResourcePreview.tsx","ui/modules/Previews/LikedComment.tsx","HOC/modules/previews/commentLiked/CommentLikedPreview.tsx","HOC/modules/previews/activity/PreviewComponent.tsx","ui/pages/user/index.tsx","ui/modules/Resource/PrimaryAccountablePerson/index.tsx","ui/pages/resource/index.tsx","util/constants/pagination.ts","ui/pages/community/index.tsx","ui/pages/inventory/index.tsx","ui/modules/Filter/index.tsx","HOC/pages/inventory/InventoryPage.generated.tsx","HOC/pages/user/UserPage.tsx","HOC/pages/inventory/InventoryPage.tsx","util/main.ts","routes/UserPageRoute.tsx","fe/lib/activity/getActivityActor.ts","fe/comment/thread/useThreadComments.ts","ui/modules/Previews/Thread.tsx","HOC/modules/previews/thread/ThreadPreview.tsx","HOC/modules/previews/index.tsx","HOC/pages/thread/ThreadPage.tsx","routes/ThreadPageRoute.tsx","fe/activities/preview/useActivityPreview.ts","fe/lib/activity/getActivitySimpleLink.ts","HOC/modules/previews/activity/ActivityPreview.tsx","fe/intent/community/useCommunityIntents.generated.tsx","fe/intent/community/useCommunityIntents.ts","ui/modules/Previews/Intent.tsx","HOC/modules/previews/intent/IntentPreview.tsx","fe/intent/createEvent/useCreateEvent.generated.tsx","fe/intent/createEvent/useCreateEvent.ts","ui/modules/EconomicEventManager/index.tsx","ui/modules/ProposedIntentPanel/index.tsx","HOC/modules/IntentPanel/IntentPanel.generated.tsx","HOC/pages/community/CommunityPage.tsx","HOC/modules/IntentPanel/IntentPanelHOC.tsx","routes/CommunityPageRoute.tsx","ui/modules/MainHeader/index.tsx","HOC/modules/Header/Header.tsx","ui/templates/guest.tsx","HOC/templates/Guest/Guest.tsx","routes/LoginPageRoute.tsx","HOC/lib/notifyMustLogin.tsx","fe/context/follow/useFollowContext.ts","fe/collection/preview/useCollectionPreview.generated.tsx","fe/collection/preview/useCollectionPreview.ts","HOC/modules/previews/collection/CollectionPreview.tsx","HOC/pages/all-collections/AllCollection.tsx","routes/AllCollectionsPageRoute.tsx","ui/pages/allCommunities/index.tsx","HOC/pages/all-communities/AllCommunities.tsx","routes/AllCommunitiesPageRoute.tsx","ui/pages/confirmEmail/index.tsx","HOC/pages/confirmEmail/ConfirmEmailPage.tsx","routes/ConfirmEmailPageRoute.tsx","ui/pages/createNewPassword/index.tsx","HOC/pages/createNewPassword/CreateNewPassword.tsx","routes/CreateNewPasswordPageRoute.tsx","ui/modules/CreateEventOnResourcePanel/index.tsx","HOC/pages/resource/EconomicResource.generated.tsx","fe/resource/create/useCreateEventOnResource.ts","HOC/modules/EconomicEventOnResourcePanel/CreateEconomicEventOnResourcePanelHOC.tsx","ui/modules/UpdateResourcePanel/index.tsx","fe/resource/update/useUpdateResource.generated.tsx","fe/resource/update/useUpdateResource.ts","HOC/modules/EconomicEventOnResourcePanel/UpdateEconomicResourceHOC.tsx","fe/resource/delete/useDeleteResource.generated.tsx","fe/resource/delete/useDeleteResource.ts","ui/modules/ConfirmationPanel/index.tsx","HOC/modules/EconomicEventOnResourcePanel/DeleteEconomicResourceHOC.tsx","HOC/pages/resource/EconomicResourceHOK.tsx","routes/InventoryResourceItemRouter.tsx","ui/pages/activity/index.tsx","HOC/pages/activity/ActivityPage.generated.tsx","HOC/pages/activity/ActivityPage.tsx","routes/ActivityPageRoute.tsx","ui/pages/maps/index.tsx","HOC/pages/map/MapPageQuery.ts","HOC/pages/map/MapPage.tsx","routes/MapsPageRoute.tsx","ui/pages/resetPassword/index.tsx","HOC/pages/resetPasswordRequest/resetPasswordRequestPage.tsx","routes/ResetPasswordPageRoute.tsx","fe/search/SearchData.generated.tsx","fe/lib/moodleLMS/mappings/hit2GQL.ts","fe/lib/moodleLMS/mappings/hit2LMS.ts","ui/pages/search/index.tsx","HOC/pages/search/Search.tsx","routes/SearchPageRoute.tsx","ui/pages/settings/index.tsx","fe/flags/all/useAllFlags.ts","fe/flags/preview/useFlagPreview.generated.tsx","fe/flags/preview/useFlagPreview.ts","ui/modules/Previews/FlaggedItem.tsx","HOC/modules/previews/flag/FlagPreview.tsx","ui/pages/settings/flags.tsx","HOC/pages/settings/flags/InstanceFlagsSection.tsx","fe/settings/instance/registration/allowlist/instanceRegistrationAllowLists.generated.tsx","fe/settings/instance/registration/allowlist/instanceRegistrationAllowLists.ts","ui/pages/settings/instance.tsx","HOC/pages/settings/instance/InstanceSettingsSection.tsx","ui/pages/settings/invites.tsx","HOC/pages/settings/SettingsPage.tsx","HOC/pages/settings/invites/InstanceInvitesSection.tsx","ui/pages/settings/logs.tsx","HOC/pages/settings/moderationLog/InstanceModerationLogSection.tsx","ui/pages/settings/preferences.tsx","HOC/pages/settings/preferences/PreferencesSettingsSection.tsx","ui/templates/withoutSidebar.tsx","HOC/templates/WithoutSidebar/WithoutSidebar.tsx","routes/SettingsPageRoute.tsx","ui/pages/signUp/index.tsx","HOC/pages/signUp/SignUpPage.tsx","routes/SignupPageRoute.tsx","HOC/pages/lmsMoodleSearch/lmsMoodleSearch.tsx","routes/LMSMoodleSearchRoute.tsx","ui/pages/termsAndConditions/index.tsx","HOC/pages/termsAndConditions/TermsAndConditionsPage.tsx","routes/TermsAndConditionsPage.tsx","containers/App/Router.tsx","containers/App/topMessage.tsx","containers/App/App.tsx","context/global/algolia.tsx","context/global/index.tsx","registerServiceWorker.js","index.tsx"],"names":["ApolloLink","getOpType","op","maybeOpDefNode","query","definitions","find","def","kind","name","value","operationName","operation","getOperationNameAndType","filter","reduce","found","opDefNode","maybeFieldNode","selectionSet","selections","selNode","opType","module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","defaultErrorMsg","ctx","errors","errorMsg","_","message","join","defaultSuccessMsg","notify","content","options","toast","mnCtx","opts","MngErrorLink","forward","getContext","noShowSuccess","successMsg","resp","noShowError","type","data","notifyGqlResponse","SettingsPageMeUserFragmentDoc","gql","SidebarFollowedCommunityFragmentDoc","SidebarMeUserFragmentDoc","UseMeDataFragmentDoc","MeDocument","MeLogoutDocument","MeUpdateMyProfileDocument","AuthDataFragmentDoc","AnonResetPasswordDocument","AnonResetPasswordRequestDocument","AnonLoginDocument","AnonConfirmEmailDocument","AnonSignUpDocument","AnonUsernameAvailableDocument","ActivityVerb","AgentType","TimeUnit","PHOENIX_SOCKET_ENDPOINT","process","REACT_APP_PHOENIX_SOCKET_ENDPOINT","GRAPHQL_ENDPOINT","SENTRY_KEY","DEFAULT_PAGE_SIZE","parseInt","REACT_APP_DEFAULT_PAGE_SIZE","INVITE_ONLY_TEXT","REACT_APP_INVITE_ONLY_TEXT","logo_small_url","terms_markdown_text","terms_markdown_urls","terms_privacy","locales","desc","rtl","mothershipAppId","REACT_APP_MOTHERSHIP_API_ID","mothershipApiKey","REACT_APP_MOTHERSHIP_API_KEY","mothershipEnv","REACT_APP_MOTHERSHIP_ENV","mothershipCreds","appId","apiKey","indexName","searchDisabled","USERNAME_REGEX","DOMAIN_REGEX","accepted_license_types","colors","typography","primary","s1","s2","s3","m1","m2","m3","l1","l2","l3","GraphQLError","require","Observable","selectURI","selectHttpOptionsAndBody","fallbackHttpConfig","serializeFetchParameter","createSignalIfSupported","parseAndCheckHttpResponse","extractFiles","setPath","path","i","parts","trim","split","length","createUploadLink","uri","fetchUri","fetch","linkFetch","fetchOptions","credentials","headers","includeExtensions","linkConfig","http","context","clientAwareness","version","contextConfig","body","clone","files","size","form","FormData","append","forEach","paths","String","JSON","stringify","variables","file","observer","abortController","signal","controller","response","setContext","result","next","complete","catch","error","abort","initialise","a","localKVStore","appLinks","authToken","get","fragmentMatcher","IntrospectionFragmentMatcher","introspectionQueryResultData","cache","InMemoryCache","cacheRedirects","Query","activity","args","getCacheKey","__typename","activityId","collection","collectionId","community","communityId","comment","commentId","user","userId","thread","threadId","resource","resourceId","dataIdFromObject","obj","defaultDataIdFromObject","setToken","token","set","delToken","undefined","del","setTokenLink","nextLink","createSession","confirmEmail","resetPassword","authLink","authorization","errorLink","onError","errorResponse","graphQLErrors","networkError","console","HttpStatus","getStatusText","statusCode","of","unexpectedError","err","test","respStr","clientAwarenessHeadersLinkForNonApollo3Server","ALLOWED_ANONYMOUS_MUTATIONS","alertBlockMutationsForAnonymousLink","includes","httpLink","from","Boolean","absintheSocket","createAbsintheSocketLink","AbsintheSocket","PhoenixSocket","link","hasSubscription","client","ApolloClient","defaultOptions","watchQuery","fetchPolicy","errorPolicy","mutate","theme","breakpoints","app","appInverse","secondary","tertiary","positive","negative","warning","lightest","lighter","light","mediumlight","medium","mediumdark","dark","darker","darkest","border","variants","bg","color","avatar","borderRadius","text","subhead","fontFamily","fontSize","textTransform","letterSpacing","fontWeight","suptitle","heading","buttons","height","px","backgroundColor","cursor","danger","outline","space","ThemeProvider","children","moodlenet","styled","styledComponents","Header","SupText","ml","variant","Left","Flex","Text","props","HeaderWrapper","WrapperPanel","media","lessThan","Panel","Box","PanelTitle","Nav","NavItem","Bounce","Loader","className","WrapperButton","Button","transitions","isIcon","disabled","darken","lighten","MNButton","width","fullWidth","isSubmitting","isDisabled","LoadMore","p","LoadMoreFormik","onClick","submitForm","Wrapper","List","MainContainer","HomeBox","WrapperCont","MenuItem","NavLink","MenuList","ObjectsList","BottomBordered","CollectionsWrapper","ButtonIcon","AllCollections","CollectionsBoxes","CommunityInfoFragmentDoc","CommunityPreviewFragmentDoc","CollectionPreviewFragmentDoc","FullPageInfoFragmentDoc","AllCollectionsDocument","AllCollectionsQueryRefetch","usePage","gqlPage","page","useMemo","mngPage","formiks","nextPageFormik","useFormik","initialValues","onSubmit","useCallback","ready","previousPageFormik","previous","pageInfo","hasNextPage","hasPreviousPage","useFormikPaging","edges","after","endCursor","before","update","updatePageNext","isNext","startCursor","updatePagePrev","pageMng","fetched","prev","concat","totalCount","useAllCollections","baseOptions","allCollectionsQ","limit","ApolloReactHooks","allCollectionsPage","collections","fetchMore","updateQuery","fetchMoreResult","SimpleLink","external","href","url","rel","target","SLink","to","Link","Collection","icon","totalResources","summary","displayUsername","isFollowing","toggleFollowFormik","hideActions","isSearch","CollectionWrapper","WrapperLink","Previews","Big","src","Info","Title","Meta","TotResources","Action","ActionItem","bordered","preventDefault","ActionText","sx","Search","Heading","ellipsis","MyFollowedCollectionDataFragmentDoc","MyCollectionFollowsDataFragmentDoc","MyCollectionFollowsDocument","MyCollectionFollowsQueryRefetch","MyFollowedCommunityDataFragmentDoc","MyCommunityFollowsDataFragmentDoc","MyCommunityFollowsDocument","MyCommunityFollowsQueryRefetch","isOptimisticId","FollowDocument","UnfollowDocument","UserPreviewFragmentDoc","CollectionFollowerFragmentDoc","CollectionFollowersDocument","CollectionFollowersQueryRefetch","CommunityFollowerFragmentDoc","CommunityFollowersDocument","CommunityFollowersQueryRefetch","withEncodedExtraInfo","gqlObj","olderGqlObj","extraInfo","olderExtraInfo","mergedExtraInfo","URL_REGEX","isUrlString","getMaybeUploadInput","maybeFileOrString","currentUploadUrl","File","getUploadInput","fileOrString","upload","useMe","meQ","GQL","logoutMut","logoutStatus","updateProfileMutation","updateProfileMutationStatus","push","useHistory","me","loading","isAdmin","isInstanceAdmin","logout","proxy","writeQuery","finally","updateProfile","image","profile","createLocalSessionKVStorage","prefix","storage","localStorage","sessionStorage","pkey","key","parse","getItem","val","setItem","serialize","removeItem","str","warn","kvstore","savedLangCode","defaultLocale","available","locale","i18n","setupI18n","LocaleContext","createContext","current","ProvideLocalizationCtx","useState","setCurrent","catalogs","setCatalogs","useEffect","setHTMLDirection","loadCatalog","cat","localeCode","Settings","localeContextValue","language","Provider","RTL","htmlEl","document","querySelector","dir","style","direction","classList","remove","add","LogoContainer","React","useContext","isHome","Tagline","div","Logo","h5","tt","login","i18nMark","placeholders","email","password","Login","formik","Container","LoginWrapper","FormWrapper","FormLogin","LoginForm","handleSubmit","placeholder","values","onChange","handleChange","Spacer","mt","ResetPass","my","Or","Browse","mb","Background","Infos","Right","useAnon","useApolloClient","loginMut","loginStatus","resetPwdMut","resetPwdStatus","confirmEmailMut","confirmEmailStatus","signUpMut","signUpStatus","resetPwdReqMut","resetPwdReqStatus","updateMe","resetPwdReq","signUp","registration","createUser","resetPwd","usernameAvailable","username","PageCtx","setTitle","ProvidePageCtx","subTitle","setSubTitle","subTitleToSet","nextSubTitle","title","Helmet","usePageTitle","validationSchema","Yup","max","required","loginPageTitle","LoginPageHOC","enableReinitialize","SideBarContext","isOpen","toggleOpen","ProvideSideBarContext","useReducer","is","ResourcePreviewFragmentDoc","CommentPreviewBaseFragmentDoc","CommentPreviewFragmentDoc","FlagPreviewFragmentDoc","LikePreviewFragmentDoc","FollowPreviewFragmentDoc","ActivityPreviewFragmentDoc","InstanceOutboxActivityFragmentDoc","InstanceOutboxActivitiesDocument","InstanceOutboxActivitiesQueryRefetch","AllCommunitiesDocument","HeroCommunityDataFragmentDoc","ThreadPreviewFragmentDoc","CommunityPageDataFragmentDoc","CommunityPageThreadFragmentDoc","CommunityPageCollectionBaseFragmentDoc","CreateCommunityDocument","useCreateCommunity","createMut","createMutStatus","create","useCallOrNotifyMustLogin","preferredUsername","refetchQueries","AllCommunitiesQueryRefetch","DropzoneArea","initialUrl","uploadType","onFileSelect","filePattern","fileUrl","setFileUrl","currentFile","setCurrentFile","URL","revokeObjectURL","useDropzone","accept","onDrop","acceptedFiles","localUrl","createObjectURL","getRootProps","getInputProps","isDragActive","InfoContainer","Thumb","WrapperIcon","strokeWidth","Img","backgroundImage","indexOf","FileThumb","FileName","WrapperFile","Alert","AlertWrapper","Dialog","clearFix","Close","Content","Actions","ActionsSimple","CounterChars","ContainerForm","Row","big","Portal","el","display","ReactDOM","createPortal","this","Component","_el","createElement","setAttribute","appendChild","Modal","closeModal","handleCloseModal","CreateCommunityPanel","cancel","onIconFileSelected","setValues","initialIconUrl","m","Hero","HeroInfo","CollectionContainerForm","Description","marginLeft","TestUrlOrFile","min","CreateCommunityPanelHOC","done","history","vals","res","createCommunity","SearchBox","sizes","default","s","l","Avatar","initials","substr","toUpperCase","Dropdown","orientation","close","onOutsideClick","DropdownItem","lined","Item","ItemButton","DropdownSidebar","userLink","toggleDropdown","flex","textAlign","CreateDropdown","createIntent","createResource","CommunityOutboxActivityFragmentDoc","CommunityOutboxActivitiesDocument","CommunityOutboxActivitiesQueryRefetch","useCommunityOutboxActivities","communityQ","activitiesPage","outbox","CommunityCollectionFragmentDoc","CommunityCollectionsDocument","useCommunityCollections","collectionsPage","CreateThreadDocument","CommunityThreadFragmentDoc","CommunityThreadsDocument","useCreateThreadContext","contextId","createThreadMut","mutating","createThread","CommunityThreadsQueryRefetch","EditCommunityQueryDataFragmentDoc","EditCommunityDataDocument","EditCommunityDocument","useEditCommunity","editMut","editMutStatus","communityEditQ","useEditCommunityDataQuery","edit","CommunityDataDocument","useCommunity","toggleJoin","useFollowContext","toggleFollow","isCreator","creator","canModify","useCommunityThreads","threadsPage","threads","useCommunityFollowers","communityFolowersQ","communityFollowersPage","followers","HeroCollectionDataFragmentDoc","CollectionPageDataFragmentDoc","CollectionPageResourceFragmentDoc","CreateCollectionDocument","useCreateCollection","CommunityCollectionsQueryRefetch","Status","FlexBetweenContainer","CreateCollectionPanel","CreateCollectionPanelHOC","createCollection","log","RightDd","AdminDropdownItem","More","Username","HeroCommunity","c","status","Loading","fullName","mr","following","toggleJoinFormik","isOpenDropdown","flag","isFlagged","addToFeatured","EditCommunityPanel","EditCommunityPanelHOC","DiscoverPageFeaturedCommunityInfoFragmentDoc","DiscoverPageFeaturedCollectionInfoFragmentDoc","CollectionFeatureFragmentDoc","InstanceFeaturedCollectionsDocument","InstanceFeaturedCollectionsQueryRefetch","CommunityFeatureFragmentDoc","InstanceFeaturedCommunitiesDocument","AddFeaturedDocument","useFeaturedContext","addFeaturedMut","toggleFeatured","isFeatured","actor","InstanceFeaturedCommunitiesQueryRefetch","FeaturedModal","itemName","itemType","SubmitButton","FeatureModalHOC","featureId","featuredContext","toggleFeaturedFormik","AllFlagsDocument","AllFlagsQueryRefetch","FlagDocument","UnflagDocument","useFlagContext","flagMut","flagMutStatus","unflagMut","unflagMutStatus","myFlag","optimisticResponse","optimisticFlag","unflag","optimisticUnflag","createFlag","delete","FlagModal","flagFormik","unflagFormik","reason","FlagModalHOC","basePath","notifiedMustLogin","useNotifyMustLogin","isEditing","toggleEditing","EditModal","isFlagging","toggleFlagging","isAddingToFeatured","toggleAddToFeatured","AddToFeaturedModal","heroProps","Loaded","myFollow","totalMembers","followerCount","ActivityPreviewDocument","getActivityMainContext","getEventStringByContext","verb","mainContext","inReplyTo","Created","Updated","SocialTextDiv","SocialTextArea","Textarea","SocialActions","SocialText","submit","defaultValue","keepTextOnSubmit","ref","useRef","setText","txt","onInput","Thread","MainThread","Comments","communityName","communityIcon","Context","isCommunityContext","loadMoreComments","reply","MainThreadContainer","SocialWrapper","msg","replyFormik","replyMessage","TitleSection","LinkImg","CommentPreviewDocument","LikeDocument","UnlikeDocument","useLikeContext","myLike","likerCount","likeMut","likeMutStatus","unlikeMut","unlikeMutStatus","toggleLike","optimisticLike","optimisticUnlike","createLike","likes","MyInboxActivityFragmentDoc","MyInboxActivitiesDocument","ThreadCommentsDocument","ReplyDocument","useReplyComment","createReplyMut","inReplyToCommentId","MyInboxActivitiesQueryRefetch","createReply","threadCommentsQueryRes","readQuery","comments","useCommentPreview","commentPreviewQ","threadContext","canReply","userName","Comment","MDComment","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","like","isDropdownOpen","Items","liked","iLikeIt","toggleLikeFormik","ActionIcon","totalLikes","position","MainComment","Summary","CommentPreviewHOC","mainComment","notifyUnlogged","commentPreviewProps","ThreadPreviewDocument","useThreadPreview","commentCount","lastActivity","totalReplies","totalComments","getCommunityInfoStrings","communityLink","communityInfo","getContextCommunityInfo","communityLocation","getPath","tab","ActivityPreview","eventLowerCase","event","toLowerCase","smallOrBig","SmallOrBigActor","SmallActorComp","ActorComp","threadUrl","FeedItem","createdAt","commentActor","Contents","preview","Member","MemberInfo","alignItems","Name","TextEvent","marginTop","DateTime","fromSQL","toRelative","mx","CommunityName","Date","HeroUserUserDataFragmentDoc","UserPageActivitiesFragmentDoc","UserPageUserDataFragmentDoc","UserOutboxActivityFragmentDoc","UserOutboxActivitiesDocument","useUserOutboxActivities","activitiesQ","UserFollowedCollectionFragmentDoc","UserFollowedCollectionsDocument","useUserFollowedCollections","userQ","followedCollectionsPage","collectionFollows","UserFollowedCommunityFragmentDoc","UserFollowedCommunitiesDocument","useUserFollowedCommunities","followedCommunitiesPage","communityFollows","UserLikesDocument","useUserLikes","userLikesQ","likesPage","UserFollowedUserFragmentDoc","UserFollowedUsersDocument","useUserFollowedUsers","followedUsersPage","userFollows","UserDataDocument","useUser","totalCollections","totalCommunities","totalUsers","totalActivities","isMe","HeroUser","ProfileBox","HeroBg","FlexProfile","WrapperHero","HeroAction","HeroTitle","AdminBadge","location","Location","userHeroProps","loadedProps","CommunityPreviewDocument","useCommunityPreview","communityPreviewQ","Community","followersCount","joined","collectionsCount","WrapperImage","replace","alignSelf","MetaWrapper","Bordered","CommunityPreviewHOC","flagged","communityPreviewProps","communityFragment2UIProps","canonicalUrl","collectionCount","isLocal","threadsCount","MoodlePanel","sendToMoodleFormik","site","InstanceInfoDocument","useInstanceInfoQuery","useLMS","instanceInfo","useLMSPrefs","updateLMSPrefs","currentLMSPrefs","sendToLMS","LMS","instance","resource_info_stringified","uploadResourceTypes","mediaType","resourceurl","resource_info","course","section","method","action","params","entries","hiddenField","removeChild","sendToMoodle","setCurrentLMSPrefs","matches","MoodlePanelHOC","BasicLMSPrefs","shallUpdate","useThisLMSPrefs","ResourcePreviewDocument","useResourcePreview","resourcePreviewQ","likers","collection2lms","community2lms","EditCollectionQueryDataFragmentDoc","EditCollectionDataDocument","EditCollectionDocument","useEditCollection","collectionEditQ","useEditCollectionDataQuery","CollectionDataDocument","useCollection","isCommunityMember","CollectionResourceFragmentDoc","CollectionResourcesDocument","useCollectionResources","collectionQ","resourcesPage","resources","useCollectionFollowers","collectionFollowersQ","collectionFollowersPage","AddResourceCreateResourceMutationResultFragmentDoc","AddResourceCreateResourceDocument","useAddResource","createResourceStatus","CollectionResourcesQueryRefetch","LicenseIcon0","LicenseIcon1","LicenseIcon2","UploadResource","acceptedLicenses","hideIconField","license0","license1","license2","onResourceFileSelect","initialResourceUrl","onIconFileSelect","Adv","FormInput","LabelWrapper","RadioButton","checked","license","LicenseLabel0","htmlFor","LicenseLabel1","LicenseLabel2","Label","label","input","Input","AddResourceHOC","validateOnBlur","validateOnChange","resourceFile","EditCollectionPanel","EditCollectionPanelHOC","HeroCollection","HeroCont","ActionsHero","HeroCollectionHOC","UserPreviewDocument","useUserPreview","userPreviewQ","User","bio","profileUrl","WrapperFlex","Names","UserPreviewHOC","userPreviewProps","userLocation","py","pb","ShareLinkWebMetaFragmentDoc","ShareLinkFetchWebMetaDocument","Fetched","ContainerFetched","ShareLink","FetchedRow","Form","FetchLinkFormik","SearchInput","fetchUrl","Span","WrapperLoader","isFetched","cancelFetched","button","gray","shareResourceInitialValues","fetchLinkInitialValues","ShareLinkHOC","fetchWebMeta","webMetaDataResult","urlValidationSchema","webMetaData","fetchWebMetadata","ShareLinkFormik","CollectionPageTab","UploadResourcePanel","Followers","Resources","tabPaths","loadMoreResources","loadMoreFollowers","shareLink","exact","WrapButton","Resource","UsersIcon","StartedIcon","Menu","pt","collectionPageFollowersTitle","collectionPagePublicationTitle","CollectionPage","openPanel","setOpenPanel","closePanel","collectionPageTitle","Publications","notifyNotLogged","follow","collectionPageProps","collectionLocation","NotFound","aria-label","role","notFoundPageTitle","NotFoundHOC","useMyFollowedCommunities","myFlwCommunitiesQ","myCommunityFollowsPage","SidebarComponent","InternalWrapper","SidebarFixed","SidebarOverflow","CommunityLink","SidebarLink","isActive","ItemTitle","ItemTitleDir","Sidebar","isSidebarOpen","discoverPath","homePath","communities","useInstanceFeaturedCollections","featuredCollectionsQ","featuredCollectionsPage","featuredCollections","feturedCollections","ChevronLeft","xmlns","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","points","RightContext","ActionContainer","FeaturedCollections","sliderRef","canEdit","toggleEdit","slickPrev","slickNext","sliderSettings","slidesToShow","dots","arrows","infinite","autoplay","speed","slidesToScroll","responsive","breakpoint","settings","PlaceholderImg","Remove","CollectionSmall","selectedFeatureToRemove","setSelectedFeatureToRemove","feature","collectionFragment","RemoveFeaturedModal","propsUI","Discover","ActivitiesBox","FeaturedCommunitiesBox","FeaturedCollectionsBox","CommunitiesBoxes","WrapperFeatured","timeline","ActivityIcon","useInstanceOutboxActivities","useInstanceFeaturedCommunities","featuredCommunitiesQ","featuredCommunitiesPage","featuredCommunities","FeaturedCommunities","DiscoverPageTabs","CommunitySmall","communityFragment","useAllCommunities","allCommunitiesQ","allCommunitiesPage","discoverActivitiesPageTitle","discoverCollectionsPageTitle","discoverCommunitiesPageTitle","DiscoverPage","discovberPageTitle","Collections","Communities","Activities","activitiesPageNext","allCommunitiesPageNext","allCollectionsPageNext","discoverLocation","locationHelper","routeProps","routePaths","index","usePath","searchParams","URLSearchParams","toString","generatePath","matchPath","getSimpleLink","internal","internalPath","simpleLink","DiscoverPageRoute","component","maybeTabStr","match","useMyInboxActivities","inbox","Home","InboxElements","nextInboxFormik","homeMyTimelinePageTitle","HomePageHOC","userActivityEdge","homeProps","RedirectAuthenticated","RedirectAuthenticatedToHome","RedirectAnonymous","RedirectAnonymousToLogin","HomePageRoute","homeLocation","SidebarHOC","StatusUI","StyledClose","CreateOfferDocument","useCreateIntent","createOfferMut","createOfferMutStatus","note","atLocation","hasNumericalValue","hasUnit","FormGroup","FormLabel","FormStyled","ButtonWrap","CustomInput","readOnly","hint","class","FieldWrapper","CustomAlert","WrapperSelect","Select","CustomSelect","onInputChange","onSelect","components","noChange","openMenuOnClick","setIsOpen","optionsList","option","isOptionDisabled","classNamePrefix","isLoading","isClearable","isRtl","isSearchable","menuIsOpen","onFocus","onBlur","CreateIntentPanel","unitPages","spatialThings","unitLst","setUnitLst","unit","symbol","SpatialThingsPagesDocument","useSpatialThingsPagesQuery","EconomicEventsFilteredDocument","UnitsPagesDocument","useUnitsPagesQuery","CreateIntentPanelHOC","unitsPages","spatialThingsPages","SignupSchema","shape","notOneOf","createIntentPanelProps","redirect","success","transition","Slide","autoClose","hideProgressBar","closeOnClick","pauseOnHover","CreateSpatialThingDocument","useAddLocation","createSpatialThing","createSpatialThingStatus","createLocation","lat","long","SpatialThingsPagesQueryRefetch","LocationPiker","selectProps","address","geocodeByAddress","results","formatted_address","geometry","lng","onLoadFailed","mapPin","ReactDOMServer","renderToString","markerIcon","divIcon","html","iconSize","Map","center","zoom","markers","tileAttribution","mapCenter","LatLngBounds","getCenter","TileLayer","attribution","popup","Marker","Popup","LocationPanel","showLocationPanel","setShowLocationData","CreateLocationPanelHOC","CreateResourcePanelProps","CreateEconomicEventAndNewResourceDocument","CreateEconomicEventAndExistResourceDocument","useCreateResource","createResourceMut","createResourceMutStatus","eventNote","hasPointInTime","provider","receiver","setSelectOption","arr","getLabel","element","template","variable","CreateResourcePanel","actionList","providerList","receiverList","toggleCreateLocation","setAction","providerArr","setProviderArr","receiverArr","setReceiverArr","startDate","setStartDate","toISOString","DropdownIndicator","newList","item","padding","selected","date","dateFormat","LocationBlockStyle","CreateDefaultEconomicEventDocument","AgentsDocument","useCreateDefaultResource","useEconomicEventsFilteredQuery","providers","economicEventsFiltered","isAgent","setIsAgent","some","agent","EconomicEventsFilteredQueryRefetch","createDefaultResource","ActionsDocument","EconomicEventManagerHOC","setProviderList","setReceiverList","intentActionsQ","useAgentsQuery","agents","receivers","uniqueProviders","arrItem","uniqueReceivers","unitPagesQ","intentActions","actions","economicEventManager","childrenWithProps","child","CreateResourcePanelHOC","currentLocation","newId","createEconomicEvent","economicResource","CreateMenuHOK","open","openHandler","showCreateLocation","toggleShowCreateLocation","showCreateCommunity","toggleShowCreateCommunity","showCreateIntent","toggleShowCreateIntent","showCreateResource","toggleShowCreateResource","CreateCommunityModal","CreateIntentModal","CreateResourceModal","Burger","setOpen","StyledBurger","Side","userImage","signout","isCreateOpen","toggleCreate","StyledMenu","Profile","RightMenuWrapper","CreateMenuSpan","Bottom","span","nav","WithSidebar","SidebarBox","HeaderBox","Page","SearchBar","Icon","goBack","Footer","FootWrapper","Bavatar","greaterThan","WithSidebarTemplate","withSidebarProps","CollectionPageRoute","collectionLink","collectionName","isFile","toggleFlag","PaperClipOrExternalLink","Paperclip","ExternalLink","ResourceThumb","IconWrapper","TitleLink","TypeItem","LinkResource","TextLink","MoreItem","ResourcePreviewHOC","notifyMustLogin","isOpenSendToMoodle","toggleSendToMoodleModal","isOpenFlag","toggleFlagModal","resourcePreviewProps","resourceFragment2UIProps","resourceLMS","payload","licence","resourceGql2lms","MoodleModal","LikedComment","pl","textDecoration","LikedCommentPreviewHOC","likedCommentPreviewProps","threadLocation","getActivityActor","PreviewComponent","PackageIcon","HeroUserBox","LikesBoxes","ActivityBoxes","CommunityBoxes","InventoryBoxes","loadMoreActivities","loadMoreLikes","loadMoreCommunities","loadMoreCollections","PersonWrapper","ArrowDownIcon","ArrowUpIcon","MapIcon","BoxIcon","PenIcon","EditIcon","UserIcon","ClockIcon","RemoveIcon","EyeIcon","Calendar","QRCode","ResourceItem","openEditModal","openUpdateResourceModal","openDeleteResourceModal","window","first","second","showList","setShowList","ActionsWrapper","InventoryWrapper","LeftColWrapper","ImageWrapper","alt","QRCodeWrapper","InfoWrapper","onhandQuantity","primaryAccountable","track","trace","TrackWrapper","Badge","toResourceInventoriedAs","format","resourceQuantity","resourceInventoriedAs","containedIn","contains","lot","stage","trackingIdentifier","unitOfEffort","ASC","ButtonWrapper","CreateItemButton","InboxIcon","MessageIcon","intents","discussions","members","WrapSocialText","Members","Intents","newThreadFormik","isJoined","Threads","loadMoreThreads","notifiedMustJoin","openIntent","setOpenIntent","OpenIntentModal","Inventory","inventory","owner","currentUser","currentList","setCurrentList","currentPage","setCurrentPage","slice","PaginationWrapper","totalItems","pageSize","maxPaginationNumbers","defaultActivePage","previousPageText","paddingBottom","ArrowUp","ArrowDown","FilterIcon","ClearIcon","Filter","filterSet","triggerOpen","onClear","handleSorting","buttonName","currentTarget","sort","order","FilterButton","FilterWrapper","SortButton","SortButtonInner","search","FormGroupChek","LabelCustom","ClearButton","EconomicResourcesFilteredDocument","UserPageTab","queryString","INITIAL_FILTER","InventoryPage","triggerTab","useLocation","pathname","setFilter","queryStringGetter","economicResourcesFiltered","filteredInventory","setFilteredInventory","b","reverse","checkFilter","newInventory","queryStringSetter","notEmptyObj","notEmptyValue","prop","isClear","userStarredPageTitle","userCommunitiesPageTitle","userCollectionsPageTitle","userFollowingPageTitle","userActivitiesPageTitle","userInventoryPageTitle","UserPage","userInfo","userPageTitle","Starred","Following","loadMoreFollowing","userPageProps","likeContext","activityContext","activityProps","followedCollection","followedCommunity","UserBoxes","followedUser","website","UserPageRoute","usr","useThreadComments","threadPreviewQ","commentPage","ThreadPreviewHOC","threadPreviewProps","PreviewIndex","threadPageTitle","ThreadPage","titleValues","excerpt","substring","uiProps","ActivityPreviewStatus","ThreadPageRoute","useActivityPreview","eventString","getEventString","communityInfoStrings","ActivityPreviewHOC","activityBox","UI","IntentPreviewFragmentDoc","CommunityIntentsDocument","useCommunityIntents","communityIntents","intentsFiltered","Intent","onOpen","IntentPreviewHOC","intentId","intentPreviewProps","CreateEconomicEventDocument","useCreateEvent","EconomicEventManager","History","ul","ContentWrap","ImgWrwap","ProposedIntentPanel","showHistory","toggleHistory","background","marginRight","verticalAlign","IntentItemDocument","CommunityPageTab","IntentPanelHOC","intentPanelData","intent","tags","intentPanelProps","tag","communityIntentsPageTitle","communityActivitiesPageTitle","communityDiscussionsPageTitle","communityMembersPageTitle","CommunityPage","communityPageTitle","Discussions","newThreadId","HeroCommunityBox","showCreateCollectionModal","toggleShowCreateCollectionModal","CreateCollectionModal","communityPageProps","CommunityPageRoute","MainHeader","useParams","isCommunityPage","HomeLink","MapLink","CreateNav","HeaderName","Signin","MainHeaderHOC","toggleSideBar","headerProps","Guest","GuestTemplate","withoutHeader","LoginPageRoute","loginLocation","defaultOpts","_fn","deps","fn","loggedIn","followMut","followMutStatus","unfollowMut","unfollowMutStatus","optimisticFollow","optimisticUnfollow","createFollow","CollectionPreviewDocument","useCollectionPreview","collectionPreviewQ","CollectionPreviewHOC","collectionPreviewProps","collectionFragment2UIProps","resourceCount","allCollectionsPageTitle","AllCollectionsPage","allCollectionsUIProps","collectionPreview","AllCollectionsPageRoute","AllCommunities","innerWidth","windowWidth","setWindowWidth","useLayoutEffect","allCommunitiesPageTitle","AllCommunitiesPage","allCommunitiesUIProps","communityPreview","AllCommunitiesPageRoute","ConfirmEmail","confirmEmailPageTitle","ConfirmEmailPage","welcomeUsername","setTimeout","ConfirmEmailRoute","passwordConfirm","CreateNewPassword","oneOf","createNewPasswordPageTitle","CreateNewPasswordPageHOC","CreateNewPasswordPageRoute","CreateEventOnResourcePanel","marginBottom","EconomicResourceDocument","EconomicResourceQueryRefetch","useCreateEventOnResource","CreateEconomicEventOnResourcePanelHOC","CreateEventOnResourcePanelProps","toggleTab","CreateEventOnExistResourceModal","switchOn","toggleSwitch","TabController","Switcher","UpdateResourcePanel","UpdateEconomicResourceDocument","useUpdateResource","updateResourceMut","updateResourceMutStatus","UpdateEconomicResourceHOC","UpdateResourcePanelProps","DeleteEconomicResourceDocument","useDeleteResource","deleteItem","deleteItemStatus","deleteResource","ConfirmationPanel","description","confirm","waiting","DeleteEconomicResourceHOC","deleteEconomicResource","DeleteResourcePanelProps","EconomicResourceHOK","showUpdateResource","toggleShowUpdateResource","showDeleteResource","toggleShowDeleteResource","PerformEventModal","EditResourceModal","DeleteResourceModal","InventoryResourceItemRouter","Activity","UserActivityDocument","ActivityPage","ActivityPageRouter","Maps","proposedIntents","hasLatLong","proposal","eligibleLocation","geom","MapPageHOC","setMarkers","proposalsFiltered","coordinates","MapsPageRoute","ResetPassword","isSubmitted","VerifiedBox","ButtonLink","resetPasswordPageTitle","ResetPasswordPageHOC","submitCount","ResetPasswordPageRoute","SearchInstanceFragmentDoc","SearchHostIndexAndMyFollowsDocument","SearchFollowDocument","SearchUnfollowDocument","collectionHit2gql","communityHit2gql","index_mothership_object_id","collectionHit2lms","communityHit2lms","previews","Pagination","SearchWrapper","El","NavWrapper","SearchPageHOC","connectInfiniteHits","hits","hit","index_type","objectID","showNext","RefinementList","attribute","Configure","hitsPerPage","CollectionPreviewHit","useIsLocal","previewFragment","useFollowHitHelper","CommunityPreviewHit","ResourcePreviewHit","uploadResType","mirror","resourceHit2gql","resourceHit2lms","localHostName","hostname","index_instance","followResult","useSearchUnfollowMutation","unfollowResult","hitSearchFollow","SearchPageRoute","Preferences","Instance","Invites","Flags","ModerationLog","sectionPaths","onImageFileSelected","initialImageUrl","SettingsWrapper","preferences","invites","flags","logs","general","Bg","RelevantLink","SectionTitle","useAllFlags","allFlagsQ","flagsPage","FlagPreviewDataDocument","DeleteFlagDocument","DeleteFlagContextDocument","DeactivateFlaggedUserDocument","useFlagPreview","flagId","flagQ","useDeleteFlagContextMutation","deleteFlagContextMut","deleteFlagContextStatus","useDeleteFlagMutation","deleteFlagMut","deleteFlagStatus","useDeactivateFlaggedUserMutation","deactivateFlaggedUserMut","deactivateFlaggedUserStatus","deactivateFlaggedUser","deleteFlagContext","all","ignoreFlag","ignoreFlagStatus","FlaggedItem","FlaggedItemContextElement","blockUser","deleteContent","Reason","FlagPreviewHOC","confirmType","setConfirmType","closeConfirm","ConfirmActionModal","CommentPreview","FlagPreviews","loadMoreFlags","FlagPreview","InstanceFlagsSection","AddEmailDomainToAllowListDocument","RemoveEmailDomainFromAllowListDocument","RemoveEmailFromAllowListDocument","SendInviteEmailDocument","InstanceRegisterEmailAccessesDocument","InstanceRegisterEmailDomainAccessesDocument","InstanceRegisterEmailAccessesQueryRefetch","InstanceRegisterEmailDomainAccessesQueryRefetch","useInstanceRegistrationAllowLists","addEmailDomainMut","addEmailDomainStatus","removeEmailDomainMut","removeEmailDomainStatus","removeEmailMut","removeEmailStatus","sendInviteEmailMut","sendInviteEmailStatus","listEmailsQ","listEmailsPage","registerEmailAccesses","listEmailDomainsQ","listEmailDomainsPage","registerEmailDomainAccesses","addEmailDomain","domain","removeEmailDomain","sendInviteEmail","addEmail","removeEmail","DomainText","DomainContainerForm","DomainWrapper","DomainInput","ListRow","Delete","formikAddDomain","removeDomain","domainsList","loadMoreDomains","withEmailDomainValidation","InstanceSettingsSection","domainToRemove","setDomainToRemove","unsetDomainToRemove","resetForm","domainId","RemoveDomainConfirmModal","SettingsPageTab","Emails","emailsList","formikAddEmail","sendInvite","loadMoreEmails","EmailWrapper","EmailContainerForm","EmailInput","EmailText","withEmailValidation","InstanceInvitesSection","InstanceModerationLogSection","LanguageSelect","selectedCode","selection","Array","isArray","setLocale","moodleWebsite","PreferencesSettingsSection","localesOptions","currentOption","settingsPreferencesPageTitle","settingsInvitesPageTitle","settingsInstancePageTitle","settingsFlagsPageTitle","settingsModerationLogsPageTitle","settingsGeneralPageTitle","SettingsPage","settingsPageTitle","ModerationLogs","General","updateProfileFormik","settingsLocation","settingsPageProps","WithoutSidebar","CenteredWrapper","WithoutSidebarTemplate","withoutSidebarProps","SettingsPageRoute","SignUpPage","registeredUsername","registeredEmail","Aware","terms","green","signUpPageTitle","SignUpPageHOC","regInput","wantsEmailDigest","wantsNotifications","called","SignupPageRoute","moodleLMSEntryPageTitle","LMSMoodleSearch","badParams","LMSMoodleSearchRoute","paramsRef","q","getUrlParamsFromEntryPointForMoodleLMS","setProps","TermsAndConditionsPage","terms_users_text_data","terms_cookies_text_data","terms_indexing_text_data","terms_users_data","terms_privacy_enabled","privacy_url_text_data","terms_privacy_text_data","terms_cookies_data","terms_indexing_data","termsAndConditionsPageTitle","TermsAndConditionsPageHOC","terms_users_text","terms_privacy_text","terms_cookies_text","terms_indexing_text","useAxios","useCache","manual","terms_users","exec_terms_users","terms_cookies","exec_terms_cookies","terms_indexing","exec_terms_indexing","privacy_url_text","exec_privacy_url_text","TermsAndConditionsPageRoute","Router","TopMessage","show","setShow","AlertWrap","top","right","App","createURL","searchState","qs","searchClient","algoliasearch","ProvideAlgoliaContext","backLoc","searching","isSearchLocation","setSearchState","setUrlTO","EMPTY_QUERY","searchStateToUrl","clearTimeout","hash","handleSetSearchState","newSearchState","refinementList","InstantSearch","onSearchStateChange","refresh","locationPathname","ProvideContexts","isLocalhost","register","navigator","origin","addEventListener","swUrl","serviceWorker","unregister","reload","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","Global","createGlobalStyle","createLocalKVStore","getApolloClient","apolloClient","ApolloApp","newestOnTop","render","getElementById","registerServiceWorker","Sentry","dsn","K","run"],"mappings":"kGAAA,2H,2ICsB0DA,WAAnD,IAgCMC,EAAY,SAACC,GACxB,IAAMC,EAAiBD,EAAGE,MAAMC,YAAYC,MAC1C,SAACC,GAAD,MACe,wBAAbA,EAAIC,QACFD,EAAIE,MACNF,EAAIE,KAAKC,QAAUR,EAAGS,iBAG1B,OAAOR,GAAkBA,EAAeS,WAG7BC,EAA0B,SACrCT,GAyBA,OAvBmBA,EAAMC,YAAYS,QACnC,SAACP,GAAD,MAAsD,wBAAbA,EAAIC,QAGFO,QAE3C,SAACC,EAAOC,GACR,IAAKD,EAAO,CACV,IAAME,EACJD,EAAUE,aAAaC,WAAWd,MAChC,SAACe,GAAD,MAAoD,UAAjBA,EAAQb,SACxC,KACDc,EAASL,EAAUL,UACzBI,EACEE,GACC,CAACA,EAAeT,KAAKC,MAAOY,GAKjC,OAAON,IACN,OAEiC,K,wCC3FtCO,EAAOC,QAAU,IAA0B,mD,gFCA3C,IAAIC,EAAM,CACT,sBAAuB,CACtB,IACA,IAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBU,EAAED,EAAI,MAGnCX,EAAoBa,KAAO,WAC1B,OAAOC,OAAOD,KAAKd,IAEpBC,EAAoBW,GAAK,IACzBd,EAAOC,QAAUE,G,oBCxBjB,IAAID,EAAM,CACT,sBAAuB,CACtB,IACA,IAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBU,EAAED,EAAI,MAGnCX,EAAoBa,KAAO,WAC1B,OAAOC,OAAOD,KAAKd,IAEpBC,EAAoBW,GAAK,IACzBd,EAAOC,QAAUE,G,kBCxBjBH,EAAOC,QAAU,86Q,oBCAjBD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,2JCcrCiB,EAAkB,SAACC,EAAaC,GACpC,IAAMC,EAAWD,EAAOlB,KAAI,SAAAoB,GAAC,OAAIA,EAAEC,WAASC,KAAK,MACjD,MAAM,oCAAN,OAA2CL,EAA3C,eAAqDE,IAEjDI,EAAoB,SAACN,GAAD,gBAAoBA,EAApB,aAmBbO,EAAS,SAACC,EAAuBC,GAAxB,OACpBC,YAAMF,EAASC,IAGJE,EAAQ,SAAOC,GAAP,sBADF,aACiDA,IAIvDC,EAAe,IAAIvD,cAAW,SAACY,EAAW4C,GAAa,IAAD,EAC9C3C,kCAAwBD,EAAUR,OAA5CkB,EADwD,oBAE3D+B,EAAQzC,EAAU6C,aAAV,WACRC,EACO,UAAXpC,KAAuB,OAAC+B,QAAD,IAACA,OAAD,EAACA,EAAOX,QAAO,OAACW,QAAD,IAACA,OAAD,EAACA,EAAOM,YAEhD,OAAOH,EAAQ5C,GAAWa,IA/BK,eAAO6B,EAAP,uDAA4B,GAA5B,OAAmC,SAClEM,GAEA,GAAIA,EAAKjB,SAAWW,EAAKO,YAAa,CACpC,IAAMjB,EAAWU,EAAKV,SAClBU,EAAKV,SAASgB,EAAKjB,QACnBF,EAAgBa,EAAKZ,KAAO,iBAAkBkB,EAAKjB,QACvDM,EAAOL,EAAU,CAAEkB,KAAM,eACpB,IAAKF,EAAKjB,QAAUiB,EAAKG,OAAST,EAAKI,cAAe,CAC3D,IAAMC,EAAaL,EAAKK,WACpBL,EAAKK,WAAWC,EAAKG,MACrBf,EAAkBM,EAAKZ,KAAO,IAClCO,EAAOU,EAAY,CAAEG,KAAM,YAE7B,OAAOF,GAkBLI,CAAkB,aAChBN,gBACAhB,IAAK9B,EAAUD,eACZC,EAAU6C,aAAV,iB,6bCvCF,IAAMQ,EAAgCC,IAAH,K,ydCYnC,IAAMC,EAAsCD,IAAH,KAgBnCE,EAA2BF,IAAH,K,q0BCgB9B,IAAMG,EAAuBH,IAAH,IAa3BD,EACJG,GACWE,EAAaJ,IAAH,IAMjBG,GA0BC,IAAME,EAAmBL,IAAH,KA6BtB,IAAMM,EAA4BN,IAAH,IAQhCD,G,k1CCpDC,IAAMQ,GAAsBP,IAAH,KAO1BG,GACOK,GAA4BR,IAAH,KAMhCO,IA2BC,IAAME,GAAmCT,IAAH,MA8BtC,IAAMU,GAAoBV,IAAH,KAMxBO,IA2BC,IAAMI,GAA2BX,IAAH,KAM/BO,IA0BC,IAAMK,GAAqBZ,IAAH,KAMzBG,GA0BC,IAAMU,GAAgCb,IAAH,KAuCnC,IC5MKc,GAiQAC,GAyuKAC,G,wCCzkLCC,GAA0BC,8RAAYC,kCACtCC,GAAmBF,2CAGnBG,GAAaH,4EACbI,GAAoBC,SAAS,GAAD,OAAIL,8RAAYM,+BAAkC,GAI9EC,GACXP,8RAAYQ,4BACZ,mEAUWC,GACX,yGAEWC,GAEE,+DAFFA,GAGI,0BAHJA,GAKT,8HAGSC,IAEF,EAFEA,GAGE,GAHFA,GAII,GAJJA,GAKK,GAGLC,IAEF,EAFEA,GAIG,0CAJHA,GAOT,2HAcSC,GAAuB,CAClC,CAAE9D,KAAM,QAAS+D,KAAM,mBAAoBC,KAAK,GAChD,CAAEhE,KAAM,QAAS+D,KAAM,eAAgBC,KAAK,GAC5C,CAAEhE,KAAM,QAAS+D,KAAM,wBAAmBC,KAAK,GAC/C,CAAEhE,KAAM,QAAS+D,KAAM,wBAAmBC,KAAK,GAC/C,CAAEhE,KAAM,QAAS+D,KAAM,sBAAoBC,KAAK,GAChD,CAAEhE,KAAM,KAAM+D,KAAM,UAAWC,KAAK,GACpC,CAAEhE,KAAM,QAAS+D,KAAM,qLAAqCC,KAAK,IAe7DC,GAAkBhB,8RAAYiB,4BAC9BC,GAAmBlB,8RAAYmB,6BAC/BC,GAAgBpB,8RAAYqB,yBAErBC,GACXN,IAAmBE,GACf,CACEK,MAAOP,GACPQ,OAAQN,GACRO,UAAWL,IAEb,KAEOM,IAAkBV,KAAoBE,GACtCS,GAAiB,6BAEjBC,GAAe,WASfC,GAAyB,CAAC,UAAW,YAAa,gBA4BlDC,GAEN,qBAFMA,GAGC,OAHDA,GAIF,UAJEA,GAKA,UALAA,GAMD,UANCA,GASD,UATCA,GAUD,UAVCA,GAWF,UAXEA,GAcD,UAdCA,GAeF,UAfEA,GAgBJ,UAhBIA,GAiBE,UAjBFA,GAkBH,UAlBGA,GAmBC,UAnBDA,GAoBL,UApBKA,GAqBH,UArBGA,GAsBF,UAtBEA,GAuBH,oBAGGC,GACL,CACJC,QAAS,qCAFAD,GAIL,CACJE,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJ1F,KAAM,QChLF2F,GAAiBC,EAAQ,KAAzBD,a,GAG2BC,EAAQ,KAAnC/H,G,GAAAA,WAAYgI,G,GAAAA,W,GAQhBD,EAAQ,KANVE,G,GAAAA,UACAC,G,GAAAA,yBACAC,G,GAAAA,mBACAC,G,GAAAA,wBACAC,G,GAAAA,wBACAC,G,GAAAA,0BAEMC,GAAiBR,EAAQ,KAAzBQ,aAyDFC,GAAU,SAAC/G,EAAKgH,EAAM/H,GAC1B,IACIgI,EADEC,EAAQF,EAAKG,OAAOC,MAAM,KAEhC,IAAKH,EAAI,EAAGA,EAAIC,EAAMG,OAAS,EAAGJ,IAChCjH,EAAMA,EAAIkH,EAAMD,IAElBjH,EAAIkH,EAAMD,IAAMhI,GA8BLqI,GAAmB,WAOpB,IAAD,yDAAP,GAAO,IANTC,IAAKC,OAMI,MANO,WAMP,MALTC,MAAOC,OAKE,MALUD,MAKV,EAJTE,EAIS,EAJTA,aACAC,EAGS,EAHTA,YACAC,EAES,EAFTA,QACAC,EACS,EADTA,kBAEMC,EAAa,CACjBC,KAAM,CAAEF,qBACRpG,QAASiG,EACTC,cACAC,WAGF,OAAO,IAAItJ,IAAW,SAAAY,GACpB,IAAMoI,EAAMf,GAAUrH,EAAWqI,GAC3BS,EAAU9I,EAAU6C,aAFO,EAW7BiG,EAFFC,gBAAmBlJ,GATY,aASM,GATN,GASZA,KAAMmJ,EATM,EASNA,QACzBN,EACEI,EADFJ,QAGIO,EAAgB,CACpBJ,KAAMC,EAAQD,KACdtG,QAASuG,EAAQN,aACjBC,YAAaK,EAAQL,YACrBC,QAAQ,uCAEF7I,GAAQ,CAAE,4BAA6BA,IACvCmJ,GAAW,CAAE,+BAAgCA,IAC9CN,IArB0B,EAyBPpB,GACxBtH,EACAuH,GACAqB,EACAK,GAJM1G,EAzByB,EAyBzBA,QAAS2G,EAzBgB,EAyBhBA,KAzBgB,EAgCRvB,GAAauB,GAA9BC,EAhCyB,EAgCzBA,MAAOC,EAhCkB,EAgClBA,MAEf,GAAIA,EAAMC,KAAM,QAEP9G,EAAQmG,QAAQ,gBAKvB,IAAMY,EAAO,IAAIC,SACjBD,EAAKE,OAAO,gBAAiBL,EAAMpJ,eACnCuJ,EAAKE,OAAO,QAASL,EAAM3J,OAG3B,IAAIsI,EAAI,EACRsB,EAAMK,SAAQ,SAAAC,GACZA,EAAMD,SAAQ,SAAA5B,GAAI,OAAID,GAAQuB,EAAOtB,EAAM8B,SAAS7B,UAEtDwB,EAAKE,OAAO,YAAaI,KAAKC,UAAUV,EAAMW,YAG9ChC,EAAI,EACJsB,EAAMK,SAAQ,SAACC,EAAOK,GACpBT,EAAKE,SAAS1B,EAAGiC,EAAMA,EAAKlK,SAG9B0C,EAAQ2G,KAAOI,OACV/G,EAAQ2G,KAAO1B,GAAwB2B,EAAO,WAErD,OAAO,IAAI/B,IAAW,SAAA4C,GAIpB,IAAIC,EACJ,IAAK1H,EAAQ2H,OAAQ,CAAC,IACZC,EAAe1C,KAAf0C,WACJA,IACFF,EAAkBE,EAClB5H,EAAQ2H,OAASD,EAAgBC,QA4BrC,OAxBA3B,EAAUH,EAAK7F,GACZnB,MAAK,SAAAgJ,GAGJ,OADApK,EAAUqK,WAAW,CAAED,aAChBA,KAERhJ,KAAKsG,GAA0B1H,IAC/BoB,MAAK,SAAAkJ,GACJN,EAASO,KAAKD,GACdN,EAASQ,cAEVC,OAAM,SAAAC,GACc,eAAfA,EAAM7K,OAIN6K,EAAMJ,QAAUI,EAAMJ,OAAOvI,QAAU2I,EAAMJ,OAAOnH,MAEtD6G,EAASO,KAAKG,EAAMJ,QAEtBN,EAASO,KAAK,CAAExI,OAAQ,CAAC,IAAImF,GAAayC,OAAOe,WAI9C,WACDT,GAEFA,EAAgBU,iB,SF9HdvG,K,kBAAAA,E,mBAAAA,Q,cAiQAC,K,4BAAAA,E,iBAAAA,Q,cAyuKAC,K,UAAAA,E,YAAAA,E,gBAAAA,E,cAAAA,E,gBAAAA,E,YAAAA,E,aAAAA,Q,KAyQN,IAsHegG,GAtHyB,CAC5C,SAAY,CACV,MAAS,CACP,CACE,KAAQ,QACR,KAAQ,aACR,cAAiB,CACf,CACE,KAAQ,YAEV,CACE,KAAQ,cAEV,CACE,KAAQ,WAEV,CACE,KAAQ,aAEV,CACE,KAAQ,QAEV,CACE,KAAQ,UAEV,CACE,KAAQ,UAEV,CACE,KAAQ,QAEV,CACE,KAAQ,gBAEV,CACE,KAAQ,YAEV,CACE,KAAQ,gBAEV,CACE,KAAQ,YAEV,CACE,KAAQ,UAId,CACE,KAAQ,QACR,KAAQ,kBACR,cAAiB,CACf,CACE,KAAQ,YAEV,CACE,KAAQ,cAEV,CACE,KAAQ,aAEV,CACE,KAAQ,gBAEV,CACE,KAAQ,gBAEV,CACE,KAAQ,UAEV,CACE,KAAQ,YAEV,CACE,KAAQ,UAId,CACE,KAAQ,YACR,KAAQ,QACR,cAAiB,CACf,CACE,KAAQ,gBAEV,CACE,KAAQ,YAId,CACE,KAAQ,QACR,KAAQ,oBACR,cAAiB,CACf,CACE,KAAQ,cAEV,CACE,KAAQ,mBAId,CACE,KAAQ,QACR,KAAQ,qBACR,cAAiB,CACf,CACE,KAAQ,oBAEV,CACE,KAAQ,gBGr5LL,SAAeM,GAA9B,mC,8CAAe,6DAAAC,EAAA,6DAA4BC,EAA5B,EAA4BA,aAAcC,EAA1C,EAA0CA,SACnDC,EAAYF,EAAaG,IAHR,cAKfC,EAAkB,IAAIC,IAA6B,CACvDC,kCAGIC,EAAQ,IAAIC,IAAc,CAC9BJ,kBACAK,eAAgB,CACdC,MAAO,CACLC,SAAU,SAACxJ,EAAGyJ,EAAJ,UACRC,EADQ,EAAYA,aACR,CAAEC,WAAY,WAAYnK,GAAIiK,EAAKG,cACjDC,WAAY,SAAC7J,EAAGyJ,EAAJ,UACVC,EADU,EAAYA,aACV,CAAEC,WAAY,aAAcnK,GAAIiK,EAAKK,gBACnDC,UAAW,SAAC/J,EAAGyJ,EAAJ,UACTC,EADS,EAAYA,aACT,CAAEC,WAAY,YAAanK,GAAIiK,EAAKO,eAClDC,QAAS,SAACjK,EAAGyJ,EAAJ,UACPC,EADO,EAAYA,aACP,CAAEC,WAAY,UAAWnK,GAAIiK,EAAKS,aAChDC,KAAM,SAACnK,EAAGyJ,EAAJ,UAA8BC,EAA9B,EAAYA,aAA8B,CAAEC,WAAY,OAAQnK,GAAIiK,EAAKW,UAC/EC,OAAQ,SAACrK,EAAGyJ,EAAJ,UACNC,EADM,EAAYA,aACN,CAAEC,WAAY,SAAUnK,GAAIiK,EAAKa,YAC/CC,SAAU,SAACvK,EAAGyJ,EAAJ,UACRC,EADQ,EAAYA,aACR,CAAEC,WAAY,WAAYnK,GAAIiK,EAAKe,gBAGrDC,iBAAkB,SAAAC,GAChB,OAAQA,EAAIf,YACV,IAAK,OAGH,MADmB,WAAYe,EAAMA,EAAIN,OAASM,EAAIlL,GAIxD,QACE,OAAOmL,YAAwBD,OAKjCE,EAAW,SAACC,GACXA,GAGH9B,EAAY8B,EACZhC,EAAaiC,IA/CI,aA+CgBD,IAHjCE,KAOEA,EAAW,WACfhC,OAAYiC,EACZnC,EAAaoC,IArDM,eAwDfC,EAAe,IAAI/N,cAAW,SAACY,EAAWoN,GAAc,IACpDrN,EAAkBC,EAAlBD,cAMR,ML+F2E,aKnGvEA,GACFiN,IAGKI,EAASpN,GAAWa,KAAI,SAAAmC,GAK1B,IAAD,YJoOyE,cIvOzEjD,GJiMyF,sBIhMzFA,GJyPuF,qBIxPvFA,GAEA8M,GACE,UAAA7J,EAAKG,YAAL,mBAAWkK,qBAAX,eAA0BP,SAA1B,UACE9J,EAAKG,YADP,iBACE,EAAWmK,oBADb,aACE,EAAyBR,SAD3B,UAEE9J,EAAKG,YAFP,iBAEE,EAAWoK,qBAFb,aAEE,EAA0BT,QAGhC,OAAO9J,QASLwK,EAAWnD,aAAW,SAACpI,EAAD,GAAqB,IAAfyG,EAAc,EAAdA,QAEhC,MAAO,CACLA,QAAQ,2BACHA,GADE,IAEL+E,cAAezC,EAAS,iBAAaA,GAAc,WAKnD0C,EAAYC,aAAQ,SAAAC,GAAkB,IAClC5N,EAAqD4N,EAArD5N,UAAWoK,EAA0CwD,EAA1CxD,SAAUyD,EAAgCD,EAAhCC,cAAeC,EAAiBF,EAAjBE,aAG5C,GAFAC,QAAQrD,MAAR,yBAAwCkD,GAEpCE,EAAc,CAEhB,IAAM5L,EACJ,eAAgB4L,EACZE,KAAWC,cAAcH,EAAaI,YACtCJ,EAAa5L,QACnB,OAAOkF,IAAW+G,GAAgB,CAChCpM,OAAQ,CAAC,IAAImF,KAAJ,wBAAkChF,OAExC,GAAI2L,EAAe,CAExB,IAAMO,EAAkBP,EAAcnO,MACpC,SAAA2O,GAAG,MACD,oBAAoBC,KAAKD,EAAInM,UAC7B,eAAeoM,KAAKD,EAAInM,UACxB,qBAAqBoM,KAAKD,EAAInM,YAElC,OAAOkF,IAAW+G,GAAgB,CAChCpM,OAAQqM,EAAkB,CAAC,IAAIlH,KAAJ,qBAAwC2G,IAEhE,UAAIzD,QAAJ,IAAIA,OAAJ,EAAIA,EAAUrI,OAEnB,OAAOqF,IAAW+G,GAAgB,CAChChL,KAAMiH,EAASjH,KACfpB,OAAQqI,EAASrI,SAInB,IAAMwM,EAAU3E,KAAKC,UAAUO,EAAU,KAAM,GACzClI,EAAO,oCAAgClC,EAAhC,sBAAuDuO,GACpE,OAAOnH,IAAW+G,GAAgB,CAChCpM,OAAQ,CAAC,IAAImF,KAAahF,SAK1BsM,EAAgDnE,aAAW,SAACpI,EAAGH,GAAS,IACpE4G,EAAY5G,EAAZ4G,QACR,OAAO,2BACF5G,GADL,IAEEiH,qBAAiBkE,EACjBvE,QAAQ,eACHA,QAKH+F,EAA8B,CJ6L6C,aAtCF,YAmBc,mBAzDE,oBAmBc,4BI7HvGC,EAAsC,IAAItP,cAAW,SAACY,EAAWoN,GACrE,IAAKpC,IAGU,aAFE3L,oBAAUW,KAItByO,EAA4BE,SAAS3O,EAAUD,gBAEhD,OAAOqH,IAAW+G,GAAgB,CAChCpM,OAAQ,CAAC,IAAImF,KAAa,uDAKhC,OAAOkG,EAASpN,MAGZ4O,EAAWxP,aAAWyP,KAC1B,CAC0B,MAD1B,mBAEK9D,GAFL,CAGE2D,EACAhB,EACAF,EACAgB,EACArB,EACAhF,GAAiB,CAAEC,IAAK1D,OACxBxE,OAAO4O,UAILC,EAAiBC,YACrBC,IAAsB,IAAIC,UAAc3K,MAIpC4K,EAAO/P,aAAW6I,OACtB,SAAAjI,GAAS,OAAIoP,YAAgBpP,EAAUR,SACvCuP,EACAH,GAGIS,EAAS,IAAIC,IAAa,CAC9BjE,QACA8D,OACAI,eAAgB,CACdC,WAAY,CACVC,YAAa,cACbC,YAAa,UAEflQ,MAAO,CACLiQ,YAAa,cACbC,YAAa,OAEfC,OAAQ,CACND,YAAa,UA7MN,kBAiNN,CACLL,WAlNW,6C,sBCvCR,IAAMO,GAA8B,CACzCC,YAAa,CAAC,OAAQ,OAAQ,QAE9BvJ,OAAQ,CAENwJ,IAAKxJ,GACLyJ,WAAYzJ,GACZE,QAASF,GACT0J,UAAW1J,GACX2J,SAAU3J,GAGV4J,SAAU5J,GACV6J,SAAU7J,GACV8J,QAAS9J,GAGT+J,SAAU/J,GACVgK,QAAShK,GACTiK,MAAOjK,GACPkK,YAAalK,GACbmK,OAAQnK,GACRoK,WAAYpK,GACZqK,KAAMrK,GACNsK,OAAQtK,GACRuK,QAASvK,GAETwK,OAAQxK,IAEVyK,SAAU,CACRZ,SAAU,CACRa,GAAI1K,GACJ2K,MAAO3K,IAET4J,SAAU,CACRc,GAAI1K,GACJ2K,MAAO3K,IAET8J,QAAS,CACPY,GAAI1K,GACJ2K,MAAO3K,IAET4K,OAAQ,CACNC,aAAc,oBAGlBC,KAAM,CACJC,QAAS,CACPC,WAAY/K,GAAgBC,QAC5B+K,SAAUhL,GAAgBI,GAC1BsK,MAAO3K,GACPkL,cAAe,aACfC,cAAe,QACfC,WAAY,OAEdC,SAAU,CACRL,WAAY/K,GAAgBC,QAC5B+K,SAAUhL,GAAgBE,GAC1BwK,MAAO3K,GACPkL,cAAe,YACfC,cAAe,MACfC,WAAY,OAEdvC,KAAM,CACJmC,WAAY/K,GAAgBC,QAC5B+K,SAAUhL,GAAgBG,GAC1BuK,MAAO3K,GACPmL,cAAe,OACfC,WAAY,OAEdN,KAAM,CACJE,WAAY/K,GAAgBC,QAC5B+K,SAAUhL,GAAgBG,GAC1BuK,MAAO3K,GACPmL,cAAe,OACfC,WAAY,OAEdE,QAAS,CACPN,WAAY/K,GAAgBC,QAC5B+K,SAAUhL,GAAgBO,GAC1BmK,MAAO3K,GACPmL,cAAe,MACfC,WAAY,QAGhBG,QAAS,CACPrL,QAAS,CACPkL,WAAY,MACZI,OAAQ,OACRC,GAAI,EACJC,gBAAiB1L,GACjB6K,aAAc,MACdI,SAAUhL,GAAgBG,GAC1BuL,OAAQ,UACRT,cAAe,YACfC,cAAe,OAEjBS,OAAQ,CACNR,WAAY,MACZI,OAAQ,OACRC,GAAI,EACJC,gBAAiB1L,GACjB2K,MAAO3K,GACP6K,aAAc,MACdI,SAAUhL,GAAgBG,GAC1BuL,OAAQ,UACRT,cAAe,YACfC,cAAe,OAEjBU,QAAS,CACPT,WAAY,MACZI,OAAQ,OACRC,GAAI,EACJC,gBAAiB,cACjBb,aAAc,MACdI,SAAUhL,GAAgBG,GAC1BuL,OAAQ,UACRT,cAAe,YACfC,cAAe,MACfR,MAAO3K,GACPwK,OAAO,aAAD,OAAexK,MAGzB8L,MAAO,CAAC,MAAO,MAAO,MAAO,OAAQ,OAAQ,OAAQ,QAAS,SAC9Dd,WAAY/K,GAAgBC,SCpHf6L,GAPyD,SAAC,GAGlE,IAFLC,EAEI,EAFJA,SAEI,IADJ1C,aACI,MADI2C,GACJ,EACJ,OAAO,kBAAC,gBAAD,CAAa3C,MAAOA,GAAQ0C,I,SCwH1BE,GAMPC,UAIWD,IAJXC,kEAIWD,I,6kBCrIR,IAAME,GAAqC,SAAC,GAAc,IAAZ7S,EAAW,EAAXA,KACnD,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC8S,GAAD,CAASC,GAAI,EAAGC,QAAQ,YACrBhT,MAOLiT,GAAON,GAAOO,QAAPP,CAAH,MAKJG,GAAUH,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAIjCsC,GAAgBV,GAAOO,QAAPP,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAK/B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,c,guDC7BrC,IAAMoD,GAAeX,GAAOO,QAAPP,CAAH,MAcR,SAAAS,GAAK,OAAIA,EAAMrD,MAAM0B,aAIlC8B,IAAMC,SAAS,SAAfD,CAlBqB,MAqBrBA,IAAMC,SAAS,SAAfD,CArBqB,OAyCZE,IAfad,GAAOO,QAAPP,CAAH,MAeFA,GAAOe,OAAPf,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,eAiB/ByD,GAAahB,GAAOQ,QAAPR,CAAH,MAEJ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAEpC,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,SACxBrK,GAAgBE,IAIlBgN,GAAMjB,GAAOe,OAAPf,CAAH,MAIHkB,GAAUlB,GAAOQ,QAAPR,CAAH,MACX,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,OACxBpK,GAAgBG,IAElB,SAAAuM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,Q,kHC7EvC,IAAMgD,GAASnB,GAAOe,OAAPf,CAAH,MACU,SAAAS,GAAK,MACP,YAAhBA,EAAMhC,MAAsB,YAAcgC,EAAMrD,MAAMtJ,OAAOE,WAkBlDoN,OAVf,YAA+B,IAAVX,EAAS,oBAC5B,OACE,qCAAKY,UAAU,WAAcZ,GAC3B,gBAACU,GAAD,CAAQ1C,MAAOgC,EAAMJ,QAASgB,UAAU,YACxC,gBAACF,GAAD,CAAQ1C,MAAOgC,EAAMJ,QAASgB,UAAU,YACxC,gBAACF,GAAD,CAAQ1C,MAAOgC,EAAMJ,QAASgB,UAAU,c,6sCCX9C,IAAMC,GAAgBtB,GAAOuB,UAAPvB,CAAH,KAKfwB,aAAY,qBACL,SAAAf,GAAK,OAAsB,IAAjBA,EAAMgB,OAAkB,OAAS,UACnC,SAAAhB,GAAK,OAAsB,IAAjBA,EAAMgB,OAAkB,OAAS,SACjD,SAAAhB,GAAK,OAAsB,IAAjBA,EAAMgB,OAAkB,MAAQ,UAC1C,SAAAhB,GAAK,OAAwB,IAAnBA,EAAMiB,SAAoB,MAAQ,OAC7C,SAAAjB,GAAK,OAAwB,IAAnBA,EAAMiB,SAAoB,UAAY,aAC3C,SAAAjB,GAAK,MAAsB,YAAlBA,EAAMJ,SAAyBI,EAAMrD,MAAMtJ,OAAO6J,WACxEiD,IAAMC,SAAS,SAAfD,CAZe,OAmBN,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,UAInCwN,aAAY,qBAGF,SAAAf,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAS1B,SAAAyM,GACZ,OAAQA,EAAMJ,SACZ,IAAK,UACH,OAAOsB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAOE,SAE1C,IAAK,SACH,OAAO4N,aAAQ,MAAOnB,EAAMrD,MAAMtJ,OAAOE,SAE3C,QACE4N,aAAQ,MAAOnB,EAAMrD,MAAMtJ,OAAOE,aAgC7B6N,GAfa,SAAApB,GAAK,OAE/B,kBAACa,GAAD,iBACMb,EADN,CAEEqB,MAAOrB,EAAMsB,UAAY,OAAStB,EAAMqB,OAAS,GACjDT,UAA6B,cAAlBZ,EAAMJ,QAA0B,YAAc,GACzD2B,aAAcvB,EAAMuB,aACpBN,SAAUjB,EAAMwB,WAChBR,OAAQhB,EAAMgB,OACdpB,QAASI,EAAMJ,UAEdI,EAAMuB,aAAe,kBAAC,GAAD,CAAQ3B,QAASI,EAAMJ,UAAcI,EAAMX,W,gICrE9D,IAAMoC,GAA4B,SAAAzB,GACvC,OACE,kBAAC,GAAD,CAAS0B,EAAG,GACV,kBAACZ,GAAD,CACES,aAAcvB,EAAM2B,eAAeJ,aACnCC,WAAYxB,EAAM2B,eAAeJ,aACjCK,QAAS5B,EAAM2B,eAAeE,WAC9BjC,QAAQ,WAER,kBAAC,SAAD,qBAMFkC,GAAUvC,GAAOe,OAAPf,CAAH,MACG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,c,+pICtBrC,IAAMiF,GAAOxC,GAAOe,OAAPf,CAAH,MAMJyC,GAAgBzC,GAAOO,QAAPP,CAAH,MAOb0C,GAAU1C,GAAOO,QAAPP,CAAH,MAeP2C,GAAc3C,GAAOO,QAAPP,CAAH,MAmBXuC,GAAUvC,GAAOO,QAAPP,CAAH,KAKhBY,IAAMC,SAAS,SAAfD,CALgB,OA6BPgC,GAAW5C,GAAO6C,KAAP7C,CAAH,KAKjBY,IAAMC,SAAS,SAAfD,CALiB,MAYfA,IAAMC,SAAS,SAAfD,CAZe,MAsBfA,IAAMC,SAAS,SAAfD,CAtBe,MA8BfA,IAAMC,SAAS,SAAfD,CA9Be,MAoCfA,IAAMC,SAAS,SAAfD,CApCe,MA0CfA,IAAMC,SAAS,SAAfD,CA1Ce,OA+CRkC,GAAW9C,GAAOO,QAAPP,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAC/B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAG5B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,aAExCqD,IAAMC,SAAS,SAAfD,CAPiB,OAkBV,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,SAMnCwC,IAAMC,SAAS,SAAfD,CAxBiB,OA8BR,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WACvB,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAMjC+O,GAAc/C,GAAOe,OAAPf,CAAH,MACR,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAIvB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAWpC0E,GAAiBhD,GAAOe,OAAPf,CAAH,MACR,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAGlC2E,GAAqBjD,GAAOe,OAAPf,CAAH,MASlBkD,GAAalD,GAAOe,OAAPf,CAAH,MAIP,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAM9B,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAIxB,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAG9B,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WC/L/BqF,GAAkC,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,iBAAkBhB,EAAqB,EAArBA,eAClE,OACE,gCACE,gBAACK,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAQtV,KAAK,oBACb,gBAAC0V,GAAD,KACE,gBAACE,GAAD,KAAqBG,IAEtBhB,GAAkB,gBAAC,GAAD,CAAUA,eAAgBA,OAInD,gBAACzB,GAAD,S,siBCHD,IAAM0C,GAA2BvS,IAAH,MAoBxBwS,GAA8BxS,IAAH,KAclCuS,I,sXCxCC,IAAME,GAA+BzS,IAAH,KAyBnCuS,I,uLC1CC,IAAMG,GAA0B1S,IAAH,M,8XC0B7B,IAAM2S,GAAyB3S,IAAH,KAY7ByS,GACJC,IAqCK,IAEME,GAA6B,SACxCpM,EACAhB,GAFwC,MAGtC,CACFtJ,MAAMyW,GACNnM,YACAhB,Y,SCxBWqN,GAAU,SACrBC,EACA9N,GAEA,IAAM+N,EAAOC,mBAA2B,kBAAMC,GAAQH,EAAS9N,KAAQ,CAAC8N,EAAS9N,IAC3EkO,EAvBuB,SAAWH,GACxC,IAAMI,EAAiBC,aAAU,CAC/BC,cAAe,GACfC,SAAUC,uBAAY,kBAAW,OAAJR,QAAI,IAAJA,OAAA,EAAAA,EAAMS,OAAQT,EAAK9L,YAAS0C,IAAY,CAACoJ,MAElEU,EAAqBL,aAAU,CACnCC,cAAe,GACfC,SAAUC,uBAAY,kBAAW,OAAJR,QAAI,IAAJA,OAAA,EAAAA,EAAMS,OAAQT,EAAKW,gBAAa/J,IAAY,CAACoJ,MAE5E,OAAOC,mBACL,iBAAM,CACJD,EAAKS,OAAST,EAAKY,SAASC,YAAcT,EAAiB,KAC3DJ,EAAKS,OAAST,EAAKY,SAASE,gBAAkBJ,EAAqB,QAErE,CAACN,EAAgBM,EAAoBV,IASvBe,CAAgBf,GAChC,OAAOC,mBACL,8BAAC,eACID,GADL,IAEEG,cAEF,CAACA,EAASH,KAIDE,GAAU,SACrBF,GAEuB,IADvB/N,EACsB,uDADmB,kBAAMpH,QAAQC,WAEvD,IAAKkV,EACH,MAAO,CACLS,OAAO,EACPO,MAAO,IAGX,IAAM9M,EAA0C,uCAAG,sBAAAM,EAAA,+EACjDwL,EAAKY,SAASC,aACd5O,EAAM,CACJ2J,OAAQ,CACNqF,MAAOjB,EAAKY,SAASM,UACrBC,YAAQvK,GAEVwK,OAAQC,GACRC,QAAQ,KARuC,2CAAH,qDAW1CX,EAAkD,uCAAG,sBAAAnM,EAAA,+EACzDwL,EAAKY,SAASE,iBACd7O,EAAM,CACJ2J,OAAQ,CACNuF,OAAQnB,EAAKY,SAASW,YACtBN,WAAOrK,GAETwK,OAAQI,GACRF,QAAQ,KAR+C,2CAAH,qDAWlDG,EAA0B,2BAC3BzB,GAD2B,IAE9B9L,OACAyM,WACAF,QAAST,IAEX,OAAOyB,GAGHJ,GAAiB,YAMhB,IALLK,EAKI,EALJA,QACAC,EAII,EAJJA,KAKA,OAAO,2BACFD,GADL,IAEEV,MAAOW,EAAKX,MAAMY,OAAOF,EAAQV,OACjCa,WAAYH,EAAQG,WACpBjB,SAAS,2BACJe,EAAKf,UADF,IAENM,UAAWQ,EAAQd,SAASM,UAC5BL,YAAaa,EAAQd,SAASC,iBAI9BW,GAAiB,YAMhB,IALLE,EAKI,EALJA,QACAC,EAII,EAJJA,KAKA,OAAO,2BACFD,GADL,IAEEV,MAAOU,EAAQV,MAAMY,OAAOD,EAAKX,OACjCa,WAAYH,EAAQG,WACpBjB,SAAS,2BACJe,EAAKf,UADF,IAENW,YAAaG,EAAQd,SAASW,YAC9BT,gBAAiBY,EAAQd,SAASE,qBCxJ3BgB,GAAoB,WAAO,IAAD,EF+DAC,EE9D/BC,GF8D+BD,EE9DU,CAC7CtO,UAAW,CAAEwO,MAAO1T,KF8DT2T,IAA6EtC,GAAwBmC,IE3D5GI,EAAqBrC,GAAO,UAChCkC,EAAgBlV,YADgB,aAChC,EAAsBsV,aACtB,YAAyB,IAAtBxG,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOY,EAAgBK,UAAU,CAC/B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAvBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,OAAA,EAAAA,EAAiBH,cAAeT,EAAKS,YAArC,2BAEEG,GAFF,IAGDH,YAAahB,EAAO,CAClBO,KAAMA,EAAKS,YACXV,QAASa,EAAgBH,gBAG7BT,QAKZ,OAAO1B,mBAAQ,WACb,MAAO,CACLkC,wBAED,CAACA,K,0GCtBC,IAAMK,GAAwB,SAAC,GAAwB,IAAtB1J,EAAqB,EAArBA,KAAMmD,EAAe,EAAfA,SAC5C,OAAOnD,EAAK2J,SACV,uBAAGC,KAAM5J,EAAK6J,IAAKC,IAAI,sBAAsBC,OAAO,UACjD5G,GAGH,kBAAC6G,GAAD,CAAOC,GAAIjK,EAAK6J,KAAM1G,IAIpB6G,GAAQ3G,GAAO6G,KAAP7G,CAAH,M,u9GCIJ,IAAM8G,GAA8B,SAAC,GAWrC,IAVLnK,EAUI,EAVJA,KACAoK,EASI,EATJA,KACA1Z,EAQI,EARJA,KAGA2Z,GAKI,EAPJC,QAOI,EANJC,gBAMI,EALJF,gBACAG,EAII,EAJJA,YACAC,EAGI,EAHJA,mBACAC,EAEI,EAFJA,YACAC,EACI,EADJA,SAEA,OACE,gBAACC,GAAD,KACGD,GACC,gBAAC,GAAD,CAAQjH,QAAQ,QACd,gBAAC,SAAD,oBAGJ,gBAACmH,GAAD,CAAa7K,KAAMA,GACjB,gBAAC8K,GAAD,KACE,gBAACC,GAAD,CAAKC,IAAKZ,KAOZ,gBAACa,GAAD,KACE,gBAACC,GAAD,KAAQxa,GACR,gBAACya,GAAD,KACE,gBAACC,GAAD,CAAc1H,QAAQ,QACnB2G,GAAkB,EADrB,IACwB,gBAAC,SAAD,mBAExB,gBAACgB,GAAD,KACGX,EAAc,KACb,gBAACY,GAAD,CACEC,UAAQ,EACRf,cAAaA,EACb9E,QAAS,SAACxT,GACRA,EAAEsZ,iBACFf,EAAmB9E,eAGrB,gBAAC8F,GAAD,CAAYhI,GAAI,EAAGC,QAAS,WAAYgI,GAAI,CAAErJ,cAAe,eAC1DmI,EAAc,gBAAC,SAAD,kBAA4B,gBAAC,SAAD,uBAYlDmB,GAAStI,GAAOQ,QAAPR,CAAH,MAEG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAGvC,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAKjC2J,GAAO9H,GAAOO,QAAPP,CAAH,MACC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAMjC2J,GAAQ7H,GAAOuI,WAAPvI,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,SAIxBrK,GAAgBK,GAC3BoU,aAAS,UAGPjB,GAAoBvH,GAAOe,OAAPf,CAAH,KAQnBY,IAAMC,SAAS,SAAfD,CARmB,OAYjB6G,GAAWzH,GAAOe,OAAPf,CAAH,MAOR0H,GAAM1H,GAAOe,OAAPf,CAAH,MAEO,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAIjB,SAAAwC,GAAK,OAAIA,EAAMkH,OAcpCC,GAAO5H,GAAOe,OAAPf,CAAH,MAGJ+H,GAAe/H,GAAOQ,QAAPR,CAAH,MAGZgI,GAAShI,GAAOe,OAAPf,CAAH,MAENoI,GAAapI,GAAOQ,QAAPR,CAAH,MACL,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAyDjCoJ,GAAcxH,GAAOqG,GAAPrG,CAAH,MAmCXiI,IAvBcjI,GAAOO,QAAPP,CAAH,MACN,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAMvB6B,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAEd6B,GAAOe,OAAPf,CAAH,MAQK,SAAAS,GAAK,OAAIA,EAAMkH,OAKvB3H,GAAOO,QAAPP,CAAH,MAGL,SAAAS,GAAK,OACZA,EAAM0G,YAAc1G,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAE3D,SAAAuC,GAAK,OAAKA,EAAM0G,YAAc1G,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOsK,UAG3E,SAAAqC,GAAK,OAAKA,EAAM0G,YAAc1G,EAAMrD,MAAMtJ,OAAOE,QAAU,iBACrD,SAAAyM,GAAK,OAAKA,EAAM0G,YAAc1G,EAAMrD,MAAMtJ,OAAOE,QAAU,iBAC3D,SAAAyM,GAAK,OAAKA,EAAMyH,SAAWzH,EAAMrD,MAAMtJ,OAAOE,QAAU,gBAI/DD,GAAgBE,IASb,SAAAwM,GAAK,OACjBA,EAAM0G,YAAc1G,EAAMrD,MAAMtJ,OAAOoK,WAAauC,EAAMrD,MAAMtJ,OAAOE,WACzD,SAAAyM,GAAK,OACnBA,EAAM0G,YAAc1G,EAAMrD,MAAMtJ,OAAOoK,WAAauC,EAAMrD,MAAMtJ,OAAOE,WAE9D,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAO+J,aA0C1BmC,GAAOO,QAAPP,CAAH,MAEF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UACxB,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAI1B,SAAAkD,GAAK,OAAIkB,aAAO,OAAQlB,EAAMrD,MAAMtJ,OAAOyJ,eAU/CyC,GAAOe,OAAPf,CAAH,M,qwBC7RJ,IAAMyI,GAAsC3X,IAAH,KAI1CyS,IACOmF,GAAqC5X,IAAH,KAoBzC0S,GACJiF,IACWE,GAA8B7X,IAAH,KAMlC4X,IAkCC,IAEME,GAAkC,SAC7CtR,EACAhB,GAF6C,MAG3C,CACFtJ,MAAM2b,GACNrR,YACAhB,Y,k4BCnEK,IAAMuS,GAAqC/X,IAAH,KAKzCC,EACJuS,IACWwF,GAAoChY,IAAH,KAoBxC0S,GACJqF,IACWE,GAA6BjY,IAAH,KAMjCgY,IAqCC,IAEME,GAAiC,SAC5C1R,EACAhB,GAF4C,MAG1C,CACFtJ,MAAM+b,GACNzR,YACAhB,YC1IW2S,GAAiB,SAACxZ,GAAD,MADM,MACMA,G,goCC4EnC,IAAMyZ,GAAiBpY,IAAH,MAsDpB,IAAMqY,GAAmBrY,IAAH,M,uTC5GtB,IAAMsY,GAAyBtY,IAAH,M,isBCyB5B,IAAMuY,GAAgCvY,IAAH,KAIpCsY,IACOE,GAA8BxY,IAAH,KAkBlC0S,GACJ6F,IAsCK,IAEME,GAAkC,SAC7CjS,EACAhB,GAF6C,MAG3C,CACFtJ,MAAMsc,GACNhS,YACAhB,Y,wrBCtEK,IAAMkT,GAA+B1Y,IAAH,KAInCsY,IACOK,GAA6B3Y,IAAH,KAkBjC0S,GACJgG,IAsCK,IAEME,GAAiC,SAC5CpS,EACAhB,GAF4C,MAG1C,CACFtJ,MAAMyc,GACNnS,YACAhB,YC9GWqT,GAAuB,SAClCC,EACAC,GAIA,MAFqBD,EAAOE,UAG1B,OAAO,2BACFF,GADL,IAEEE,eAAW,IAIf,IAAMC,EAAc,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAaC,UAC9BE,EAAkB5S,KAAKC,UAAL,2BACnB0S,GACAH,EAAOE,YAGZ,OAAO,2BACFF,GADL,IAEEE,UAAWE,KC5BFC,GAAY,mFACZC,GAAc,SAACza,GAAD,MAA4B,kBAAoBA,GAAKwa,GAAUnO,KAAKrM,ICElF0a,GAAsB,SACjCC,EACAC,GAFiC,OAIhCD,GACAF,GAAYE,IAAsBA,IAAsBC,OACrD,EACAD,aAA6BE,MAAQJ,GAAYE,GACjDG,GAAeH,QACf,GAEOG,GAAiB,SAACC,GAAD,OAC5BN,GAAYM,GAAgB,CAAEhE,IAAKgE,GAAiB,CAAEC,OAAQD,ICKnDE,GAAQ,WAAO,IAAD,ElC6EA9E,EkC5EnB+E,GlC4EmB/E,EkC5EE,CAAEtP,QAASrG,EAAM,CAAEQ,aAAa,KlC6E9CsV,IAAqD7U,EAAY0U,IkC9ErD,ElC6GpB,SAA6BA,GAC5B,OAAOG,IAA0E5U,EAAkByU,GkC5GvEgF,GAFT,mBAElBC,EAFkB,KAEPC,EAFO,OlCiJpB,SAAsClF,GACrC,OAAOG,IAA4F3U,EAA2BwU,GkC/IvEgF,GAHpC,mBAGlBG,EAHkB,KAGKC,EAHL,KAKjBC,EAASC,eAATD,KACFE,EAAE,UAAGR,EAAIha,YAAP,aAAG,EAAUwa,GACfC,EAAUT,EAAIS,QACdC,KAAW,OAACF,QAAD,IAACA,OAAD,EAACA,EAAIG,iBAChBC,EAASlH,sBAAW,sBAAC,sBAAAhM,EAAA,0DACrByS,EAAaM,UAAW,OAACD,QAAD,IAACA,OAAD,EAACA,EAAIvR,MADR,0EAIlBiR,EAAU,CACf5F,OAAQ,SAAAuG,GACNA,EAAMC,WAAwB,CAC5B9a,KAAM,CACJyI,WAAY,gBACZ+R,GAAI,MAENne,MAAO4d,OAGVc,SAAQ,kBAAMT,EAAK,cAdG,2CAexB,CAACH,EAAaM,QAASD,EAAIN,EAAWI,IAEnCU,EAAgBtH,sBAAW,uCAC/B,qCAAAhM,EAAA,yDAAS0O,EAAT,EAASA,KAAM6E,EAAf,EAAeA,MAAOC,EAAtB,EAAsBA,SAChBb,EAA4BI,UAAW,OAACD,QAAD,IAACA,OAAD,EAACA,EAAIvR,MADlD,0EAISmR,EAAsB,CAC3BzT,UAAW,CACTuU,QAASlC,GAAqBkC,EAASV,EAAGvR,MAC1CmN,KAAMoD,GAAoBpD,EAAD,UAAOoE,EAAGvR,KAAKmN,YAAf,aAAO,EAAcP,KAC9CoF,MAAOzB,GAAoByB,EAAD,UAAQT,EAAGvR,KAAKgS,aAAhB,aAAQ,EAAepF,MAEnDlQ,QAASrG,EAAM,CAAEX,IAAK,sBAV1B,2CAD+B,sDAc/B,CAACyb,EAAuBI,EAAIH,IAG9B,OAAOlH,mBAAQ,WACb,MAAO,CACLqH,KACAE,UACAE,SACAH,UACAO,mBAED,CAACR,EAAIE,EAASE,EAAQH,EAASO,K,6BCnEvBG,GAA8B,SAACpb,GAAD,OAA+B,WAE3D,IADbqb,EACY,uDADH,GAEHC,EAAmB,UAATtb,EAAmBub,aAAeC,eAC5CC,EAAO,SAACC,GAAD,gBAAoBL,GAApB,OAA6BK,IACpC3T,EAAsB,SAAA2T,GAAG,OAAIC,GAAML,EAAQM,QAAQH,EAAKC,IAAO1b,EAAMyb,EAAKC,KAC1E7R,EAAsB,SAAC6R,EAAKG,GAAN,OAAcP,EAAQQ,QAAQL,EAAKC,GAAMK,GAAUF,KACzE7R,EAAsB,SAAA0R,GAC1B,IAAMG,EAAM9T,EAAI0T,EAAKC,IAErB,OADAJ,EAAQU,WAAWP,EAAKC,IACjBG,GAET,MAAO,CACL9T,MACA8B,MACAG,SAIE2R,GAAQ,SAACM,EAAoBjc,EAAY0b,GAC7C,GAAY,OAARO,EACF,OAAO,KAET,IACE,OAAOvV,KAAKiV,MAAMM,GAClB,MAAO9d,GAEP,OADA0M,QAAQqR,KAAR,kBAAwBlc,EAAxB,oCAAwDic,EAAxD,oBAAuEP,EAAvE,MACO,OAGLK,GAAY,SAACF,GAAD,OAAcnV,KAAKC,UAAUkV,IC3BzCM,GAAUf,GDJW,QCIXA,CAFW,gBAYrBgB,GAH2CD,GAAQpU,IARtC,WAYbsU,GACHD,IAAiBE,GAAU9f,MAAK,SAAA+f,GAAM,OAAIA,EAAOle,OAAS+d,OAAmBE,GAAU,GAE7EE,GAAOC,qBAAU,CAC5Bta,QAASma,GAAU3e,KAAI,SAAA4e,GAAM,OAAIA,EAAOle,UAE7Bqe,GAAgBC,wBAA8B,CACzDC,QAASP,GACTG,QACAF,aACAzS,IAAK,eAEMgT,GAAmC,SAAC,GAAkB,IAAhBzN,EAAe,EAAfA,SAAe,EAClC0N,mBAAST,IADyB,mBACzDO,EADyD,KAChDG,EADgD,OAEhCD,mBAAmB,IAFa,mBAEzDE,EAFyD,KAE/CC,EAF+C,KAGhEC,qBAAU,WACRC,GAAiBP,EAAQva,KACrB2a,EAASJ,EAAQve,OAGrB+e,GAAYR,EAAQve,MACjBH,MAAK,SAAAmf,GAAG,OAAIJ,EAAY,2BAAKD,GAAN,kBAAiBJ,EAAQve,KAAOgf,QACvD9V,OAAM,SAAA4D,GAAG,OAAIN,QAAQrD,MAAR,gCAAuCoV,EAAQve,MAAQ8M,QACtE,CAAC6R,EAAUJ,IAEd,IAAM/S,EAAM8J,uBACV,SAAC4I,GACCQ,EAAWR,GADU,IA7BEe,EA+Bfjf,EAASke,EAATle,KACRkf,YAASlB,cAAgBhe,EAAK0G,MAAM,KAAK,GAhClBuY,EAiCHjf,EAjCgC8d,GAAQtS,IAT/C,UAS+DyT,KAmC9E,CAACP,IAGGS,EAAqBpK,mBACzB,iBAAO,CACLwJ,UACAN,aACAE,QACA3S,SAEF,CAAC+S,EAAS/S,IAGZ,OACE,kBAAC,gBAAD,CAAc2S,KAAMA,GAAMiB,SAAUb,EAAQve,KAAM2e,SAAUA,GAC1D,kBAACN,GAAcgB,SAAf,CAAwB9gB,MAAO4gB,GAAqBpO,KAKpDgO,GAAW,uCAAG,WAAOE,GAAP,SAAA3V,EAAA,qGAOT,mBAEY2V,EAFZ,kBAPS,2CAAH,sDAcXH,GAAmB,SAACQ,GACxB,IAAMC,EAASC,SAASC,cAAc,QACtC,GAAIF,EAAQ,CACV,IAAMG,EAAMJ,EAAM,MAAQ,MAC1BC,EAAOI,MAAMC,UAAYF,EACzBH,EAAOM,UAAUC,OAAO,QAAS,SACjCP,EAAOM,UAAUE,IAAjB,YAA0BL,M,ohBChF9B,IAkBeM,GAlBkB,SAAAtO,GAAU,IACjCyM,EAAS8B,IAAMC,WAAW7B,IAA1BF,KAER,OACE,kBAAC,GAAD,KACGzM,EAAMyO,OACL,kBAAC,GAAD,MAEA,kBAAC,KAAD,CAAMtI,GAAG,KACP,kBAAC,GAAD,OAGJ,kBAACuI,GAAD,KAAUjC,EAAKzd,ElCXW,mEkCY1B,kBAAC0f,GAAD,KAAUjd,MAOVgO,GAASF,GAAOoP,IAAV,MAKNC,GAAOrP,GAAOoP,IAAV,KlChBR,wGkC0BID,GAAUnP,GAAOsP,GAAV,M,ywFC/Bb,IAAIC,GAAK,CACPC,MAAOC,oBAAS,WAChBC,aAAc,CACZC,MAAOF,oBAAS,oBAChBG,SAAUH,oBAAS,yBA8GRI,GAjGuB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAC/B5C,EAAS8B,aAAiB5B,IAA1BF,KAER,OACE,gCACE,gBAAC6C,GAAD,KACE,gBAACC,GAAD,KACE,gBAACX,GAAD,CAAeH,QAAQ,IACvB,gBAACe,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,OAAD,CAAKhO,EAAG,GACN,wBAAMiC,SAAU0L,EAAOM,cACrB,gBAAC,KAAD,CACEC,YAAad,GAAGG,aAAaC,MAC7BtiB,KAAK,QACLC,MAAOwiB,EAAOQ,OAAOX,MACrBY,SAAUT,EAAOU,eAEnB,gBAACC,GAAD,MACA,gBAAC,KAAD,CACE/f,KAAK,WACL2f,YAAad,GAAGG,aAAaE,SAC7BviB,KAAK,WACLC,MAAOwiB,EAAOQ,OAAOV,SACrBW,SAAUT,EAAOU,eAEnB,gBAACjP,GAAD,CACEmP,GAAI,EACJrQ,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE5M,MAAO,SAGhB,gBAAC,SAAD,oBAKR,gBAAC6O,GAAD,CAAWtQ,QAAQ,OAAOuQ,GAAI,EAAGF,GAAI,GACnC,gBAAC,KAAD,CAAM9J,GAAG,UACP,gBAAC,SAAD,+BAIN,gBAACiK,GAAD,KACE,gBAAC,SAAD,YAEF,gBAACC,GAAD,CAAQJ,GAAI,EAAGvO,EAAG,GAChB,gBAAC,QAAD,CAAM9B,QAAQ,WACZ,gBAAC,SAAD,8BAEF,gBAAC,QAAD,CAAMA,QAAQ,OAAOqQ,GAAI,GACtBxD,EAAKzd,EnCzEpB,0FmC2EY,gBAAC,KAAD,CAAMmX,GAAI,aACR,gBAACrF,GAAD,CAAQmP,GAAI,EAAGrQ,QAAQ,WACrB,gBAAC,SAAD,mBAKR,gBAAC,GAAD,KACE,gBAAC,KAAD,CAAMuG,GAAG,UACP,gBAACrF,GAAD,CACEwP,GAAI,EACJrC,MAAO,CAAE5M,MAAO,OAAQxC,OAAQ,QAChCe,QAAQ,WAGR,gBAAC,SAAD,kBAGJ,gBAACM,GAAD,CAAcU,UAAU,SACtB,gBAACP,GAAD,KACE,gBAACkQ,GAAD,MACA,gBAAC,GAAD,CAAO7O,EAAG,GACR,gBAAC,GAAD,KACE,gBAAC,QAAD,CAAM9B,QAAQ,YACZ,gBAAC,SAAD,8BAEF,gBAAC,QAAD,CAAMqQ,GAAI,EAAGrQ,QAAQ,QnC3GL,yDmC2H9B2Q,GAAahR,GAAOe,OAAPf,CAAH,KnCjHd,+EmC4HIiR,GAAQjR,GAAOe,OAAPf,CAAH,MAEL4H,GAAO5H,GAAOe,OAAPf,CAAH,MAEJgQ,GAAehQ,GAAOoP,IAAV,KAKdxO,IAAMC,SAAS,SAAfD,CALc,OAYZmP,GAAY/P,GAAOoP,IAAV,MAOTa,GAAcjQ,GAAOoP,IAAV,MAIXc,GAAYlQ,GAAOoP,IAAV,MACC,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAQtC2T,GAAQlR,GAAOe,OAAPf,CAAH,MAWL8Q,GAAS9Q,GAAOe,OAAPf,CAAH,MACI,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAG/B,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAE1B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKrC2S,GAAK7Q,GAAOoP,IAAV,MA2BFuB,GAAY3Q,GAAOQ,QAAPR,CAAH,MASTmQ,GAAYnQ,GAAOoP,IAAV,MAYTqB,GAASzQ,GAAOoP,IAAV,M,SC/OC+B,GAAU,WACrB,ItCoLmCvL,EsCpL7B/I,EAASuU,cADY,EtCsLdrL,IAA4EvU,GAAmBoU,GsCtLjF,mBAEpByL,EAFoB,KAEVC,EAFU,OtCsHtB,SAAsC1L,GACrC,OAAOG,IAA4FzU,GAA2BsU,GsCpH9FgF,GAHX,mBAGpB2G,EAHoB,KAGPC,EAHO,OtCqNtB,SAAqC5L,GACpC,OAAOG,IAA0FtU,GAA0BmU,GsClNnFgF,GAJnB,mBAIpB6G,EAJoB,KAIHC,EAJG,OtCqPtB,SAA+B9L,GAC9B,OAAOG,IAA8ErU,GAAoBkU,GsCjP7EgF,GALP,mBAKpB+G,EALoB,KAKTC,EALS,OtCoJtB,SAA6ChM,GAC5C,OAAOG,IAA0GxU,GAAkCqU,GsC9I7GgF,GAPjB,mBAOpBiH,EAPoB,KAOJC,EAPI,KAQ3B,OAAOhO,mBAAQ,WA2Db,MAAO,CACL0L,MApBY,SAACG,EAAeC,GAC5B,IAAI0B,EAAYlG,QAGhB,OAAOiG,EAAS,CACd/Z,UAAW,CAAEqY,QAAOC,YACpBtZ,QAASrG,EAAM,CAAEX,IAAK,UACtB2V,OAAQ,SAACuG,EAAOhb,GAAR,eAAiBuhB,GAASvG,EAAD,UAAQhb,EAAKG,YAAb,iBAAQ,EAAWkK,qBAAnB,aAAQ,EAA0BsQ,QAcrEmG,cAEAU,YAhCkB,SAACrC,GACnB,IAAImC,EAAkB1G,QAGtB,OAAOyG,EAAe,CACpBva,UAAW,CAAEqY,YA4BfmC,oBAEAhX,aAvDmB,SAACR,GACpB,IAAIoX,EAAmBtG,QAGvB,OAAOqG,EAAgB,CACrBna,UAAW,CAAEgD,SACb2K,OAAQ,SAACuG,EAAOhb,GAAR,eAAiBuhB,GAASvG,EAAD,UAAQhb,EAAKG,YAAb,iBAAQ,EAAWmK,oBAAnB,aAAQ,EAAyBqQ,QAkDpEuG,qBAEAO,OAhDa,SAACC,GACd,IAAIN,EAAaxG,QAGjB,OAAOuG,EAAU,CACfra,UAAW,CAAE4a,gBACbjN,OAAQ,SAACuG,EAAOhb,GAAR,aAAiBuhB,GAASvG,EAAD,UAAQhb,EAAKG,YAAb,aAAQ,EAAWwhB,gBA2CtDP,eAEAQ,SAvEe,SAAC,GAA8D,IAA5DxC,EAA2D,EAA3DA,SAAUtV,EAAiD,EAAjDA,MAC5B,IAAIkX,EAAepG,QAGnB,OAAOmG,EAAY,CACjBja,UAAW,CAAEsY,WAAUtV,SACvB2K,OAAQ,SAACuG,EAAOhb,GAAR,eAAiBuhB,GAASvG,EAAD,UAAQhb,EAAKG,YAAb,iBAAQ,EAAWoK,qBAAnB,aAAQ,EAA0BoQ,QAkErEqG,iBAEAa,kBAzBwB,SAACC,GACzB,OAAOzV,EACJ7P,MAA+E,CAC9EA,MAAO4d,GACPtT,UAAW,CAAEgb,cAEd1jB,MAAK,SAAAa,GAAC,OAAIA,EAAEkB,KAAK0hB,yBAqBrB,CACDT,EACAD,EACAF,EACAC,EACAL,EACAC,EACAC,EACAC,EACAK,EACAC,EACAjV,KAIEkV,GAAW,SAACvG,EAAkBL,GAClCK,EAAMC,WAAoB,CACxBze,MAAOkE,EACPP,KAAM,CACJyI,WAAY,gBACZ+R,GAAIA,EAAE,yBAEA/R,WAAY,MACT+R,GAHH,IAIAvR,KAAK,aACHR,WAAY,QACT+R,EAAGvR,QAGV,S,UChHG2Y,GAAUlF,wBAAuB,CAAEmF,SAAU,SAAA/iB,GAAC,OAAIA,KAClDgjB,GAA2B,SAAC,GAAkB,IAAhB3S,EAAe,EAAfA,SACjCoN,EAAS+B,qBAAW7B,IAApBF,KADgD,EAExBM,qBAFwB,mBAEjDkF,EAFiD,KAEvCC,EAFuC,KAGlDH,EAAWnO,uBACf,SAACuO,EAAetC,GACd,IAAMuC,GAAiC,IAAlBD,OAA0B,EAAS1F,EAAKzd,EAAL,2BAAYmjB,GAAZ,IAA2BtC,YAC/EuC,IAAiBH,GAGrBC,EAAYE,KAEd,CAAC3F,EAAMwF,IAGHpjB,EAAMwU,mBACV,iBAAO,CACL0O,cAEF,CAACA,IAEGM,EAAQJ,EAAQ,UrCzBA,SqCyBA,cAAoBA,GrCzBpB,SqC2BtB,OACE,kBAACH,GAAQnE,SAAT,CAAkB9gB,MAAOgC,GACvB,kBAACyjB,GAAA,EAAD,KACE,+BAAQD,IAEThT,IAKMkT,GAAe,SAACN,EAA+BpC,GAAkB,IACpEkC,EAAavD,qBAAWsD,IAAxBC,SAER5E,qBAAU,WACR4E,EAASE,EAAUpC,KAClB,CAACkC,EAAUE,EAAUpC,KCzCb2C,GAAsDC,UAA4B,CAC7FvD,MAAOuD,YACJC,IAAI,IACJC,WACHxD,SAAUsD,YACPC,IAAI,IACJC,aAICC,GAAiB,aAEVC,GAA0B,WACrCN,GAAaK,IAD8B,IAEnC7D,EAAU2B,KAAV3B,MACFM,EAAS5L,aAA2B,CACxCC,cAAe,CACbwL,MAAO,GACPC,SAAU,IAEZ2D,oBAAoB,EACpBnP,SAAU,gBAAGuL,EAAH,EAAGA,MAAOC,EAAV,EAAUA,SAAV,OAAyBJ,EAAMG,EAAOC,IAChDqD,sBAEF,OAAO,kBAAC,GAAD,CAAOnD,OAAQA,KC1BX0D,GAAiBnG,wBAA8B,CAC1DoG,QAAQ,EACRC,WAAY,kBAAM,KAEPC,GAA4B,SAAC,GAAkB,IAAhB7T,EAAe,EAAfA,SAAe,EAC5B8T,sBAAW,SAAAC,GAAE,OAAKA,KAAI,GADM,mBAClDJ,EADkD,KAC1CC,EAD0C,KAEnDpkB,EAAMwU,mBACV,iBAAO,CACL2P,SACAC,gBAEF,CAACD,EAAQC,IAEX,OAAO,kBAACF,GAAepF,SAAhB,CAAyB9gB,MAAOgC,GAAMwQ,I,imBC2BxC,IAAMgU,GAA6BhjB,IAAH,KA+CjCuS,I,g/CCQC,IAAM0Q,GAAgCjjB,IAAH,MAsB7BkjB,GAA4BljB,IAAH,KAiDhCijB,GACJ1Q,IAC6CvS,IAAH,KAiBtCyS,GACJuQ,GACAxQ,I,mgBCtJK,IAAM2Q,GAAyBnjB,IAAH,KA2B7BsY,GACJ9F,GACAC,GACAuQ,GACAE,I,ocClCK,IAAME,GAAyBpjB,IAAH,KAsB7BwS,GACJC,GACAuQ,GACA1K,GACA4K,I,mUCtCK,IAAMG,GAA2BrjB,IAAH,KAe/BwS,GACJC,GACA6F,I,6wBCwBK,IAAMgL,GAA6BtjB,IAAH,KA6CjCwS,GACJC,GACAuQ,GACA1K,GACA4K,GACAC,GACAC,GACAC,I,mlBC/EK,IAAME,GAAoCvjB,IAAH,KAIxCsjB,IACOE,GAAmCxjB,IAAH,KAcvC0S,GACJ6Q,IAqCK,IAEME,GAAuC,SAClDjd,EACAhB,GAFkD,MAGhD,CACFtJ,MAAMsnB,GACNhd,YACAhB,Y,6XCxEK,IAAMke,GAAyB1jB,IAAH,KAY7BwS,GACJE,I,2bClBK,IAAMiR,GAA+B3jB,IAAH,MAsBKA,IAAH,M,+vBCZpC,IAAM4jB,GAA2B5jB,IAAH,KA4B/BwS,GACAC,GACAuQ,GACAG,GACAD,I,kwBCtCC,IAAMW,GAA+B7jB,IAAH,KAQnC2jB,IAEOG,GAAiC9jB,IAAH,KAKrC4jB,IAEOG,GAAyC/jB,IAAH,KAK7CyS,IAE8CzS,IAAH,KAK3CsjB,I,4PCvCC,IAAMU,GAA0BhkB,IAAH,KAM9B6jB,IAmCC,IClDMI,GAAqB,WAAO,IDoCEnP,ECpCH,EDqCzBG,IAAwF+O,GAAyBlP,GCrCxF,mBAC/BoP,EAD+B,KACpBC,EADoB,KAGhCC,EAASC,GAAwB,uCACrC,+BAAA9c,EAAA,yDAASmB,EAAT,EAASA,UAAWuN,EAApB,EAAoBA,MACdkO,EAAgB7J,QADtB,0EAKS4J,EAAU,CACf1d,UAAW,CACTyP,KAAMoD,GAAoBpD,EAAM,MAChCvN,UAAW,CACTnM,KAAMmM,EAAUnM,KAChB4Z,QAASzN,EAAUyN,QACnBmO,kBAAmB5b,EAAU4b,oBAGjCC,eAAgB,CACdrM,GAA+B,IAC/BuL,GAAqC,CAAEzO,MAAO1T,MLqDtDkF,EKpDmC,CAAEwO,MAAO1T,ILqD5CkE,OKrDQgf,ELsDN,CACFtoB,MAAMwnB,GACNld,YACAhB,gBK1EE,iCLoEsC,IACxCgB,EACAhB,IKtEE,OADqC,sDAsBrC,CAAC2e,EAAiBD,IAEpB,OAAOlR,mBAAQ,WACb,MAAO,CACLoR,YAED,CAACA,K,gsDCzBN,IAsHeK,GAtHuB,SAAC,GAA2D,IAAzDC,EAAwD,EAAxDA,WAAYC,EAA4C,EAA5CA,WAAYC,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,YAAkB,EACjEnI,qBADiE,mBACxFoI,EADwF,KAC/EC,EAD+E,OAKzDrI,qBALyD,mBAKxFsI,EALwF,KAK3EC,EAL2E,KAU/FnI,qBACE,kBAAM,WACJgI,GAAWI,IAAIC,gBAAgBL,MAEjC,CAACA,IAGHhI,qBAAU,WACRiI,EAAWL,KACV,CAACA,IAnB2F,MA2B3FU,aAAY,CACdC,OAAQR,EAERS,OAAQ,SAAAC,GACN,IAAM9e,EAAO8e,EAAc,GAC3B,IAAK9e,EAGH,OAFAme,OAAa,QACbK,OAAe,GAGjBL,EAAane,GACbwe,EAAe,CAAExe,OAAM+e,SAAUN,IAAIO,gBAAgBhf,QAhBvDif,EAtB6F,EAsB7FA,aACAC,EAvB6F,EAuB7FA,cACAC,EAxB6F,EAwB7FA,aAkBF,OACE,oCACE,kBAAC,OAAD,eAAKrO,GAAI,CAAE/I,OAAQ,SAAckX,EAAa,CAAEnV,UAAW,cACzD,kBAACsV,GAAD,CAAetV,UAAWqV,EAAe,SAAW,QAChDZ,GAA8B,aAAfL,EAMb,KALF,kBAACmB,GAAD,CAAOvV,UAAU,SACf,kBAACwV,GAAD,KACE,kBAAC,KAAD,CAAMhgB,KAAM,GAAIigB,YAAa,EAAGrY,MAAO,4BAI7B,aAAfgX,EACC,kBAACmB,GAAD,CAAOvV,UAAU,SACf,kBAACwV,GAAD,KACE,kBAAC,KAAD,CAAOhgB,KAAM,GAAIigB,YAAa,EAAGrY,MAAO,2BAE1C,kBAACsY,GAAD,CACErI,MAAO,CACLsI,gBAAgB,QAAD,OAAUlB,EAAcA,EAAYQ,SAAWV,EAA/C,UAInB,KACFE,GAAoC,aAAfL,GACuB,IAA5CK,EAAYve,KAAK7G,KAAKumB,QAAQ,SAE5B,kBAACC,GAAD,KACE,kBAAC,KAAD,CAAMrgB,KAAM,KACXif,GAAe,kBAACqB,GAAD,KAAWrB,EAAYve,KAAKlK,OAI9C,kBAAC+pB,GAAD,KACE,kBAACR,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,KAAD,CAAOhgB,KAAM,GAAIigB,YAAa,EAAGrY,MAAO,2BAE1C,kBAACsY,GAAD,CACErI,MAAO,CACLsI,gBAAgB,QAAD,OAAUlB,EAAYQ,SAAtB,UAIrB,kBAACa,GAAD,KAAWrB,GAAeA,EAAYve,KAAKlK,OApBjC,KAyBhB,0BAAWopB,SA8BfE,GAAgB3W,GAAOoP,IAAV,MACH,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAQnB,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAK/CmjB,GAAWnX,GAAOmC,EAAV,MAQR0U,GAAc7W,GAAOO,QAAPP,CAAH,MAaXoX,GAAcpX,GAAOoP,IAAV,MAKX8H,GAAYlX,GAAOoP,IAAV,MAUTwH,GAAQ5W,GAAOoP,IAAV,MA0BL2H,GAAM/W,GAAOe,OAAPf,CAAH,M,2MCrNT,IAAMuC,GAAUvC,GAAOe,OAAPf,CAAH,MAKI,SAAAS,GAAK,OAAIA,EAAMrD,MAAM0B,cAOvBuY,GAJ8B,SAAC,GAAD,IAAGhX,EAAH,EAAGA,QAASP,EAAZ,EAAYA,SAAZ,OAC3C,gBAAC,GAAD,CAASO,QAASA,GAAW,QAASP,I,gzGCLxC,IAAMkR,GAAahR,GAAOoP,IAAV,MAcHkI,GAAetX,GAAOoP,IAAV,MAMnBmI,GAASvX,GAAOoP,IAAV,KAeRxO,IAAMC,SAAS,SAAfD,CAfQ,OAuBNoH,GAAShI,GAAOoP,IAAV,KACRoI,gBAIEC,GAAQzX,GAAOe,OAAPf,CAAH,MAKK,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAUtC0jB,GAAU1X,GAAOoP,IAAV,KACToI,gBACa,SAAA/W,GAAK,OAAIA,EAAMrD,MAAM0B,cAEzBiR,GAAY/P,GAAOoP,IAAV,MACL,SAAA3O,GAAK,OAAIA,EAAMrD,MAAM0B,cAOzB6Y,GAAU3X,GAAOe,OAAPf,CAAH,KAChBwX,gBAOSI,GAAgB5X,GAAO2X,GAAP3X,CAAH,KACtBwX,gBAISK,GAAe7X,GAAOoP,IAAV,MAcZ0I,GAAgB9X,GAAOoP,IAAV,KAEtBoI,gBAOU,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAO5B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UACvB,SAAAmC,GAAK,OAAIA,EAAMrD,MAAM0B,cAI3BoB,GAASF,GAAOoP,IAAV,MAGa,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAO/Cia,GAAM/X,GAAOoP,IAAV,KACZoI,gBACyB,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAC7C,SAAA2C,GAAK,OAAKA,EAAMuX,IAAM,QAAU,SAStCpX,IAAMC,SAAS,SAAfD,CAZU,MAiBZA,IAAMC,SAAS,SAAfD,CAjBY,OAuBVqX,G,sLASFA,EAAOC,GAAGxJ,MAAMyJ,QAAU,U,6CAI1BF,EAAOC,GAAGxJ,MAAMyJ,QAAU,S,+BAI1B,OAAOC,IAASC,aAAaC,KAAK7X,MAAMX,SAAUmY,EAAOC,Q,GAjBxClJ,IAAMuJ,WAArBN,GACGC,GAAM,WACX,IAAMM,EAAMjK,SAASkK,cAAc,OAInC,OAHAD,EAAIE,aAAa,KAAM,eACvBF,EAAI9J,MAAMyJ,QAAU,OACpB5J,SAAS7X,KAAKiiB,YAAYH,GACnBA,EALI,GAwBf,IAiBeI,GAjBgB,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,WAAY/Y,EAAe,EAAfA,SACtCgZ,EAAmBzU,uBAAY,kBAAMwU,MAAc,CAACA,IAC1D,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYxW,QAASyW,IACrB,kBAACvB,GAAD,KACE,kBAAC,GAAD,KACE,kBAACE,GAAD,CAAOpV,QAASyW,GACd,kBAAC,WAAD,CAAGra,MAAM,OAAO5H,KAAM,OAG1B,kBAAC6gB,GAAD,KAAU5X,M,0rCCnLlB,I,GAAMyP,GAAK,CACTG,aAAc,CACZriB,KAAMoiB,oBAAS,mCACfxI,QAASwI,oBACP,qHAEF1I,KAAM0I,oBAAS,0DAeNsJ,GAAwC,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,OAAQlJ,EAAa,EAAbA,OACxDmJ,EAAqBjK,eACzB,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCvJ,KAAMxP,OAC3D,CAACuY,IAEGqJ,EAAiB,kBAAoBrJ,EAAOQ,OAAOvJ,KAAO+I,EAAOQ,OAAOvJ,KAAO,GACrF,OACE,gBAAC,GAAD,KACE,wBAAM3C,SAAU0L,EAAOM,cACrB,gBAAC,GAAD,KACE,gBAAC,WAAD,CAASgJ,EAAG,GACV,gBAAC,SAAD,iCAGJ,gBAACC,GAAD,KACE,gBAAC,OAAD,CAAKhR,GAAI,CAAEvG,MAAO,QAASxC,OAAQ,UACjC,gBAAC,GAAD,CACEkW,WAAY2D,EACZzD,aAAcuD,EACdtD,YAAY,aAIhB,gBAAC2D,GAAD,KACE,gBAAC,GAAD,CAAOpa,WAAY,QACjB,gBAACqa,GAAD,KACE,gBAAC,KAAD,CACElJ,YAAad,GAAGG,aAAariB,KAC7BqU,SAAUoO,EAAO9N,aACjB3U,KAAK,OACLC,MAAOwiB,EAAOQ,OAAOjjB,KACrBkjB,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,QACtCoa,EAAOvgB,OAAOlC,MACb,gBAACiqB,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOlC,SAMjD,gBAACmsB,GAAD,CAAa9I,GAAI,GACf,gBAAC6I,GAAD,KACE,gBAAC,KAAD,CACElJ,YAAad,GAAGG,aAAazI,QAC7BvF,SAAUoO,EAAO9N,aACjB3U,KAAK,UACLC,MAAOwiB,EAAOQ,OAAOrJ,QACrBsJ,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,IAAM/H,EAAOQ,OAAOrJ,QAAQvR,QAC1Coa,EAAOvgB,OAAO0X,SACb,gBAACqQ,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAO0X,cAQrD,gBAAC0Q,GAAD,KACE,gBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAGrB,gBAAC,SAAD,cAEF,gBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,oBAQNO,GAA0BvZ,GAAO8X,GAAP9X,CAAH,MAgBvB6H,GAAQ7H,GAAOQ,QAAPR,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCsb,GAAcxZ,GAAOQ,QAAPR,CAAH,MACN,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCob,GAAWtZ,GAAOoP,IAAV,KAIVoI,gBAIS,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aACnC0C,IAAMC,SAAS,SAAfD,CATQ,OAiBD,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAQnCmb,GAAOrZ,GAAOO,QAAPP,CAAH,KAINY,IAAMC,SAAS,SAAfD,CAJM,OC1KG8Y,GAA4D,CACvE,WACA,wBACA,SAACnN,GACC,OAAQA,IAEW,kBAARA,EACPrC,GAAYqC,GACZA,aAAejC,QCAV2I,GAAgEC,UAE3E,CACA7lB,KAAM6lB,YACHyG,IAAI,GACJxG,IAAI,IACJC,WACHnM,QAASiM,YAAaC,IAAI,KAC1BpM,MAAM,GAAAmM,YAA2BpX,KAA3B,qBAAmC4d,OAK9BE,GAAqC,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,KAC7CC,EAAU5O,eACRgK,EAAWH,KAAXG,OACFpF,EAAS5L,aAAqC,CAClDqP,oBAAoB,EACpBN,oBACA9O,cAAe,CACb9W,KAAM,GACN4Z,QAAS,GACTF,KAAM,IAER3C,SAAU,SAAA2V,GACR,OAAO7E,EAAO,CACZ1b,UAAW,CACT4b,kBAAmB2E,EAAK1sB,KAAKoI,MAAM,KAAK9F,KAAK,KAC7CtC,KAAM0sB,EAAK1sB,KACX4Z,QAAS8S,EAAK9S,SAEhBF,KAAMgT,EAAKhT,OACVnY,MAAK,SAAAorB,GAAQ,IAAD,IACbH,KACG,OAAHG,QAAG,IAAHA,GAAA,UAAAA,EAAKrpB,YAAL,mBAAWspB,uBAAX,eAA4BhrB,KAC1B6qB,EAAQ7O,KAAR,uBAA6B+O,EAAIrpB,KAAKspB,gBAAgBhrB,WAI9D,OAAO,kBAAC,GAAD,CAAsB+pB,OAAQa,EAAM/J,OAAQA,K,UC9CxCoK,GAAgB,WAC3B,OAAOxmB,GAAiB,KAAO,kBAAC,KAAD,O,ofCDjC,IAAMymB,GAAQ,CACZC,QAAS,OACTC,EAAG,OACHjB,EAAG,QACHkB,EAAG,SAKC/X,GAAUvC,GAAOe,OAAPf,CAAH,MACI,SAAAS,GAAK,OAAIA,EAAMrD,MAAM0B,cAE1B,SAAA2B,GAAK,OAAI0Z,GAAM1Z,EAAM5J,SAClB,SAAA4J,GAAK,OAAI0Z,GAAM1Z,EAAM5J,SACd,SAAA4J,GAAK,OAAKA,EAAMjC,GAAK,cAAgBiC,EAAMrD,MAAMtJ,OAAOiK,SACnD,SAAA0C,GAAK,OAAIA,EAAMjC,MAWpC,SAAAiC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAenBqc,GANV,SAAC,GAAD,QAAG1jB,YAAH,MAAU,UAAV,EAAqB8Q,EAArB,EAAqBA,IAAK6S,EAA1B,EAA0BA,SAA1B,EAAoCna,QAApC,OACH,gBAAC,GAAD,CAASxJ,KAAMA,EAAM2H,GAAImJ,GACtB6S,IAAa7S,EAAM,4BAAO6S,EAASC,OAAO,EAAG,GAAGC,eAAwB,O,u2BC/BtE,IAAMC,GAAsB,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,MAAO/a,EAAvB,EAAuBA,SAAvB,OACjC,kBAAC,KAAD,CAAqBgb,eAAgBD,GACnC,kBAAC,GAAD,CAASxZ,UAAU,WAAWuZ,YAAaA,GACxC9a,KAKDyC,GAAUvC,GAAOe,OAAPf,CAAH,MAEG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAMnC,SAAAkD,GAAK,MAA2B,QAAtBA,EAAMma,YAAwB,MAAQ,UAC7C,SAAAna,GAAK,MAA2B,WAAtBA,EAAMma,YAA2B,MAAQ,UAEpD,SAAAna,GAAK,MAA2B,WAAtBA,EAAMma,YAA2B,MAAQ,UAGjDG,GAAe/a,GAAOO,QAAPP,CAAH,MAaV,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAEzB,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,S,kxBC5B9C,IAAMyE,GAAOxC,GAAOoP,IAAV,MAES,SAAA3O,GAAK,OAAKA,EAAMua,MAAQ,oBAAsB,QAE3DC,GAAOjb,GAAOO,QAAPP,CAAH,MAqBG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAInCknB,GAAalb,GAAOib,GAAPjb,CAAH,MACM,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAIhC,SAAAwC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SAcjCod,GAAmC,SAAC,GAAmD,IAAjD5P,EAAgD,EAAhDA,OAAQ6P,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,eAAgBhQ,EAAc,EAAdA,QAC3EJ,EAASC,eAATD,KACR,OACE,gBAAC,GAAD,CAAU2P,YAAa,MAAOC,MAAOQ,GACnC,gBAAC,GAAD,CAAML,OAAK,GACT,gBAACC,GAAD,CAAM5a,QAAQ,OAAOgC,QAAS,kBAAM4I,EAAKmQ,KACvC,4BACE,gBAAC,WAAD,CAAMvkB,KAAM,GAAI4H,MAAO,UAEzB,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,qBAGJ,gBAAC4a,GAAD,KACE,gBAAC,QAAD,CAAM5a,QAAQ,QACZ,qBAAGkG,KAAI,UAAK6U,EAAL,iBACL,4BACE,gBAAC,WAAD,CAAOvkB,KAAM,GAAI4H,MAAO,UAE1B,gBAAC,SAAD,0BAIN,gBAACwc,GAAD,KACE,gBAAC,QAAD,CAAM5a,QAAQ,QACZ,qBAAGkG,KAAI,UAAK6U,EAAL,eACL,4BACE,gBAAC,WAAD,CAASvkB,KAAM,GAAI4H,MAAO,UAE5B,gBAAC,SAAD,wBAIN,gBAACwc,GAAD,KACE,gBAAC,QAAD,CAAM5a,QAAQ,QACZ,qBAAGkG,KAAI,UAAK6U,IACV,4BACE,gBAAC,WAAD,CAAUvkB,KAAM,GAAI4H,MAAO,UAE7B,gBAAC,SAAD,uBAIN,gBAACwc,GAAD,KACE,gBAAC,QAAD,CAAM5a,QAAQ,QACZ,qBAAGkG,KAAI,UAAK6U,EAAL,aACL,4BACE,gBAAC,KAAD,CAAMvkB,KAAM,GAAI4H,MAAO,UAEzB,gBAAC,SAAD,yBAKR,gBAAC,GAAD,KACE,gBAACwc,GAAD,CAAM5a,QAAQ,OAAOgC,QAAS,kBAAM4I,EAAK,eACvC,4BACE,gBAAC,KAAD,CAAUpU,KAAM,GAAI4H,MAAO,UAE7B,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,mBAGHgL,GACC,gBAAC6P,GAAD,CAAY7a,QAAQ,OAAOgC,QAAS,kBAAM4I,EAAK,wBAC7C,gBAAC,QAAD,CAAM5K,QAAQ,OAAOgI,GAAI,CAAEiT,KAAM,EAAGC,UAAW,WAC7C,gBAAC,SAAD,0BAIN,gBAACN,GAAD,CAAM5a,QAAQ,QACZ,gBAAC,QAAD,CAAMA,QAAQ,QACZ,qBAAGkG,KAAK,SAASG,OAAO,UACtB,4BACE,gBAAC,KAAD,CAAM7P,KAAM,MAEd,gBAAC,SAAD,2BAIN,gBAACokB,GAAD,CAAM5a,QAAQ,OAAOgC,QAASkJ,GAC5B,4BACE,gBAAC,KAAD,CAAO1U,KAAM,GAAIigB,YAAa,EAAGrY,MAAO,UAE1C,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,sBAeCmb,GAA4C,SAAC,GAKnD,IAJLH,EAII,EAJJA,eACApB,EAGI,EAHJA,gBACAwB,EAEI,EAFJA,aACAC,EACI,EADJA,eAEA,OACE,gBAAC,GAAD,CAAUd,YAAa,MAAOC,MAAOQ,GACnC,gBAAC,GAAD,CAAML,OAAK,GACT,gBAACC,GAAD,CAAM5a,QAAQ,OAAOgC,QAAS,kBAAM4X,MAClC,4BACE,gBAAC,WAAD,CAAOpjB,KAAM,GAAI4H,MAAO,UAE1B,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,wBAGJ,gBAAC4a,GAAD,CAAM5a,QAAQ,OAAOgC,QAAS,kBAAMoZ,MAClC,4BACE,gBAAC,KAAD,CAAY5kB,KAAM,GAAI4H,MAAO,UAE/B,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,8BAGJ,gBAAC4a,GAAD,CAAM5a,QAAQ,OAAOgC,QAAS,kBAAMqZ,MAClC,4BACE,gBAAC,KAAD,CAAM7kB,KAAM,GAAI4H,MAAO,UAEzB,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,mC,2qBCzJL,IAAMsb,GAAqC7qB,IAAH,KAIzCsjB,IACOwH,GAAoC9qB,IAAH,KAexC0S,GACJmY,IAsCK,IAEME,GAAwC,SACnDvkB,EACAhB,GAFmD,MAGjD,CACFtJ,MAAM4uB,GACNtkB,YACAhB,YCzGWwlB,GAA+B,SAACriB,GAAkC,IAAD,IDgF5BmM,EC/E1CmW,GD+E0CnW,EC/ES,CACvDtO,UAAW,CAAEmC,cAAaqM,MAAO1T,KD+EtB2T,IAAmG6V,GAAmChW,IC5E7IoW,EAAiBrY,GAAO,UAC5BoY,EAAWprB,YADiB,iBAC5B,EAAiB6I,iBADW,aAC5B,EAA4ByiB,QAC5B,YAAyB,IAAtBxc,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO8W,EAAW7V,UAAU,CAC1B5O,UAAU,2BAAMmI,GAAP,IAAehG,cAAaqM,MAAO1T,KAC5C+T,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB5M,iBAAjB,eAA4ByiB,UAA5B,UAAsCzW,EAAKhM,iBAA3C,aAAsC,EAAgByiB,QAAtD,2BAEE7V,GAFF,IAGD5M,UAAU,2BACL4M,EAAgB5M,WADZ,IAEPyiB,OAAQhX,EAAO,CACbO,KAAMA,EAAKhM,UAAUyiB,OACrB1W,QAASa,EAAgB5M,UAAUyiB,aAIzCzW,QAKZ,OAAO1B,mBACL,iBAAO,CACLkY,oBAEF,CAACA,K,ysBCWE,IAAME,GAAiCprB,IAAH,KAKrCyS,GACJsR,IACWsH,GAA+BrrB,IAAH,KAenC0S,GACJ0Y,IAsCK,ICnGME,GAA0B,SAAC3iB,GAAkC,IAAD,IDkF5BmM,ECjFrCmW,GDiFqCnW,ECjFS,CAClDtO,UAAW,CAAEmC,cAAaqM,MAAO1T,KDiFtB2T,IAAyFoW,GAA8BvW,IC9E9HyW,EAAkB1Y,GAAO,UAC7BoY,EAAWprB,YADkB,iBAC7B,EAAiB6I,iBADY,aAC7B,EAA4ByM,aAC5B,YAAyB,IAAtBxG,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO8W,EAAW7V,UAAU,CAC1B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmBqH,gBAClD0M,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB5M,iBAAjB,eAA4ByM,eAA5B,UACLT,EAAKhM,iBADA,aACL,EAAgByM,aADX,2BAGEG,GAHF,IAID5M,UAAU,2BACL4M,EAAgB5M,WADZ,IAEPyM,YAAahB,EAAO,CAClBO,KAAMA,EAAKhM,UAAUyM,YACrBV,QAASa,EAAgB5M,UAAUyM,kBAIzCT,QAMZ,OAAO1B,mBACL,iBAAO,CACLuY,qBAEF,CAACA,K,2PCnBE,IAAMC,GAAuBxrB,IAAH,M,4oBCoB1B,IAAMyrB,GAA6BzrB,IAAH,KAIjC8jB,IACO4H,GAA2B1rB,IAAH,KAe/B0S,GACJ+Y,IAsCK,IC1FME,GAAyB,SACpCC,EACAtjB,GACI,IFqCkCwM,EErCnC,EFsCUG,IAAkFuW,GAAsB1W,GEtClH,mBACI+W,EADJ,KAEGC,EAFH,KAEoCxR,QACjCyR,EAAe1H,GAAwB,uCAC3C,WAAOrlB,GAAP,SAAAuI,EAAA,yDACOqkB,IAAaE,EADpB,0EAISD,EAAgB,CACrBrlB,UAAW,CACTolB,YACAhjB,QAAS,CAAE5J,YAEbulB,eAAe,CACbd,GAAqC,CAAEzO,MAAO1T,MADlC,mBAEO,cAAfgH,EACA,ED0EZ9B,ECzE2C,CAC3BmC,YAAaijB,EACb5W,MAAO1T,IDwEvBkE,OC1EcwmB,ED2EZ,CACF9vB,MAAMwvB,GACNllB,YACAhB,YC1EculB,GAAsC,CACpCpiB,YAAaijB,EACb5W,MAAO1T,MAGX,OAELxD,MAAK,SAAAorB,GAAG,2BAAIA,EAAIrpB,YAAR,iBAAI,EAAUksB,oBAAd,iBAAI,EAAwB/iB,cAA5B,aAAI,EAAgC7K,OAxBjD,iCDqFwC,IAC1CqI,EACAhB,ICvFE,OAD2C,sDA2B3C,CAAComB,EAAWtjB,EAAYwjB,IAG1B,OAAO9Y,mBACL,iBAAO,CACL+Y,kBAEF,CAACA,K,wtBCVE,IAAME,GAAoCjsB,IAAH,MAYjCksB,GAA4BlsB,IAAH,KAMhCisB,IA2BC,IAAME,GAAwBnsB,IAAH,KAM5BisB,IAoCC,ICpHMG,GAAmB,SAACzjB,GAAkC,IDsG1BmM,ECtGyB,EDuGnDG,IAAoFkX,GAAuBrX,GCvGxD,mBACzDuX,EADyD,KAChDC,EADgD,KAE1DC,ED+DD,SAAmCzX,GAClC,OAAOG,IAAmFiX,GAA2BpX,GChEpG0X,CAA0B,CAC/ChmB,UAAW,CAAEmC,iBAGT8jB,EAAOpI,GAAwB,uCACnC,qCAAA9c,EAAA,yDAASmB,EAAT,EAASA,UAAWuN,EAApB,EAAoBA,MACdqW,EAAchS,QADpB,0EAIS+R,EAAQ,CACb7lB,UAAW,CACTmC,cACAsN,KAAMoD,GACJpD,EADuB,UAEvBsW,EAAe1sB,YAFQ,iBAEvB,EAAqB6I,iBAFE,iBAEvB,EAAgCuN,YAFT,aAEvB,EAAsCP,KAExChN,UAAW,CACTnM,KAAMmM,EAAUnM,KAChB4Z,QAASzN,EAAUyN,aAb3B,2CADmC,sDAmBnC,CAACxN,EAAa2jB,EAAeD,EAASE,IAGxC,OAAOvZ,mBAAQ,WAAO,IAAD,EACbtK,EAAS,UAAG6jB,EAAe1sB,YAAlB,aAAG,EAAqB6I,UACvC,MAAO,CACL+jB,OACA/jB,eAED,CAAC+jB,EAAMF,K,sNCxBL,IAAMG,GAAwB1sB,IAAH,KAO5B6jB,IAmCC,IC1DM8I,GAAe,SAAChkB,GAAkC,IAAD,EDyCxBmM,ECxC5BuF,EAAOT,KAAPS,GAEF4Q,GDsC8BnW,ECtCK,CAAEtO,UAAW,CAAEmC,gBDuC3CsM,IAA2EyX,GAAuB5X,ICtCvGiX,EAAiBJ,GAAuBhjB,EAAa,aAArDojB,aACFrjB,EAAS,UAAGuiB,EAAWprB,YAAd,aAAG,EAAiB6I,UACbkkB,EAAeC,GAAiBnkB,GAA9CokB,aACAL,EAASL,GAAiBzjB,GAA1B8jB,KACFM,IACF1S,MAAO,OAAC3R,QAAD,IAACA,OAAD,EAACA,EAAWskB,UAAW3S,EAAGvR,KAAK3K,KAAOuK,EAAUskB,QAAQ7uB,GAC7D8uB,KAAa,OAAC5S,QAAD,IAACA,OAAD,EAACA,EAAIG,kBAAmBuS,EAE3C,OAAO/Z,mBAAQ,WACb,MAAO,CACLtK,YACAqjB,eACAa,aACAH,OACAQ,YACAF,eAED,CAACrkB,EAAWkkB,EAAYH,EAAMQ,EAAWlB,EAAcgB,KCvB/CG,GAAsB,SAACvkB,GAAkC,IAAD,INgF5BmM,EM/EjCmW,GN+EiCnW,EM/ES,CAC9CtO,UAAW,CAAEmC,cAAaqM,MAAO1T,KN+EtB2T,IAAiFyW,GAA0B5W,IM5ElHqY,EAActa,GAAO,UACzBoY,EAAWprB,YADc,iBACzB,EAAiB6I,iBADQ,aACzB,EAA4B0kB,SAC5B,YAAyB,IAAtBze,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO8W,EAAW7V,UAAU,CAC1B5O,UAAU,2BAAMmI,GAAP,IAAehG,cAAaqM,MAAO1T,KAC5C+T,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB5M,iBAAjB,eAA4B0kB,WAA5B,UAAuC1Y,EAAKhM,iBAA5C,aAAuC,EAAgB0kB,SAAvD,2BAEE9X,GAFF,IAGD5M,UAAU,2BACL4M,EAAgB5M,WADZ,IAEP0kB,QAASjZ,EAAO,CACdO,KAAMA,EAAKhM,UAAU0kB,QACrB3Y,QAASa,EAAgB5M,UAAU0kB,cAIzC1Y,QAMZ,OAAO1B,mBACL,iBAAO,CACLma,iBAEF,CAACA,KChCQE,GAAwB,SAAC1kB,GAAkC,IAAD,IhDuF5BmM,EgDtFnCwY,GhDsFmCxY,EgDtFiB,CACxDtO,UAAW,CAAEmC,cAAaqM,MAAO1T,KhDsFtB2T,IAAqF0D,GAA4B7D,IgDnFxHyY,EAAyB1a,GAAO,UACpCya,EAAmBztB,YADiB,iBACpC,EAAyB6I,iBADW,aACpC,EAAoC8kB,WACpC,YAAyB,IAAtB7e,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOmZ,EAAmBlY,UAAU,CAClC5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmBqH,gBAClD0M,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB5M,iBAAjB,eAA4B8kB,aAA5B,UACL9Y,EAAKhM,iBADA,aACL,EAAgB8kB,WADX,2BAGElY,GAHF,IAID5M,UAAU,2BACL4M,EAAgB5M,WADZ,IAEP8kB,UAAWrZ,EAAO,CAChBO,KAAMA,EAAKhM,UAAU8kB,UACrB/Y,QAASa,EAAgB5M,UAAU8kB,gBAIzC9Y,QAMZ,OAAO1B,mBACL,iBAAO,CACLua,4BAEF,CAACA,K,ilBCIE,IAAME,GAAgCztB,IAAH,MAoCKA,IAAH,M,sfChDrC,IAAM0tB,GAAgC1tB,IAAH,KAKpCytB,IACOE,GAAoC3tB,IAAH,KAMxCgjB,IAC2ChjB,IAAH,KAKxCsjB,I,+SCxBC,IAAMsK,GAA2B5tB,IAAH,KAM/B0tB,IAoCC,IClDMG,GAAsB,SAACllB,GAAkC,IDoC1BmM,ECpCyB,EDqCtDG,IAA0F2Y,GAA0B9Y,GCrC9D,mBAC5DoP,EAD4D,KACjDC,EADiD,KAG7DC,EAASC,GAAwB,uCACrC,+BAAA9c,EAAA,yDAASiB,EAAT,EAASA,WAAYyN,EAArB,EAAqBA,MACfkO,EAAgB7J,QADtB,0EAKS4J,EAAU,CACf1d,UAAW,CACTolB,UAAWjjB,EACXsN,KAAMoD,GAAoBpD,EAAM,MAChCzN,WAAY,CACVjM,KAAMiM,EAAWjM,KACjB4Z,QAAS3N,EAAW2N,QACpBmO,kBAAmB9b,EAAW8b,oBAGlCC,eAAgB,Ed4EtB/d,Ec3EyC,CAC/BmC,cACAqM,MAAO1T,Id0EjBkE,Oc5EQsoB,Ed6EN,CACF5xB,MAAMmvB,GACN7kB,YACAhB,Yc5EQulB,GAAsC,CACpCpiB,cACAqM,MAAO1T,KAETmiB,GAAqC,CAAEzO,MAAO1T,KAC9CsR,GAA2B,CAAEoC,MAAO1T,KACpCwW,GAAgC,CAAE9C,MAAO1T,SA1B/C,iCd0F4C,IAC9CkF,EACAhB,Ic5FE,OADqC,sDA+BrC,CAACmD,EAAawb,EAAiBD,IAEjC,OAAOlR,mBAAQ,WACb,MAAO,CACLoR,YAED,CAACA,K,o+FCnDC,I,GCQK2J,GDRCtF,GAA0BvZ,GAAO8X,GAAP9X,CAAH,KA6B9BY,IAAMC,SAAS,SAAfD,CA7B8B,MAoD5BA,IAAMC,SAAS,SAAfD,CApD4B,MA6D5BA,IAAMC,SAAS,SAAfD,CA7D4B,MAoE9BA,IAAMC,SAAS,SAAfD,CApE8B,MA0E9BA,IAAMC,SAAS,SAAfD,CA1E8B,OAuFvBke,IANa9e,GAAOoP,IAAV,KAEnBxO,IAAMC,SAAS,SAAfD,CAFmB,OAMaZ,GAAOoP,IAAV,OAWpBkK,GAAWtZ,GAAOoP,IAAV,KAGjBoI,gBAIS,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aACnC0C,IAAMC,SAAS,SAAfD,CARe,OAgBR,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAQ5Bmb,GAAOrZ,GAAOO,QAAPP,CAAH,KAIbY,IAAMC,SAAS,SAAfD,CAJa,OAUJiH,GAAQ7H,GAAOQ,QAAPR,CAAH,MACP,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAG1Bsb,GAAcxZ,GAAOQ,QAAPR,CAAH,MACb,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cEnIjCqR,GAAK,CACTG,aAAc,CACZriB,KAAMoiB,oBAAS,oCACfxI,QAASwI,oBACP,oGAEF1I,KAAM0I,oBAAS,2DAeNsP,GAAyC,SAAC,GAAwB,IAAtB/F,EAAqB,EAArBA,OAAQlJ,EAAa,EAAbA,OACzDmJ,EAAqBjK,eACzB,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCvJ,KAAMxP,OAC3D,CAACuY,IAEGqJ,EAAiB,kBAAoBrJ,EAAOQ,OAAOvJ,KAAO+I,EAAOQ,OAAOvJ,KAAO,GAErF,OACE,gBAAC,GAAD,KACE,wBAAM3C,SAAU0L,EAAOM,cACrB,gBAAC,GAAD,KACE,gBAAC,WAAD,CAASgJ,EAAG,GACV,gBAAC,SAAD,kCAGJ,gBAAC,GAAD,KACE,gBAAC,OAAD,CAAK/Q,GAAI,CAAEvG,MAAO,QAASxC,OAAQ,UACjC,gBAAC,GAAD,CACEkW,WAAY2D,EACZzD,aAAcuD,EACdtD,YAAY,aAIhB,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAOzW,WAAY,QACjB,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEmR,YAAad,GAAGG,aAAariB,KAC7BqU,SAAUoO,EAAO9N,aACjB3U,KAAK,OACLC,MAAOwiB,EAAOQ,OAAOjjB,KACrBkjB,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,QACtCoa,EAAOvgB,OAAOlC,MACb,gBAACiqB,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOlC,SAMjD,gBAAC,GAAD,CAAaqjB,GAAI,GACf,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEL,YAAad,GAAGG,aAAazI,QAC7BvF,SAAUoO,EAAO9N,aACjB3U,KAAK,UACLC,MAAOwiB,EAAOQ,OAAOrJ,QACrBsJ,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,IAAM/H,EAAOQ,OAAOrJ,QAAQvR,QAC1Coa,EAAOvgB,OAAO0X,SACb,gBAACqQ,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAO0X,cAQrD,gBAAC0Q,GAAD,KACE,gBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAGrB,gBAAC,SAAD,cAEF,gBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,oBCjGC/F,GAAsEC,UAEjF,CACA7lB,KAAM6lB,YACHyG,IAAI,GACJxG,IAAI,IACJC,WACHnM,QAASiM,YAAaC,IAAI,KAC1BpM,MAAM,GAAAmM,YAA2BpX,KAA3B,qBAAmC4d,OAM9BsF,GAAsC,SAAC,GAGtC,IAFZvlB,EAEW,EAFXA,YACAogB,EACW,EADXA,KAEMC,EAAU5O,eACRgK,EAAWyJ,GAAoBllB,GAA/Byb,OAEFpF,EAAS5L,aAA2C,CACxDC,cAAe,CACb9W,KAAM,GACN4Z,QAAS,GACTF,KAAM,IAERwM,oBAAoB,EACpBnP,SAAU,SAAA2V,GACR,OAAO7E,EAAO,CACZ5b,WAAY,CACV8b,kBAAmB2E,EAAK1sB,KAAKoI,MAAM,KAAK9F,KAAK,KAC7CtC,KAAM0sB,EAAK1sB,KACX4Z,QAAS8S,EAAK9S,SAEhBF,KAAMgT,EAAKhT,OAEVnY,MACC,SAAAorB,GAAG,eACE,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKrpB,YAAL,mBAAWsuB,wBAAX,eAA6BhwB,KAC7B6qB,EAAQ7O,KAAR,uBAA6B+O,EAAIrpB,KAAKsuB,iBAAiBhwB,QAE1DgJ,OAAM,SAAA4D,GAAG,OAAIN,QAAQ2jB,IAAIrjB,OAE9BoX,sBAEF,OAAO,kBAAC,GAAD,CAAuB+F,OAAQa,EAAM/J,OAAQA,K,+pEF3C1C+O,O,qBAAAA,I,oBAAAA,Q,KAuCL,IAuFDM,GAAUnf,GAAOe,OAAPf,CAAH,KAKPY,IAAMC,SAAS,SAAfD,CALO,OAoBPwe,GAAoBpf,GAAO+a,GAAP/a,CAAH,MACK,SAAAS,GAAK,OAAIkB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAOiK,UAEnD,SAAA0C,GAAK,OAAIkB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAOE,YAIvDqrB,GAAOrf,GAAOe,OAAPf,CAAH,MAOE,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAI1B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIpC0J,GAAO5H,GAAOO,QAAPP,CAAH,MAQJ6H,GAAQ7H,GAAOQ,QAAPR,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,SACnCwC,IAAMC,SAAS,SAAfD,CAFO,OAML+W,GAAU3X,GAAOO,QAAPP,CAAH,MAIPsf,GAAWtf,GAAOQ,QAAPR,CAAH,MACH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAiCjCmb,GAAOrZ,GAAOe,OAAPf,CAAH,MAGM,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAKtCyT,GAAahR,GAAOoP,IAAV,MAKM,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,SAK3C2C,IAAMC,SAAS,SAAfD,CAVS,OAeV0Y,GAAWtZ,GAAOoP,IAAV,KAEVxO,IAAMC,SAAS,SAAfD,CAFU,OAcC2e,GA1NyB,SAAC,GAAsB,IAATC,EAAQ,EAAnBhmB,UACzC,OAAOgmB,EAAEC,SAAWZ,GAAOa,QACzB,kBAAC,QAAD,mBAEA,oCACE,kBAAC,GAAD,CAAMvd,EAAG,GACP,kBAAC,GAAD,CACElT,GAAG,SACHyf,MAAO,CACLsI,gBAAgB,QAAD,OAAUwI,EAAEzY,KAAZ,SAGnB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAO1G,QAAQ,UAAUqQ,GAAI,GAC1B8O,EAAEnyB,MAEL,kBAACiyB,GAAD,SAAYE,EAAEG,UACbH,EAAEvY,SACD,kBAAC,OAAD,CAAKyJ,GAAI,GACP,kBAAC,KAAD,KAAW8O,EAAEvY,UAIjB,kBAAC,GAAD,CAAMyJ,GAAI,GACR,kBAAC,GAAD,KACE,kBAACnP,GAAD,CACEqe,GAAI,EACJvf,QAASmf,EAAEK,UAAY,SAAW,UAClC7d,aAAcwd,EAAEM,iBAAiB9d,aACjCC,WAAYud,EAAEM,iBAAiB9d,cAAgBwd,EAAE3B,UACjDxb,QAASmd,EAAEM,iBAAiBxd,YAE3Bkd,EAAEK,UAAY,kBAAC,SAAD,cAAuB,kBAAC,SAAD,cAExC,kBAAC,GAAD,CAAMxd,QAASmd,EAAEnE,gBACf,kBAAC,KAAD,CAAcxkB,KAAM,KACnB2oB,EAAEO,gBACD,kBAACZ,GAAD,KACE,kBAAC,GAAD,CAAUvE,YAAa,SAAUC,MAAO2E,EAAEnE,gBACvCmE,EAAEzB,WACD,kBAAChD,GAAD,CAAc1Y,QAASmd,EAAEjC,MACvB,kBAAC,KAAD,CAAU1mB,KAAM,GAAI4H,MAAO,uBAC3B,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACzB,kBAAC,SAAD,6BAIN,kBAAC2a,GAAD,CAAc1Y,QAASmd,EAAEQ,MACvB,kBAAC,KAAD,CAAMnpB,KAAM,GAAI4H,MAAO,uBACvB,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACvBof,EAAES,UAGF,kBAAC,SAAD,8BAFA,kBAAC,SAAD,8BAMLT,EAAEnU,QACD,kBAAC+T,GAAD,CAAmB/c,QAASmd,EAAEU,eAC5B,kBAAC,KAAD,CAAMrpB,KAAM,GAAI4H,MAAO,qBACvB,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GAInB,kBAAC,SAAD,+BAMR,c,0rCG5G1B,I,GAAMmP,GAAK,CACTG,aAAc,CACZriB,KAAMoiB,oBAAS,mCACfxI,QAASwI,oBACP,qHAEF1I,KAAM0I,oBAAS,0DAeN0Q,GAAsC,SAAC,GAAwB,IAAtBnH,EAAqB,EAArBA,OAAQlJ,EAAa,EAAbA,OACtDmJ,EAAqBjK,eACzB,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCvJ,KAAMxP,OAC3D,CAACuY,IAEGqJ,EAAiB,kBAAoBrJ,EAAOQ,OAAOvJ,KAAO+I,EAAOQ,OAAOvJ,KAAO,GACrF,OACE,gBAAC,GAAD,KACE,wBAAM3C,SAAU0L,EAAOM,cACrB,gBAAC,GAAD,KACE,gBAAC,OAAD,CAAK/H,GAAI,CAAEvG,MAAO,QAASxC,OAAQ,UACjC,gBAAC,GAAD,CACEkW,WAAY2D,EACZzD,aAAcuD,EACdtD,YAAY,aAIhB,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAOzW,WAAY,QACjB,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEmR,YAAad,GAAGG,aAAariB,KAC7BqU,SAAUoO,EAAO9N,aACjB3U,KAAK,OACLC,MAAOwiB,EAAOQ,OAAOjjB,KACrBkjB,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,QACtCoa,EAAOvgB,OAAOlC,MACb,gBAACiqB,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOlC,SAMjD,gBAAC,GAAD,CAAaqjB,GAAI,GACf,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEL,YAAad,GAAGG,aAAazI,QAC7BvF,SAAUoO,EAAO9N,aACjB3U,KAAK,UACLC,MAAOwiB,EAAOQ,OAAOrJ,QACrBsJ,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,IAAM/H,EAAOQ,OAAOrJ,QAAQvR,QAC1Coa,EAAOvgB,OAAO0X,SACb,gBAACqQ,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAO0X,cAQrD,gBAAC0Q,GAAD,KACE,gBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAGrB,gBAAC,SAAD,cAEF,gBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,oBAQNO,GAA0BvZ,GAAO8X,GAAP9X,CAAH,MAgBvB6H,GAAQ7H,GAAOQ,QAAPR,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCsb,GAAcxZ,GAAOQ,QAAPR,CAAH,MACN,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCob,GAAWtZ,GAAOoP,IAAV,KAIVoI,gBAIS,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aACnC0C,IAAMC,SAAS,SAAfD,CATQ,OAiBD,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAQnCmb,GAAOrZ,GAAOO,QAAPP,CAAH,KAINY,IAAMC,SAAS,SAAfD,CAJM,OCvJGqS,GAA8DC,UAEzE,CACA7lB,KAAM6lB,YACHyG,IAAI,GACJxG,IAAI,IACJC,WACHnM,QAASiM,YAAaC,IAAI,KAC1BpM,MAAM,GAAAmM,YAA2BpX,KAA3B,qBAAmC4d,OAO9B0G,GAAmC,SAAC,GAGnC,IAFZvG,EAEW,EAFXA,KACApgB,EACW,EADXA,YACW,EACiByjB,GAAiBzjB,GAArCD,EADG,EACHA,UAAW+jB,EADR,EACQA,KACbpZ,EAAgBL,mBACpB,uBAAO,CACLiD,MAAe,OAATvN,QAAS,IAATA,GAAA,UAAAA,EAAWuN,YAAX,eAAiBP,MAAO,GAC9BnZ,MAAe,OAATmM,QAAS,IAATA,OAAA,EAAAA,EAAWnM,OAAQ,GACzB4Z,SAAkB,OAATzN,QAAS,IAATA,OAAA,EAAAA,EAAWyN,UAAW,MAEjC,CAACzN,IAGGsW,EAAS5L,aAAmC,CAChDqP,oBAAoB,EACpBnP,SAAU,SAAA2V,GACR,OAAOwD,EAAK,CACV/jB,UAAW,CACTnM,KAAM0sB,EAAK1sB,KACX4Z,QAAS8S,EAAK9S,cAAWxM,GAE3BsM,KAAMgT,EAAKhT,OACVnY,KAAKirB,IAEV5G,oBACA9O,kBAEF,OAAO,kBAAC,GAAD,CAAoB6U,OAAQa,EAAM/J,OAAQA,K,4XChC5C,IAAMuQ,GAA+CvvB,IAAH,MAU5CwvB,GAAgDxvB,IAAH,M,mMChBnD,IAAMyvB,GAA+BzvB,IAAH,KAOnCwvB,I,kWCWC,IAAME,GAAsC1vB,IAAH,KAc1C0S,GACJ+c,IAkCK,IAEME,GAA0C,SACrDnpB,EACAhB,GAFqD,MAGnD,CACFtJ,MAAMwzB,GACNlpB,YACAhB,Y,iMC3EK,IAAMoqB,GAA8B5vB,IAAH,KAOlCuvB,I,iWCWC,IAAMM,GAAsC7vB,IAAH,KAc1C0S,GACJkd,I,qSCvBK,IAAME,GAAsB9vB,IAAH,MA+CzB,ICrDM+vB,GAAqB,SAACvxB,GAA6B,IDuCzBsW,ECvCwB,EDwChDG,IAAgF6a,GAAqBhb,GCxCrD,mBACtDkb,EADsD,KAEvDlE,EAFuD,KAEvBxR,QA8BhC2V,EAAiB5L,GAAwB,sBAAC,gCAAA9c,EAAA,yDACzC/I,EAAI0xB,WADqC,qBAEjB1xB,EAAI2xB,MAAvBhyB,EAFoC,EAEpCA,GAAImK,EAFgC,EAEhCA,WACPnK,GAAOmK,IAAcwjB,EAHkB,0EAOrCkE,EAAe,CACpBxpB,UAAW,CACTolB,UAAWztB,GAEbomB,eAAgB,CACC,cAAfjc,GFsBR9B,EErBoD,GFsBpDhB,OEtBY4qB,EFuBV,CACFl0B,MAAM2zB,GACNrpB,YACAhB,YEzBYmqB,GAAwC,QAdJ,iCFiCK,IACrDnpB,EACAhB,IEnCgD,OAkB7C,CAAChH,IAEJ,OAAOwU,mBACL,iBAAO,CAELid,oBAEF,CAACA,K,gKC7DE,IAwEQI,GAxE+B,SAAC,GAMxC,IALLnI,EAKI,EALJA,OACAgI,EAII,EAJJA,WACAI,EAGI,EAHJA,SACAC,EAEI,EAFJA,SACAvR,EACI,EADJA,OAGA,OAAQkR,EAgCN,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,WAAD,CAAS5H,EAAG,GACV,gBAAC,SAAD,oCAGJ,gBAACrB,GAAD,KACE,gBAACD,GAAD,KACE,gBAAC,QAAD,wCACmCsJ,EADnC,IAC8CC,EAD9C,mDAMJ,gBAAC1J,GAAD,KACE,gBAAC2J,GAAD,CACEjhB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnB0M,MAAO,CAAE+K,WAAY,QACrBpX,QAASyN,EAAOxN,YAEhB,gBAAC,SAAD,gBAEF,gBAACf,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,kBAxDN,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,WAAD,CAASI,EAAG,GACV,gBAAC,SAAD,+BAGJ,gBAACrB,GAAD,KACE,gBAACD,GAAD,KACE,gBAAC,QAAD,qCACgCsJ,EADhC,IAC2CC,EAD3C,iDAMJ,gBAAC1J,GAAD,KACE,gBAAC2J,GAAD,CACEjhB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAASyN,EAAOxN,YAEhB,gBAAC,SAAD,aAEF,gBAACf,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,mBAuCJsI,GAAethB,GAAOuB,GAAPvB,CAAH,MC3ELuhB,GAAoC,SAAC,GAA8B,IAA5BjyB,EAA2B,EAA3BA,IAAKkyB,EAAsB,EAAtBA,UAAW3H,EAAW,EAAXA,KAC5D4H,EAAkB3d,mBACtB,kBACE0d,EACI,CACER,YAAY,EACZQ,UAAWA,EACXpoB,WAAY9J,EAAI8J,YAElB,CAAE4nB,YAAY,EAAOC,MAAO3xB,KAClC,CAACA,EAAKkyB,IAGAT,EAAmBF,GAAmBY,GAAtCV,eAEFW,EAAuBxd,aAAU,CACrCC,cAAe,GACfC,SAAU,kBAAM2c,IAAiBnyB,KAAKirB,MAGlCpZ,EAAQqD,mBAAsB,WASlC,MARqB,CACnBkd,aAAcQ,EACdJ,SAAU9xB,EAAIjC,KACdg0B,SAAU/xB,EAAI8J,YAAc,GAC5B0W,OAAQ4R,EACR1I,OAAQa,KAIT,CAACvqB,EAAI8J,WAAY9J,EAAIjC,KAAMwsB,EAAM2H,EAAWE,IAE/C,OAAOjhB,GAAS,kBAAC,GAAoBA,I,sWCZhC,IAAMkhB,GAAmB7wB,IAAH,KAYvBmjB,GACJzQ,IAqCK,IAEMoe,GAAuB,SAClCtqB,EACAhB,GAFkC,MAGhC,CACFtJ,MAAM20B,GACNrqB,YACAhB,Y,43CCWK,IAAMurB,GAAe/wB,IAAH,MAgElB,IAAMgxB,GAAiBhxB,IAAH,MAyEpB,ICjOMixB,GAAiB,SAACzyB,GAAkC,IDkJjCsW,EClJgC,EDmJjDG,IAAkE8b,GAAcjc,GCnJ/B,mBACvDoc,EADuD,KAC9CC,EAD8C,ODmNzD,SAA2Brc,GAC1B,OAAOG,IAAsE+b,GAAgBlc,GClN9DgF,GAFyB,mBAEvDsX,EAFuD,KAE5CC,EAF4C,KAGxDvF,EAAWqF,EAAc7W,SAAW+W,EAAgB/W,QACpD4U,EAAO7K,GAAwB,uCACnC,WAAOzlB,GAAP,SAAA2I,EAAA,yDACO/I,IAAOA,EAAI8yB,SAAUxF,EAD5B,0EAISoF,EAAQ,CACb1qB,UAAW,CACTolB,UAAWptB,EAAIL,GACfS,WAEF2yB,mBAAoBC,GAAehzB,EAAI8J,WAAY9J,EAAIL,IACvDomB,eAAgB,CAACuM,GAAqB,QAV1C,2CADmC,sDAcnC,CAACtyB,EAAKstB,IAGF2F,EAASpN,GAAwB,sBAAC,sBAAA9c,EAAA,yDACjC/I,GAAQA,EAAI8yB,SAAUxF,EADW,0EAI/B3T,GAAe3Z,EAAI8yB,OAAOnzB,SAC7BwL,EACAynB,EAAU,CACR5qB,UAAW,CACTolB,UAAWptB,EAAI8yB,OAAOnzB,IAExBozB,mBAAoBG,GAAiBlzB,EAAI8J,WAAY9J,EAAIL,OAVzB,2CAYrC,CAACK,EAAKstB,IAET,OAAO9Y,mBACL,iBAAO,CACLkc,OACAuC,YAEF,CAACvC,EAAMuC,KAILD,GAAiB,SAAClpB,EAAiBnK,GAAlB,MAAoD,CACzEmK,WAAY,mBACZqpB,WAAY,CACVrpB,WAAY,OACZ9C,QAAS,CACP8C,aACAnK,KACAmzB,OAAQ,CAAEhpB,WAAY,OAAQnK,G1EnEA,S0EuE9BuzB,GAAmB,SAACppB,EAAiBnK,GAAlB,MAAsD,CAC7EmK,WAAY,mBACZspB,OAAQ,CACNtpB,WAAY,OACZ9C,QAAS,CACP8C,aACAnK,KACAmzB,OAAQ,S,gKC1Dd,IAAM7S,GAAK,CACTG,aAAc,CACZsQ,KAAMvQ,oBAAS,sDAeNkT,GAA6B,SAAC,GAAqD,IAAnD3J,EAAkD,EAAlDA,OAAQ4J,EAA0C,EAA1CA,WAAY3C,EAA8B,EAA9BA,UAAW4C,EAAmB,EAAnBA,aAClE3V,EAAS8B,aAAiB5B,IAA1BF,KAER,OAAQ+S,EAwCN,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,WAAD,KACE,gBAAC,SAAD,iBAGJ,gBAAClI,GAAD,KACE,gBAACD,GAAD,KACE,gBAAC,SAAD,qDAGJ,gBAACH,GAAD,KACE,gBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc6gB,EAAa7gB,aAC3BC,WAAY4gB,EAAa7gB,aACzBK,QAASwgB,EAAavgB,WACtBoM,MAAO,CAAE+K,WAAY,SAErB,gBAAC,SAAD,gBAEF,gBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,kBA7DN,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,WAAD,KACE,gBAAC,SAAD,kCAGJ,gBAACjB,GAAD,CAAKC,KAAG,GACN,gBAACF,GAAD,KACE,gBAAC,KAAD,CACEzH,YAAanD,EAAKzd,EAAE8f,GAAGG,aAAasQ,MACpC3yB,KAAK,SACLC,MAAOs1B,EAAWtS,OAAOwS,OACzBvS,SAAUqS,EAAWpS,eAEvB,gBAACqH,GAAD,KAAe,IAAM+K,EAAWtS,OAAOwS,OAAOptB,QAC7CktB,EAAWrzB,OAAOuzB,QACjB,gBAACxL,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYuiB,EAAWrzB,OAAOuzB,WAKrD,gBAACnL,GAAD,KACE,gBAAC,GAAD,CACEtX,QAAQ,UACR2B,aAAc4gB,EAAW5gB,aACzBC,WAAY2gB,EAAW5gB,aACvBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAASugB,EAAWtgB,YAEpB,gBAAC,SAAD,cAEF,gBAACf,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,mBAoCJsI,GAAethB,GAAOuB,GAAPvB,CAAH,MCzGLiT,GAAgEC,UAE3E,CACA4P,OAAQ5P,YACLC,IAAI,KACJC,aAQQ2P,GAAiC,SAAC,GAAmB,IAAjBlJ,EAAgB,EAAhBA,KAAMvqB,EAAU,EAAVA,IAAU,EACtCyyB,GAAezyB,GAAhCizB,EADuD,EACvDA,OAAQvC,EAD+C,EAC/CA,KAEV6C,EAAe3e,aAAU,CAC7BE,SAAU,WACRme,IACA1I,KAEF1V,cAAe,KAGXye,EAAa1e,aAAqC,CACtDqP,oBAAoB,EACpBnP,SAAU,SAAA2V,GACRiG,EAAKjG,EAAK+I,QACVjJ,KAEF5G,oBACA9O,cAAe,CAAE2e,OAAQ,MAE3B,OACE,kBAAC,GAAD,CACE9J,OAAQa,EACRoG,YAAa3wB,EAAI8yB,OACjBQ,WAAYA,EACZC,aAAcA,KC3BPtD,GAAmC,SAAC,GAA+B,IAA7B9lB,EAA4B,EAA5BA,YAAaupB,EAAe,EAAfA,SACtD3X,EAAYX,KAAZW,QADqE,EAErBoS,GAAahkB,GAA7DikB,EAFqE,EAErEA,WAAYlkB,EAFyD,EAEzDA,UAAWukB,EAF8C,EAE9CA,UAAWF,EAFmC,EAEnCA,UAEpCiC,EAAmB5b,aAAc,CACrCC,cAAe,GACfC,SAAUsZ,IAGNuF,EAAoBC,KATmD,EAUpClU,IAAM4E,YAAW,SAAAC,GAAE,OAAKA,KAAI,GAVQ,mBAUtEkM,EAVsE,KAUtD1E,EAVsD,OAY1CzH,sBAAW,SAAAC,GAC5C,SAAQkK,GAAakF,OAA+BpP,KACnD,GAd0E,mBAYtEsP,EAZsE,KAY3DC,EAZ2D,KAevEC,EACJ7pB,GAAa2pB,EACX,kBAAC,GAAD,CAAOtK,WAAYuK,GACjB,kBAAC,GAAD,CAAuB3pB,YAAaD,EAAUvK,GAAI4qB,KAAMuJ,KAExD,KApBuE,EAsBxCxP,sBAAW,SAAAC,GAC9C,OAAOoP,MAA+BpP,KACrC,GAxB0E,mBAsBtEyP,EAtBsE,KAsB1DC,EAtB0D,KAyBvEZ,EACJnpB,GAAa8pB,EACX,kBAAC,GAAD,CAAOzK,WAAY0K,GACjB,kBAAC,GAAD,CAAc1J,KAAM0J,EAAgBj0B,IAAKkK,KAEzC,KA9BuE,EAgC3Boa,sBAAW,SAAAC,GAC3D,SAAQxI,GAAW4X,OAA+BpP,KACjD,GAlC0E,mBAgCtE2P,EAhCsE,KAgClDC,EAhCkD,KAmCvEC,EACJlqB,GAAagqB,EACX,kBAAC,GAAD,CAAO3K,WAAY4K,GACjB,kBAAC,GAAD,CAAiB5J,KAAM4J,EAAqBn0B,IAAKkK,EAAWgoB,UAAW,QAEvE,KAEAmC,EAAY7f,mBAAmB,WAAO,IAAD,EACzC,OAAKtK,EASoB,CACvBA,UAAW,CACTwpB,WACAvD,OAAQZ,GAAO+E,OACf7F,YACA1S,UACAwS,YACAgC,YAAarmB,EAAUqqB,SACvB5D,YAAazmB,EAAU4oB,OACvBrb,MAAM,UAAAvN,EAAUuN,YAAV,eAAgBP,MAAO,GAC7BnZ,KAAMmM,EAAUnM,KAChBsyB,SAAUnmB,EAAU0N,gBACpB4c,aAActqB,EAAUuqB,eAAiB,EACzC9c,QAASzN,EAAUyN,SAAW,GAC9B6Y,mBACAI,cAAeuD,EACflG,KAAM6F,EACNpD,KAAMuD,EACNxD,iBACA1E,mBA3BuB,CACvB7hB,UAAW,CACTimB,OAAQZ,GAAOa,YA6BpB,CAAClmB,EAAWwpB,EAAUjF,EAAW1S,EAASwS,EAAWiC,EAAkBC,IAE1E,OACE,oCACGsD,EACAV,EACAe,EACD,kBAAC,GAAoBC,K,kNC3EpB,IAAMK,GAA0BlzB,IAAH,KAO9BsjB,IAmCC,IC9DM6P,GAAyB,SAAzBA,EACX3tB,GAEA,OACGA,GACsB,aAAvBA,EAAQ8C,YACe,WAAvB9C,EAAQ8C,YACe,iBAAvB9C,EAAQ8C,YACe,iBAAvB9C,EAAQ8C,YACe,aAAvB9C,EAAQ8C,WAKe,SAAvB9C,EAAQ8C,YACe,WAAvB9C,EAAQ8C,YACe,SAAvB9C,EAAQ8C,WAEH9C,EAAQA,QAKoB,SAA/BA,EAAQA,QAAQ8C,YACe,YAA/B9C,EAAQA,QAAQ8C,YACe,WAA/B9C,EAAQA,QAAQ8C,YACe,SAA/B9C,EAAQA,QAAQ8C,YACe,aAA/B9C,EAAQA,QAAQ8C,WAET,KAEF6qB,EAAuB3tB,EAAQA,SAZ7B,KAeJA,EAvBE,MCLE4tB,GAA0B,SACrC5tB,EACA6tB,GAEA,IAAK7tB,EACH,MAAO,GAET,IAAM8tB,EAAcH,GAAuB3tB,GAC3C,IAAK8tB,EACH,MAAO,GANN,IAQKhrB,EAAegrB,EAAfhrB,WAoBR,MAlByB,SAAvB9C,EAAQ8C,WAAR,oBACiBA,GACU,SAAvB9C,EAAQ8C,WAAR,oBACaA,GACU,WAAvB9C,EAAQ8C,WAAR,qBACcA,GACS,aAAvB9C,EAAQ8C,WAAR,kBACWA,GACY,YAAvB9C,EAAQ8C,WACR9C,EAAQ+tB,UAAR,iDAGAF,IAASvyB,GAAa0yB,QAAtB,oBACalrB,GACb+qB,IAASvyB,GAAa2yB,QAAtB,oBACanrB,GADb,qBAEcA,I,+uBCxBtB,IAAMmJ,GAAUvC,GAAOO,QAAPP,CAAH,MAMPwkB,GAAgBxkB,GAAOO,QAAPP,CAAH,MAIP,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAelCmmB,GAAiBzkB,GAAO0kB,KAAP1kB,CAAH,MAGJ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAStConB,GAAgB3kB,GAAOO,QAAPP,CAAH,MAgGJ4kB,GAtF4B,SAAC,GAKrC,IAJLC,EAII,EAJJA,OAII,IAHJC,oBAGI,MAHW,GAGX,MAFJC,wBAEI,aADJ1U,mBACI,MADU,GACV,EACE2U,EAAMC,iBAAY,MADpB,EAEoBzX,mBAASsX,GAF7B,mBAEGlmB,EAFH,KAESsmB,EAFT,KAwBE9U,EAAe/L,uBAAY,WAC1BzF,IAGLimB,EAAOjmB,GACFmmB,GACHG,EAAQ,OAET,CAACtmB,EAAMmmB,EAAkBF,IAC5BjX,qBAAU,WACHoX,EAAI1X,UAGT0X,EAAI1X,QAAQhgB,MAAQsR,KACnB,CAACA,IACJ,IAAM2R,EAAWlM,uBAAY,WAC3B,GAAK2gB,EAAI1X,QAAT,CAGA,IAAM6X,EAAMH,EAAI1X,QAAQhgB,MACxB43B,EAAQC,MACP,CAACD,IACJ,OACE,kBAAC,GAAD,KACE,kBAACV,GAAD,KACE,kBAACC,GAAD,CACEpU,YAAaA,EACb2U,IAAKA,EACLF,aAAcA,EACdM,QAAS7U,KAUb,kBAACoU,GAAD,KAIE,kBAACpjB,GAAD,CACElB,QAAQ,UACRgI,GAAI,CACF5I,OAAQb,EAAO,UAAY,UAC3BI,cAAe,cAEjBqD,QAAS+N,GAET,kBAAC,SAAD,oB,09BC9HV,IAAMb,GAAK,CACTG,aAAc,CACZriB,KAAMoiB,oBAAS,kBAmBN4V,GAA0B,SAAC,GAUjC,IATLC,EASI,EATJA,WACAC,EAQI,EARJA,SACA9rB,EAOI,EAPJA,YACA+rB,EAMI,EANJA,cACAC,EAKI,EALJA,cACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,mBACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,MAGQ3Y,EAAS8B,aAAiB5B,IAA1BF,KACR,OACE,gBAACzK,GAAD,KACE,gBAACC,GAAD,CAASqO,GAAI,GACX,gBAACpO,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,OAAD,CAAKoO,GAAI,IACL4U,GAAsB,gBAAC,OAAD,CAAKxjB,EAAG,GAAIujB,GACpC,gBAACI,GAAD,KAAsBR,IAExB,gBAACviB,GAAD,CAAa1B,UAAU,WAAWkkB,GACjCK,GAAoB,gBAAC,GAAD,CAAUxjB,eAAgBwjB,IAC9CC,GACC,gBAACE,GAAD,CAAenV,GAAI,GACjB,gBAAC,GAAD,CACEP,YAAanD,EAAKzd,EAAE8f,GAAGG,aAAariB,MACpCy3B,aAAc,GACdD,OAAQ,SAAAmB,GACNH,EAAMI,YAAY/M,UAAU,CAAEgN,aAAcF,IAC5CH,EAAMI,YAAY3jB,oBAQhC,gBAAC3B,GAAD,KACE,gBAACwlB,GAAD,CAAcpV,GAAI,EAAG1Q,QAAQ,YAC3B,gBAAC,SAAD,mBAEF,gBAAC,GAAD,CAAepR,GAAIwK,EAAapM,KAAMm4B,EAAeze,KAAM0e,OAMtD/kB,GAAsE,SAAC,GAI7E,IAHLzR,EAGI,EAHJA,GACA5B,EAEI,EAFJA,KACA0Z,EACI,EADJA,KAEA,OACE,gCACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,KAAD,CAAMH,GAAE,uBAAkB3X,IACxB,gBAACm3B,GAAD,KACE,gBAAC,GAAD,CAAQvvB,KAAK,IAAI8Q,IAAKZ,KAExB,gBAAC,QAAD,CAAM1G,QAAQ,YAAYhT,QAQhC84B,GAAenmB,GAAOQ,QAAPR,CAAH,MAIZ+lB,GAAgB/lB,GAAOe,OAAPf,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAGzCuoB,GAAsB9lB,GAAOe,OAAPf,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAG7C8nB,GAAUpmB,GAAOe,OAAPf,CAAH,MAOPkR,GAAQlR,GAAOO,QAAPP,CAAH,MAQLE,GAASF,GAAOO,QAAPP,CAAH,MACO,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAM/B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,c,4MCrHrC,IAAM8oB,GAAyBv1B,IAAH,KAO7BkjB,I,0mDCgFC,IAAMsS,GAAex1B,IAAH,MAsElB,IAAMy1B,GAAiBz1B,IAAH,MAgFpB,IC/OM01B,GAAiB,SAC5B9J,EACA+J,EACAC,EACAttB,GACI,IDoJ0BwM,ECpJ3B,EDqJUG,IAAkEugB,GAAc1gB,GCrJ1F,mBACI+gB,EADJ,KACaC,EADb,OD4NE,SAA2BhhB,GAC1B,OAAOG,IAAsEwgB,GAAgB3gB,GC3N9DgF,GAFlC,mBAEIic,EAFJ,KAEeC,EAFf,KAGGlK,EAAWgK,EAAcxb,SAAW0b,EAAgB1b,QACpD2b,EAAa5R,GAAwB,sBAAC,sBAAA9c,EAAA,yDACrCqkB,IAAaE,EADwB,oDAIrC6J,EAJqC,yCAKjCE,EAAQ,CACbrvB,UAAW,CACTolB,aAEF2F,mBAAoB2E,GAClB5tB,EACAsjB,EACAgK,GAAc,MAZsB,gCAgBjCzd,GAAewd,EAAOx3B,SACzBwL,EACAosB,EAAU,CACRvvB,UAAW,CACTolB,UAAW+J,EAAOx3B,IAEpBozB,mBAAoB4E,GAClB7tB,EACAsjB,EACAgK,GAAc,MAzBkB,2CA6BzC,CAAChK,EAAW+J,EAAQ7J,EAAUxjB,EAAYstB,IAE7C,OAAO5iB,mBACL,iBAAO,CACLijB,gBAEF,CAACA,KAICC,GAAiB,SACrB5tB,EACAnK,EACAy3B,GAHqB,MAIC,CACtBttB,WAAY,mBACZ8tB,WAAY,CACV9tB,WAAY,OACZ9C,QAAQ,aACN8C,aACAnK,KACAw3B,OAAQ,CAAErtB,WAAY,OAAQnK,GrFjFA,MqFkFX,aAAfmK,EACA,CAAE+tB,MAAO,CAAE/tB,WAAY,aAAcsM,WAAYghB,EAAa,IAC9D,CAAEA,WAAYA,EAAa,OAI/BO,GAAmB,SACvB7tB,EACAnK,EACAy3B,GAHuB,MAIC,CACxBttB,WAAY,mBACZspB,OAAQ,CACNtpB,WAAY,OACZ9C,QAAQ,aACN8C,aACAnK,KACAw3B,OAAQ,MACW,aAAfrtB,EACA,CAAE+tB,MAAO,CAAE/tB,WAAY,aAAcsM,WAAYghB,EAAa,IAC9D,CAAEA,WAAYA,EAAa,O,+lBCxD9B,IAAMU,GAA6Bt2B,IAAH,KAIjCsjB,IACOiT,GAA4Bv2B,IAAH,KAiBhC0S,GACJ4jB,I,0dC9BK,IAAME,GAAyBx2B,IAAH,KAc7B0S,GACJwQ,I,2SC7BK,IAAMuT,GAAgBz2B,IAAH,KAMpBkjB,IAoCC,ICpDMwT,GAAkB,SAC7B9tB,EAIAD,EACAmN,GACI,ID+B2BhB,EC/B5B,EDgCUG,IAAoEwhB,GAAe3hB,GChC7F,mBACI6hB,EADJ,KAGG7K,EAHH,KAGqBxR,QAElBya,EAAQ1Q,GAAwB,uCACpC,WAAOrlB,GAAP,eAAAuI,EAAA,0DACMukB,GAAaljB,GAAYA,EAAQI,OADvC,wDAIQC,EAAWL,EAAQI,OAAO7K,GAJlC,kBAKSw4B,EAAe,CACpBnwB,UAAW,CACTyC,WACA2tB,mBAAoBhuB,EAAQzK,GAC5ByK,QAAS,CAAE5J,YAEbwG,QAASrG,EAAyB,CAChCM,WAAY,sCAAoBqW,EAAE,WAAOA,EAAP,KAAe,GAArC,iBAEdyO,eAAe,CACbd,GAAqC,CAAEzO,MAAO1T,MHkEtDkF,EGjEsC,CAAEwO,MAAO1T,IHkE/CkE,OGlEQqxB,EHmEN,CACF36B,MAAMq6B,GACN/vB,YACAhB,aGxEoB,mBAGRmD,EACA,CACEoiB,GAAsC,CACpCpiB,cACAqM,MAAO1T,MAGX,KAEN6S,OAAQ,SAACuG,EAAO1T,GAAY,IAAD,EACnB4B,EAAO,UAAG5B,EAAOnH,YAAV,aAAG,EAAai3B,YAC7B,GAAKluB,EAGL,IAAK,IAAD,EACImuB,EAAyBrc,EAAMsc,UAGnC,CACA96B,MAAOs6B,GACPhwB,UAAW,CAAEyC,WAAU+L,MAAO1T,MAEhC,KACE,OAACy1B,QAAD,IAACA,GAAD,UAACA,EAAwB/tB,cAAzB,aAAC,EAAgCiuB,WACjCF,EAAuB/tB,OAAOiuB,SAAStjB,SAASC,YAEhD,OAEF,IAAMG,EAAK,sBAAOgjB,EAAuB/tB,OAAOiuB,SAASljB,OAA9C,CAAqDnL,IAE1D/I,EAAyB,2BAC1Bk3B,GAD0B,IAE7B/tB,OAAO,2BACF+tB,EAAuB/tB,QADtB,IAEJiuB,SAAS,2BACJF,EAAuB/tB,OAAOiuB,UAD3B,IAENljB,cAIN2G,EAAMC,WAA8D,CAClE9a,OACA3D,MAAOs6B,GACPhwB,UAAW,CAAEyC,WAAU+L,MAAO1T,MAEhC,MAAOyJ,GACPN,QAAQqR,KAAK/Q,QA/DrB,iCHgFyC,IAC3CvE,EACAhB,IGlFE,OADoC,sDAqEpC,CAACsmB,EAAUnjB,EAAamN,IAG1B,OAAO9C,mBACL,iBAAO,CACL+hB,WAEF,CAACA,KCjGQmC,GAAoB,SAACruB,GAA8B,IAAD,4BP2CxBiM,EO1C/BqiB,GP0C+BriB,EO1CU,CAAEtO,UAAW,CAAEqC,cP2CjDoM,IAA6EsgB,GAAwBzgB,IO1C1GmhB,EAAeP,GAAc,UACnCyB,EAAgBt3B,YADmB,iBACnC,EAAsB+I,eADa,aACnC,EAA+BzK,GADI,UAEnCg5B,EAAgBt3B,YAFmB,iBAEnC,EAAsB+I,eAFa,aAEnC,EAA+B+sB,OAFI,UAGnCwB,EAAgBt3B,YAHmB,iBAGnC,EAAsB+I,eAHa,aAGnC,EAA+BgtB,WAC/B,WAJMK,WAMFmB,EAAa,UAAGD,EAAgBt3B,YAAnB,iBAAG,EAAsB+I,eAAzB,iBAAG,EAA+BI,cAAlC,aAAG,EAAuCxD,QACvDkD,EAC0B,cAAjB,OAAb0uB,QAAa,IAAbA,OAAA,EAAAA,EAAe9uB,YAAf,UACI8uB,EAAc5uB,kBADlB,aACI,EAA0BE,UACI,gBAAjB,OAAb0uB,QAAa,IAAbA,OAAA,EAAAA,EAAe9uB,YACf8uB,EAAc1uB,UACgB,eAAjB,OAAb0uB,QAAa,IAAbA,OAAA,EAAAA,EAAe9uB,YACf8uB,OACAztB,EACA0tB,KAAY,OAAC3uB,QAAD,IAACA,OAAD,EAACA,EAAWqqB,UACtBgC,EAAU2B,GAAe,UAC/BS,EAAgBt3B,YADe,aAC/B,EAAsB+I,QADS,OAE/BF,QAF+B,IAE/BA,OAF+B,EAE/BA,EAAWvK,GAFoB,UAG/Bg5B,EAAgBt3B,YAHe,iBAG/B,EAAsB+I,eAHS,iBAG/B,EAA+BokB,eAHA,aAG/B,EAAwCsK,UAHlCvC,MAKR,OAAO/hB,mBAAQ,WAAO,IAAD,EACnB,MAAO,CACLpK,QAAO,UAAEuuB,EAAgBt3B,YAAlB,aAAE,EAAsB+I,QAC/BF,YACAutB,aACAlB,QACAsC,cAED,CAACF,EAAiBzuB,EAAWutB,EAAYlB,EAAOsC,K,wWC9BrD,IAAME,GAAUroB,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,OAExBpK,GAAgBG,IAEd,SAAAuM,GAAK,OAAIA,EAAMrD,MAAM0B,cAYzBwpB,GAA8B,SAAC,GAAD,IAAGx4B,EAAH,EAAGA,QAAH,OACzC,kBAAC,GAAD,CACEuR,UAAW,gBACXknB,wBAAyB,CAAEC,OAAQC,KAAUC,SAAS54B,IACtDuQ,QAAQ,U,u5CCGL,IAAMgoB,GAAmC,SAAC,GAS1C,IARLv4B,EAQI,EARJA,QACA64B,EAOI,EAPJA,KACAniB,EAMI,EANJA,IACAyZ,EAKI,EALJA,UACA5Y,EAII,EAJJA,YACAuhB,EAGI,EAHJA,eACAvN,EAEI,EAFJA,eACA2E,EACI,EADJA,KAEA,OACE,kBAAC,GAAD,KAEE,kBAAC,GAAD,CAAWlwB,QAASA,IAQnBuX,EACC,kBAAC,GAAD,CAASqJ,GAAI,GACX,kBAAC,OAAD,KACE,kBAACmY,GAAD,KACE,kBAAC,GAAD,CACEC,QAAOH,EAAKI,QACZ1mB,QAASsmB,EAAKK,iBAAiB1mB,YAE/B,kBAAC2mB,GAAD,KACE,kBAAC,KAAD,CAAMnS,YAAY,IAAIjgB,KAAK,QAE7B,kBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACnEuoB,EAAKO,WAAa,IADrB,IAC0B,kBAAC,SAAD,eAG5B,kBAAC,GAAD,CAAY7mB,QAASgZ,EAAgBhT,GAAI,CAAE8gB,SAAU,aACnD,kBAACF,GAAD,KACE,kBAAC,KAAD,CAAgB5nB,UAAU,QAAQxK,KAAM,MAE1C,kBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACpE,kBAAC,SAAD,cAEDwoB,GACC,kBAAC,GAAD,CAAUhO,YAAY,SAASC,MAAOQ,GACpC,kBAACN,GAAD,CAAc1Y,QAAS2d,GACrB,kBAAC,KAAD,CAAMnpB,KAAM,GAAI4H,MAAO,uBACvB,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACvB6f,EAGA,kBAAC,SAAD,4BAFA,kBAAC,SAAD,iCAalB,kBAAC,GAAD,CAASvP,GAAI,GAcX,kBAAC,OAAD,KACE,kBAACmY,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,KAAD,CAASjiB,GAAIJ,GACX,kBAACyiB,GAAD,KACE,kBAAC,KAAD,CACE5nB,UAAU,QACVyV,YAAY,IACZrY,MAAM,iBACN5H,KAAK,QAGT,kBAAC,GAAD,CAAYuJ,GAAI,EAAGC,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,eACvD,kBAAC,SAAD,iBAIN,kBAAC,GAAD,CACE8pB,QAAOH,EAAKI,QACZ1mB,QAASsmB,EAAKK,iBAAiB1mB,YAE/B,kBAAC2mB,GAAD,KACE,kBAAC,KAAD,CAAMnS,YAAY,IAAIjgB,KAAK,QAE7B,kBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACnEuoB,EAAKO,WAAa,IADrB,IAC0B,kBAAC,SAAD,eAG5B,kBAAC,GAAD,CAAY7mB,QAASgZ,EAAgBhT,GAAI,CAAE8gB,SAAU,aACnD,kBAACF,GAAD,KACE,kBAAC,KAAD,CAAgB5nB,UAAU,QAAQxK,KAAM,MAE1C,kBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACpE,kBAAC,SAAD,cAEDwoB,GACC,kBAAC,GAAD,CAAUhO,YAAY,SAASC,MAAOQ,GACpC,kBAACN,GAAD,CAAc1Y,QAAS2d,GACrB,kBAAC,KAAD,CAAMnpB,KAAM,GAAI4H,MAAO,uBACvB,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACvB6f,EAGA,kBAAC,SAAD,4BAFA,kBAAC,SAAD,mCAwCpB4I,GAAQ7oB,GAAOO,QAAPP,CAAH,MAKL2X,GAAU3X,GAAOe,OAAPf,CAAH,MACM,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAOzC2J,GAAajI,GAAOO,QAAPP,CAAH,MAEL,SAAAS,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAEtE,SAAAuC,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAGnE,SAAAuC,GAAK,OACjBA,EAAMqoB,MACFnnB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAO0J,WACjCmE,aAAO,OAAQlB,EAAMrD,MAAMtJ,OAAOkK,gBAG5B,SAAAyC,GAAK,OACjBA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO0J,UAAYiD,EAAMrD,MAAMtJ,OAAOkK,cAKrDjK,GAAgBE,IAEjB,SAAAwM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAUtE,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAC3B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKvC+qB,GAAajpB,GAAOe,OAAPf,CAAH,MAcVoI,GAAapI,GAAOQ,QAAPR,CAAH,KACDjM,GAAgBE,IAGzBsO,GAAUvC,GAAOe,OAAPf,CAAH,MACG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,c,m3CCtOrC,IAAM6rB,GAAuC,SAAC,GAQ9C,IAPLR,EAOI,EAPJA,eACAvN,EAMI,EANJA,eACA2E,EAKI,EALJA,KACAlwB,EAII,EAJJA,QACA64B,EAGI,EAHJA,KACA1I,EAEI,EAFJA,UACA5Y,EACI,EADJA,YAEA,OACE,kBAAC,OAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEkhB,wBAAyB,CAAEC,OAAQC,KAAUC,SAAS54B,IACtDuY,GAAI,CAAEtJ,SAAU,QAChBsB,QAAQ,OACR0Q,GAAI,IAEN,kBAAC,GAAD,CAASL,GAAI,GACVrJ,EAAc,KACb,kBAAC,OAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEyhB,QAAOH,EAAKI,QACZ1mB,QAASsmB,EAAKK,iBAAiB1mB,YAE/B,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAMwU,YAAY,IAAIjgB,KAAK,QAE7B,kBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACnEuoB,EAAKO,WAAa,IADrB,IAC0B,kBAAC,SAAD,eAG5B,kBAAC,GAAD,CAAY7mB,QAASgZ,EAAgBhT,GAAI,CAAE8gB,SAAU,aACnD,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAgB9nB,UAAU,QAAQxK,KAAM,MAE1C,kBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACpE,kBAAC,SAAD,cAEDwoB,GACC,kBAAC,GAAD,CAAUhO,YAAY,SAASC,MAAOQ,GACpC,kBAACN,GAAD,CAAc1Y,QAAS2d,GACrB,kBAAC,KAAD,CAAMnpB,KAAM,GAAI4H,MAAO,uBACvB,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACvB6f,EAGA,kBAAC,SAAD,4BAFA,kBAAC,SAAD,oCAkCtB7X,GAAapI,GAAOQ,QAAPR,CAAH,KACDjM,GAAgBE,IAGzBo1B,GAAUrpB,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAMjC0qB,GAAQ7oB,GAAOO,QAAPP,CAAH,MAKL2X,GAAU3X,GAAOe,OAAPf,CAAH,MAKPiI,GAAajI,GAAOO,QAAPP,CAAH,MAEL,SAAAS,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAEtE,SAAAuC,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAGnE,SAAAuC,GAAK,OACjBA,EAAMqoB,MACFnnB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAO0J,WACjCmE,aAAO,OAAQlB,EAAMrD,MAAMtJ,OAAOkK,gBAG5B,SAAAyC,GAAK,OACjBA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO0J,UAAYiD,EAAMrD,MAAMtJ,OAAOkK,cAKrDjK,GAAgBE,IAEjB,SAAAwM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAUtE,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAC3B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIvC+qB,GAAajpB,GAAOe,OAAPf,CAAH,MAcVuC,GAAUvC,GAAOe,OAAPf,CAAH,MACG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cCnK/B+rB,GAA2C,SAAC,GAIlD,IAHL3vB,EAGI,EAHJA,UACA4vB,EAEI,EAFJA,YACAliB,EACI,EADJA,YACI,EACkD2gB,GAAkBruB,GAAhED,EADJ,EACIA,QAASqtB,EADb,EACaA,WACXiC,EAAmB9kB,aAAU,CACjCC,cAAe,GACfC,SAAU2iB,IAJR,EAYqCnT,sBAAW,SAAAC,GAAE,OAAKA,KAAI,GAZ3D,mBAYG+U,EAZH,KAYmBvN,EAZnB,KAcEmO,EAAiBtG,KAdnB,EAgBiCtP,sBAAW,SAAAC,GAAE,OAAK2V,MAA4B3V,KAAK,GAhBpF,mBAgBGyP,EAhBH,KAgBeC,EAhBf,KAkBEZ,EACJW,GAAc5pB,EACZ,kBAAC,GAAD,CAAOmf,WAAY0K,GACjB,kBAAC,GAAD,CAAc1J,KAAM0J,EAAgBj0B,IAAKoK,KAEzC,KAEA+vB,EAAsB3lB,mBAA6B,WACvD,OAAKpK,EAGuB,CAC1B8M,IAAK9M,EAAQI,OAAR,kBAA4BJ,EAAQI,OAAO7K,IAAO,GACvDa,QAAS4J,EAAQ5J,QAMjB64B,KAAM,CACJI,UAAWrvB,EAAQ+sB,OACnByC,WAAYxvB,EAAQgtB,YAAc,EAClCsC,oBAEF/I,YAAavmB,EAAQ0oB,OACrB/a,cAAeA,EACfuhB,iBACAvN,iBACA2E,KAAMuD,GAnBC,OAsBR,CAAC7pB,EAAS2N,EAAauhB,EAAgBI,IAE1C,OACES,GACE,oCACG9G,EACA4G,EACC,kBAAC,GAAgBE,GAEjB,kBAAC,GAAqBA,K,sMCtDzB,IAAMC,GAAwB54B,IAAH,KAO5B4jB,IAmCC,ICvDKmK,GCNC8K,GAAmB,SAAC5vB,GAA4B,IAAD,kBF4CtB6L,EE1C9B9L,EAAM,WF0CwB8L,EE3CS,CAAEtO,UAAW,CAAEyC,aF4C/CgM,IAA2E2jB,GAAuB9jB,IE3CjFjV,YAAlB,aAAG,EAAqBmJ,OAE9BN,EAC4B,cAA1B,OAANM,QAAM,IAANA,GAAA,UAAAA,EAAQxD,eAAR,eAAiB8C,YAAjB,OACIU,QADJ,IACIA,GADJ,UACIA,EAAQxD,QAAQgD,kBADpB,aACI,EAA4BE,UACI,gBAA1B,OAANM,QAAM,IAANA,GAAA,UAAAA,EAAQxD,eAAR,eAAiB8C,YAAjB,OACAU,QADA,IACAA,OADA,EACAA,EAAQxD,QAAQkD,UACgB,eAA1B,OAANM,QAAM,IAANA,GAAA,UAAAA,EAAQxD,eAAR,eAAiB8C,YAAjB,OACAU,QADA,IACAA,OADA,EACAA,EAAQxD,aACRmE,EACA0tB,KAAY,OAAC3uB,QAAD,IAACA,OAAD,EAACA,EAAWqqB,UACtBgC,EAAU2B,GAAe,OAC/B1tB,QAD+B,IAC/BA,GAD+B,UAC/BA,EAAQiuB,gBADuB,aAC/B,EAAkBljB,MAAM,GADO,OAE/BrL,QAF+B,IAE/BA,OAF+B,EAE/BA,EAAWvK,GAFoB,OAG/B6K,QAH+B,IAG/BA,GAH+B,UAG/BA,EAAQiuB,gBAHuB,iBAG/B,EAAkBljB,MAAM,UAHO,iBAG/B,EAA4BiZ,eAHG,aAG/B,EAAqCsK,UAH/BvC,MAMR,OAAO/hB,mBAAQ,WAAO,IAAD,IACbylB,EAAW,OAAGzvB,QAAH,IAAGA,GAAH,UAAGA,EAAQiuB,gBAAX,aAAG,EAAkBljB,MAAM,GACtC+kB,EAAY,OAAG9vB,QAAH,IAAGA,GAAH,UAAGA,EAAQiuB,gBAAX,aAAG,EAAkBriB,WACjCpP,EAAO,OAAGwD,QAAH,IAAGA,OAAH,EAAGA,EAAQxD,QAClBuzB,EAAY,OAAG/vB,QAAH,IAAGA,OAAH,EAAGA,EAAQ+vB,aAC7B,MAAO,CACLN,cACAjzB,UACAuvB,QACAsC,WACA0B,eACAC,aAAcF,GAAgBA,EAAe,EAC7CG,eAAqB,OAANjwB,QAAM,IAANA,OAAA,EAAAA,EAAQiuB,UAAWjuB,EAAOiuB,SAASriB,WAAa,EAAI,KAEpE,CAACyiB,EAAUtC,EAAO/rB,KCJVkwB,GAA0B,SAAC1zB,GACtC,IAAI2zB,EAAgB,GAChBzE,EAAgB,GAChB/rB,EAAc,GACdgsB,EAAgB,GACpB,GAAInvB,GAAkC,SAAvBA,EAAQ8C,WAAuB,CAC5C,IACmB,EADb8wB,EAlC6B,SACrC5zB,GAEA,OAAKA,EAE6B,cAAvBA,EAAQ8C,WACV9C,EACyB,eAAvBA,EAAQ8C,WACV9C,EAAQkD,UACiB,aAAvBlD,EAAQ8C,WACjB,UAAO9C,EAAQgD,kBAAf,aAAO,EAAoBE,UACK,YAAvBlD,EAAQ8C,WAEf9C,EAAQwD,QACRxD,EAAQwD,OAAOxD,UACwB,SAAtCA,EAAQwD,OAAOxD,QAAQ8C,WACpB,KACsC,aAAtC9C,EAAQwD,OAAOxD,QAAQ8C,WAAvB,UACA9C,EAAQwD,OAAOxD,QAAQgD,kBADvB,aACA,EAAmCE,UACG,eAAtClD,EAAQwD,OAAOxD,QAAQ8C,WACvB9C,EAAQwD,OAAOxD,QAAQkD,UACe,cAAtClD,EAAQwD,OAAOxD,QAAQ8C,WACvB9C,EAAQwD,OAAOxD,QACf,MAGD,KAtBE,KAKsC,IAAD,EAED,EAuBrB6zB,CAAwB7zB,GAC9C,GAAI4zB,EACFD,EAAgBG,GAAkBC,QAChC,CAAE5wB,YAAaywB,EAAcj7B,GAAIq7B,SAAK7vB,QACtCA,GAEF+qB,EAAgB0E,EAAc78B,KAC9BoM,EAAcywB,EAAcj7B,GAC5Bw2B,GAAgB,UAAAyE,EAAcnjB,YAAd,eAAoBP,MAAO,GAG/C,MAAO,CACLyjB,gBACAzE,gBACA/rB,cACAgsB,kB,knDF5CQ5G,O,qBAAAA,I,oBAAAA,Q,KAwBL,IAAM0L,GAA6B,SAAAtxB,GACxC,GAAIA,EAASwmB,SAAWZ,GAAOa,QAC7B,OAAO,kBAAC,SAAD,mBAGT,IAAM8K,EAAiBvxB,EAASwxB,MAAMC,cAChCC,EAAaH,EAAeruB,SAAS,SAAWquB,EAAeruB,SAAS,QACxEyuB,EAAkBD,EAAaE,GAAiBC,GAKhDC,EAHHJ,GAAcH,EAAeruB,SAAS,cACvCquB,EAAeruB,SAAS,eACxBquB,EAAeruB,SAAS,WACOlD,EAAS8xB,eAAYtwB,EAEtD,OACE,kBAACuwB,GAAD,CAAUja,GAAI,GACX9X,EAASgoB,OACR,kBAAC2J,EAAD,CACE3J,MAAOhoB,EAASgoB,MAChBgK,UAAWhyB,EAASgyB,UACpBF,UAAWA,EACXN,MAAOxxB,EAASwxB,MAChBS,aAAcV,EAAeruB,SAAS,aAAelD,EAASiyB,kBAAezwB,EAC7EwvB,cAAehxB,EAASgxB,cACxBzE,cAAevsB,EAASusB,gBAG5B,kBAAC2F,GAAD,CAAUza,GAAI,GACZ,kBAAC,GAAD,KAAUzX,EAASmyB,YAcdN,GAA4B,SAAC,GAOnC,IANL7J,EAMI,EANJA,MACAgK,EAKI,EALJA,UACAR,EAII,EAJJA,MACAM,EAGI,EAHJA,UACAvF,EAEI,EAFJA,cACAyE,EACI,EADJA,cAEA,OACE,kBAACoB,GAAD,KACGpK,GACC,oCACE,kBAAC,GAAD,CAAQzG,SAAUyG,EAAM5zB,KAAMsa,IAAKsZ,EAAMla,KAAM1G,QAAQ,WACvD,kBAACirB,GAAD,CAAYlrB,GAAI,GACd,kBAAC,QAAD,CAAMsQ,GAAI,EAAG6a,WAAW,UACtB,kBAAC,QAAD,CAAMjQ,KAAM,GACV,kBAACkQ,GAAD,KACE,kBAAC,KAAD,CAAM5kB,GAAIqa,EAAMtkB,MAAOskB,EAAM5zB,OAE/B,kBAACo+B,GAAD,CAAWpjB,GAAI,CAAErJ,cAAe,aAAeqB,QAAQ,OAAOD,GAAI,GAC/D2qB,EAAY,kBAAC,KAAD,CAAMnkB,GAAImkB,GAAYN,GAAgBA,KAIzD,kBAAC,QAAD,CAAMpiB,GAAI,CAAEqjB,UAAW,OAASH,WAAW,UACzC,kBAAC,GAAD,KAAOI,YAASC,QAAQX,GAAWY,cACnC,kBAAC,GAAD,CAAQC,GAAI,GAAZ,QACA,kBAACC,GAAD,CAAenlB,GAAIqjB,GAAgBzE,QAgBpCqF,GAAsC,SAAC,GAA+C,IAA7C5J,EAA4C,EAA5CA,MAAOiK,EAAqC,EAArCA,aAAcT,EAAuB,EAAvBA,MAAOM,EAAgB,EAAhBA,UAChF,OACE,kBAACM,GAAD,CAAQhjB,GAAI,CAAEkjB,WAAY,sBACxB,kBAAC,GAAD,CACE10B,KAAK,IACL2jB,SAAU0Q,EAAeA,EAAa79B,KAAO4zB,EAAM5zB,KACnDsa,IAAKujB,EAAeA,EAAankB,KAAOka,EAAMla,KAC9C1G,QAAQ,WAEV,kBAACirB,GAAD,CAAYjjB,GAAI,CAAEqjB,UAAW,GAAKtrB,GAAI,GACpC,kBAAC,QAAD,CAAMmrB,WAAW,UACf,kBAAC,QAAD,CAAMjQ,KAAM,GACV,kBAACkQ,GAAD,KACE,kBAAC,KAAD,CAAM5kB,GAAIskB,EAAeA,EAAavuB,KAAOskB,EAAMtkB,MAChDuuB,EAAeA,EAAa79B,KAAO4zB,EAAM5zB,OAG9C,kBAACo+B,GAAD,CAAWpjB,GAAI,CAAErJ,cAAe,aAAeqB,QAAQ,OAAOD,GAAI,GAC/D2qB,EAAY,kBAAC,KAAD,CAAMnkB,GAAImkB,GAAYN,GAAgBA,QAS3DsB,GAAgB/rB,GAAO6G,KAAP7G,CAAH,MACR,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aAExBnK,GAAgBE,IAGzBw3B,GAAYzrB,GAAOQ,QAAPR,CAAH,MACJ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAG1B,SAAAsC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAInC+sB,GAAWnrB,GAAOe,OAAPf,CAAH,MAERyQ,GAASzQ,GAAOQ,QAAPR,CAAH,MACD,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIjC8tB,GAAOhsB,GAAOQ,QAAPR,CAAH,MACC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aAExBnK,GAAgBE,IAGzBu3B,GAAOxrB,GAAOQ,QAAPR,CAAH,MAEC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAY1B,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAInCq3B,GAASrrB,GAAOO,QAAPP,CAAH,MAINsrB,GAAatrB,GAAOe,OAAPf,CAAH,MAKVuC,GAAUvC,GAAOe,OAAPf,CAAH,MACPgrB,GAAWhrB,GAAOe,OAAPf,CAAH,KAIVwX,gBAMY,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,c,uTG9LrC,IAAM0uB,GAA8Bn7B,IAAH,M,ueCUjC,IAAMo7B,GAAgCp7B,IAAH,MAK7Bq7B,GAA8Br7B,IAAH,KAoBlCm7B,I,4pBCTC,IAAMG,GAAgCt7B,IAAH,KAKpCo7B,GACJ9X,IACWiY,GAA+Bv7B,IAAH,KAenC0S,GACJ4oB,IAsCK,ICvGME,GAA0B,SAACzyB,GAAwB,IAAD,IDsFlB+L,ECrFrC2mB,GDqFqC3mB,ECrFU,CACnDtO,UAAW,CAAEuC,SAAQiM,MAAO1T,KDqFjB2T,IAAyFsmB,GAA8BzmB,IClF9HoW,EAAiBrY,GAAO,UAC5B4oB,EAAY57B,YADgB,iBAC5B,EAAkBiJ,YADU,aAC5B,EAAwBqiB,QACxB,YAAyB,IAAtBxc,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOsnB,EAAYrmB,UAAU,CAC3B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmByH,WAClDsM,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiBxM,YAAjB,eAAuBqiB,UAAvB,UAAiCzW,EAAK5L,YAAtC,aAAiC,EAAWqiB,QAA5C,2BAEE7V,GAFF,IAGDxM,KAAK,2BACAwM,EAAgBxM,MADjB,IAEFqiB,OAAQhX,EAAO,CACbO,KAAMA,EAAK5L,KAAKqiB,OAChB1W,QAASa,EAAgBxM,KAAKqiB,aAIpCzW,QAMZ,OAAO1B,mBAAQ,WACb,MAAO,CACLkY,oBAED,CAACA,K,qvBCUC,IAAMwQ,GAAoC17B,IAAH,KAIxCyS,IACOkpB,GAAkC37B,IAAH,KAoBtC0S,GACJgpB,IAsCK,ICtGME,GAA6B,SAAC7yB,GAAwB,IAAD,IDqFlB+L,ECpFxC+mB,GDoFwC/mB,ECpFI,CAChDtO,UAAW,CAAEuC,SAAQiM,MAAO1T,KDoFjB2T,IAA+F0mB,GAAiC7mB,ICjFvIgnB,EAA0BjpB,GAAO,UACrCgpB,EAAMh8B,YAD+B,iBACrC,EAAYiJ,YADyB,aACrC,EAAkBizB,mBAClB,YAAyB,IAAtBptB,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO0nB,EAAMzmB,UAAU,CACrB5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmByH,WAClDsM,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiBxM,YAAjB,eAAuBizB,qBAAvB,UACLrnB,EAAK5L,YADA,aACL,EAAWizB,mBADN,2BAGEzmB,GAHF,IAIDxM,KAAK,2BACAwM,EAAgBxM,MADjB,IAEFizB,kBAAmB5nB,EAAO,CACxBO,KAAMA,EAAK5L,KAAKizB,kBAChBtnB,QAASa,EAAgBxM,KAAKizB,wBAIpCrnB,QAMZ,OAAO1B,mBACL,iBAAO,CACL8oB,6BAEF,CAACA,K,+uBCKE,IAAME,GAAmCh8B,IAAH,KAIvCwS,IACOypB,GAAkCj8B,IAAH,KAoBtC0S,GACJspB,IAsCK,ICtGME,GAA6B,SAACnzB,GAAwB,IAAD,IDqFlB+L,ECpFxC+mB,GDoFwC/mB,ECpFI,CAChDtO,UAAW,CAAEuC,SAAQiM,MAAO1T,KDoFjB2T,IAA+FgnB,GAAiCnnB,ICjFvIqnB,EAA0BtpB,GAAO,UACrCgpB,EAAMh8B,YAD+B,iBACrC,EAAYiJ,YADyB,aACrC,EAAkBszB,kBAClB,YAAyB,IAAtBztB,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO0nB,EAAMzmB,UAAU,CACrB5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmByH,WAClDsM,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiBxM,YAAjB,eAAuBszB,oBAAvB,UAA2C1nB,EAAK5L,YAAhD,aAA2C,EAAWszB,kBAAtD,2BAEE9mB,GAFF,IAGDxM,KAAK,2BACAwM,EAAgBxM,MADjB,IAEFszB,iBAAkBjoB,EAAO,CACvBO,KAAMA,EAAK5L,KAAKszB,iBAChB3nB,QAASa,EAAgBxM,KAAKszB,uBAIpC1nB,QAMZ,OAAO1B,mBACL,iBAAO,CACLmpB,6BAEF,CAACA,K,obCFE,IAAME,GAAoBr8B,IAAH,KAexBojB,GACJ1Q,IAsCK,ICxFM4pB,GAAe,SAACvzB,GAAwB,IAAD,IDuElB+L,ECtE1BynB,GDsE0BznB,ECtEK,CACnCtO,UAAW,CAAEuC,SAAQiM,MAAO1T,KDsEjB2T,IAAmEonB,GAAmBvnB,ICnE7F0nB,EAAY3pB,GAAO,UACvB0pB,EAAW18B,YADY,iBACvB,EAAiBiJ,YADM,aACvB,EAAuButB,OACvB,YAAyB,IAAtB1nB,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOooB,EAAWnnB,UAAU,CAC1B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmByH,WAClDsM,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiBxM,YAAjB,eAAuButB,SAAvB,UAAgC3hB,EAAK5L,YAArC,aAAgC,EAAWutB,OAA3C,2BAEE/gB,GAFF,IAGDxM,KAAK,2BACAwM,EAAgBxM,MADjB,IAEFutB,MAAOliB,EAAO,CACZO,KAAMA,EAAK5L,KAAKutB,MAChB5hB,QAASa,EAAgBxM,KAAKutB,YAIpC3hB,QAKZ,OAAO1B,mBAAQ,WACb,MAAO,CACLwpB,eAED,CAACA,K,qsBCWC,IAAMC,GAA8Bz8B,IAAH,KAIlCsY,IACOokB,GAA4B18B,IAAH,KAoBhC0S,GACJ+pB,IAsCK,ICtGME,GAAuB,SAAC5zB,GAAwB,IAAD,IDqFlB+L,ECpFlC+mB,GDoFkC/mB,ECpFI,CAC1CtO,UAAW,CAAEuC,SAAQiM,MAAO1T,KDoFjB2T,IAAmFynB,GAA2B5nB,ICjFrH8nB,EAAoB/pB,GAAO,UAC/BgpB,EAAMh8B,YADyB,iBAC/B,EAAYiJ,YADmB,aAC/B,EAAkB+zB,aAClB,YAAyB,IAAtBluB,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO0nB,EAAMzmB,UAAU,CACrB5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmByH,WAClDsM,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiBxM,YAAjB,eAAuB+zB,eAAvB,UAAsCnoB,EAAK5L,YAA3C,aAAsC,EAAW+zB,aAAjD,2BAEEvnB,GAFF,IAGDxM,KAAK,2BACAwM,EAAgBxM,MADjB,IAEF+zB,YAAa1oB,EAAO,CAClBO,KAAMA,EAAK5L,KAAK+zB,YAChBpoB,QAASa,EAAgBxM,KAAK+zB,kBAIpCnoB,QAMZ,OAAO1B,mBACL,iBAAO,CACL4pB,uBAEF,CAACA,K,oLCnBE,IAAME,GAAmB98B,IAAH,KAMvBq7B,IAmCC,ICpDKtN,GCNCgP,GAAU,SAACh0B,GAAwB,IAAD,EFyCd+L,EExCzB+mB,GFwCyB/mB,EExCI,CAAEtO,UAAW,CAAEuC,WFyCrCkM,IAAiE6nB,GAAkBhoB,IE1CnD,EAErB8E,KAAhBS,EAFqC,EAErCA,GAAIE,EAFiC,EAEjCA,QACNzR,EAAI,UAAG+yB,EAAMh8B,YAAT,aAAG,EAAYiJ,KACjBgkB,EAAiBD,GAAiB/jB,GAAlCgkB,aAER,OAAO9Z,mBAAQ,WAAO,IAAD,UACblK,EAAI,UAAG+yB,EAAMh8B,YAAT,aAAG,EAAYiJ,KACnBk0B,EAAgB,OAAGl0B,QAAH,IAAGA,GAAH,UAAGA,EAAMizB,yBAAT,aAAG,EAAyBnnB,WAC5CqoB,EAAgB,OAAGn0B,QAAH,IAAGA,GAAH,UAAGA,EAAMszB,wBAAT,aAAG,EAAwBxnB,WAC3CsoB,EAAU,OAAGp0B,QAAH,IAAGA,GAAH,UAAGA,EAAM+zB,mBAAT,aAAG,EAAmBjoB,WAChCuoB,EAAe,OAAGr0B,QAAH,IAAGA,GAAH,UAAGA,EAAMqiB,cAAT,aAAG,EAAcvW,WAGtC,MAAO,CACLwoB,QAHc/iB,IAAMvR,GAAQuR,EAAGvR,KAAK3K,KAAO2K,EAAK3K,IAIhDoc,UACAzR,OACAgkB,eACAkQ,mBACAC,mBACAC,aACAC,qBAED,CAAC9iB,EAAIwhB,EAAO/O,EAAcvS,K,84FDlBnBwT,O,qBAAAA,I,oBAAAA,Q,KAqCL,IAAMsP,GAAsB,SAAA1tB,GACjC,OAAIA,EAAMgf,SAAWZ,GAAOa,QACnB,KAIP,kBAAC0O,GAAD,CAAYjsB,EAAG,GACb,kBAAC,GAAD,KACE,kBAACksB,GAAD,CAAQ1mB,IAAKlH,EAAMmL,QACnB,kBAAC0iB,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,GAAD,CACE7f,MAAO,CACLsI,gBAAgB,QAAD,OAAUvW,EAAMsG,KAAhB,UAIrB,kBAACynB,GAAD,CAAY5O,GAAI,GACbnf,EAAM0K,GACL,qCAEA,oCACE,kBAAC5J,GAAD,CACEqe,GAAI,EACJvf,QAASI,EAAMof,UAAY,SAAW,UACtC7d,aAAcvB,EAAM2G,mBAAmBpF,aACvCC,WAAYxB,EAAM2G,mBAAmBpF,aACrCK,QAAS5B,EAAM2G,mBAAmB9E,YAEjC7B,EAAMof,UAAY,kBAAC,SAAD,iBAA0B,kBAAC,SAAD,gBAE/C,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAchpB,KAAM,GAAIwL,QAAS5B,EAAM4a,iBACtC5a,EAAMsf,gBACL,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUnF,YAAa,SAAUC,MAAOpa,EAAM4a,gBAC5C,kBAACN,GAAD,CAAc1Y,QAAS5B,EAAMuf,MAC3B,kBAAC,KAAD,CAAMnpB,KAAM,GAAI4H,MAAO,uBACvB,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACvBK,EAAMwf,UAGN,kBAAC,SAAD,yBAFA,kBAAC,SAAD,uBAGC,YAWvB,kBAAC,GAAD,CAAU7f,GAAI,GACZ,kBAACquB,GAAD,CAAWpmB,GAAI,CAAEtJ,SAAU,QAAU2R,GAAI,EAAGrQ,QAAQ,UAAUnB,WAAY,QACvEuB,EAAMpT,MAET,kBAAC,GAAD,CAAUqjB,GAAI,GAAd,IACIjQ,EAAMyG,gBACPzG,EAAM0K,IAAM1K,EAAM4K,SAAW,kBAACqjB,GAAD,CAAYtuB,GAAI,GAAhB,UAGhC,kBAAC,OAAD,CAAKsQ,GAAI,GACP,kBAAC,GAAD,CAAW5gB,QAAS2Q,EAAMwG,WAE3BxG,EAAMkuB,SACL,kBAACC,GAAD,CAAUle,GAAI,GACZ,8BACE,kBAAC,KAAD,CAAQoG,YAAa,EAAGjgB,KAAM,MAE/B4J,EAAMkuB,UAEP,SAORxP,GAAUnf,GAAOe,OAAPf,CAAH,KAKPY,IAAMC,SAAS,QAAfD,CALO,OAYP8tB,GAAa1uB,GAAOe,OAAPf,CAAH,MAEM,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAEvC,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAIjCqrB,GAAOrf,GAAOe,OAAPf,CAAH,MAOE,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAI1B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIpCswB,GAAaxuB,GAAOO,QAAPP,CAAH,MAIVyuB,GAAYzuB,GAAOQ,QAAPR,CAAH,MACJ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAGjCkwB,GAActuB,GAAOO,QAAPP,CAAH,KAEbY,IAAMC,SAAS,QAAfD,CAFa,OASXwtB,GAAapuB,GAAOe,OAAPf,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAItC+hB,GAAWtf,GAAOQ,QAAPR,CAAH,MACH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIjC0wB,GAAW5uB,GAAOO,QAAPP,CAAH,MACH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAQvB,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAUtCmwB,GAASruB,GAAOoP,IAAV,MAGI,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SACjB,SAAA0C,GAAK,OAAKA,EAAMkH,IAAMlH,EAAMkH,IAAMlH,EAAMrD,MAAMtJ,OAAOiK,SAO1EwwB,GAAcvuB,GAAOoP,IAAV,MASX2H,GAAM/W,GAAOoP,IAAV,MAIO,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SACtB,SAAA0C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAS5C8b,GAAOrZ,GAAOoP,IAAV,MAMJkK,GAAWtZ,GAAOe,OAAPf,CAAH,ME7ODmuB,GAAyB,SAAC,GAAgB,IAAdt0B,EAAa,EAAbA,OAAa,EACNg0B,GAAQh0B,GAA9CD,EAD4C,EAC5CA,KAAMyR,EADsC,EACtCA,QAAS6iB,EAD6B,EAC7BA,KAAMtQ,EADuB,EACvBA,aADuB,EAEXhK,sBAAW,SAAAC,GAAE,OAAKA,KAAI,GAFX,mBAE7CkM,EAF6C,KAE7B1E,EAF6B,KAI9CjU,EAAqBlD,aAAU,CACnCC,cAAe,GACfC,SAAUwZ,IAENqF,EAAoBC,KAR0B,EAUftP,sBAAW,SAAAC,GAC9C,OAAOoP,MAA+BpP,KACrC,GAZiD,mBAU7CyP,EAV6C,KAUjCC,EAViC,KAc9CZ,EACJ/oB,GAAQ0pB,EACN,kBAAC,GAAD,CAAOzK,WAAY0K,GACjB,kBAAC,GAAD,CAAc1J,KAAM0J,EAAgBj0B,IAAKsK,KAEzC,KACAi1B,EAAgB/qB,mBAAe,WAAO,IAAD,IACzC,IAAKlK,EACH,MAAO,CACL6lB,OAAQZ,GAAOa,SAInB,IAAMoP,EAAkC,CACtCrP,OAAQZ,GAAO+E,OACf1c,gBAAiBtN,EAAKsN,gBACtBH,MAAM,UAAAnN,EAAKmN,YAAL,eAAWP,MAAO,GACxBoF,OAAO,UAAAhS,EAAKgS,aAAL,eAAYpF,MAAO,GAC1BmoB,SAAU/0B,EAAK+0B,UAAY,GAC3BthC,KAAMuM,EAAKvM,MAAQ,GACnB4Z,QAASrN,EAAKqN,SAAW,GACzBgZ,YAAarmB,EAAKwoB,QAGpB,OAAI8L,EACgB,aAChB7iB,QAASA,EACTF,GAAI+iB,GACDY,GAKmB,aACtB9O,KAAMuD,EACNpY,GAAI+iB,EACJrO,YAAajmB,EAAKiqB,SAClB9D,iBACA1E,iBACAjU,sBACG0nB,KAKN,CAACZ,EAAMt0B,EAAMwN,EAAoBiE,EAAS0U,IAE7C,OACE,oCACG4C,EACD,kBAAC,GAAekM,K,wNCrDf,IAAME,GAA2Bj+B,IAAH,KAO/BwS,IAmCC,IC5DM0rB,GAAsB,SAACv1B,GAAkC,IAAD,ID2C5BmM,EC1CjCqpB,GD0CiCrpB,EC1CY,CACjDtO,UAAW,CAAEmC,gBD0CFsM,IAAiFgpB,GAA0BnpB,ICxChHuF,EAAOT,KAAPS,GACF3R,EAAS,UAAGy1B,EAAkBt+B,YAArB,aAAG,EAAwB6I,UAClCokB,EAAiBD,GAAgB,UAACsR,EAAkBt+B,YAAnB,aAAC,EAAwB6I,WAA1DokB,aACFC,IACF1S,MAAO,OAAC3R,QAAD,IAACA,OAAD,EAACA,EAAWskB,UAAW3S,EAAGvR,KAAK3K,KAAOuK,EAAUskB,QAAQ7uB,GAEnE,OAAO6U,mBAAQ,WAAO,IAAD,EACnB,MAAO,CACLtK,UAAS,UAAEy1B,EAAkBt+B,YAApB,aAAE,EAAwB6I,UACnCkkB,WAAYE,EACZC,eAED,CAACoR,EAAmBrR,EAAcC,K,klDCOhC,IAAMqR,GAA6B,SAAC,GAAD,IACxC7hC,EADwC,EACxCA,KACA0Z,EAFwC,EAExCA,KACAE,EAHwC,EAGxCA,QACA4W,EAJwC,EAIxCA,UACAsR,EALwC,EAKxCA,eACAC,EANwC,EAMxCA,OACAtP,EAPwC,EAOxCA,iBACAuP,EARwC,EAQxCA,iBACA1yB,EATwC,EASxCA,KACAuK,EAVwC,EAUxCA,gBACAG,EAXwC,EAWxCA,YACAC,EAZwC,EAYxCA,SAZwC,OAexC,kBAAC,GAAD,KACGA,GACC,kBAAC,GAAD,KACE,kBAAC,SAAD,mBAGJ,kBAAC,GAAD,CAASnF,EAAG,GACV,kBAAC,GAAD,CAAaxF,KAAMA,GACjB,kBAAC2yB,GAAD,KACE,kBAAC,GAAD,CAAQz4B,KAAK,IAAI8Q,IAAKZ,KAExB,kBAAC,OAAD,CAAK5E,EAAG,GACN,kBAAC,QAAD,KACE,kBAAC,OAAD,CAAKmZ,KAAM,GACT,kBAAC,GAAD,CAAOjb,QAAQ,WACZhT,EAAKqI,OAAS,GAAKrI,EAAKkiC,QAAQ,mBAAoB,SAAWliC,GAElE,kBAAC,GAAD,KAAW6Z,KAIdD,EACC,kBAAC,GAAD,CAAS5G,QAAQ,OAAOqQ,GAAI,GACzBzJ,EAAQvR,OAAS,GACduR,EAAQsoB,QAAQ,6BAA8B,SAC9CtoB,GAEJ,MAMN,kBAAC,GAAD,CAAM1H,GAAI,GACR,kBAAC,GAAD,CAAamR,GAAI,EAAG6a,WAAW,UAC7B,kBAAC,WAAD,CAAO10B,KAAM,KACb,kBAAC,QAAD,CAAMuJ,GAAI,EAAGC,QAAQ,YAClB8uB,GAAkB,EADrB,IACwB,kBAAC,SAAD,gBAI1B,kBAAC,GAAD,CAAaze,GAAI,EAAG8e,UAAU,SAASjE,WAAW,UAChD,kBAAC,KAAD,CAAQ10B,KAAM,KACd,kBAAC,QAAD,CAAMuJ,GAAI,EAAGC,QAAQ,YAClBgvB,GAAoB,EADvB,IAC0B,kBAAC,SAAD,sBAG3BhoB,EAAc,KACb,kBAAC,GAAD,CAASuJ,GAAI,GACX,kBAACrP,GAAD,CACElB,QAAQ,UACR4B,aAAY4b,EACZ7b,aAAc8d,EAAiB9d,aAC/BK,QAAS,SAAAxT,GACPA,EAAEsZ,iBACF2X,EAAiBxd,eAGnB,kBAAC,QAAD,CAAMjC,QAAS,YACZ+uB,EAAS,kBAAC,SAAD,cAAuB,kBAAC,SAAD,qBAY7C/F,GAAUrpB,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAGjCwZ,GAAU3X,GAAOe,OAAPf,CAAH,MAMPyvB,GAAczvB,GAAOO,QAAPP,CAAH,MAMXwH,GAAcxH,GAAOqG,GAAPrG,CAAH,MAIXsf,GAAWtf,GAAOQ,QAAPR,CAAH,MACH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIjC4J,GAAO9H,GAAOe,OAAPf,CAAH,MACC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIjCwxB,GAAW1vB,GAAOe,OAAPf,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAIlCiE,GAAUvC,GAAOe,OAAPf,CAAH,MAOG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAE1B,SAAAkD,GAAK,OAAIkB,aAAO,OAAQlB,EAAMrD,MAAMtJ,OAAOyJ,eAcvD+xB,GAAetvB,GAAOoP,IAAV,MAwBZvH,GAAQ7H,GAAOuI,WAAPvI,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UCtL1BuxB,GAAiC,SAAC,GAA8B,IAA5Bl2B,EAA2B,EAA3BA,YAAam2B,EAAc,EAAdA,QAAc,EAC7BZ,GAAoBv1B,GAAzDD,EADkE,EAClEA,UAAWkkB,EADuD,EACvDA,WAAYG,EAD2C,EAC3CA,UAEzBiC,EAAmB5b,aAAU,CACjCC,cAAe,GACfC,SAAUsZ,IAENmS,EAAwB/rB,mBAAsC,WAClE,OAAKtK,EAIEs2B,GAA0B,CAC/Bt2B,YACA6N,cAHkBuoB,EAIlB/R,YACAiC,qBAPO,OASR,CAACtmB,EAAWo2B,EAAS/R,EAAWiC,IAEnC,OAAO+P,GAAyB,kBAAC,GAAuBA,IAG7CC,GAA4B,SAAC52B,GAKnC,IACGM,EAAwDN,EAAxDM,UAAW6N,EAA6CnO,EAA7CmO,YAAayY,EAAgC5mB,EAAhC4mB,iBAAkBjC,EAAc3kB,EAAd2kB,UAEhD5uB,EAWEuK,EAXFvK,GACA8gC,EAUEv2B,EAVFu2B,aACAhpB,EASEvN,EATFuN,KACA1Z,EAQEmM,EARFnM,KACA4Z,EAOEzN,EAPFyN,QACA4c,EAMErqB,EANFqqB,SACAmM,EAKEx2B,EALFw2B,gBACAjM,EAIEvqB,EAJFuqB,cACA7F,EAGE1kB,EAHF0kB,QACAhX,EAEE1N,EAFF0N,gBACA+oB,EACEz2B,EADFy2B,QAoBF,MAjBqC,CACnClpB,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMP,MAAO,GACnBnZ,OACAwwB,YACA5W,QAASA,GAAW,GACpBooB,iBAAkBW,GAAmB,EACrCZ,SAAUvL,EACVsL,eAAgBpL,GAAiB,EACjCmM,cAAqB,OAAPhS,QAAO,IAAPA,OAAA,EAAAA,EAASxY,aAAc,EACrCoa,mBACAnjB,KAAM,CACJ6J,IAAKypB,EAAO,uBAAmBhhC,GAAO8gC,GAAgB,GACtDzpB,UAAW2pB,GAEb/oB,kBACAG,YAAaA,I,gKClDjB,IAAMkI,GAAK,CACTG,aAAc,CACZriB,KAAMoiB,oBAAS,WACfuQ,KAAMvQ,oBAAS,0CAaN0gB,GAA+B,SAAC,GAAoC,IAAlCnX,EAAiC,EAAjCA,OAAQoX,EAAyB,EAAzBA,mBAC7CljB,EAAS8B,aAAiB5B,IAA1BF,KAER,OACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,WAAD,CAASkM,EAAG,GACV,gBAAC,SAAD,yBAGJ,gBAACrB,GAAD,CAAKC,KAAG,GACN,gBAACF,GAAD,KACE,gBAAC,KAAD,CACEzH,YAAanD,EAAKzd,EAAE8f,GAAGG,aAAasQ,MACpC3yB,KAAK,OACLC,MAAO8iC,EAAmB9f,OAAO+f,KACjC9f,SAAU6f,EAAmB5f,eAE/B,gBAACqH,GAAD,KAAe,IAAMuY,EAAmB9f,OAAO+f,KAAK36B,QACnD06B,EAAmB7gC,OAAO8gC,MACzB,gBAAC/Y,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAY+vB,EAAmB7gC,OAAO8gC,SAK7D,gBAAC1Y,GAAD,KACE,gBAAC,GAAD,CACEtX,QAAQ,UACR2B,aAAcouB,EAAmBpuB,aACjCC,WAAYmuB,EAAmBpuB,aAC/BtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAAS+tB,EAAmB9tB,YAE5B,gBAAC,SAAD,cAEF,gBAACf,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,mBASJsI,GAAethB,GAAOuB,GAAPvB,CAAH,M,mQCtEX,IAAMswB,GAAuBx/B,IAAH,MA6B1B,SAASy/B,GAAqB3qB,GAC7B,OAAOG,IAAyEuqB,GAAsB1qB,GAgBvG,ICtDDoG,GAAUF,GhHPa,UgHObA,CAAqC,QAGxC0kB,GAAS,SAACx2B,GAAkC,IACzCy2B,EAAiBF,KAAvB5/B,KAD8C,EAGV+/B,KAApCC,EAH8C,EAG9CA,eAAgBC,EAH8B,EAG9BA,gBAGlBC,EAAYxsB,uBAChB,SAACysB,GACC,KAAkB,OAAZL,QAAY,IAAZA,OAAA,EAAAA,EAAcM,YAAY/2B,EAC9B,OAAO,EAET,IAAMg3B,EAA4B55B,KAAKC,UAAU2C,GAC3CtJ,EAAO+/B,EAAaM,SAASE,oBAAoB90B,SAASnC,EAASk3B,WACrE,OACA,OAEJ,OCRsB,SAC1BC,EACAC,EACA1gC,EAH0B,GAKtB,IADF2/B,EACC,EADDA,KAAMgB,EACL,EADKA,OAAQC,EACb,EADaA,QAEVx6B,EAAOyX,SAASkK,cAAc,QACpC3hB,EAAK4P,OAAS,SACd5P,EAAKy6B,OAAS,OACdz6B,EAAK06B,OAAL,UAAiBnB,EAAjB,oCACAv5B,EAAK4X,MAAMyJ,QAAU,OACrB,IAAMsZ,EAAS,CACbN,cACAE,SACAC,UACA5gC,OACA0gC,iBAGFhiC,OAAOsiC,QAAQD,GAAQx6B,SAAQ,YAAkB,IAAD,mBAAf5J,EAAe,KAATkf,EAAS,KACxColB,EAAcpjB,SAASkK,cAAc,SAC3CkZ,EAAYjhC,KAAO,SACnBihC,EAAYtkC,KAAOA,EACnBskC,EAAYrkC,MAAQif,GAAO,GAC3BzV,EAAK6hB,YAAYgZ,MAGnBpjB,SAAS7X,KAAKiiB,YAAY7hB,GAC1BA,EAAK+tB,SACLtW,SAAS7X,KAAKk7B,YAAY96B,GDtBtB+6B,CAAa73B,EAASwM,IAAKwqB,EAA2BtgC,EAAMogC,IACrD,IAET,CAACL,EAAcz2B,IAGjB,OAAO8J,mBACL,iBAAO,CACL6sB,iBACAE,YACAD,qBAEF,CAACD,EAAgBE,EAAWD,KAInBF,GAAc,WAAO,IAAD,EACQhmB,KAA/BU,EADuB,EACvBA,QAASD,EADc,EACdA,GAAIQ,EADU,EACVA,cACfE,EAAO,OAAGV,QAAH,IAAGA,OAAH,EAAGA,EAAIvR,KAFW,EAGe4T,mBAC5CxB,GAAQvT,IArCU,UAiCW,mBAGxBm4B,EAHwB,KAGPkB,EAHO,KAO/BlkB,qBAAU,WAAO,IAAD,GACP,OAAP/B,QAAO,IAAPA,GAAA,UAAAA,EAAS/B,iBAAT,eAAoBgnB,KAChBgB,EAAmBjmB,EAAQ/B,UAAUgnB,KACrCgB,EAAmB9lB,GAAQvT,IA3Cb,YA4CjB,CAACoT,IAEJ,IAAM8kB,EAAiBtsB,sBAAW,uCAChC,WAAOysB,GAAP,SAAAz4B,EAAA,yDACEy5B,EAAmBhB,GACnB9kB,GAAQzR,IAjDQ,QAiDWu2B,GACtB1lB,IAAWS,EAHlB,gCAIUF,EAAc,CAAEE,QAAS,CAAE/B,UAAW,CAAEgnB,UAJlD,2CADgC,sDAQhC,CAACnlB,EAAeE,EAAST,IAE3B,OAAOtH,mBACL,iBAAO,CACL6sB,iBACAC,kBACAxlB,aAEF,CAACulB,EAAgBC,EAAiBxlB,KE5DhC6H,GAAmBC,UAA2C,CAClEmd,KAAMnd,YACH6e,QAAQn+B,IACRwf,aAEQ4e,GAAqC,SAAC,GAAwB,IAAtBnY,EAAqB,EAArBA,KAAM7f,EAAe,EAAfA,SAAe,EACjBw2B,GAAOx2B,GAAtD42B,EADgE,EAChEA,gBAAiBC,EAD+C,EAC/CA,UAAWF,EADoC,EACpCA,eAC9BP,EAAqBlsB,aAA0C,CACnEC,cAAeysB,GAAmB,CAAEP,KAAM,IAC1C9c,oBAAoB,EACpBN,oBACA7O,SAAU,SAAA6tB,GACR,IAAMC,GAAetB,GAAmBA,EAAgBP,OAAS4B,EAAc5B,KACzE8B,EAAmCD,EAAW,2BAC3CD,GAD2C,IAC5BZ,YAAQ52B,EAAW62B,aAAS72B,IAChDm2B,EACCuB,IAGLD,GAAevB,EAAewB,GAC9BtY,EAAKgX,EAAUsB,QAGnB,OAAO,kBAAC,GAAD,CAAanZ,OAAQa,EAAMuW,mBAAoBA,K,kNCZjD,IAAMgC,GAA0BthC,IAAH,KAO9BgjB,IAmCC,IC7DMue,GAAqB,SAACp4B,GAAgC,IAAD,cD4C1B2L,EC3ChC0sB,GD2CgC1sB,EC3CW,CAC/CtO,UAAW,CAAE2C,eD2CF8L,IAA+EqsB,GAAyBxsB,ICzC7GmhB,EAAeP,GAAc,UACnC8L,EAAiB3hC,YADkB,iBACnC,EAAuBqJ,gBADY,aACnC,EAAiC/K,GADE,UAEnCqjC,EAAiB3hC,YAFkB,iBAEnC,EAAuBqJ,gBAFY,aAEnC,EAAiCysB,OAFE,UAGnC6L,EAAiB3hC,YAHkB,iBAGnC,EAAuBqJ,gBAHY,iBAGnC,EAAiCu4B,cAHE,aAGnC,EAAyC7sB,WACzC,YAJMqhB,WAMR,OAAOjjB,mBAAQ,WAAO,IAAD,EACnB,MAAO,CACL9J,SAAQ,UAAEs4B,EAAiB3hC,YAAnB,aAAE,EAAuBqJ,SACjC+sB,gBAED,CAACuL,EAAkBvL,KCQXyL,GAAiB,SAACl5B,GAC7B,IAAME,EAAYi5B,GAAa,OAACn5B,QAAD,IAACA,OAAD,EAACA,EAAYE,WAE5C,IAAMF,IAAcE,EAClB,OAAO,KAJkF,IAOnF4b,EAAyD9b,EAAzD8b,kBAAmB2a,EAAsCz2B,EAAtCy2B,aAAchpB,EAAwBzN,EAAxByN,KAAME,EAAkB3N,EAAlB2N,QAC/C,MAAO,CACL8oB,aAAcA,GAAgB,GAC9BhpB,OACA1Z,KAJ+DiM,EAATjM,KAKtD+nB,oBACAnO,QAASA,GAAW,GACpBzN,cAISi5B,GAAgB,SAACj5B,GAC5B,IAAKA,EACH,OAAO,KAF8E,IAI/EnM,EAAyDmM,EAAzDnM,KAAM+nB,EAAmD5b,EAAnD4b,kBAAmBrO,EAAgCvN,EAAhCuN,KAAME,EAA0BzN,EAA1ByN,QACvC,MAAO,CACL8oB,aAF+Dv2B,EAAjBu2B,cAEhB,GAC9BhpB,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMP,MAAO,GACnBnZ,OACA+nB,oBACAnO,QAASA,GAAW,K,0uBCbjB,IAAMyrB,GAAqC5hC,IAAH,MAYlC6hC,GAA6B7hC,IAAH,KAMjC4hC,IA2BC,IAAME,GAAyB9hC,IAAH,KAM7B4hC,IAoCC,ICpHMG,GAAoB,SAACt5B,GAAoC,IDsG5BqM,ECtG2B,EDuGtDG,IAAsF6sB,GAAwBhtB,GCvGxD,mBAC5DuX,EAD4D,KACnDC,EADmD,KAE7D0V,ED+DD,SAAoCltB,GACnC,OAAOG,IAAqF4sB,GAA4B/sB,GChEtGmtB,CAA2B,CACjDz7B,UAAW,CAAEiC,kBAGTgkB,EAAOpI,GAAwB,uCACnC,qCAAA9c,EAAA,yDAASiB,EAAT,EAASA,WAAYyN,EAArB,EAAqBA,MACfqW,EAAchS,QADpB,0EAIS+R,EAAQ,CACb7lB,UAAW,CACTiC,eACAwN,KAAMoD,GACJpD,EADuB,UAEvB+rB,EAAgBniC,YAFO,iBAEvB,EAAsB2I,kBAFC,iBAEvB,EAAkCyN,YAFX,aAEvB,EAAwCP,KAE1ClN,WAAY,CACVjM,KAAMiM,EAAWjM,KACjB4Z,QAAS3N,EAAW2N,aAb5B,2CADmC,sDAmBnC,CAAC1N,EAAc4jB,EAASC,EAAe0V,IAEzC,OAAOhvB,mBAAQ,WAAO,IAAD,EACbxK,EAAU,UAAGw5B,EAAgBniC,YAAnB,aAAG,EAAsB2I,WACzC,MAAO,CACLikB,OACAjkB,gBAED,CAACikB,EAAMuV,K,oNCxBL,IAAME,GAAyBliC,IAAH,KAM7B0tB,IAmCC,ICzDMyU,GAAgB,SAAC15B,GAAoC,IAAD,IDwC1BqM,ECvC7BuF,EAAOT,KAAPS,GAGF7R,EAAU,WDoCqBsM,ECrCM,CAAEtO,UAAW,CAAEiC,iBDsC7CwM,IAA6EitB,GAAwBptB,ICrCnFjV,YAAf,aAAG,EAAkB2I,WACfokB,EAAeC,GAAiBrkB,GAA9CskB,aACAL,EAASsV,GAAkBt5B,GAA3BgkB,KACF2V,KAAqB,OAAC55B,QAAD,IAACA,GAAD,UAACA,EAAYE,iBAAb,aAAC,EAAuBqqB,UAC7ChG,IAAc1S,MAAO,OAAC7R,QAAD,IAACA,OAAD,EAACA,EAAYwkB,UAAW3S,EAAGvR,KAAK3K,KAAOqK,EAAWwkB,QAAQ7uB,GAC/E8uB,KAAa,OAAC5S,QAAD,IAACA,OAAD,EAACA,EAAIG,kBAAmBuS,EAE3C,OAAO/Z,mBAAQ,WACb,MAAO,CACLovB,oBACArV,YACAvkB,aACAokB,aACAH,OACAQ,eAED,CAACzkB,EAAYukB,EAAWH,EAAYH,EAAMQ,EAAWmV,K,oqBCiBnD,IAAMC,GAAgCriC,IAAH,KAIpC2tB,IACO2U,GAA8BtiC,IAAH,KAelC0S,GACJ2vB,IAsCK,ICjGME,GAAyB,SAAC95B,GAAoC,IAAD,IDgF9BqM,EC/EpC0tB,GD+EoC1tB,EC/EU,CAClDtO,UAAW,CAAEiC,eAAcuM,MAAO1T,KD+EvB2T,IAAuFqtB,GAA6BxtB,IC5E3H2tB,EAAgB5vB,GAAO,UAC3B2vB,EAAY3iC,YADe,iBAC3B,EAAkB2I,kBADS,aAC3B,EAA8Bk6B,WAC9B,YAAyB,IAAtB/zB,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOquB,EAAYptB,UAAU,CAC3B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmBmH,iBAClD4M,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB9M,kBAAjB,eAA6Bk6B,aAA7B,UACLhuB,EAAKlM,kBADA,aACL,EAAiBk6B,WADZ,2BAGEptB,GAHF,IAID9M,WAAW,2BACN8M,EAAgB9M,YADX,IAERk6B,UAAWvuB,EAAO,CAChBO,KAAMA,EAAKlM,WAAWk6B,UACtBjuB,QAASa,EAAgB9M,WAAWk6B,gBAI1ChuB,QAMZ,OAAO1B,mBACL,iBAAO,CACLyvB,mBAEF,CAACA,KCjCQE,GAAyB,SAACl6B,GAAoC,IAAD,IlIuF9BqM,EkItFpC8tB,GlIsFoC9tB,EkItFmB,CAC3DtO,UAAW,CAAEiC,eAAcuM,MAAO1T,KlIsFvB2T,IAAuFuD,GAA6B1D,IkInF3H+tB,EAA0BhwB,GAAO,UACrC+vB,EAAqB/iC,YADgB,iBACrC,EAA2B2I,kBADU,aACrC,EAAuCglB,WACvC,YAAyB,IAAtB7e,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOyuB,EAAqBxtB,UAAU,CACpC5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmBmH,iBAClD4M,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB9M,kBAAjB,eAA6BglB,aAA7B,UACL9Y,EAAKlM,kBADA,aACL,EAAiBglB,WADZ,2BAGElY,GAHF,IAID9M,WAAW,2BACN8M,EAAgB9M,YADX,IAERglB,UAAWrZ,EAAO,CAChBO,KAAMA,EAAKlM,WAAWglB,UACtB/Y,QAASa,EAAgB9M,WAAWglB,gBAI1C9Y,QAMZ,OAAO1B,mBACL,iBAAO,CACL6vB,6BAEF,CAACA,K,mLC1BE,IAAMC,GAAqD9iC,IAAH,KAKzDgjB,I,sXCSC,IAAM+f,GAAoC/iC,IAAH,KAOxC8iC,IAqCC,ICxDME,GAAiB,WAAO,ID0CgBluB,EC1CjB,ED2CrBG,IAA4G8tB,GAAmCjuB,GC3C1H,mBAC3B8V,EAD2B,KACXqY,EADW,KAE5B7e,EAASC,GAAwB,uCACrC,mCAAA9c,EAAA,yDAASkB,EAAT,EAASA,aAAczJ,EAAvB,EAAuBA,QAASiX,EAAhC,EAAgCA,KAAM/M,EAAtC,EAAsCA,UAChC+5B,EAAqB3oB,QAD3B,0EAKSsQ,EAAe,CACpBpkB,UAAW,CACTolB,UAAWnjB,EACXS,WACAlK,QAASya,GAAeza,GACxBiX,KAAMoD,GAAoBpD,EAAM,OAElCsO,eAAgB,EL4EtB/d,EK3EwC,CAC9BiC,eACAuM,MAAO1T,IL0EjBkE,OK5EQ09B,EL6EN,CACFhnC,MAAMomC,GACN97B,YACAhB,gBK7FE,iCLuF2C,IAC7CgB,EACAhB,IKzFE,OADqC,sDAqBrC,CAACy9B,EAAsBrY,IAEzB,OAAO5X,mBAAQ,WACb,MAAO,CACLoR,YAED,CAACA,K,8nDC7BN,I,GAAM+e,GAAet/B,EAAQ,KACvBu/B,GAAev/B,EAAQ,KACvBw/B,GAAex/B,EAAQ,KAEvB4a,GAAK,CACTG,aAAc,CAEZriB,KAAMoiB,oBAAS,4BACfxI,QAASwI,oBAAS,6DAElBoV,OAAQpV,oBAAS,4BAoBR2kB,GAAkC,SAAC,GAKzC,IAJLpb,EAII,EAJJA,OACAlJ,EAGI,EAHJA,OACAukB,EAEI,EAFJA,iBACAC,EACI,EADJA,cACI,cACmCD,EADnC,GACGE,EADH,KACaC,EADb,KACuBC,EADvB,KAEIvnB,EAAS8B,aAAiB5B,IAA1BF,KAEFwnB,EAAuB1lB,eAC3B,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCtW,SAAUzC,OAC/D,CAACuY,IAEG6kB,EACJ,kBAAoB7kB,EAAOQ,OAAOtW,SAAW8V,EAAOQ,OAAOtW,SAAW,GAClE46B,EAAmB5lB,eACvB,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCvJ,KAAMxP,OAC3D,CAACuY,IAEGqJ,EAAiB,kBAAoBrJ,EAAOQ,OAAOvJ,KAAO+I,EAAOQ,OAAOvJ,KAAO,GACrF,OACE,gBAAC,GAAD,KACE,gBAACgR,GAAD,KACE,6BACE,gBAAC,SAAD,kBAEF,gBAACD,GAAD,KACE,gBAAC,GAAD,CACEtC,WAAYmf,EACZjf,aAAcgf,EACdjf,WAAW,aAEb,gBAACof,GAAD,KACE,gBAAC,SAAD,8BAIN,gBAAC9c,GAAD,KACE,6BACE,gBAAC,SAAD,eAEF,gBAACD,GAAD,KACE,gCACE,gBAACgd,GAAD,CACEzkB,YAAanD,EAAKzd,EAAE8f,GAAGG,aAAariB,MACpCA,KAAK,OACLC,MAAOwiB,EAAOQ,OAAOjjB,KACrBkjB,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,SAExCoa,EAAOvgB,OAAOlC,MACb,gBAACiqB,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOlC,SA0BjD,gBAAC0qB,GAAD,CAAKC,KAAG,GACN,6BACE,gBAAC,SAAD,qBAEF,gBAACF,GAAD,KACE,gCACE,gBAAC,KAAD,CACEzH,YAAanD,EAAKzd,EAAE8f,GAAGG,aAAazI,SACpC5Z,KAAK,UACLC,MAAOwiB,EAAOQ,OAAOrJ,QACrBsJ,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,IAAO/H,EAAOQ,OAAOrJ,QAAQvR,WAIjD4+B,EAAgB,KACf,gBAACvc,GAAD,KACE,6BACE,gBAAC,SAAD,eAEF,gBAACD,GAAD,KACE,gBAAC,OAAD,CAAKzP,GAAI,CAAEvG,MAAO,QAASxC,OAAQ,UACjC,gBAAC,GAAD,CACEkW,WAAY2D,EACZzD,aAAckf,EACdjf,YAAa,eAOvB,gBAACoC,GAAD,KACE,gBAACgd,GAAD,KACE,6BACE,gBAAC,SAAD,oBAEF,gBAAC,GAAD,CAAMxuB,KAAK,oDAAoDG,OAAO,SACpE,gBAAC,SAAD,+BAGJ,gBAACoR,GAAD,KACE,gBAACkd,GAAD,CACEtkC,KAAK,QACLrD,KAAK,UACL4B,GAAIslC,EACJjnC,MAAOinC,EACPU,QAASnlB,EAAOQ,OAAO4kB,UAAYX,EACnChkB,SAAUT,EAAOU,eAEnB,gBAAC2kB,GAAD,CAAeC,QAASb,GAAWA,GACnC,gBAACS,GAAD,CACEtkC,KAAK,QACLrD,KAAK,UACL4B,GAAIulC,EACJlnC,MAAOknC,EACPS,QAASnlB,EAAOQ,OAAO4kB,UAAYV,EACnCjkB,SAAUT,EAAOU,eAEnB,gBAAC6kB,GAAD,CAAeD,QAASZ,GAAWA,GACnC,gBAACQ,GAAD,CACEtkC,KAAK,QACLrD,KAAK,UACL4B,GAAIwlC,EACJnnC,MAAOmnC,EACPQ,QAASnlB,EAAOQ,OAAO4kB,UAAYT,EACnClkB,SAAUT,EAAOU,eAEnB,gBAAC8kB,GAAD,CAAeF,QAASX,GAAWA,KAGvC,gBAAC9c,GAAD,KACE,gBAAC,GAAD,CACEtX,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAASyN,EAAOxN,YAEhB,gBAAC,SAAD,iBAEF,gBAACf,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,mBASJ6b,GAAM70B,GAAOQ,QAAPR,CAAH,MAEHuC,GAAUvC,GAAOe,OAAPf,CAAH,MACG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAGtCw3B,GAAe/0B,GAAOoP,IAAV,MAIZvI,GAAO7G,GAAO3H,EAAV,MAIJk9B,GAAQv1B,GAAOw1B,MAAV,MAcLL,GAAgBn1B,GAAOu1B,GAAPv1B,CAAH,KACQi0B,IAGrBoB,GAAgBr1B,GAAOu1B,GAAPv1B,CAAH,KACQk0B,IAGrBoB,GAAgBt1B,GAAOu1B,GAAPv1B,CAAH,KACQm0B,IAGrBa,GAAch1B,GAAOy1B,MAAV,KAITN,GACAE,GACAC,GAKAH,GACAE,GACAC,IAKFR,GAAY90B,GAAO01B,KAAP11B,CAAH,MAIH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAGlCgjB,GAAethB,GAAOuB,GAAPvB,CAAH,MCjRLiT,GAAyDC,UAEpE,CACA7lB,KAAM6lB,YACHC,IAAI,IACJC,SAAS,qBACZnM,QAASiM,YAAaC,IAAI,KAC1BpM,MAAM,GAAAmM,YAA2BpX,KAA3B,qBAAmC4d,KACzC1f,SAAUkZ,WAAkBE,WAC5B8hB,QAAShiB,cAGE/O,GAAoC,CAC/C9W,KAAM,GACN4Z,QAAS,GACTF,KAAM,GACNmuB,QAASrhC,GAAuB,GAChCmG,SAAU,MAQC27B,GAAqC,SAAC,GAA4C,IAA1C9b,EAAyC,EAAzCA,KAAMtgB,EAAmC,EAAnCA,aACjD2b,EAAW4e,KAAX5e,OACFpF,EAAS5L,aAA8B,CAC3C+O,oBACA9O,iBACAoP,oBAAoB,EACpBqiB,gBAAgB,EAChBC,kBAAkB,EAClBzxB,SAAU,SAAA2V,GAAS,IACC+b,EAA+C/b,EAAzD/f,SAAwB+M,EAAiCgT,EAAjChT,KAAM1Z,EAA2B0sB,EAA3B1sB,KAAM6nC,EAAqBnb,EAArBmb,QAASjuB,EAAY8S,EAAZ9S,QACrD,GAAK6uB,EAUL,OAAO5gB,EAAO,CACZ3b,eACAS,SAR8B,CAC9B3M,OACA4Z,UACAiuB,WAMAplC,QAASgmC,EACT/uB,SACCnY,KAAKirB,MAGNya,GACHxkB,EAAOQ,OAAOtW,WAA8D,IAAlD8V,EAAOQ,OAAOtW,SAAStJ,KAAKumB,QAAQ,SAMjE,OAJArJ,qBAAU,WACR0mB,GAAiBxkB,EAAOQ,OAAOvJ,MAAQ+I,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCvJ,KAAM,UACjF,CAAC+I,EAAQwkB,IAGV,kBAAC,GAAD,CACEA,cAAeA,EACftb,OAAQa,EACR/J,OAAQA,EACRukB,iBAAkBxgC,M,0rCC3DxB,I,GCCYgrB,GDDNtP,GAAK,CACTG,aAAc,CACZriB,KAAMoiB,oBAAS,mCACfxI,QAASwI,oBACP,oGAEF1I,KAAM0I,oBAAS,0DAeNsmB,GAAuC,SAAC,GAAwB,IAAtB/c,EAAqB,EAArBA,OAAQlJ,EAAa,EAAbA,OACvDmJ,EAAqBjK,eACzB,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCvJ,KAAMxP,OAC3D,CAACuY,IAEGqJ,EAAiB,kBAAoBrJ,EAAOQ,OAAOvJ,KAAO+I,EAAOQ,OAAOvJ,KAAO,GACrF,OACE,gBAAC,GAAD,KACE,wBAAM3C,SAAU0L,EAAOM,cACrB,gBAAC,GAAD,KACE,gBAAC,OAAD,CAAK/H,GAAI,CAAEvG,MAAO,QAASxC,OAAQ,UACjC,gBAAC,GAAD,CACEkW,WAAY2D,EACZzD,aAAcuD,EACdtD,YAAY,aAIhB,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAOzW,WAAY,QACjB,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEmR,YAAad,GAAGG,aAAariB,KAC7BqU,SAAUoO,EAAO9N,aACjB3U,KAAK,OACLC,MAAOwiB,EAAOQ,OAAOjjB,KACrBkjB,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,QACtCoa,EAAOvgB,OAAOlC,MACb,gBAACiqB,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOlC,SAMjD,gBAAC,GAAD,CAAaqjB,GAAI,GACf,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEL,YAAad,GAAGG,aAAazI,QAC7BvF,SAAUoO,EAAO9N,aACjB3U,KAAK,UACLC,MAAOwiB,EAAOQ,OAAOrJ,QACrBsJ,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,IAAM/H,EAAOQ,OAAOrJ,QAAQvR,QAC1Coa,EAAOvgB,OAAO0X,SACb,gBAACqQ,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAO0X,cAQrD,gBAAC0Q,GAAD,KACE,gBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAGrB,gBAAC,SAAD,cAEF,gBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,oBAQNO,GAA0BvZ,GAAO8X,GAAP9X,CAAH,MAgBvB6H,GAAQ7H,GAAOQ,QAAPR,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCsb,GAAcxZ,GAAOQ,QAAPR,CAAH,MACN,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCob,GAAWtZ,GAAOoP,IAAV,KAIVoI,gBAIS,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aACnC0C,IAAMC,SAAS,SAAfD,CATQ,OAiBD,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAQnCmb,GAAOrZ,GAAOO,QAAPP,CAAH,KAINY,IAAMC,SAAS,SAAfD,CAJM,OEvJGqS,GAA+DC,UAE1E,CACA7lB,KAAM6lB,YACHyG,IAAI,GACJxG,IAAI,IACJC,WACHnM,QAASiM,YAAaC,IAAI,KAC1BpM,MAAM,GAAAmM,YAA2BpX,KAA3B,qBAAmC4d,OAO9Bsc,GAAoC,SAAC,GAGpC,IAFZnc,EAEW,EAFXA,KACAtgB,EACW,EADXA,aACW,EACkBs5B,GAAkBt5B,GAAvCD,EADG,EACHA,WAAYikB,EADT,EACSA,KACdpZ,EAAgBL,mBACpB,uBAAO,CACLiD,MAAgB,OAAVzN,QAAU,IAAVA,GAAA,UAAAA,EAAYyN,YAAZ,eAAkBP,MAAO,GAC/BnZ,MAAgB,OAAViM,QAAU,IAAVA,OAAA,EAAAA,EAAYjM,OAAQ,GAC1B4Z,SAAmB,OAAV3N,QAAU,IAAVA,OAAA,EAAAA,EAAY2N,UAAW,MAElC,CAAC3N,IAGGwW,EAAS5L,aAAoC,CACjDqP,oBAAoB,EACpBnP,SAAU,SAAA2V,GACR,OAAOwD,EAAK,CACVjkB,WAAY,CACVjM,KAAM0sB,EAAK1sB,KACX4Z,QAAS8S,EAAK9S,cAAWxM,GAE3BsM,KAAMgT,EAAKhT,OACVnY,KAAKirB,IAEV5G,oBACA9O,kBAEF,OAAO,kBAAC,GAAD,CAAqB6U,OAAQa,EAAM/J,OAAQA,K,8xDDtCxC+O,O,qBAAAA,I,oBAAAA,Q,KAyCL,IA2FQoX,GA3F0B,SAAC,GAAuB,IAATzW,EAAQ,EAApBlmB,WAC1C,OAAOkmB,EAAEC,SAAWZ,GAAOa,QACzB,kBAAC,QAAD,mBAEA,kBAACwW,GAAD,KACE,kBAAC,GAAD,KAYE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOh3B,WAAY,QAASsgB,EAAEnyB,MAC9B,kBAAC,GAAD,CAAUqjB,GAAI,GAAd,IAAmB8O,EAAEG,UACrB,kBAAC,OAAD,CAAKjP,GAAI,GACP,kBAAC,GAAD,CAAW5gB,QAAS0vB,EAAEvY,WAGxB,kBAAC,GAAD,CAAMyJ,GAAI,GASR,kBAACylB,GAAD,CAAazlB,GAAI,EAAG6a,WAAY,UAC9B,kBAAChqB,GAAD,CACElB,QAASmf,EAAEK,UAAY,SAAW,UAClCne,SAAU8d,EAAEM,iBAAiB9d,aAC7BK,QAASmd,EAAEM,iBAAiBxd,WAC5BN,aAAcwd,EAAEM,iBAAiB9d,cAEhCwd,EAAEK,UAAY,WAAa,UAE9B,kBAAC,GAAD,CAAMzf,GAAI,EAAGiC,QAASmd,EAAEnE,gBACtB,kBAAC,KAAD,CAAcxkB,KAAM,KACnB2oB,EAAEO,gBACD,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUnF,YAAa,SAAUC,MAAO2E,EAAEnE,gBACvCmE,EAAEzB,WACD,kBAAChD,GAAD,CAAc1Y,QAASmd,EAAEjC,MACvB,kBAAC,KAAD,CAAU1mB,KAAM,GAAI4H,MAAO,uBAC3B,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACzB,kBAAC,SAAD,8BAIN,kBAAC2a,GAAD,CAAc1Y,QAASmd,EAAEQ,MACvB,kBAAC,KAAD,CAAUnpB,KAAM,GAAI4H,MAAO,uBAC3B,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACvBof,EAAES,UAGF,kBAAC,SAAD,+BAFA,kBAAC,SAAD,+BAMLT,EAAEnU,QACD,kBAAC,GAAD,CAAmBhJ,QAASmd,EAAEU,eAC5B,kBAAC,KAAD,CAAMrpB,KAAM,GAAI4H,MAAO,qBACvB,kBAAC,QAAD,CAAM4J,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GAIrB,kBAAC,SAAD,+BAMN,cAepB+e,GAAUnf,GAAOe,OAAPf,CAAH,KAKPY,IAAMC,SAAS,QAAfD,CALO,OAYPgH,GAAO5H,GAAOO,QAAPP,CAAH,MAIJqf,GAAOrf,GAAOe,OAAPf,CAAH,MAOE,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAI1B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIpCkhB,GAAoBpf,GAAO+a,GAAP/a,CAAH,MACG,SAAAS,GAAK,OAAIkB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAOiK,UA6B9D8J,GAAQ7H,GAAOQ,QAAPR,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAGjCkhB,GAAWtf,GAAOQ,QAAPR,CAAH,MACH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKjCi4B,GAAcn2B,GAAOO,QAAPP,CAAH,MAEXsZ,GAAWtZ,GAAOoP,IAAV,KAGVoI,gBAIS,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aACnC0C,IAAMC,SAAS,SAAfD,CARQ,OAgBD,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAOnCg4B,GAAWl2B,GAAOe,OAAPf,CAAH,MAIE,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAGtC8b,GAAOrZ,GAAOO,QAAPP,CAAH,ME5OGo2B,GAA2C,SAAC,GAAgC,IAA9B78B,EAA6B,EAA7BA,aAAcypB,EAAe,EAAfA,SAAe,EACxCiQ,GAAc15B,GAApDD,EAD8E,EAC9EA,WAAYykB,EADkE,EAClEA,UAAWL,EADuD,EACvDA,WACvBrS,EAAYX,KAAZW,QACFyU,EAAmB5b,aAAc,CACrCC,cAAe,GACfC,SAAUsZ,IAGNuF,EAAoBC,KAR4D,EAS7ClU,IAAM4E,YAAW,SAAAC,GAAE,OAAKA,KAAI,GATiB,mBAS/EkM,EAT+E,KAS/D1E,EAT+D,OAWnDzH,sBAAW,SAAAC,GAC5C,SAAQkK,GAAakF,OAA+BpP,KACnD,GAbmF,mBAW/EsP,EAX+E,KAWpEC,EAXoE,KAchFC,EACJ/pB,GAAc6pB,EACZ,kBAAC,GAAD,CAAOtK,WAAYuK,GACjB,kBAAC,GAAD,CAAwB7pB,aAAcD,EAAWrK,GAAI4qB,KAAMuJ,KAE3D,KAnBgF,EAqBjDxP,sBAAW,SAAAC,GAC9C,OAAOoP,MAA+BpP,KACrC,GAvBmF,mBAqB/EyP,EArB+E,KAqBnEC,EArBmE,KAwBhFZ,EACJrpB,GAAcgqB,EACZ,kBAAC,GAAD,CAAOzK,WAAY0K,GACjB,kBAAC,GAAD,CAAc1J,KAAM0J,EAAgBj0B,IAAKgK,KAEzC,KA7BgF,EA+BpCsa,sBAAW,SAAAC,GAC3D,SAAQxI,GAAW4X,OAA+BpP,KACjD,GAjCmF,mBA+B/E2P,EA/B+E,KA+B3DC,EA/B2D,KAkChFC,EACJpqB,GAAckqB,EACZ,kBAAC,GAAD,CAAO3K,WAAY4K,GACjB,kBAAC,GAAD,CAAiB5J,KAAM4J,EAAqBn0B,IAAKgK,EAAYkoB,UAAW,QAExE,KAEAmC,EAAY7f,mBAAe,WAAO,IAAD,UACrC,OAAKxK,EAQgB,CACnBA,WAAY,CACVymB,iBACA1E,iBACA2H,WACA3X,UACAoU,OAAQZ,GAAO+E,OACf7F,YACA8B,YAAavmB,EAAWuqB,SACxB5D,YAAa3mB,EAAW8oB,OACxB2B,cAAezqB,EAAWyqB,eAAiB,EAC3Chd,MAAM,UAAAzN,EAAWyN,YAAX,eAAiBP,MAAO,GAC9BnZ,KAAMiM,EAAWjM,KACjBsyB,SAAUrmB,EAAW4N,gBACrBD,QAAS3N,EAAW2N,SAAW,GAC/Bue,eAAe,UAAAlsB,EAAWE,iBAAX,eAAsBnM,OAAQ,GAC7CoM,aAAa,UAAAH,EAAWE,iBAAX,eAAsBvK,KAAM,GACzCw2B,eAAe,UAAAnsB,EAAWE,iBAAX,mBAAsBuN,YAAtB,eAA4BP,MAAO,GAClDsZ,mBAEAvC,KAAM6F,EAENlD,cAAeuD,EAEfzD,KAAMuD,IA/BD,CACLjqB,WAAY,CACVmmB,OAAQZ,GAAOa,YAiCpB,CAACpmB,EAAYymB,EAAgBiD,EAAU3X,EAAS0S,EAAW+B,IAC9D,OACE,oCACGuD,EACAK,EACAf,EACD,kBAAC,GAAqBgB,K,0LC7ErB,IAAM0S,GAAsBvlC,IAAH,KAO1BsY,IAmCC,IC7DMktB,GAAiB,SAACz8B,GAAwB,IAAD,ED4ClB+L,EC3C5B2wB,GD2C4B3wB,EC3CO,CAAEtO,UAAW,CAAEuC,WD4C3CkM,IAAuEswB,GAAqBzwB,IC3CjGgY,EAAiBD,GAAgB,UAAC4Y,EAAa5lC,YAAd,aAAC,EAAmBiJ,MAArDgkB,aAER,OAAO9Z,mBAAQ,WAAO,IAAD,EACnB,MAAO,CACLlK,KAAI,UAAE28B,EAAa5lC,YAAf,aAAE,EAAmBiJ,KACzBgkB,kBAED,CAAC2Y,EAAc3Y,K,q0BCMb,IAAM4Y,GAAwB,SAAC,GAAD,IACnC5qB,EADmC,EACnCA,MACAve,EAFmC,EAEnCA,KACAilB,EAHmC,EAGnCA,SACAmkB,EAJmC,EAInCA,IACAC,EALmC,EAKnCA,WALmC,EAMnCtvB,mBANmC,EAOnCC,YAPmC,OASnC,kBAAC,GAAD,CAAaT,GAAI8vB,GACf,kBAACC,GAAD,CAAax0B,EAAG,GACd,kBAAC,GAAD,CAAQ9B,QAAQ,SAASsH,IAAKiE,IAC9B,kBAAC,GAAD,CAASxL,GAAI,GACX,kBAACw2B,GAAD,KACE,kBAAC,GAAD,CAAOv2B,QAAQ,WAAWhT,GAC1B,kBAAC,GAAD,CAAU+S,GAAI,GAAIkS,IAEpB,kBAAC,OAAD,CAAKsN,GAAI,GACP,kBAAC,QAAD,CAAMvf,QAAQ,QAAQo2B,QAY1BjvB,GAAcxH,GAAO6C,KAAP7C,CAAH,MAMX22B,GAAc32B,GAAOO,QAAPP,CAAH,MACL,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAGtB,SAAAmC,GAAK,OAAIkB,aAAO,OAAQlB,EAAMrD,MAAMtJ,OAAOkK,gBAOvD6J,GAAQ7H,GAAOQ,QAAPR,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAuBjCoE,GAAUvC,GAAOe,OAAPf,CAAH,MAGPsf,GAAWtf,GAAOQ,QAAPR,CAAH,MAIH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIjC04B,GAAQ52B,GAAOO,QAAPP,CAAH,MC1FE62B,GAA4B,SAAC,GAAyB,IAAvBh9B,EAAsB,EAAtBA,OAAQ+1B,EAAc,EAAdA,QAAc,EACjC0G,GAAez8B,GAAtCD,EADwD,EACxDA,KAAMgkB,EADkD,EAClDA,aAERxW,EAAqBlD,aAAU,CACnCC,cAAe,GACfC,SAAUwZ,IAENkZ,EAAmBhzB,mBAAiC,WACxD,IAAKlK,EACH,OAAO,KAGT,IAAMyN,IAAcuoB,EAEZxH,EAA8DxuB,EAA9DwuB,SAAUlhB,EAAoDtN,EAApDsN,gBAAiB0E,EAAmChS,EAAnCgS,MAAO7E,EAA4BnN,EAA5BmN,KAAME,EAAsBrN,EAAtBqN,QAAS4c,EAAajqB,EAAbiqB,SAYzD,MAVgC,CAC9BjY,OAAW,OAAJ7E,QAAI,IAAJA,OAAA,EAAAA,EAAMP,OAAN,OAAaoF,QAAb,IAAaA,OAAb,EAAaA,EAAOpF,MAAO,GAClCnZ,KAAM+6B,GAAY,GAClB9V,SAAUpL,EACVuvB,IAAKxvB,GAAW,GAChBE,cAAe0c,EACfzc,qBACAsvB,WAAYK,GAAa1M,QAAQ,CAAExwB,OAAQD,EAAK3K,GAAIq7B,SAAK7vB,QAAaA,GACtE4M,YAAaA,KAGd,CAACzN,EAAMwN,EAAoBwoB,IAE9B,OACEkH,GACE,kBAAC,KAAD,CAAKv3B,GAAI,EAAGy3B,GAAI,EAAGC,GAAI,GACrB,kBAAC,GAAkBH,K,oKCnCpB,IAAMI,GAA8BpmC,IAAH,M,uMCcjC,IAAMqmC,GAAgCrmC,IAAH,KAMpComC,IAkCC,I,uzCChDP,IAAM3nB,GAAK,CACTG,aAAc,CACZriB,KAAMoiB,oBAAS,iCACfxI,QAASwI,oBAAS,iDAClB1I,KAAM0I,oBAAS,wDAeN2nB,GAA2B,SAAC,GAAwB,IAAtBpe,EAAqB,EAArBA,OAAQlJ,EAAa,EAAbA,OAC3CmJ,EAAqBjK,eACzB,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCvJ,KAAMxP,OAC3D,CAACuY,IAEGqJ,EAAiB,kBAAoBrJ,EAAOQ,OAAOvJ,KAAO+I,EAAOQ,OAAOvJ,KAAO,GACrF,OACE,gBAACswB,GAAD,KACE,wBAAMjzB,SAAU0L,EAAOM,cACrB,gBAAC,GAAD,KACE,gBAAC,OAAD,CAAK/H,GAAI,CAAEvG,MAAO,QAASxC,OAAQ,UACjC,gBAAC,GAAD,CACEkW,WAAY2D,EACZzD,aAAcuD,EACdtD,YAAY,aAIhB,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAOzW,WAAY,QACjB,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEmR,YAAad,GAAGG,aAAariB,KAC7BqU,SAAUoO,EAAO9N,aACjB3U,KAAK,OACLC,MAAOwiB,EAAOQ,OAAOjjB,KACrBkjB,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,QACtCoa,EAAOvgB,OAAOlC,MACb,gBAACiqB,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOlC,SAMjD,gBAAC,GAAD,CAAaqjB,GAAI,GACf,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEL,YAAad,GAAGG,aAAazI,QAC7BvF,SAAUoO,EAAO9N,aACjB3U,KAAK,UACLC,MAAOwiB,EAAOQ,OAAOrJ,QACrBsJ,SAAUT,EAAOU,eAEnB,gBAACqH,GAAD,KAAe,IAAM/H,EAAOQ,OAAOrJ,QAAQvR,QAC1Coa,EAAOvgB,OAAO0X,SACb,gBAACqQ,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAO0X,cAQrD,gBAAC0Q,GAAD,KACE,gBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAGrB,gBAAC,SAAD,eAEF,gBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,oBAQNqe,GAAmBr3B,GAAO+P,GAAP/P,CAAH,MAEN,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAItCgc,GAA0BvZ,GAAO8X,GAAP9X,CAAH,MAgBvB6H,GAAQ7H,GAAOQ,QAAPR,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCsb,GAAcxZ,GAAOQ,QAAPR,CAAH,MACN,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCob,GAAWtZ,GAAOoP,IAAV,KAIVoI,gBAIS,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aACnC0C,IAAMC,SAAS,SAAfD,CATQ,OAiBD,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAQnCmb,GAAOrZ,GAAOO,QAAPP,CAAH,KAGNY,IAAMC,SAAS,SAAfD,CAHM,O,u0BCzJV,I,GAAM2O,GAAK,CACTG,aAAc,CACZlJ,IAAKiJ,oBAAS,iCACdpiB,KAAMoiB,oBAAS,oCACfxI,QAASwI,oBAAS,6DAClBoV,OAAQpV,oBAAS,sBACjB7D,MAAO6D,oBAAS,yDAWP6nB,GAAY,SAAC72B,GAAkB,IAClCyM,EAAS8B,aAAiB5B,IAA1BF,KAER,OACE,gCACE,gBAACqqB,GAAD,KACE,gBAACC,GAAD,CAAMpzB,SAAU3D,EAAMg3B,gBAAgBrnB,cACpC,gBAACsnB,GAAD,CACErnB,YAAanD,EAAKzd,EAAE8f,GAAGG,aAAalJ,KACpC+J,SAAU9P,EAAMg3B,gBAAgBjnB,aAChCnjB,KAAK,WACLC,MAAOmT,EAAMg3B,gBAAgBnnB,OAAOqnB,WAEtC,gBAACC,GAAD,CACEl2B,SAAUjB,EAAMg3B,gBAAgBz1B,aAChCtR,KAAK,UAGL,gBAAC,KAAD,CAAQoR,MAAO,GAAIxC,OAAQ,GAAIwX,YAAa,MAG/CrW,EAAMg3B,gBAAgBloC,OAAOooC,UAC5B,gBAAC,GAAD,CAAOt3B,QAAQ,YAAYI,EAAMg3B,gBAAgBloC,OAAOooC,WAG3Dl3B,EAAMg3B,gBAAgBz1B,aACrB,gBAAC61B,GAAD,KACE,gBAAC,GAAD,OAEA,KACHp3B,EAAMq3B,UAAY,gBAAC,GAAD,CAAShoB,OAAQrP,EAAMqP,OAAQkJ,OAAQvY,EAAMs3B,gBAAoB,OAKpFP,GAAOx3B,GAAOlJ,KAAV,MAIJygC,GAAav3B,GAAOe,OAAPf,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAC5B,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAItCu5B,GAAgB73B,GAAOoP,IAAV,MAIbsoB,GAAc13B,GAAO01B,KAAP11B,CAAH,MAED,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAEtB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAG5C25B,GAAO53B,GAAOg4B,OAAV,MAUC,SAAAv3B,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmkC,QAEzB,SAAAx3B,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAO0J,aCvF7ByV,GAAmBC,UAA0B,CACxD7lB,KAAM6lB,YACHC,IAAI,IACJC,WACHnM,QAASiM,YAAaC,IAAI,KAC1BpM,MAAM,GAAAmM,YAA2BpX,KAA3B,qBAAmC4d,OAG9Bwe,GAA4C,CACvD7qC,KAAM,GACN4Z,QAAS,GACTF,KAAM,IAEKoxB,GAAyB,CACpCR,SAAU,IAQCS,GAAiC,SAAC,GAA0C,IAAD,EHgBvCxyB,EGhBAiU,EAAuC,EAAvCA,KAAMtgB,EAAiC,EAAjCA,aACrCmiB,EAAmBoY,KAA3B5e,OAD8E,EHiBzEnP,IAAoGoxB,GAA+BvxB,GGjB1D,mBAE/EyyB,EAF+E,KAEjEC,EAFiE,KAIrEC,EAAwBtT,iBACvC/R,UAAiC,CAC/BykB,SAAUzkB,YACP6e,QAAQn+B,IACRwf,SAASlG,GAAKzd,EAAE,uBAJf6d,QAQFmqB,EAAkBvzB,aAAgC,CACtDC,cAAeg0B,GACf5kB,oBAAoB,EACpBN,iBAAkBslB,EAClBn0B,SAAU,gBAAGuzB,EAAH,EAAGA,SAAH,OAAkBU,EAAa,CAAE/gC,UAAW,CAAEkP,IAAKmxB,QAGzDa,EAAW,UAAGF,EAAkB3nC,YAArB,aAAG,EAAwB8nC,iBACtCC,EAAkBx0B,aAAyB,CAC/CC,cAAeq0B,EACX,CACEzxB,KAAMyxB,EAAY5sB,OAAS,GAC3Bve,KAAMmrC,EAAY1lB,OAAS,GAC3B7L,QAASuxB,EAAYvxB,SAAW,IAElCixB,GACJjlB,oBACAM,oBAAoB,EACpBnP,SAAU,YAA8B,IAA3B2C,EAA0B,EAA1BA,KAAM1Z,EAAoB,EAApBA,KAAM4Z,EAAc,EAAdA,QACjBT,GAAiB,OAAXgyB,QAAW,IAAXA,OAAA,EAAAA,EAAahyB,MAAOixB,EAAgBnnB,OAAOqnB,SACvD,GAAKnxB,EAGL,OAAOkV,EAAe,CACpBniB,aAAcA,EACdzJ,QAAS0W,EACTO,OACA/M,SAAU,CACR3M,KAAMA,EACN4Z,QAASA,KAEVrY,KAAKirB,MAIZ,OACE,kBAAC,GAAD,CACE4d,gBAAiBA,EACjBM,cAAele,EACf/J,OAAQ4oB,EACRZ,YAAaU,K,2PCvCZ,IC9BKG,GDmGG7xB,GArE4B,SAAC,GAerC,IAdLmvB,EAcI,EAdJA,eACAqB,EAaI,EAbJA,UACAsB,EAYI,EAZJA,oBACAC,EAWI,EAXJA,UACAC,EAUI,EAVJA,UACAC,EASI,EATJA,SACAC,EAQI,EARJA,kBACAC,EAOI,EAPJA,kBACA/F,EAMI,EANJA,kBACAz5B,EAKI,EALJA,YACA+rB,EAII,EAJJA,cACAC,EAGI,EAHJA,cACAyT,EAEI,EAFJA,UACAzuB,EACI,EADJA,OAEA,OACE,gBAAChI,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,GAAD,KAEGszB,EACD,gBAAC,GAAD,CAAM8C,SAAUA,IAChB,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAO1jC,KAAM0jC,EAASza,WACpB,gCACE,gBAACvb,GAAD,KAAc81B,GACbI,GAAqB,gBAAC,GAAD,CAAU72B,eAAgB62B,MAGpD,gBAAC,KAAD,CAAOE,OAAK,EAAC9jC,KAAM0jC,EAASvF,WAC1B,gCACGN,EACC,gBAACkG,GAAD,CAAYj3B,EAAG,GACb,gBAACZ,GAAD,CAAQqe,GAAI,EAAGvd,QAAS62B,EAAW74B,QAAQ,WACzC,gBAAC,SAAD,oBAEF,gBAACkB,GAAD,CAAQc,QAASoI,EAAQpK,QAAQ,WAC/B,gBAAC,SAAD,8BAGF,KACHi3B,EACAsB,EACD,gBAAC71B,GAAD,KACG+1B,EAAUzqC,KAAI,SAAAgrC,GAAQ,OACrB,gBAAC,KAAD,CAAKvN,GAAI,EAAGlb,GAAI,EAAGG,GAAI,EAAG3E,IAAKitB,EAASjtB,KAAO,IAC5CitB,OAINL,GAAqB,gBAAC,GAAD,CAAU52B,eAAgB42B,UAO5D,gBAACr4B,GAAD,KACE,gBAAC,GAAD,CAAcoQ,GAAI,EAAG1Q,QAAQ,YAC3B,gBAAC,SAAD,mBAEF,gBAAC,GAAD,CAAepR,GAAIwK,EAAapM,KAAMm4B,EAAeze,KAAM0e,OAQ7DU,GAAenmB,GAAOQ,QAAPR,CAAH,MAeZs5B,GAAY3kC,EAAQ,KAAkCylB,QACtDmf,GAAc5kC,EAAQ,KAAsCylB,QAE5Dof,GAAkD,SAAC,GAAD,IAAGT,EAAH,EAAGA,SAAH,OACtD,gBAACj2B,GAAD,CAAUX,EAAG,EAAGs3B,GAAI,GAKlB,gBAAC72B,GAAD,CAAUu2B,OAAK,EAACvyB,GAAImyB,EAASvF,WAC3B,uBAAKnyB,UAAU,eACb,gBAAC,SAAD,sBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAACk4B,GAAD,CAAa1iC,KAAK,SAItB,gBAAC+L,GAAD,CAAUu2B,OAAK,EAACvyB,GAAImyB,EAASza,WAC3B,uBAAKjd,UAAU,eACb,gBAAC,SAAD,mBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAACi4B,GAAD,CAAWziC,KAAK,WAMlBuiC,GAAap5B,GAAOO,QAAPP,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,e,SClJhCo7B,O,+BAAAA,I,0BAAAA,Q,KAUZ,IAAMe,GAA+B,qCAC/BC,GAAiC,wCAI1BC,GAAqC,SAAAn5B,GAAU,IAAD,EACvB+M,qBADuB,mBAClDqsB,EADkD,KACvCC,EADuC,KAEnDC,EAAa11B,uBAAY,kBAAMy1B,OAAar/B,KAAY,IACtDlB,EAAgCkH,EAAhClH,aAAcypB,EAAkBviB,EAAlBuiB,SAAUsH,EAAQ7pB,EAAR6pB,IAHyB,EAIf2I,GAAcxyB,EAAMlH,cAAtDD,EAJiD,EAIjDA,WAAY45B,EAJqC,EAIrCA,kBACd8G,EACJ1P,IAAQqO,GAAkBE,UACtBa,IACAf,GAAkBsB,aAClBN,IAGN3mB,MAAc,OAAC1Z,QAAD,IAACA,OAAD,EAACA,EAAYjM,OAAQ2sC,EAAqB1gC,GAZC,IAcjDq6B,EAA4BF,GAAuBhzB,EAAMlH,cAAzDo6B,wBACDsF,EAfkD,YAe7BtF,EAAwB3vB,QAfK,MAiBjDuvB,EAAkBF,GAAuB5yB,EAAMlH,cAA/Cg6B,cACDyF,EAlBkD,YAkB7BzF,EAAcvvB,QAlBe,MAoBnDk2B,EAAkBhX,KAElB+S,EAAiB,kBAAC,GAAD,CAAmBjT,SAAUA,EAAUzpB,aAAcA,IAEtEu/B,EAAYvF,EAAc1uB,MAC7BxW,KAAI,SAAA2L,GAAQ,OAAI,kBAAC,GAAD,CAAoBC,WAAYD,EAAS/K,GAAImd,IAAKpS,EAAS/K,QAC3EvB,QAAO,SAAC+B,GAAD,QAA4BA,KAEhCopC,EAA8ClF,EAAwB9uB,MACzExW,KACC,SAAA8rC,GAAM,OACJA,EAAOrc,SACL,kBAAC,GAAD,CAAgBjkB,OAAQsgC,EAAOrc,QAAQjkB,OAAQuS,IAAK+tB,EAAOrc,QAAQjkB,YAGxEnM,QAAO,SAAC+B,GAAD,QAA4BA,KAEhCmpC,EACU,WAAdiB,EACE,kBAAC,GAAD,CAAgBhgB,KAAMkgB,EAAYxgC,aAAcA,IAC9C,KAEA+9B,EACU,UAAduC,EAAwB,kBAAC,GAAD,CAActgC,aAAcA,EAAcsgB,KAAMkgB,IAAiB,KAErFK,EAAsBt2B,mBAAoC,WAAO,IAAD,IACpE,IAAKxK,EACH,OAAO,KAET,IAAMy/B,EAA4C,CAChDza,UAAW+b,GAAmBhQ,QAAQ,CAAE9wB,eAAc+wB,IAAK,kBAAe7vB,GAC1E+4B,UAAW6G,GAAmBhQ,QAAQ,CAAE9wB,eAAc+wB,SAAK7vB,QAAaA,IAmB1E,MAjBqC,CACnC68B,YACArB,iBACA6C,YACAF,sBACAG,WACAF,YACApT,eAAe,UAAAnsB,EAAWE,iBAAX,mBAAsBuN,YAAtB,eAA4BP,MAAO,GAClD/M,YAAaH,EAAWE,UAAYF,EAAWE,UAAUvK,GAAK,GAC9Du2B,cAAelsB,EAAWE,UAAYF,EAAWE,UAAUnM,KAAO,GAClE4rC,oBACAD,oBACA9F,oBACAgG,UAAW,kBACTY,EAA2B,UAAdD,GAAyBK,SAAoBz/B,EAAY,UACxEgQ,OAAQ,kBAAMqvB,EAA2B,WAAdD,GAA0BK,SAAoBz/B,EAAY,cAGtF,CACDnB,EACAC,EACA+9B,EACArB,EACA6C,EACAF,EACAC,EACAI,EACAD,EACA9F,EACA2G,EACAK,IAEF,OAAOE,GAAuB,kBAAC,GAAqBA,I,2UC7GtD,ICSYvb,GDTN9O,GAAY/P,GAAOoP,IAAV,MAgBFkrB,GAAW,WACtB,OACE,gCACE,gBAAC,GAAD,KACE,gBAAC,OAAD,CAAKjyB,GAAI,CAAEkT,UAAW,WACpB,gBAAClM,GAAD,MACA,gBAAC,WAAD,KACE,wBAAMkrB,aAAW,OAAOC,KAAK,OAA7B,gBAGA,gBAAC,SAAD,4BE1BNC,GAAoB,sBAEbC,GAA+B,WAE1C,OADA1nB,GAAaynB,GAAmB,IACzB,kBAAC,GAAD,OCJIE,GAA2B,WAAO,IAAD,I9J2GH/0B,E8J1GnCg1B,G9J0GmCh1B,E8J1GgB,CACvDtO,UAAW,CAAEwO,MAJ2B,K9J8G7BC,IAAqFgD,GAA4BnD,I8JvGxHi1B,EAAyBl3B,GAAO,UACpCi3B,EAAkBjqC,YADkB,iBACpC,EAAwBwa,UADY,aACpC,EAA4BvR,KAAKszB,kBACjC,YAAyB,IAAtBztB,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO21B,EAAkB10B,UAAU,CACjC5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAXY,KAYpCK,YAAa,SAACX,EAAD,GAAgC,IAAD,YAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB+E,UAAjB,mBAAqBvR,YAArB,eAA2BszB,oBAA3B,UAA+C1nB,EAAK2F,UAApD,iBAA+C,EAASvR,YAAxD,aAA+C,EAAeszB,kBAA9D,2BAEE9mB,GAFF,IAGD+E,GAAG,2BACE/E,EAAgB+E,IADnB,IAEAvR,KAAK,2BACAwM,EAAgB+E,GAAGvR,MADpB,IAEFszB,iBAAkBjoB,EAAO,CACvBO,KAAI,UAAEA,EAAK2F,UAAP,aAAE,EAASvR,KAAKszB,iBACpB3nB,QAAO,UAAEa,EAAgB+E,UAAlB,aAAE,EAAoBvR,KAAKszB,yBAK1C1nB,QAMZ,OAAO1B,mBAAQ,WACb,MAAO,CACL+2B,4BAED,CAACA,K,8jEF1BMhc,O,qBAAAA,I,oBAAAA,Q,KAKZ,IAAMic,GAAmB96B,GAAOO,QAAPP,CAAH,KAEfY,IAAMC,SAAS,SAAfD,CAFe,OAOhBm6B,GAAkB/6B,GAAOe,OAAPf,CAAH,MAKfg7B,GAAeh7B,GAAOe,OAAPf,CAAH,KAIdY,IAAMC,SAAS,SAAfD,CAJc,MAMbA,IAAMC,SAAS,QAAfD,CANa,OAYZq6B,GAAkBj7B,GAAOe,OAAPf,CAAH,MAqBfiB,GAAMjB,GAAOe,OAAPf,CAAH,MAMHk7B,GAAgBl7B,GAAO6C,KAAP7C,CAAH,MAQC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAGjC,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAMrC49B,GAAcn7B,GAAO6C,KAAP7C,CAAH,MASF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAK9B,SAAAyM,GAAK,OAAKA,EAAM26B,SAAW36B,EAAMrD,MAAMtJ,OAAOE,QAAUyM,EAAMrD,MAAMtJ,OAAOsK,UAIlF8C,GAAUlB,GAAOO,QAAPP,CAAH,MAIK,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,SAE1C2C,IAAMC,SAAS,SAAfD,CANS,OAaPy6B,GAAYr7B,GAAOQ,QAAPR,CAAH,MAIJ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,SAKnCoK,aAAS,UAUP8yB,GAAet7B,GAAOq7B,GAAPr7B,CAAH,MAmCLu7B,GAA2B,SAAA96B,GAAU,IACxCyM,EAAS8B,aAAiB5B,IAA1BF,KAER,OACE,gCACGzM,EAAM+6B,cACL,gBAACV,GAAD,CAAkBz5B,UAAU,WAC1B,gBAAC05B,GAAD,KACE,gBAACC,GAAD,KACGv6B,EAAMgf,SAAWZ,GAAOa,QACvB,gBAAC,QAAD,gBAEA,gBAACub,GAAD,KACE,gCACE,gBAAC,GAAD,KACE,gBAACE,GAAD,CAAahC,OAAK,EAACvyB,GAAInG,EAAMg7B,cAC3B,gBAAC,GAAD,CAASlQ,WAAY,UACnB,gBAAC,OAAD,CAAKjsB,OAAO,QACV,gBAAC,KAAD,CAAOzI,KAAM,GAAIigB,YAAY,OAE/B,gBAACwkB,GAAD,CAAcj7B,QAAQ,QACpB,gBAAC,SAAD,oBAIN,gBAAC86B,GAAD,CAAahC,OAAK,EAACvyB,GAAInG,EAAMi7B,UAC3B,gBAAC,GAAD,CAASnQ,WAAY,UACnB,gBAAC,GAAD,CAAQ10B,KAAK,IAAI8Q,IAAKlV,KACtB,gBAAC6oC,GAAD,CAAcj7B,QAAQ,QAAQ6M,EAAKzd,ElL1LlC,mBkL8LP,gBAAC,GAAD,KACGgR,EAAMk7B,YAAYttC,KAAI,SAACmL,EAA6BlE,GAA9B,OACrB,gBAAC4lC,GAAD,CAAe9uB,IAAK5S,EAAUmD,KAAMiK,GAAIpN,EAAUmD,MAChD,gBAAC,GAAD,CAAS4uB,WAAY,SAAUxa,GAAI,GACjC,gBAAC,GAAD,CACEla,KAAK,IACL2jB,SAAUhhB,EAAUnM,KAAKotB,OAAO,EAAG,GACnC9S,IAAKnO,EAAUuN,OAEjB,gBAACu0B,GAAD,CAAcj7B,QAAQ,QAAQ7G,EAAUnM,WAI7CoT,EAAM2B,gBAAkB,gBAAC,GAAD,CAAUA,eAAgB3B,EAAM2B,uBAQrE,OG9NGw5B,GAAiC,WAAO,IAAD,I7F6DAh2B,E6F5D5Ci2B,E7F6DO91B,IAAuGya,GAAqC5a,G6F5DnJk2B,EAA0Bn4B,GAAO,UACrCk4B,EAAqBlrC,YADgB,iBACrC,EAA2BogC,gBADU,aACrC,EAAqCgL,qBACrC,YAAyB,IAAtBt8B,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO42B,EAAqB31B,UAAU,CACpC5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB2qB,gBAAjB,eAA2BgL,uBAA3B,UACLv2B,EAAKurB,gBADA,aACL,EAAegL,qBADV,2BAGE31B,GAHF,IAID2qB,SAAS,2BACJ3qB,EAAgB2qB,UADb,IAENiL,mBAAoB/2B,EAAO,CACzBO,KAAMA,EAAKurB,SAASgL,oBACpBx2B,QAASa,EAAgB2qB,SAASgL,0BAIxCv2B,QAMZ,OAAO1B,mBAAQ,WACb,MAAO,CACLg4B,6BAED,CAACA,K,qBCiiBOG,I,cAAmC,SAAC,GAAD,QAC9Cn6B,aAD8C,MACtC,GADsC,MAE9CxC,cAF8C,MAErC,GAFqC,MAG9CwX,mBAH8C,MAGhC,EAHgC,MAI9CrY,aAJ8C,MAItC,OAJsC,SAM9C,uBACEy9B,MAAM,6BACNz9B,MAAOA,EACPqD,MAAOA,EACPxC,OAAQA,EACR68B,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPvlB,YAAaA,EACbwlB,cAAc,QACdC,eAAe,QACfl7B,UAAU,6BAEV,4BAAUm7B,OAAO,uBAqZRtrB,GAA6B,SAAC,GAAD,QACxCpP,aADwC,MAChC,GADgC,MAExCxC,cAFwC,MAE/B,GAF+B,MAGxCwX,mBAHwC,MAG1B,EAH0B,MAIxCrY,aAJwC,MAIhC,OAJgC,SAMxC,uBACEy9B,MAAM,6BACNz9B,MAAOA,EACPqD,MAAOA,EACPxC,OAAQA,EACR68B,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPvlB,YAAaA,EACbwlB,cAAc,QACdC,eAAe,QACfl7B,UAAU,yBAEV,4BAAUm7B,OAAO,qB,umCCr/Bd,IAAM30B,GAAQ7H,GAAOO,KAAPP,CAAH,MAGC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAEpC,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAG1B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAW5Bu+B,GAAez8B,GAAOO,KAAPP,CAAH,MAMV,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAM1B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAOvCw+B,GAAkB18B,GAAOO,KAAPP,CAAH,MAKfiI,GAAajI,GAAOO,KAAPP,CAAH,MAEL,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UASvB,SAAAwC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAY/B2oC,GAAoD,SAAAl8B,GAC/D,IAAMm8B,EAAY3X,mBAElB,OACE,oCACE,kBAAC,GAAD,KACE,4BACE,kBAAC,SAAD,6BAAoC,KAGtC,kBAACwX,GAAD,KACGh8B,EAAMo8B,QACL,kBAACH,GAAD,KACE,kBAAC,GAAD,CAAYr6B,QAAS5B,EAAMq8B,YACvBr8B,EAAM0iB,UAKN,kBAAC5hB,GAAD,CAAQlB,QAAS,WACf,kBAAC,SAAD,cALF,kBAACkB,GAAD,CAAQlB,QAAS,WACf,kBAAC,SAAD,gBASN,KACJ,0BAAMgC,QAASu6B,EAAUtvB,SAAWsvB,EAAUtvB,QAAQyvB,WACpD,kBAAC,GAAD,CAAaj7B,MAAO,GAAIxC,OAAQ,GAAIwX,YAAa,EAAGrY,MAAO,UAE7D,0BAAM4D,QAASu6B,EAAUtvB,SAAWsvB,EAAUtvB,QAAQ0vB,WACpD,kBAAC,GAAD,CAAOl7B,MAAO,GAAIxC,OAAQ,GAAIwX,YAAa,EAAGrY,MAAO,YAI3D,kBAAC,KAAD,CAAKc,GAAI,GACP,kBAAC,KAAD,eACEylB,IAAK,SAAAxF,GAAC,OAAKod,EAAUtvB,QAAUkS,QAAK/kB,IAChCwiC,GAAex8B,EAAMs7B,oBAAoBrmC,SAE5C+K,EAAMs7B,wBASXkB,GAAiB,SAACC,GAAD,MAA2B,CAChDC,MAAM,EACNC,QAAQ,EACRC,UAAU,EACVC,UAAU,EACVC,MAAO,IACPL,aAAcA,EAAe,EAAI,EAAIA,EACrCM,eAAgB,EAChBC,WAAY,CACV,CACEC,WAAY,KACZC,SAAU,CACRT,aAAcA,EAAe,EAAI,EAAIA,EACrCM,eAAgB,IAGpB,CACEE,WAAY,IACZC,SAAU,CACRT,aAAcA,EAAe,EAAI,EAAIA,EACrCM,eAAgB,IAGpB,CACEE,WAAY,IACZC,SAAU,CACRT,aAAc,EACdM,eAAgB,O,0wCChJxB,IAAMI,GAAiBjpC,EAAQ,KAyCzB4N,GAAUvC,GAAOe,OAAPf,CAAH,KAOTY,IAAMC,SAAS,SAAfD,CAPS,OAePmW,GAAM/W,GAAOoP,IAAV,MASH6B,GAAQjR,GAAOoP,IAAV,MAULvH,GAAQ7H,GAAOQ,QAAPR,CAAH,KAEPwI,aAAS,UAKPq1B,GAAS79B,GAAOe,OAAPf,CAAH,MAKI,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAS7B6/B,GAlFoC,SAAC,GAAgD,IAA9CxkC,EAA6C,EAA7CA,WAAYujC,EAAiC,EAAjCA,QAAS1Z,EAAwB,EAAxBA,UAAWtU,EAAa,EAAbA,OACpF,OACE,gBAAC,GAAD,CAASmoB,GAAI,EAAGjmB,GAAI,EAAG6O,GAAI,GACxBid,GAAW1Z,EACV,gBAAC0a,GAAD,CAAQx7B,QAASwM,GACf,gBAAC,WAAD,CAAGpQ,MAAM,OAAO5H,KAAM,MAEtB,KACJ,gBAAC,KAAD,CAAM+P,GAAItN,EAAWqD,MACnB,gBAAC,GAAD,CACE+R,MAAO,CACLsI,gBAAgB,QAAD,OAAU1d,EAAWyN,MAAQ62B,GAA7B,QAGjB,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAOhtB,GAAI,EAAG1R,WAAY,KACvB5F,EAAWjM,KAAKqI,OAAS,GACtB4D,EAAWjM,KAAKkiC,QAAQ,mBAAoB,SAC5Cj2B,EAAWjM,WCzBhBsvC,GAA+C,WAAO,IACzDtxB,EAAYX,KAAZW,QACAywB,EAA4BF,KAA5BE,wBAFwD,EAIhCloB,sBAAW,SAAApO,GAAI,OAAKA,KAAM,GAJM,mBAIzD2d,EAJyD,KAI9C2Z,EAJ8C,OAQ5DtvB,mBAA2C,MARiB,mBAM9DuwB,EAN8D,KAO9DC,EAP8D,KAU1DjC,EAAsBj4B,mBAC1B,kBACEg4B,EAAwBj3B,MACrBxW,KAAI,SAAA4vC,GAAY,IAAD,EACRC,EAAqBD,EAAQ3nC,QACnC,IAAK4nC,GAAwD,eAAlCA,EAAmB9kC,WAC5C,OAAO,KAET,IASMqH,EAAyB,CAC7BnH,WAVgD,CAChDyN,MAAM,UAAAm3B,EAAmBn3B,YAAnB,eAAyBP,MAAO,GACtCnZ,KAAM6wC,EAAmB7wC,KACzBsP,KAAM09B,GAAmBhQ,QACvB,CAAE9wB,aAAc2kC,EAAmBjvC,GAAIq7B,SAAK7vB,QAC5CA,IAMFoiC,QAASxxB,EACT8X,YACAtU,OAAQ,kBAAMmvB,EAA2BC,KAE3C,OAAO,kBAAC,GAAD,eAAiB7xB,IAAK8xB,EAAmBjvC,IAAQwR,OAEzD/S,QAAO,SAAC+B,GAAD,QAA4BA,OACxC,CAACqsC,EAAwBj3B,MAAOwG,EAAS8X,IAGrCgb,EAAsBr6B,mBAC1B,wBACEi6B,GACgD,gBAAhD,UAAAA,EAAwBznC,eAAxB,eAAiC8C,aAC/B,kBAAC,GAAD,CAAOyf,WAAY,kBAAMmlB,EAA2B,QAClD,kBAAC,GAAD,CACE1uC,IAAKyuC,EAAwBznC,QAC7BujB,KAAM,kBAAMmkB,EAA2B,OACvCxc,UAAWuc,EAAwB9uC,QAI3C,CAAC8uC,IAGGK,EAAUt6B,mBAAiC,WAO/C,MANuC,CACrCi4B,sBACA5Y,YACA2Z,aACAD,QAASxxB,KAGV,CAAC0wB,EAAqB5Y,EAAW9X,IAEpC,OACE,oCACG8yB,EACD,kBAAC,GAA0BC,K,uUC9C1B,IAAMC,GAA4B,SAAC,GAQnC,IAPLC,EAOI,EAPJA,cACAC,EAMI,EANJA,uBAEAn7B,GAII,EALJo7B,uBAKI,EAJJp7B,kBACAq7B,EAGI,EAHJA,iBACAr8B,EAEI,EAFJA,eACA22B,EACI,EADJA,SAEA,OACE,gBAACt2B,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC+7B,GAAD,KAAkBH,GAClB,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAMxF,SAAUA,IAChB,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAOI,OAAK,EAAC9jC,KAAM0jC,EAAS4C,aAC1B,gBAAC54B,GAAD,KAAc07B,GACbr8B,GAAkB,gBAAC,GAAD,CAAUA,eAAgBA,KAE/C,gBAAC,KAAD,CAAO+2B,OAAK,EAAC9jC,KAAM0jC,EAAS9yB,aAC1B,gBAAClD,GAAD,KACE,gBAACE,GAAD,KAAqBG,IAEtBhB,GAAkB,gBAAC,GAAD,CAAUA,eAAgBA,KAE/C,gBAAC,KAAD,CAAO+2B,OAAK,EAAC9jC,KAAM0jC,EAAS4F,UAC1B,gBAACn8B,GAAD,KAAO87B,GACNl8B,GAAkB,gBAAC,GAAD,CAAUA,eAAgBA,WASvDk3B,GAAY3kC,EAAQ,KAAkCylB,QACtDwkB,GAAejqC,EAAQ,KAAqCylB,QAE5Dof,GAAkD,SAAC,GAAD,IAAGT,EAAH,EAAGA,SAAH,OACtD,gCACE,gBAAC,GAAD,CAAOx5B,GAAI,EAAGmR,GAAI,GAChB,gBAAC,QAAD,CAAMrQ,QAAQ,YAAd,yBAEF,gBAACyC,GAAD,KACE,gBAACF,GAAD,CAAUu2B,OAAK,EAACvyB,GAAImyB,EAAS4F,UAC3B,uBAAKt9B,UAAU,eACb,gBAAC,SAAD,kBAIF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAAC,GAAD,CAAWxK,KAAK,SAGpB,gBAAC+L,GAAD,CAAUu2B,OAAK,EAACvyB,GAAImyB,EAAS4C,aAC3B,uBAAKt6B,UAAU,eACb,gBAAC,SAAD,yBAEF,gBAACu9B,GAAD,CAAcv9B,UAAU,eACtB,gBAAC,GAAD,CAAWxK,KAAK,YAMpBgR,GAAQ7H,GAAOe,OAAPf,CAAH,MACK,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAKtCmhC,GAAkB1+B,GAAOO,QAAPP,CAAH,MAIL,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cC5G/BshC,GAA8B,WAAO,IAAD,I7I6EAj5B,E6I5EzC2mB,G7I4EyC3mB,E6I5EU,CACvDtO,UAAW,CAAEwO,MAAO1T,K7I4ET2T,IAAiGuO,GAAkC1O,I6IzE1IoW,EAAiBrY,GAAO,UAC5B4oB,EAAY57B,YADgB,iBAC5B,EAAkBogC,gBADU,aAC5B,EAA4B9U,QAC5B,YAAyB,IAAtBxc,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOsnB,EAAYrmB,UAAU,CAC3B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB2qB,gBAAjB,eAA2B9U,UAA3B,UAAqCzW,EAAKurB,gBAA1C,aAAqC,EAAe9U,QAApD,2BAEE7V,GAFF,IAGD2qB,SAAS,2BACJ3qB,EAAgB2qB,UADb,IAEN9U,OAAQhX,EAAO,CACbO,KAAMA,EAAKurB,SAAS9U,OACpB1W,QAASa,EAAgB2qB,SAAS9U,aAIxCzW,QAMZ,OAAO1B,mBAAQ,WACb,MAAO,CACLkY,oBAED,CAACA,KChCO8iB,GAAiC,WAAO,IAAD,IlG6DAl5B,EkG5D5Cm5B,ElG6DOh5B,IAAuG4a,GAAqC/a,GkG5DnJo5B,EAA0Br7B,GAAO,UACrCo7B,EAAqBpuC,YADgB,iBACrC,EAA2BogC,gBADU,aACrC,EAAqCkO,qBACrC,YAAyB,IAAtBx/B,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO85B,EAAqB74B,UAAU,CACpC5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB2qB,gBAAjB,eAA2BkO,uBAA3B,UACLz5B,EAAKurB,gBADA,aACL,EAAekO,qBADV,2BAGE74B,GAHF,IAID2qB,SAAS,2BACJ3qB,EAAgB2qB,UADb,IAENkO,oBAAqBh6B,EAAO,CAC1BO,KAAMA,EAAKurB,SAASkO,oBACpB15B,QAASa,EAAgB2qB,SAASkO,0BAIxCz5B,QAKZ,OAAO1B,mBAAQ,WACb,MAAO,CACLk7B,6BAED,CAACA,K,umCCxBC,IAAMn3B,GAAQ7H,GAAOO,KAAPP,CAAH,MAGC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAEpC,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAG1B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAW5Bu+B,GAAez8B,GAAOO,KAAPP,CAAH,MAMV,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAM1B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAOvCw+B,GAAkB18B,GAAOO,KAAPP,CAAH,MAKfiI,GAAajI,GAAOO,KAAPP,CAAH,MAEL,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UASvB,SAAAwC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAY/BkrC,GAAoD,SAAAz+B,GAC/D,IAAMm8B,EAAY3X,mBAElB,OACE,oCACE,kBAAC,GAAD,KACE,4BACE,kBAAC,SAAD,6BAAoC,KAEtC,kBAAC,GAAD,KACGxkB,EAAMo8B,QACL,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYx6B,QAAS5B,EAAMq8B,YACvBr8B,EAAM0iB,UAKN,kBAAC5hB,GAAD,CAAQlB,QAAS,WACf,kBAAC,SAAD,cALF,kBAACkB,GAAD,CAAQlB,QAAS,WACf,kBAAC,SAAD,gBASN,KACJ,0BAAMgC,QAASu6B,EAAUtvB,SAAWsvB,EAAUtvB,QAAQyvB,WACpD,kBAAC,GAAD,CAAaj7B,MAAO,GAAIxC,OAAQ,GAAIwX,YAAa,EAAGrY,MAAO,UAE7D,0BAAM4D,QAASu6B,EAAUtvB,SAAWsvB,EAAUtvB,QAAQ0vB,WACpD,kBAAC,GAAD,CAAOl7B,MAAO,GAAIxC,OAAQ,GAAIwX,YAAa,EAAGrY,MAAO,YAI3D,kBAAC,KAAD,CAAKc,GAAI,GACP,kBAAC,KAAD,eACEylB,IAAK,SAAAxF,GAAC,OAAKod,EAAUtvB,QAAUkS,QAAK/kB,IAChCwiC,GAAex8B,EAAMw+B,oBAAoBvpC,SAE5C+K,EAAMw+B,wBASXhC,GAAiB,SAACC,GAAD,MAA2B,CAChDC,MAAM,EACNC,QAAQ,EACRC,UAAU,EACVC,UAAU,EACVC,MAAO,IACPL,aAAcA,EAAe,EAAI,EAAIA,EACrCM,eAAgB,EAChBC,WAAY,CACV,CACEC,WAAY,KACZC,SAAU,CACRT,aAAcA,EAAe,EAAI,EAAIA,EACrCM,eAAgB,IAGpB,CACEE,WAAY,IACZC,SAAU,CACRT,aAAcA,EAAe,EAAI,EAAIA,EACrCM,eAAgB,IAGpB,CACEE,WAAY,IACZC,SAAU,CACRT,aAAc,EACdM,eAAgB,O,0wCC/IxB,ICQY2B,GDRNvB,GAAiBjpC,EAAQ,KAyCzB4N,GAAUvC,GAAOe,OAAPf,CAAH,KAOTY,IAAMC,SAAS,SAAfD,CAPS,OAgBPmW,GAAM/W,GAAOoP,IAAV,MASH6B,GAAQjR,GAAOoP,IAAV,MAULvH,GAAQ7H,GAAOQ,QAAPR,CAAH,KAEPwI,aAAS,UAKPq1B,GAAS79B,GAAOe,OAAPf,CAAH,MAKI,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAS7BmhC,GAnFkC,SAAC,GAA+C,IAA7C5lC,EAA4C,EAA5CA,UAAWqjC,EAAiC,EAAjCA,QAAS1Z,EAAwB,EAAxBA,UAAWtU,EAAa,EAAbA,OACjF,OACE,gBAAC,GAAD,CAASmoB,GAAI,EAAGjmB,GAAI,EAAG6O,GAAI,GACxBid,GAAW1Z,EACV,gBAAC,GAAD,CAAQ9gB,QAASwM,GACf,gBAAC,WAAD,CAAGpQ,MAAM,OAAO5H,KAAM,MAEtB,KACJ,gBAAC,KAAD,CAAM+P,GAAIpN,EAAUmD,MAClB,gBAAC,GAAD,CACE+R,MAAO,CACLsI,gBAAgB,QAAD,OAAUxd,EAAUuN,MAAQ62B,GAA5B,QAGjB,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAOhtB,GAAI,EAAG1R,WAAY,KACvB1F,EAAUnM,KAAKqI,OAAS,GACrB8D,EAAUnM,KAAKkiC,QAAQ,mBAAoB,SAC3C/1B,EAAUnM,WEzBf6xC,GAA+C,WAAO,IACzD7zB,EAAYX,KAAZW,QACA2zB,EAA4BF,KAA5BE,wBAFwD,EAIhCprB,sBAAW,SAAApO,GAAI,OAAKA,KAAM,GAJM,mBAIzD2d,EAJyD,KAI9C2Z,EAJ8C,OAQ5DtvB,mBAA0C,MARkB,mBAM9DuwB,EAN8D,KAO9DC,EAP8D,KAU1DiB,EAAsBn7B,mBAC1B,kBACEk7B,EAAwBn6B,MACrBxW,KAAI,SAAA4vC,GAAY,IAAD,EACRoB,EAAoBpB,EAAQ3nC,QAClC,IAAK+oC,GAAsD,cAAjCA,EAAkBjmC,WAC1C,OAAO,KAET,IAQMqH,EAAwB,CAC5BjH,UAT6C,CAC7CuN,MAAM,UAAAs4B,EAAkBt4B,YAAlB,eAAwBP,MAAO,GACrCnZ,KAAMgyC,EAAkBhyC,KACxBsP,KAAMytB,GAAkBC,QACtB,CAAEC,SAAK7vB,EAAWhB,YAAa4lC,EAAkBpwC,SACjDwL,IAKFoiC,QAASxxB,EACT8X,YACAtU,OAAQ,kBAAMmvB,EAA2BC,KAE3C,OAAO,kBAAC,GAAD,eAAgB7xB,IAAKizB,EAAkBpwC,IAAQwR,OAEvD/S,QAAO,SAAC+B,GAAD,QAA4BA,OACxC,CAACuvC,EAAwBn6B,MAAOwG,EAAS8X,IAGrCgb,EAAsBr6B,mBAC1B,wBACEi6B,GACgD,eAAhD,UAAAA,EAAwBznC,eAAxB,eAAiC8C,aAC/B,kBAAC,GAAD,CAAOyf,WAAY,kBAAMmlB,EAA2B,QAClD,kBAAC,GAAD,CACE1uC,IAAKyuC,EAAwBznC,QAC7BujB,KAAM,kBAAMmkB,EAA2B,OACvCxc,UAAWuc,EAAwB9uC,QAI3C,CAAC8uC,IAGGK,EAAUt6B,mBAAiC,WAO/C,MANuC,CACrCqf,YACA2Z,aACAmC,sBACApC,QAASxxB,KAGV,CAAC8X,EAAW8b,EAAqB5zB,IACpC,OACE,oCACG8yB,EACD,kBAAC,GAA0BC,KC1EpBkB,GAAoB,WAAO,IAAD,ElJ+DA15B,EkJ9D/B25B,GlJ8D+B35B,EkJ9DU,CAC7CtO,UAAW,CAAEwO,MAAO1T,KlJ8DT2T,IAA6EyO,GAAwB5O,IkJ5D5G45B,EAAqB77B,GAAO,UAChC47B,EAAgB5uC,YADgB,aAChC,EAAsBgrC,aACtB,YAAyB,IAAtBl8B,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOs6B,EAAgBr5B,UAAU,CAC/B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAvBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,OAAA,EAAAA,EAAiBu1B,cAAen2B,EAAKm2B,YAArC,2BAEEv1B,GAFF,IAGDu1B,YAAa12B,EAAO,CAClBO,KAAMA,EAAKm2B,YACXp2B,QAASa,EAAgBu1B,gBAG7Bn2B,QAKZ,OAAO1B,mBAAQ,WACb,MAAO,CACL07B,wBAED,CAACA,M,SFjBML,O,2BAAAA,I,6BAAAA,I,8BAAAA,Q,KAWZ,IAAMM,GAA8B,2BAC9BC,GAA+B,4BAC/BC,GAA+B,4BAExBC,GAAiC,SAAC,GAAsB,EAApB5c,SAAqB,IAAXsH,EAAU,EAAVA,IACnDuV,EACJvV,IAAQ6U,GAAiBW,YACrBJ,GACApV,IAAQ6U,GAAiBY,YACzBJ,IACQR,GAAiBa,WACzBP,IAENzsB,GAAa6sB,GATsD,IAW3D7jB,EAAmB6iB,KAAnB7iB,eACDikB,EAZ4D,YAYPjkB,EAAehY,QAZR,MAc3Dw7B,EAAuBF,KAAvBE,mBACDU,EAf4D,YAeCV,EAAmBx7B,QAfpB,MAiB3DgC,EAAuBL,KAAvBK,mBACDm6B,EAlB4D,YAkBCn6B,EAAmBhC,QAlBpB,MAoB7Do6B,EAAUt6B,mBAAe,WAC7B,IAAM06B,EAAyB,kBAAC,GAAD,MACzBD,EAAyB,kBAAC,GAAD,MACzBD,EACJ,oCACGtiB,EAAenX,MAAMxW,KAAI,SAAA4K,GAAQ,OAChC,kBAAC,GAAD,CAAoBI,WAAYJ,EAAShK,GAAImd,IAAKnT,EAAShK,SAK3DmU,EACJ,oCACG4C,EAAmBnB,MAAMxW,KAAI,SAAAiL,GAAU,OACtC,kBAAC,KAAD,CAAK8f,EAAG,EAAGhN,IAAK9S,EAAWrK,IACzB,kBAAC,GAAD,CAAsBsK,aAAcD,EAAWrK,UAKjDwvC,EACJ,oCACGe,EAAmB36B,MAAMxW,KAAI,SAAAmL,GAAS,OACrC,kBAAC,KAAD,CAAK4f,EAAG,EAAGhN,IAAK5S,EAAUvK,IACxB,kBAAC,GAAD,CAAqBwK,YAAaD,EAAUvK,UAK9CmT,EACJkoB,IAAQ6U,GAAiBa,WACrBC,EACA3V,IAAQ6U,GAAiBW,YACzBK,EACA7V,IAAQ6U,GAAiBY,YACzBG,EACA,KAkBN,MAVqB,CACnBnH,SAPkC,CAClC9yB,YAAam6B,GAAiB/V,QAAQ,CAAEC,IAAK,oBAAiB7vB,GAC9DkhC,YAAayE,GAAiB/V,QAAQ,CAAEC,IAAK,oBAAiB7vB,GAC9DkkC,SAAUyB,GAAiB/V,QAAQ,CAAEC,SAAK7vB,QAAaA,IAKvD6jC,gBACAE,yBACAD,yBACAn7B,mBACAq7B,mBACAr8B,oBAID,CACD4Z,EAAenX,MACfo7B,EACAj6B,EAAmBnB,MACnBs7B,EACAX,EAAmB36B,MACnBq7B,EACA5V,IAGF,OAAO,kBAAC,GAAa8T,IG9FViC,GAAiB,SAK5BC,GACwC,IAAD,EAEjCC,EACJ,kBAAoBD,EAAWjrC,KAC3B,CAACirC,EAAWjrC,OACZ,UAACirC,EAAWjrC,YAAZ,aAAC,EAAiBK,QAElB4qC,EAAWjrC,KADX,GAKAg1B,EAAmC,SAACoH,EAAQzkC,GAAsB,IAAfwzC,EAAc,uDAAN,EACzDC,EAAUF,EAAWC,GAErBE,EAAe,IAAIC,gBAAgB3zC,GAAS,IAAI4zC,WAChDp6B,EAAMq6B,aAAaJ,EAAShP,GAClC,OAAOiP,EAAY,UAAMl6B,EAAN,YAAak6B,GAAiBl6B,GAcnD,MAAO,CACLqN,GAtB6B,SAAAxe,GAAI,QAAMyrC,aAAUzrC,EAAMirC,IAuBvDS,cAbmD,SAACtP,EAAQzkC,GAAoC,IAA7Bi0B,EAA4B,uDAApB,KAAMuf,EAAc,uDAAN,EACnFQ,GAAW/f,GAAQA,EAAMgP,QACzBgR,EAAe5W,EAAQoH,EAAQzkC,EAAOwzC,GACtCh6B,EAAMw6B,EAAWC,GAAoB,OAALhgB,QAAK,IAALA,OAAA,EAAAA,EAAO8O,eAAgB,MACvDmR,EAAyB,CAC7B56B,UAAW06B,EACXx6B,OAEF,OAAO06B,GAMP7W,YCrBS8W,GAAgC,CAC3ChI,OAAO,EACP9jC,KAAM,2CACN+rC,UAhCsE,SAAC,GAAe,IAChFC,EAD+E,EAAZC,MAC/C7P,OAAOnH,IAC3BA,EACY,gBAAhB+W,EACIlC,GAAiBW,YACD,gBAAhBuB,EACAlC,GAAiBY,YAChBsB,EAED,KADAlC,GAAiBa,WAEjBv/B,EAAQqD,mBAA6B,WACzC,OAAe,OAARwmB,EACH,KACA,CACEtH,SAAU,YACVsH,SAEL,CAACA,IACJ,OAAK7pB,EAKH,kBAAC,GAAD,KACE,kBAAC,GAAiBA,IALb,kBAAC,GAAD,QAqBE2/B,GAAmBC,GAAkCc,IC7CrDI,GAAuB,WAAO,IAAD,IvFoFA37B,EuFnFlC2mB,GvFmFkC3mB,EuFnFU,CAChDtO,UAAW,CAAEwO,MAAO1T,KvFmFT2T,IAAmFshB,GAA2BzhB,IuFhFrHoW,EAAiBrY,GAAO,UAC5B4oB,EAAY57B,YADgB,iBAC5B,EAAkBwa,UADU,aAC5B,EAAsBvR,KAAK4nC,OAC3B,YAAyB,IAAtB/hC,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOsnB,EAAYrmB,UAAU,CAC3B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiB+E,UAAjB,eAAqBvR,KAAK4nC,SAA1B,UAAmCh8B,EAAK2F,UAAxC,aAAmC,EAASvR,KAAK4nC,OAAjD,2BAEEp7B,GAFF,IAGD+E,GAAG,2BACE/E,EAAgB+E,IADnB,IAEAvR,KAAK,2BACAwM,EAAgB+E,GAAGvR,MADpB,IAEF4nC,MAAOv8B,EAAO,CACZO,KAAMA,EAAK2F,GAAGvR,KAAK4nC,MACnBj8B,QAASa,EAAgB+E,GAAGvR,KAAK4nC,cAKzCh8B,QAMZ,OAAO1B,mBAAQ,WACb,MAAO,CACLkY,oBAED,CAACA,K,2JCZC,IAAMylB,GAAwB,SAAC,GAQ3B,IAPTze,EAOQ,EAPRA,SACA0e,EAMQ,EANRA,cACAC,EAKQ,EALRA,gBAMA,OACE,gBAACl/B,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAOpD,GAAI,GACT,gBAAC,QAAD,CAAMc,QAAQ,YACZ,gBAAC,SAAD,sBAIJ,gBAAC,KAAD,KAaE,gBAAC,KAAD,CAAOhL,KAAI,UAAK2tB,IACd,gBAACxgB,GAAD,KAAOk/B,GACNC,GAAmB,gBAAC,GAAD,CAAUv/B,eAAgBu/B,WAYxD95B,GAAQ7H,GAAOe,OAAPf,CAAH,MACK,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAGzB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UC9DzCsjC,GAA0B,qBAEnBC,GAA+B,SAAC,GAAkB,IAAhB7e,EAAe,EAAfA,SAgD7ChQ,GAAa4uB,IAhD+C,IAkDpD5lB,EAAmBulB,KAAnBvlB,eACD2lB,EAnDqD,YAmDlC3lB,EAAehY,QAnDmB,MAoDtD09B,EAAgB59B,mBAAgC,WACpD,OACE,oCACGkY,EAAenX,MAAOxW,KACrB,SAAAyzC,GAAgB,OACdA,GACE,kBAAC,GAAD,CAAoBzoC,WAAYyoC,EAAiB7yC,GAAImd,IAAK01B,EAAiB7yC,WAKpF,CAAC+sB,IAEE+lB,EAAYj+B,mBAAe,WAU/B,MATqB,CACnB49B,gBAKAC,kBACA3e,cAGD,CACD0e,EAKAC,EACA3e,IAEF,OAAO,kBAAC,GAAS+e,ICjGNC,GAAmC,SAAC,GAAsB,IAApBliC,EAAmB,EAAnBA,SAAU8G,EAAS,EAATA,GAAS,EAC5C8D,KAAhBS,EAD4D,EAC5DA,GAER,OAHoE,EACxDC,QAGH,KAGLD,EACK,kBAAC,KAAD,CAAUvE,GAAIA,IAGhB,oCAAG9G,IAECmiC,GAAkC,SAAC,GAAD,IAAGniC,EAAH,EAAGA,SAAH,OAC7C,kBAAC,GAAD,CAAuB8G,GAAG,KAAK9G,IAGpBoiC,GAA+B,SAAC,GAAsB,IAApBpiC,EAAmB,EAAnBA,SAAU8G,EAAS,EAATA,GAAS,EACxC8D,KAAhBS,EADwD,EACxDA,GACR,OAFgE,EACpDC,QAEH,KAGJD,EAIE,oCAAGrL,GAHD,kBAAC,KAAD,CAAU8G,GAAIA,KAMZu7B,GAA+B,SAAC,GAAD,IAAGriC,EAAH,EAAGA,SAAH,OAC1C,kBAAC,GAAD,CAAmB8G,GAAG,UAAU9G,ICPrBsiC,GAA4B,CACvCjJ,OAAO,EACP9jC,KAAM,IACN+rC,UAvB8D,SAAC,GAAc,EAAZE,MAAa,IACxES,EAAgCj+B,mBACpC,iBAAO,CACLkf,SAAU,MAEZ,IAGF,OAAK+e,EAIH,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAgBA,KALd,kBAAC,GAAD,QAiBEM,GAAehC,GAAqC+B,ICtBpDE,GAA6B,WAAO,IAC/B9G,EAAkBvsB,qBAAWuE,IAArCC,OACAonB,EAA2BF,KAA3BE,uBACDz4B,EAHuC,YAGrBy4B,EAAuB72B,QAHF,MAIxC23B,EAAc73B,mBAClB,kBACE+2B,EAAuBh2B,MACpBxW,KAAI,SAAA8rC,GAAM,OAAIA,EAAO7jC,WACrB5I,QACC,SAAC4I,GAAD,MACyB,cAAvBA,EAAQ8C,cAEX/K,KAAsB,SAAAmL,GAAc,IAAD,EAClC,MAAO,CACLuN,MAAM,UAAAvN,EAAUuN,YAAV,eAAgBP,MAAO,GAC7B7J,KAAMytB,GAAkBC,QACtB,CAAE5wB,YAAaD,EAAUvK,GAAIq7B,SAAK7vB,QAClCA,GAEFpN,KAAMmM,EAAUnM,WAGxB,CAACwtC,IAGGuD,EAAUt6B,mBAAiB,WAS/B,MARuB,CACrB03B,gBACA/b,OAAQ8iB,GAAS3e,OACjB+X,cACAv5B,iBACAq5B,aAAc2E,GAAiB/V,QAAQ,CAAEC,SAAK7vB,QAAaA,GAC3DihC,SAAU2G,GAAahY,aAAQ5vB,OAAWA,MAG3C,CAACkhC,EAAaH,EAAep5B,IAChC,OAAO,kBAAC,GAAcg8B,I,y8BCrCjB,IAAM5iB,GAA4C,SAAC,GAKnD,IAJLH,EAII,EAJJA,eACApB,EAGI,EAHJA,gBACAwB,EAEI,EAFJA,aACAC,EACI,EADJA,eAEA,OACE,gBAAC,GAAD,CAAUd,YAAa,MAAOC,MAAOQ,GACnC,gBAAC,GAAD,KACE,gBAACmnB,GAAD,CAAangC,QAASgZ,GACpB,gBAAC,WAAD,CAAG5c,MAAM,cAGb,gBAAC,GAAD,CAAMuc,OAAK,GACT,gBAAC,GAAD,CAAM3a,QAAQ,OAAOgC,QAAS,kBAAM4X,MAClC,4BACE,gBAAC,WAAD,CAAOpjB,KAAM,GAAI4H,MAAO,UAE1B,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,wBAGJ,gBAAC,GAAD,CAAMA,QAAQ,OAAOgC,QAAS,kBAAMoZ,MAClC,4BACE,gBAAC,KAAD,CAAY5kB,KAAM,GAAI4H,MAAO,UAE/B,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,8BAGJ,gBAAC,GAAD,CAAMA,QAAQ,OAAOgC,QAAS,kBAAMqZ,MAClC,4BACE,gBAAC,KAAD,CAAM7kB,KAAM,GAAI4H,MAAO,UAEzB,gBAAC,QAAD,CAAM4B,QAAQ,QACZ,gBAAC,SAAD,mCAQNmC,GAAOxC,GAAOoP,IAAV,MAIJpH,GAAShI,GAAOO,QAAPP,CAAH,MAINib,GAAOjb,GAAOO,QAAPP,CAAH,MA0BG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAI5BwuC,GAAcxiC,GAAOg4B,OAAV,M,+lCCnCYlnC,IAAH,MA0C1B,IAAM2xC,GAAsB3xC,IAAH,MAiEzB,IC1JM4xC,GAAkB,WAAO,ID4IC98B,EC5IF,ED6ItBG,IAAgF08B,GAAqB78B,GC7I/E,mBAC5B+8B,EAD4B,KACZC,EADY,KAG7B1tB,EAASC,GAAwB,uCACrC,uCAAA9c,EAAA,yDAAShL,EAAT,EAASA,KAAMw1C,EAAf,EAAeA,KAAMppC,EAArB,EAAqBA,YAAaqpC,EAAlC,EAAkCA,WAAYC,EAA9C,EAA8CA,kBAAmBC,EAAjE,EAAiEA,SAC3DJ,EAAqBx3B,QAD3B,0EAKSu3B,EAAe,CACpBrrC,UAAW,CACTjK,OACAw1C,OACAppC,cACA+3B,OAAQ,WACRsR,aACAE,UACAD,wBAbN,2CADqC,sDAkBrC,CAACH,EAAsBD,IAGzB,OAAO7+B,mBAAQ,WACb,MAAO,CACLoR,YAED,CAACA,K,6iCCvCC,IAAMnF,GAAY/P,GAAO,MAAPA,CAAH,MAITijC,GAAYjjC,GAAO,MAAPA,CAAH,MAITkjC,GAAYljC,GAAO,QAAPA,CAAH,MASTmjC,GAAanjC,GAAO,OAAPA,CAAH,MAkBVojC,GAAapjC,GAAOoP,IAAV,M,6wBCjBvB,IAwCei0B,GAxCgB,SAAC,GAAD,IAC7Bp0C,EAD6B,EAC7BA,GACA5B,EAF6B,EAE7BA,KAF6B,IAG7BqD,YAH6B,MAGtB,OAHsB,MAI7B4yC,gBAJ6B,SAK7B/yB,EAL6B,EAK7BA,SAL6B,IAM7BF,mBAN6B,MAMf,GANe,EAO7BmlB,EAP6B,EAO7BA,MAP6B,IAQ7BloC,aAR6B,MAQrB,GARqB,MAS7Bi2C,YAT6B,MAStB,CAAEC,MAAO,QAASl2C,MAAO,IATH,MAU7BoU,gBAV6B,gBAY7B,kBAAC+hC,GAAD,CAAc/hC,SAAUA,GACtB,2BAAO0zB,QAASnmC,GAAKumC,GACX,aAAT9kC,GACC,2BACEzB,GAAIA,EACJyB,KAAMA,EACNrD,KAAMA,EACNi2C,SAAUA,EACVjzB,YAAaA,EACb/iB,MAAOA,EACPijB,SAAUA,EACV7O,SAAUA,IAGJ,aAAThR,GACC,8BACEzB,GAAIA,EACJ5B,KAAMA,EACNgjB,YAAaA,EACb/iB,MAAOA,EACPijB,SAAUA,EACV7O,SAAUA,IAGd,0BAAML,UAAS,eAAUkiC,EAAKC,QAAUD,EAAKj2C,SAM3Cm2C,GAAezjC,GAAO,MAAPA,CAAH,MAGH,SAAAS,GAAK,OAAwB,IAAnBA,EAAMiB,SAAoB,MAAQ,OAC7C,SAAAjB,GAAK,OAAwB,IAAnBA,EAAMiB,SAAoB,UAAY,UAyBjDgiC,GAAc1jC,GAAOqX,GAAPrX,CAAH,M,qoCCrFxB,IAAM2jC,GAAgB3jC,GAAO4jC,KAAP5jC,CAAH,KA6CfwB,aAAY,qBAQE,SAAAf,GAAK,MACC,YAAlBA,EAAMJ,SAA2C,WAAlBI,EAAMJ,QACjCsB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAOE,SACjC4N,aAAQ,MAAOnB,EAAMrD,MAAMtJ,OAAOE,YAI/B6vC,GAA0B,SAAC,GAajC,IAZLC,EAYI,EAZJA,cACAC,EAWI,EAXJA,SAWI,IAVJriC,gBAUI,SATJrB,EASI,EATJA,QASI,IARJgQ,mBAQI,MARU,GAQV,EAPJhjB,EAOI,EAPJA,KACA0C,EAMI,EANJA,QACAd,EAKI,EALJA,GACA3B,EAII,EAJJA,MACA02C,EAGI,EAHJA,WACAC,EAEI,EAFJA,SACAC,EACI,EADJA,gBACI,EACwB12B,oBAAS,GADjC,mBACGiG,EADH,KACW0wB,EADX,KAEEC,EAAcr0C,EAChBA,EAAQ1B,KAAI,SAAA6pB,GACV,OAAOA,EAAGjW,WACN,CACEhT,GAAIipB,EAAGjpB,GACP3B,MAAO4qB,EAAGsd,MACVvzB,WAAYiW,EAAGjW,WACfuzB,MACE,8BACE,2BAAItd,EAAGsd,OACNtd,EAAG2qB,MAAQ,+BAAQ3qB,EAAG2qB,QAI7B,CACE5zC,GAAIipB,EAAGjpB,GACP3B,MAAO4qB,EAAGsd,MACVA,MACE,8BACE,2BAAItd,EAAGsd,OACNtd,EAAG2qB,MAAQ,+BAAQ3qB,EAAG2qB,MACtB3qB,EAAGhR,iBAAmBgR,EAAGjpB,KAAO3B,EAAM2B,IAAM,+BAAQipB,EAAGhR,sBAKpE,GAEJ,OACE,kBAACy8B,GAAD,CACEpzB,SAAU,SAAC8zB,GACTN,EAAS12C,EAAM,CACb4B,GAAE,OAAEo1C,QAAF,IAAEA,OAAF,EAAEA,EAAQp1C,GACZumC,MAAK,OAAE6O,QAAF,IAAEA,OAAF,EAAEA,EAAQ/2C,MACf4Z,gBAAe,OAAEm9B,QAAF,IAAEA,OAAF,EAAEA,EAAQn9B,kBAE3Bi9B,GAAU,IAEZ9jC,QAASA,EACTgQ,YAAaA,EACb3O,SAAUA,EACV4iC,iBAAkB,SAACD,GAAD,OAAiBA,EAAOpiC,YAC1C6hC,cAAe,SAACx2C,IACT22C,GAAY32C,EAAMoI,OAAS,GAC1BouC,GACFA,EAAcz2C,EAAMC,GAEtB62C,GAAU,KACAF,GAAY32C,EAAMoI,OAAS,GACrCyuC,GAAU,IAGd9iC,UAAU,eACVkjC,gBAAgB,SAChBj3C,MAAO82C,EAAYl3C,MAAK,SAAAgrB,GAAE,OAAIA,EAAGjpB,MAAH,OAAU3B,QAAV,IAAUA,OAAV,EAAUA,EAAO2B,QAAO,KACtDgT,YAAY,EACZuiC,WAAW,EACXC,aAAa,EACbC,OAAO,EACPC,cAAc,EACdt3C,KAAMA,EACN4B,GAAIA,EACJc,QAASq0C,EACTJ,WAAYA,EACZE,gBAAiBA,EACjBU,WAAYnxB,EACZoxB,QAAS,WACPZ,GAAYE,GAAU,IAExBW,OAAQ,WACNX,GAAU,OCzGLY,GAA4C,SAAC,GAMnD,IALLj1B,EAKI,EALJA,OACAkJ,EAII,EAJJA,OACA2iB,EAGI,EAHJA,YACAqJ,EAEI,EAFJA,UACAC,EACI,EADJA,cACI,EAC0Bj2B,IAAMxB,SAAc,IAD9C,mBACG03B,EADH,KACYC,EADZ,KAcJ,OAXAn2B,IAAMpB,WAAU,WACd,UAAIo3B,QAAJ,IAAIA,OAAJ,EAAIA,EAAWtvC,OAAQ,CACrB,IAAM0vC,EAAOJ,EAAU32C,KAAI,SAAC6pB,GAAD,MAAc,CACvCjpB,GAAIipB,EAAGjpB,GACPumC,MAAM,GAAD,OAAKtd,EAAGsd,MAAR,cAAmBtd,EAAGmtB,YAG7BF,EAAWC,MAEZ,CAACJ,IAGF,kBAAC,GAAD,KACE,0BAAM5gC,SAAU0L,EAAOM,cACrB,kBAAC,GAAD,KACE,kBAAC,WAAD,CAASgJ,EAAG,GACV,kBAAC,SAAD,2BAIJ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC6pB,GAAD,KACE,kBAACC,GAAD,KAAYzzB,oBAAS,aACrB,kBAACimB,GAAD,CACEhlC,KAAK,OACLzB,GAAG,OACH5B,KAAK,OACLqU,SAAUoO,EAAO9N,aACjBuO,SAAUT,EAAOU,aACjB+yB,KAAM,CAAEC,MAAO,QAASl2C,MAAO,IAC/B+iB,YAAaZ,oBAAS,yBACtBniB,MAAOwiB,EAAOQ,OAAOjjB,QAGzB,kBAACwqB,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,QACtCoa,EAAOvgB,OAAOlC,MACb,kBAACiqB,GAAD,KACE,kBAACosB,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOlC,QAIrD,kBAAC,GAAD,KACE,kBAAC61C,GAAD,KAAYzzB,oBAAS,mBACrB,kBAAC,GAAD,CACEs0B,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,EAAOp1C,OAEtD3B,MAAO,CAAE2B,GAAI6gB,EAAOQ,OAAO7W,YAAa+7B,MAAO,IAC/Cn1B,QAAQ,UACRpR,GAAG,cACH5B,KAAK,cACL0C,QAAS4rC,IAEV7rB,EAAOvgB,OAAOkK,aACb,kBAAC6d,GAAD,KACE,kBAACosB,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOkK,eAKrD,kBAACqlB,GAAD,KACE,kBAACmkB,GAAD,KACE,kBAACC,GAAD,KAAYzzB,oBAAS,SACrB,kBAAC,GAAD,CACEs0B,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,EAAOp1C,OAEtDc,QAASm1C,EACT70B,YAAaZ,oBAAS,QACtBniB,MAAO,CAAE2B,GAAI6gB,EAAOQ,OAAO0yB,QAASxN,MAAO,IAC3Cn1B,QAAQ,UACRpR,GAAG,UACH5B,KAAK,YAENyiB,EAAOvgB,OAAOyzC,SACb,kBAAC1rB,GAAD,KACE,kBAACosB,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOyzC,WAIrD,kBAACC,GAAD,KACE,kBAACC,GAAD,KAAYzzB,oBAAS,oBACrB,kBAACimB,GAAD,CACEhlC,KAAK,SACLzB,GAAG,oBACH5B,KAAK,oBACLkjB,SAAUT,EAAOU,aACjB+yB,KAAM,CAAEC,MAAO,QAASl2C,MAAO,IAC/B+iB,YAAaZ,oBAAS,mBACtBniB,MAAOwiB,EAAOQ,OAAOyyB,kBAAkBnC,aAExC9wB,EAAOvgB,OAAOwzC,mBACb,kBAACzrB,GAAD,KACE,kBAACosB,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOwzC,sBAMvD,kBAAC,GAAD,KACE,kBAACG,GAAD,KAAYzzB,oBAAS,aACrB,kBAAC,GAAD,CACEs0B,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,EAAOp1C,OAEtDc,QAAO,OAAEk1C,QAAF,IAAEA,OAAF,EAAEA,EAAe52C,KAAI,SAAC6pB,GAAD,MAAc,CACxCjpB,GAAIipB,EAAGjpB,GACP3B,MAAO4qB,EAAGjpB,GACVumC,MAAOtd,EAAG7qB,SAEZgjB,YAAaZ,oBAAS,yBACtBniB,MAAO,CAAE2B,GAAI6gB,EAAOQ,OAAOwyB,YAAc,GAAItN,MAAO,IACpDn1B,QAAQ,UACRpR,GAAG,aACH5B,KAAK,gBAGT,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAaqjB,GAAI,GACf,kBAACuyB,GAAD,KACE,kBAACC,GAAD,KAAYzzB,oBAAS,gBACrB,kBAACimB,GAAD,CACEhlC,KAAK,WACLzB,GAAG,OACH5B,KAAK,OACLkjB,SAAUT,EAAOU,aACjB9O,SAAUoO,EAAO9N,aACjBuhC,KAAM,CAAEC,MAAO,QAASl2C,MAAO,IAC/B+iB,YAAaZ,oBAAS,gCACtBniB,MAAOwiB,EAAOQ,OAAOuyB,QAGzB,kBAAChrB,GAAD,KACG/H,EAAOQ,OAAOuyB,KAAO,IAAM/yB,EAAOQ,OAAOuyB,KAAKntC,OAAS,KAEzDoa,EAAOvgB,OAAOszC,MACb,kBAACvrB,GAAD,KACE,kBAACosB,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOszC,WAO3D,kBAAClrB,GAAD,KACE,kBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAErB,kBAAC,SAAD,cAEF,kBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,kBAAC,SAAD,kBAIN,kBAAC,IAAD,Q,23BC7IC,IAAMssB,GAA6Bx0C,IAAH,MA4BhC,SAASy0C,GAA2B3/B,GACnC,OAAOG,IAAqFu/B,GAA4B1/B,GAQzH,IAAM4/B,GAAiC10C,IAAH,MA2CpC,IAAM20C,GAAqB30C,IAAH,MA2BxB,SAAS40C,GAAmB9/B,GAC3B,OAAOG,IAAqE0/B,GAAoB7/B,GAQ3E9U,IAAH,MA2CnB,IC1MM60C,GAAwD,SAAC,GAA2B,IAAD,IAAxB9rB,EAAwB,EAAxBA,KAAMpgB,EAAkB,EAAlBA,YACtEqgB,EAAU5O,eACRgK,EAAWwtB,KAAXxtB,OACA2lB,EAA2BF,KAA3BE,uBACFc,EAAc73B,mBAAwB,WAC1C,OAAO+2B,EAAuBh2B,MAC3BxW,KAAI,SAAC8rC,GAAD,OAAiBA,EAAO7jC,WAC5B5I,QACC,SAAC4I,GAAD,MACyB,cAAvBA,EAAQ8C,cAEX/K,KAAmC,SAAAmL,GAClC,MAAO,CACLvK,GAAIuK,EAAUvK,GACdumC,MAAOh8B,EAAUnM,WAGtB,CAACwtC,IAGEmK,EAAS,UADIU,KACU/0C,YAAd,aAAG,EAAiBi1C,WAG7BX,EAAa,UADIM,KACc50C,YAAlB,aAAG,EAAqBk1C,mBAErCC,EAAe5yB,YAAa6yB,MAAM,CACtC14C,KAAM6lB,YACHC,IAAI,GAAI,aACRC,SAAS,YACZyvB,KAAM3vB,YAAaC,IAAI,IAAK,aAC5B1Z,YAAayZ,YAAaE,SAAS,YACnC4vB,QAAS9vB,YAAaE,SAAS,YAC/B2vB,kBAAmB7vB,YAChBE,SAAS,YACT4yB,SAAS,CAAC,EAAG,IAAK,UAAMvrC,GAAY,cA4CnCwrC,EAA6C,CACjDtK,YAAaA,EACb7rB,OA3Ca5L,aAAkC,CAC/CC,cAAe,CACb9W,KAAM,GACNoM,YAAaA,GAAe,GAC5BopC,KAAM,GACNC,WAAY,GACZE,QAAS,GACTD,kBAAmB,GAErBlN,kBAAkB,EAClBD,gBAAgB,EAChB3iB,iBAAkB6yB,EAClBvyB,oBAAoB,EACpBnP,SAAU,SAACkM,GACT,OAAO4E,EAAO,CACZ7nB,KAAMijB,EAAOjjB,KACboM,YAAa6W,EAAO7W,YACpBopC,KAAMvyB,EAAOuyB,KACbC,WAAYxyB,EAAOwyB,WACnBE,QAAS1yB,EAAO0yB,QAChBD,kBAAmBzyB,EAAOyyB,oBAEzBn0C,MAAK,SAACgJ,GACL,IAAMsuC,EAAQ,uBAAmB51B,EAAO7W,cAEvC7B,EAASrI,QAAUuqB,EAAQyV,QAAQ2W,IACnCtuC,EAASrI,QAAUsqB,KACnBjiB,EAASrI,QACRS,IAAMm2C,QAAQ,qBAAsB,CAClChd,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,OAGnBxuC,OAAM,SAACC,GAAD,OAAgBqD,QAAQ2jB,IAAIhnB,SAOvC8sC,UAAS,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAWngC,MACtBogC,eAA4B,OAAbA,QAAa,IAAbA,OAAA,EAAAA,EAAepgC,QAAS,KACvCmU,OAAQa,GAGV,OAAO,gBAAC,GAAsBosB,I,gWC5FzB,IAAMS,GAA6B51C,IAAH,MAiDhC,IChEM61C,GAAiB,WAAO,IDkDS/gC,EClDV,EDmDrBG,IAA8F2gC,GAA4B9gC,GCnDrG,mBAC3BghC,EAD2B,KACPC,EADO,KAG5BC,EAAsB3xB,GAAwB,uCAClD,mCAAA9c,EAAA,yDAAShL,EAAT,EAASA,KAAM05C,EAAf,EAAeA,IAAKC,EAApB,EAAoBA,KAAMnE,EAA1B,EAA0BA,MACpBgE,EAAyBz7B,QAD/B,0EAKSw7B,EAAmB,CACxBtvC,UAAW,CACTyvC,MACAC,OACA35C,OACAw1C,QAEFxtB,eAAgB,EHkNtB/d,EGlNsD,GHmNtDhB,OGnNuB2wC,EHoNrB,CACFj6C,MAAMs4C,GACNhuC,YACAhB,gBGnOE,iCH6N0C,IAC5CgB,EACAhB,IG/NE,OADkD,sDAgBlD,CAACswC,EAAoBC,IAEvB,OAAO/iC,mBAAQ,WACb,MAAO,CACLgjC,oBAED,CAACA,K,qsCCZC,IAAMI,GAAwC,SAAC,GAA0B,IAAxBp3B,EAAuB,EAAvBA,OAAQi0B,EAAe,EAAfA,SAW9D,OACE,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEoD,YAAa,CACX92B,YAAa,4CACbE,SAfmB,SAAC62B,GAC1BC,aAAiBD,EAAQ5R,OAAO5mC,MAAK,SAAC04C,GAC/BA,EAAQ,KACbvD,GAAS,GACTj0B,EAAOU,aAAa,CAAE9J,OAAQ,CAAErZ,KAAM,OAAQC,MAAOg6C,EAAQ,GAAGC,qBAChEz3B,EAAOU,aAAa,CAAE9J,OAAQ,CAAErZ,KAAM,MAAOC,MAAOg6C,EAAQ,GAAGE,SAAS7Y,SAASoY,SACjFj3B,EAAOU,aAAa,CAAE9J,OAAQ,CAAErZ,KAAM,OAAQC,MAAOg6C,EAAQ,GAAGE,SAAS7Y,SAAS8Y,cAU9ElD,gBAAiB,UAEnBmD,aAAc,SAAAxvC,GAAK,OAAIqD,QAAQrD,MAAM,iCAAkCA,IACvE1E,OAAO,8CAMTmwC,GAAgB3jC,GAAO,MAAPA,CAAH,M,8TC3BnB,IAIM2nC,G,QAASC,EAAeC,eAC5B,kBAAC,KAAD,CAAQhxC,KAAK,KAAK4H,MAAOrB,GAAMtJ,OAAOE,QAASooC,KAAMh/B,GAAMtJ,OAAO0J,aAE9DsqC,GAAaC,mBAAQ,CAAE1mC,UAAW,aAAc2mC,KAAML,GAAQM,SAAU,CAAC,GAAI,MAatEC,GAAoB,SAAC,GAK3B,IAJLC,EAII,EAJJA,OAII,IAHJC,YAGI,MAHG,GAGH,MAFJC,eAEI,MAFM,GAEN,MADJC,uBACI,MAxBJ,2EAwBI,EACEC,EAjBU,SAACF,EAA6BF,GAC9C,OAAIA,IAE0B,IAAnBE,EAAQ3yC,OACV2yC,EAAQ,GAAGlf,SACTkf,EAAQ3yC,OAAS,EACX,IAAI8yC,gBAAaH,EAAQh6C,KAAI,gBAAG86B,EAAH,EAAGA,SAAH,MAAkB,CAACA,EAAS4d,IAAK5d,EAASse,SACxEgB,iBAFT,GAYWA,CAAUJ,EAASF,GAErC,OACE,kBAAC,GAAD,KACGI,GACC,kBAAC,KAAD,CAAYJ,OAAQI,EAAWH,KAAMA,EAAM15B,MAAO,CAAEpP,OAAQ,OAAQwC,MAAO,SACzE,kBAAC4mC,GAAA,EAAD,CAAWliC,IA9BE,qDA8BmBmiC,YAAaL,IAC5CD,EAAQh6C,KAAI,WAAsBiH,GAAtB,IAAG6zB,EAAH,EAAGA,SAAUyf,EAAb,EAAaA,MAAb,OACX,kBAACC,GAAA,EAAD,CAAQ9hC,KAAM+gC,GAAY17B,IAAK9W,EAAG6zB,SAAUA,GACzCyf,GAAS,kBAACE,GAAA,EAAD,KAAQF,UAS1BrmC,GAAUvC,UAAOoP,IAAV,KAMTxO,IAAMC,SAAS,SAAfD,CANS,O,ukDC/CN,I,GAAMmoC,GAAwC,SAAC,GAAgB,IAAdj5B,EAAa,EAAbA,OAAa,EAClBtC,oBAAS,GADS,mBAC5Dw7B,EAD4D,KACzCC,EADyC,KAGnE,OACE,gBAAC,GAAD,KACE,wBACE7kC,SAAU,SAAAvV,GACRA,EAAEsZ,iBACF2H,EAAOM,iBAGT,gBAAC,GAAD,KACE,gBAAC,WAAD,CAASgJ,EAAG,GACV,gBAAC,SAAD,oBAAQ3J,oBAAS,wBAIrB,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAeK,OAAQA,EAAQi0B,SAAUkF,KAE1CD,GACC,uBAAK3nC,UAAU,UACb,uBAAKA,UAAU,cACb,gBAAC,GAAD,CACE8mC,OAAQ,CAAEpB,IAAKj3B,EAAOQ,OAAOy2B,IAAKU,IAAK33B,EAAOQ,OAAO02B,MACrDoB,KAAM,MAGV,uBAAK/mC,UAAU,cACb,gBAAC4hC,GAAD,KACE,gBAACC,GAAD,KAAYzzB,oBAAS,SACrB,gBAACimB,GAAD,CACEhlC,KAAK,OACLzB,GAAG,OACH5B,KAAK,OACLqU,SAAUoO,EAAO9N,aACjBuO,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,iBACtBniB,MAAOwiB,EAAOQ,OAAOjjB,OAEvB,gBAACwqB,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,SAExCoa,EAAOvgB,OAAOlC,MACb,gBAAC,eAAD,CAAagT,QAAQ,YAAYyP,EAAOvgB,OAAOlC,MAEjD,uBAAKgU,UAAU,wBACb,uBAAKA,UAAU,cACb,gBAAC4hC,GAAD,KACE,gBAACC,GAAD,KAAYzzB,oBAAS,QACrB,gBAACimB,GAAD,CACEhlC,KAAK,OACLzB,GAAG,MACH5B,KAAK,MACLi2C,UAAU,EACV5hC,SAAUoO,EAAO9N,aACjBuO,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,QACtBniB,MAAOwiB,EAAOQ,OAAOy2B,QAK3B,uBAAK1lC,UAAU,cACb,gBAAC4hC,GAAD,KACE,gBAACC,GAAD,KAAYzzB,oBAAS,SACrB,gBAACimB,GAAD,CACEhlC,KAAK,OACLzB,GAAG,OACH5B,KAAK,OACLi2C,UAAU,EACV5hC,SAAUoO,EAAO9N,aACjBuO,SAAUT,EAAOU,aACjBljB,MAAOwiB,EAAOQ,OAAO02B,UAM7B,gBAAC/D,GAAD,KACE,gBAACC,GAAD,aACA,gBAACxN,GAAD,CACEzmC,GAAG,OACHyB,KAAK,WACLrD,KAAK,OACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,QACtBniB,MAAOwiB,EAAOQ,OAAOuyB,QAGxB/yB,EAAOvgB,OAAOszC,MACb,gBAAC,eAAD,CAAaxiC,QAAQ,YAAYyP,EAAOvgB,OAAOszC,MAGjD,gBAACthC,GAAD,CACElB,QAAQ,UACR3P,KAAK,SACL2R,QAASyN,EAAOM,aAChB1B,MAAO,CAAE5M,MAAO,SAEhB,gBAAC,SAAD,iCAahB6hC,GAAgB3jC,GAAO,MAAPA,CAAH,KAObY,IAAMC,SAAS,SAAfD,CAPa,MAaXA,IAAMC,SAAS,SAAfD,CAbW,OCvGNsoC,IAfsEh2B,UAEjF,CACA7lB,KAAM6lB,YACHyG,IAAI,GACJxG,IAAI,IACJC,WACHnM,QAASiM,YAAaC,IAAI,KAC1BpM,MAAM,GAAAmM,YAA2BpX,KAA3B,qBAAmC4d,OAOM,SAAC,GAAc,IAAZG,EAAW,EAAXA,KAC1CitB,EAAmBH,KAAnBG,eAEFhB,EAAe5yB,YAAa6yB,MAAM,CACtC14C,KAAM6lB,YACHC,IAAI,GAAI,aACRC,SAAS,YACZyvB,KAAM3vB,YAAaC,IAAI,IAAK,eAuCxBg2B,EAA+C,CACnDr5B,OArCa5L,aAAe,CAC5BC,cAAe,CACb9W,KAAM,GACN05C,IAAK,GACLC,KAAM,GACNnE,KAAM,IAERhN,kBAAkB,EAClBD,gBAAgB,EAChB3iB,iBAAkB6yB,EAClBvyB,oBAAoB,EAEpBnP,SAAU,SAACkM,GACT,OAAOw2B,EAAe,CACpBz5C,KAAMijB,EAAOjjB,KACb05C,IAAKz2B,EAAOy2B,IACZC,KAAM12B,EAAO02B,KACbnE,KAAMvyB,EAAOuyB,OAEZj0C,MAAK,SAACgJ,GACAA,EAASrI,SACZsqB,GAAK,GACL7pB,IAAMm2C,QAAQ,uBAAwB,CACpChd,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,QAInBxuC,OAAM,SAACC,GAAD,OAAgBqD,QAAQ2jB,IAAIhnB,UAQzC,OAAO,kBAAC,GAAkBixC,K,w7CCnBrB,IAAMC,GAA4Ct4C,IAAH,MAmD/C,IAAMu4C,GAA8Cv4C,IAAH,MAqDjD,ICrJMw4C,GAAoB,WAAO,ID0FqB1jC,EC1FtB,ED2FxBG,IAA4HqjC,GAA2CxjC,GC3F/I,mBAEnC2jC,EAFmC,KAGnCC,EAHmC,KAM/Bt0B,EAASC,GAAwB,uCACrC,iDAAA9c,EAAA,yDACEhL,EADF,EACEA,KACAw1C,EAFF,EAEEA,KACA4G,EAHF,EAGEA,UACAC,EAJF,EAIEA,eACAlY,EALF,EAKEA,OACAsR,EANF,EAMEA,WACA6G,EAPF,EAOEA,SACAC,EARF,EAQEA,SACA5G,EATF,EASEA,QACAD,EAVF,EAUEA,kBACAn3B,EAXF,EAWEA,OAEI49B,EAAwBp+B,QAb9B,0EAiBSm+B,EAAkB,CACvBjyC,UAAW,CACTjK,OACAw1C,OACA4G,YACAC,iBACA5G,aACAtR,SACAmY,WACAC,WACA5G,UACAD,oBACAn3B,YA7BN,2CADqC,sDAkCrC,CAAC49B,EAAyBD,IAE5B,OAAOzlC,mBAAQ,WACb,MAAO,CACLoR,YAED,CAACA,KC5CO20B,GAAkB,SAC7BC,EACAxyC,GAEA,GAAyB,kBAAdA,EACT,OAAU,OAAHwyC,QAAG,IAAHA,OAAA,EAAAA,EAAKp0C,QACRo0C,EAAIz7C,KAAI,SAAC6pB,GAAD,MAAc,CACpBjpB,GAAIipB,EAAGjpB,GACPumC,MAAOtd,EAAG5gB,GACV4P,gBAAiBgR,EAAGhR,oBAEtB,GAEN,IAAM6iC,EAAW,SAACC,GAChB,IAAIxU,EAAK,UAAMl+B,EAAU2yC,UAMzB,OAJA3yC,EAAUA,UAAUL,SAAQ,SAAAizC,GAC1B1U,EAAQA,EAAMjG,QAAQ2a,EAAd,UAA2BF,EAAQE,QAGtC1U,GAGT,OAAU,OAAHsU,QAAG,IAAHA,OAAA,EAAAA,EAAKp0C,QACRo0C,EAAIz7C,KAAI,SAAC6pB,GACP,MAAO,CACLjpB,GAAIipB,EAAGjpB,GACPumC,MAAOuU,EAAS7xB,OAGpB,I,0RCUC,IAAMiyB,GAAgD,SAAC,GAWvD,IAVLr3B,EAUI,EAVJA,MACAhD,EASI,EATJA,OACA+J,EAQI,EARJA,KACAmrB,EAOI,EAPJA,UACAoF,EAMI,EANJA,WACAnF,EAKI,EALJA,cACAoF,EAII,EAJJA,aACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,qBAEI,IADJC,iBACI,MADQ,aACR,IACkCx7B,IAAMxB,SAAc,IADtD,mBACGi9B,EADH,KACgBC,EADhB,OAEkC17B,IAAMxB,SAAc,IAFtD,mBAEGm9B,EAFH,KAEgBC,EAFhB,OAG0B57B,IAAMxB,SAAc,IAH9C,mBAGG03B,EAHH,KAGYC,EAHZ,OAI8Bn2B,IAAMxB,SAAc,IAAIwe,MAJtD,mBAIG6e,EAJH,KAIcC,EAJd,KAKE7xB,EAAqBjK,IAAM3K,aAC/B,SAAC9M,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqC1E,MAAOrU,OAC5D,CAACuY,IAEK3E,EAAOT,KAAPS,GAER6D,IAAMpB,WAAU,WACd,UAAIo3B,QAAJ,IAAIA,OAAJ,EAAIA,EAAWtvC,OAAQ,CACrB,IAAM0vC,EAAOJ,EAAU32C,KAAI,SAAC6pB,GAAD,MAAwD,CACjFjpB,GAAIipB,EAAGjpB,GACPumC,MAAM,GAAD,OAAKtd,EAAGsd,MAAR,cAAmBtd,EAAGmtB,YAG7BF,EAAWC,MAEZ,CAACJ,IAEJh2B,IAAMpB,WAAU,WAAO,IAAD,QACpB88B,EACEb,GAAgBQ,EAAc,CAC5B/yC,UAAW,CAAC,OAAQ,mBACpB2yC,SAAU,4BAGdW,EACEf,GAAgBS,EAAc,CAC5BhzC,UAAW,CAAC,OAAQ,mBACpB2yC,SAAU,4BAIdn6B,EAAOoJ,UAAP,2BACKpJ,EAAOQ,QADZ,IAEEo5B,gBAAgB,IAAI1d,MAAO+e,cAC3BpB,SAAU,CACR16C,IAAgB,OAAZo7C,QAAY,IAAZA,GAAA,UAAAA,EAAcn9C,MAAK,SAACgrB,GAAD,aAAaA,EAAGjpB,MAAH,OAAUkc,QAAV,IAAUA,GAAV,UAAUA,EAAIvR,YAAd,aAAU,EAAU3K,cAApD,eAAyDA,KAAM,GACnEumC,OAAmB,OAAZ6U,QAAY,IAAZA,GAAA,UAAAA,EAAcn9C,MAAK,SAACgrB,GAAD,aAAaA,EAAGjpB,MAAH,OAAUkc,QAAV,IAAUA,GAAV,UAAUA,EAAIvR,YAAd,aAAU,EAAU3K,cAApD,eAAyD5B,OAAQ,IAE1Eu8C,SAAU,CACR36C,IAAgB,OAAZq7C,QAAY,IAAZA,GAAA,UAAAA,EAAcp9C,MAAK,SAACgrB,GAAD,aAAaA,EAAGjpB,MAAH,OAAUkc,QAAV,IAAUA,GAAV,UAAUA,EAAIvR,YAAd,aAAU,EAAU3K,cAApD,eAAyDA,KAAM,GACnEumC,OAAmB,OAAZ8U,QAAY,IAAZA,GAAA,UAAAA,EAAcp9C,MAAK,SAACgrB,GAAD,aAAaA,EAAGjpB,MAAH,OAAUkc,QAAV,IAAUA,GAAV,UAAUA,EAAIvR,YAAd,aAAU,EAAU3K,cAApD,eAAyD5B,OAAQ,SAG3E,CAACg9C,EAAcC,EAAcn/B,IAEhC6D,IAAMpB,WAAU,WACdu3B,EACE0E,GAAe,OAAC7E,QAAD,IAACA,OAAD,EAACA,EAAWngC,MAAO,CAChCvN,UAAW,CAAC,QAAS,UACrB2yC,SAAU,sBAGb,CAACjF,IAEJ,IAAM7rB,EAAiB,kBAAoBrJ,EAAOQ,OAAO1E,MAAQkE,EAAOQ,OAAO1E,MAAQ,GAEvF,OACE,kBAAC,GAAD,KACE,0BAAMxH,SAAU0L,EAAOM,cACrB,kBAAC,GAAD,KACE,kBAAC,WAAD,CAASgJ,EAAG,GACV,kBAAC,SAAD,sBAAQtG,aAIZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,yBAAKzR,UAAU,UACb,kBAAC,OAAD,CAAKgH,GAAI,CAAEvG,MAAO,MAAOxC,OAAQ,OAAS+B,UAAU,cAClD,kBAAC,GAAD,CACEmU,WAAY2D,EACZzD,aAAcuD,EACdtD,YAAY,aAGhB,yBAAKtU,UAAU,aACb,kBAAC,OAAD,KACE,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,KAAYzzB,oBAAS,aACrB,kBAACimB,GAAD,CACEhlC,KAAK,OACLzB,GAAG,OACH5B,KAAK,OACLqU,SAAUoO,EAAO9N,aACjBuO,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,yBACtBniB,MAAOwiB,EAAOQ,OAAOjjB,OAEvB,kBAACwqB,GAAD,KAAe,GAAK/H,EAAOQ,OAAOjjB,KAAKqI,SAExCoa,EAAOvgB,OAAOlC,MACb,kBAACq2C,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOlC,OAGnD,kBAAC,OAAD,KACE,kBAAC41C,GAAD,KACE,kBAACC,GAAD,mBACA,kBAACxN,GAAD,CACEzmC,GAAG,YACHyB,KAAK,WACLrD,KAAK,YACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,cACtBniB,MAAOwiB,EAAOQ,OAAOm5B,aAGzB,kBAAC5xB,GAAD,KACG/H,EAAOQ,OAAOm5B,UAAY,IAAM35B,EAAOQ,OAAOm5B,UAAU/zC,OAAS,KAEnEoa,EAAOvgB,OAAOk6C,WACb,kBAAC/F,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOk6C,eAOzD,kBAAC,GAAD,KACE,yBAAKpoC,UAAU,UACb,yBAAKA,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,iBACA,kBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ch0B,YAAaZ,oBAAS,YACtB1f,QAAS06C,EACTpqC,QAAQ,UACR/S,MAAOwiB,EAAOQ,OAAOq5B,SACrB16C,GAAG,WACH5B,KAAK,WACL22C,WAAY,CAAEgH,kBAAmB,kBAAM,OACvClH,cAAe,SAACz2C,EAAcC,GAC5B,IAAI29C,EAAO,OAAGZ,QAAH,IAAGA,OAAH,EAAGA,EAAc38C,QAAO,SAAAw9C,GAAI,oBAErCA,QAFqC,IAErCA,GAFqC,UAErCA,EAAMhkC,uBAF+B,aAErC,EAAuBwjB,cAAcvuB,SAAS7O,EAAMo9B,kBAGtDggB,EACEb,GAAgBoB,EAAS,CACvB3zC,UAAW,CAAC,OAAQ,mBACpB2yC,SAAU,6BAIhB/F,iBAAiB,KAGpBp0B,EAAOvgB,OAAOo6C,UACb,kBAACjG,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOo6C,UAAY,aAKjC,yBAAKtoC,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,iBACA,kBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ch0B,YAAaZ,oBAAS,YACtB1f,QAAS46C,EACTtqC,QAAQ,UACR/S,MAAOwiB,EAAOQ,OAAOs5B,SACrB36C,GAAG,WACH5B,KAAK,WACL22C,WAAY,CAAEgH,kBAAmB,kBAAM,OACvClH,cAAe,SAACz2C,EAAcC,GAC5B,IAAI29C,EAAO,OAAGX,QAAH,IAAGA,OAAH,EAAGA,EAAc58C,QAAO,SAAAw9C,GAAI,oBAErCA,QAFqC,IAErCA,GAFqC,UAErCA,EAAMhkC,uBAF+B,aAErC,EAAuBwjB,cAAcvuB,SAAS7O,EAAMo9B,kBAGtDkgB,EACEf,GAAgBoB,EAAS,CACvB3zC,UAAW,CAAC,OAAQ,mBACpB2yC,SAAU,6BAIhB/F,iBAAiB,KAGpBp0B,EAAOvgB,OAAOq6C,UACb,kBAAClG,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOq6C,UAAY,eAOrC,kBAAC,GAAD,KACE,yBAAKvoC,UAAU,UACb,yBAAKA,UAAU,cACb,kBAAC,OAAD,KACE,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,gBACA,kBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfmG,EAAUnG,EAAOp1C,IACjB6gB,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCkhB,OAAQ6S,MAE/Ct0C,QAASq6C,EACT/pC,QAAQ,UACRpR,GAAG,UACH5B,KAAK,UACLgjB,YAAaZ,oBAAS,iBACtBniB,MAAOwiB,EAAOQ,OAAOkhB,OACrByS,UAAU,EACVH,cAAe,aACfI,iBAAiB,KAGpBp0B,EAAOvgB,OAAOiiC,QACb,kBAACkS,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOiiC,QAAU,aAI/B,kBAAC,OAAD,KACE,kBAAC0R,GAAD,mBACA,yBAAKx0B,MAAO,CAAE5M,MAAO,OAAQxD,OAAQ,oBAAqB6sC,QAAS,WACjE,kBAAC,KAAD,CACEC,SAAUP,EACVt6B,SAAU,SAAC86B,GACTP,EAAaO,GACbv7B,EAAOoJ,UAAP,2BACKpJ,EAAOQ,QADZ,IAGEo5B,eAAgB2B,EAAKN,kBAGzBO,WAAW,kBAKnB,yBAAKjqC,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,iBACA,kBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ct0C,QAAO,OAAEk1C,QAAF,IAAEA,OAAF,EAAEA,EAAe52C,KAAI,SAAC6pB,GAAD,MAAc,CACxCjpB,GAAIipB,EAAGjpB,GACP3B,MAAO4qB,EAAGjpB,GACVumC,MAAOtd,EAAG7qB,SAEZgjB,YAAaZ,oBAAS,yBACtBniB,MAAOwiB,EAAOQ,OAAOwyB,WACrBziC,QAAQ,UACRpR,GAAG,aACH5B,KAAK,aACL42C,UAAU,EACVH,cAAe,aACfI,iBAAiB,IAEnB,kBAACqH,GAAD,KACE,kBAACrI,GAAD,KACGzzB,oBACC,sEAGJ,kBAAClO,GAAD,CAAQlB,QAAQ,YAAYgC,QAAS,kBAAMkoC,GAAqB,KAC9D,kBAAC,SAAD,8BAQZ,kBAAC,GAAD,KACE,yBAAKlpC,UAAU,UACb,yBAAKA,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,aACA,kBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ct0C,QAASm1C,EACT7kC,QAAQ,UACRpR,GAAG,UACH5B,KAAK,UACLgjB,YAAaZ,oBAAS,QACtBniB,MAAOwiB,EAAOQ,OAAO0yB,QACrBiB,UAAU,EACVH,cAAe,aACfI,iBAAiB,KAGpBp0B,EAAOvgB,OAAOyzC,SACb,kBAACU,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOyzC,SAAW,aAIhC,yBAAK3hC,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,wBACA,kBAACxN,GAAD,CACEhlC,KAAK,SACLzB,GAAG,oBACH5B,KAAK,oBACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,mBACtBniB,MAAOwiB,EAAOQ,OAAOyyB,qBAGxBjzB,EAAOvgB,OAAOwzC,mBACb,kBAACW,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOwzC,sBAMvD,kBAAC,GAAD,KACE,kBAACE,GAAD,KACE,kBAACC,GAAD,sBACA,kBAACxN,GAAD,CACEzmC,GAAG,OACHyB,KAAK,WACLrD,KAAK,OACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,iBACtBniB,MAAOwiB,EAAOQ,OAAOuyB,QAGzB,kBAAChrB,GAAD,KACG/H,EAAOQ,OAAOuyB,KAAO,IAAM/yB,EAAOQ,OAAOuyB,KAAKntC,OAAS,KAEzDoa,EAAOvgB,OAAOszC,MACb,kBAACa,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOszC,SAKvD,kBAAClrB,GAAD,KACE,kBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAErB,kBAAC,SAAD,cAEF,kBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAASwX,GACjC,kBAAC,SAAD,kBAIN,kBAAC,IAAD,QAKA0xB,GAAqBvrC,GAAO,MAAPA,CAAH,M,8eCjZjB,IAAMwrC,GAAqC16C,IAAH,MAqCxC,IAAM26C,GAAiB36C,IAAH,MA0CpB,ICjGM46C,GAA2B,WAAO,IAAD,EDiDQ9lC,ECjDR,EDkD/BG,IAA8GylC,GAAoC5lC,GClDnH,mBACrC2jC,EADqC,KAClBC,EADkB,KAEpCr+B,EAAOT,KAAPS,GAEAxa,EbyHH,SAAwCiV,GACvC,OAAOG,IAA6Fy/B,GAAgC5/B,Ga1HzH+lC,CAA+B,CAC9Cr0C,UAAW,CAAEk6B,OAAQ,cADf7gC,KAGFi7C,EAAS,OAAGj7C,QAAH,IAAGA,GAAH,UAAGA,EAAMk7C,8BAAT,aAAG,EAA8Bx9C,KAAI,SAAA6pB,GAAE,OAAIA,EAAGyxB,YAPjB,EAQdn8B,oBAAS,GARK,mBAQrCs+B,EARqC,KAQ5BC,EAR4B,KAU5Cn+B,qBAAU,gBACUnT,IAAdmxC,QAAkCnxC,IAAP0Q,GAE/B4gC,KAAY,OAACH,QAAD,IAACA,OAAD,EAACA,EAAWI,MAAK,SAAAC,GAAK,OAAIA,EAAMh9C,MAAN,OAAakc,QAAb,IAAaA,OAAb,EAAaA,EAAIvR,KAAK3K,WAC3D,CAAC28C,EAAWzgC,IAEf,IAAM+J,EAASC,GAAwB,uCACrC,iCAAA9c,EAAA,yDAASwqC,EAAT,EAASA,KAAMx1C,EAAf,EAAeA,KAAMmkC,EAArB,EAAqBA,QACfgY,EAAwBp+B,QAD9B,0EAKSm+B,EAAkB,CACvBjyC,UAAW,CACTurC,OACAx1C,OACAmkC,UAEFnc,eAAgB,Eb+MtB/d,Ea/M0D,CAAEk6B,OAAQ,YbgNpEl7B,OahNuB41C,EbiNrB,CACFl/C,MAAMw4C,GACNluC,YACAhB,ealNO1H,MAAK,WACJm9C,GAAW,GACX/7C,IAAMm2C,QAAN,mCAAkD,CAChDhd,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,OAGjBxuC,OAAM,SAACC,GACNlI,IAAMkI,MAAN,mDAAwDA,GAAS,CAC/DixB,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,QA/BtB,iCbyN8C,IAChDnvC,EACAhB,Ia3NE,OADqC,sDAoCrC,CAACkzC,EAAyBD,IAEtB4C,EAAwBL,EAAU,KAAO52B,EAE/C,OAAOpR,mBAAQ,WACb,MAAO,CACLqoC,wBACAL,aAED,CAACK,EAAuBL,K,oJChEtB,IAAMM,GAAkBt7C,IAAH,MA0CrB,I,GClDMu7C,GAA8B,SAAC,GAAkB,IAAD,IDiC7BzmC,ECjCc9F,EAAe,EAAfA,SAAe,EACnBkP,WAEtC,IAHyD,mBACpDq7B,EADoD,KACtCiC,EADsC,OAInBt9B,WAEtC,IANyD,mBAIpDs7B,EAJoD,KAItCiC,EAJsC,KAQrDC,ED0BOzmC,IAA+DqmC,GAAiBxmC,GCzBrFjV,EHkFH,SAAwBiV,GACvB,OAAOG,IAA6D0lC,GAAgB7lC,GGnFzE6mC,GAAT97C,KATmD,EAWhB+6C,KAAnCS,EAXmD,EAWnDA,sBAAuBL,EAX4B,EAW5BA,QAE/B98B,aAAgB,WACV88B,GAEJK,GACEA,EAAsB,CACpB9+C,KAAM,qBACNw1C,KAAM,wBACNrR,OAAQ,eAGX,CAACsa,IAEJ98B,aAAgB,WAKd,IAAM48B,EAAS,OAAGj7C,QAAH,IAAGA,OAAH,EAAGA,EAAM+7C,OAClBC,EAAS,OAAGh8C,QAAH,IAAGA,OAAH,EAAGA,EAAM+7C,OAElBE,EAAkD,IAC/C,OAAThB,QAAS,IAATA,OAAA,EAAAA,EAAWl2C,SACTk2C,EAAU30C,SAAQ,SAAAihB,IACf00B,EAAgBZ,MAAK,SAAAa,GAAO,OAAIA,EAAQ59C,KAAOipB,EAAGjpB,OAAO29C,EAAgB3hC,KAAKiN,MAEnF,IAAM40B,EAAkD,IAC/C,OAATH,QAAS,IAATA,OAAA,EAAAA,EAAWj3C,SACTi3C,EAAU11C,SAAQ,SAAAihB,IACf40B,EAAgBd,MAAK,SAAAa,GAAO,OAAIA,EAAQ59C,KAAOipB,EAAGjpB,OAAO69C,EAAgB7hC,KAAKiN,MAGnFo0B,EAAgBM,GAChBL,EAAgBO,KACf,CAACn8C,IAEJ,IAAMo8C,EAAarH,KAEbsH,EAAa,UAAGR,EAAe77C,YAAlB,aAAG,EAAqBs8C,QACrCjI,EAAS,UAAG+H,EAAWp8C,YAAd,aAAG,EAAiBi1C,WAC7BsH,EAAkD,CACtD9C,WAAU,OAAE4C,QAAF,IAAEA,OAAF,EAAEA,EAAe3+C,KAAI,SAAC6pB,GAC9B,MAAQ,CAAC,WAAY,UAAW,WAAW/b,SAAS+b,EAAGjpB,IAAhD,2BAEEipB,GAFF,IAEMjW,YAAY,IAFlB,2BACEiW,GADF,IACMjW,YAAY,OAG3BooC,aAAcA,EACdC,aAAcA,EACdtF,YACAwF,UAAW,cAGP2C,EAAoBn+B,WAAe3gB,IAAIyR,GAAU,SAAAstC,GACrD,OAAIp+B,iBAAqBo+B,GAChBp+B,eAAmBo+B,EAAnB,eAA+BF,IAEjCE,KAGT,OAAO,2BAAMD,IC9CFE,IAjBsEn6B,UAEjF,CACA7lB,KAAM6lB,YACHyG,IAAI,GACJxG,IAAI,IACJC,WACHnM,QAASiM,YAAaC,IAAI,KAC1BpM,MAAM,GAAAmM,YAA2BpX,KAA3B,qBAAmC4d,OASM,SAAC,GAK3C,IAAD,IAJJG,EAII,EAJJA,KACA7f,EAGI,EAHJA,SACAuwC,EAEI,EAFJA,qBACG9pC,EACC,2DACEqZ,EAAU5O,eACRgK,EAAWo0B,KAAXp0B,OAGF+vB,EAAa,UADIM,KACc50C,YAAlB,aAAG,EAAqBk1C,mBAErCC,EAAe5yB,YAAa6yB,MAAM,CACtC14C,KAAM6lB,YACHC,IAAI,GAAI,aACRC,SAAS,YACZyvB,KAAM3vB,YAAaC,IAAI,IAAK,aAC5Bqe,OAAQte,YAAa6yB,MAAM,CACzB92C,GAAIikB,YAAaE,SAAS,cAE5Bu2B,SAAUz2B,YAAa6yB,MAAM,CAC3B92C,GAAIikB,YAAaE,SAAS,cAE5Bw2B,SAAU12B,YAAa6yB,MAAM,CAC3B92C,GAAIikB,YAAaE,SAAS,cAE5B4vB,QAAS9vB,YAAa6yB,MAAM,CAC1B92C,GAAIikB,YAAaE,SAAS,cAE5B2vB,kBAAmB7vB,YAChBE,SAAS,YACT4yB,SAAS,CAAC,EAAG,IAAK,UAAMvrC,GAAY,cAGnCqV,EAAS5L,aAAe,CAC5BC,cAAe,CACb9W,MAAc,OAAR2M,QAAQ,IAARA,OAAA,EAAAA,EAAU3M,OAAQ,GACxBw1C,MAAc,OAAR7oC,QAAQ,IAARA,OAAA,EAAAA,EAAU6oC,OAAQ,GACxB4G,WAAmB,OAARzvC,QAAQ,IAARA,OAAA,EAAAA,EAAUyvC,YAAa,GAClCC,gBAAwB,OAAR1vC,QAAQ,IAARA,OAAA,EAAAA,EAAU0vC,iBAAkB,GAC5C99B,OAAe,OAAR5R,QAAQ,IAARA,OAAA,EAAAA,EAAU4R,QAAS,GAC1Bk3B,WAAY,CACV7zC,IAAY,OAAR+K,QAAQ,IAARA,GAAA,UAAAA,EAAUszC,uBAAV,eAA2Br+C,KAAM,GACrCumC,MAAO,IAEThE,OAAQ,CACNviC,GAAI,GACJumC,MAAO,IAETmU,SAAU,CACR16C,GAAI,GACJumC,MAAO,GACPqN,KAAM,IAER+G,SAAU,CACR36C,GAAI,GACJumC,MAAO,GACPqN,KAAM,IAERG,QAAS,CACP/zC,GAAI,GACJumC,MAAO,GACPqN,KAAM,IAERE,kBAAmB,GAErBlN,kBAAkB,EAClBD,gBAAgB,EAChB3iB,iBAAkB6yB,EAClBvyB,oBAAoB,EAEpBnP,SAAU,SAACkM,GAAoC,IAAD,EAC5C,OAAO4E,EAAO,CACZ7nB,KAAMijB,EAAOjjB,KACbmkC,OAAQlhB,EAAOkhB,OAAOviC,GACtB4zC,KAAMvyB,EAAOuyB,KACb4G,UAAWn5B,EAAOm5B,UAClBC,eAAgBp5B,EAAOo5B,eACvB5G,YAAY,UAAAxyB,EAAOwyB,kBAAP,eAAmB7zC,KAAM,GACrC06C,SAAUr5B,EAAOq5B,SAAS16C,GAC1B26C,SAAUt5B,EAAOs5B,SAAS36C,GAC1B+zC,QAAS1yB,EAAO0yB,QAAQ/zC,GACxB8zC,kBAAmBzyB,EAAOyyB,kBAC1Bn3B,MAAO0E,EAAO1E,QAEbhd,MAAK,SAACgJ,GACL,IAAKA,EAASrI,OAAQ,CAAC,IAAD,MACdg+C,EAAK,OAAG31C,QAAH,IAAGA,GAAH,UAAGA,EAAUjH,YAAb,iBAAG,EAAgB68C,2BAAnB,iBAAG,EAAqCC,wBAAxC,aAAG,EAAuDx+C,GAC/Di3C,EAAQ,oBAAgBqH,EAAhB,KACd1zB,IACAC,EAAQyV,QAAQ2W,GAEhBl2C,IAAMm2C,QAAQ,uBAAwB,CACpChd,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,QAInBxuC,OAAM,SAACC,GAAD,OAAgBqD,QAAQ2jB,IAAIhnB,SAInCixC,EAA8C,2BAC/C1oC,GAD+C,IAElDqS,MAAO,wBACPhD,SACAm1B,eAA4B,OAAbA,QAAa,IAAbA,OAAA,EAAAA,EAAepgC,QAAS,KACvC0lC,uBACA1wB,SAGF,OACE,kBAAC,GAAD,KACE,kBAAC,GAAwBsvB,MC1IlBuE,GAAiC,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,YAC/C3qB,EAAoBC,KADoD,EAEvBlU,IAAMxB,UAAS,GAFQ,mBAEvEqgC,EAFuE,KAEnDC,EAFmD,OAGrBl6B,sBACvD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GAL4E,mBAGvEk6B,EAHuE,KAGlDC,EAHkD,OAQ3Bp6B,sBACjD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GAV4E,mBAQvEo6B,EARuE,KAQrDC,EARqD,OAavBt6B,sBACrD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GAf4E,mBAavEs6B,EAbuE,KAanDC,EAbmD,KAkBxEC,EAAuBN,EAC3B,kBAAC,GAAD,CAAOl1B,WAAYm1B,GACjB,kBAAC,GAAD,CAAyBn0B,KAAMm0B,KAE/B,KAEEM,EAAoBL,EACxB,kBAAC,GAAD,CAAOp1B,WAAYq1B,GACjB,kBAAC,GAAD,CAAsBr0B,KAAMq0B,KAE5B,KAEEK,EAAsBJ,EAC1B,kBAAC,GAAD,CAAOt1B,WAAYu1B,GAChBP,EACC,kBAAC,GAAD,CAAwBh0B,KAAMi0B,IAE9B,kBAAC,GAAD,CACEj0B,KAAMu0B,EACN7D,qBAAsBuD,KAI1B,KAEJ,OACE,oCACGO,EACAC,EACAC,EACAZ,GACC,kBAAC,GAAD,CACE1zB,gBAAiB+zB,EACjBtyB,eAAgBwyB,EAChBzyB,aAAc2yB,EACd/yB,eAAgB,WACduyB,GAAaD,Q,2iHC3DlB,IAAMa,GAAkE,SAAC,GAGzE,IAFLb,EAEI,EAFJA,KACAc,EACI,EADJA,QAEA,OACE,kBAACC,GAAD,CAAcf,KAAMA,EAAMtrC,QAAS,kBAAMosC,GAASd,KAChD,8BACA,8BACA,gCAaOnU,GAAsB,SAAC,GAQ7B,IAPLmU,EAOI,EAPJA,KACAgB,EAMI,EANJA,KACAF,EAKI,EALJA,QACAG,EAII,EAJJA,UACAvhD,EAGI,EAHJA,KACAilB,EAEI,EAFJA,SACAu8B,EACI,EADJA,QACI,EACiCrhC,oBAAS,GAD1C,mBACGshC,EADH,KACiBC,EADjB,KAGJ,OACE,6BACGpB,GAAQ,kBAAC,GAAD,CAAYtrC,QAAS,kBAAMosC,GAAQ,MAC5C,kBAACO,GAAD,CAAYrB,KAAMA,GAChB,kBAACsB,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAQp4C,KAAK,IAAI8Q,IAAKinC,IACtB,kBAAC,GAAD,KAAQvhD,GACR,kBAAC,GAAD,KAAWilB,GACX,kBAAC48B,GAAD,KACE,kBAAC,GAAD,CAAevB,KAAMmB,EAAclB,YAAamB,IAChD,kBAAC,GAAD,CAAMnoC,GAAI,aACR,kBAAC,KAAD,CAAU/P,KAAK,KAAKigB,YAAa,EAAGrY,MAAO,UAE7C,kBAAC0wC,GAAD,CAAgB3U,KAAK,SAASn4B,QAAS,kBAAM0sC,GAAcD,KACzD,kBAAC,KAAD,CAAYj4C,KAAM,GAAI4H,MAAO,SAC7B,4CAOR,kBAACshC,GAAD,KAAc4O,GAEd,kBAACS,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAM/sC,QAASwsC,GACb,kBAAC,KAAD,CAAQh4C,KAAM,KACd,kBAAC,OAAD,CAAKuJ,GAAI,GAAT,kBASRgvC,GAASpvC,GAAOe,OAAPf,CAAH,MAENivC,GAAUjvC,GAAOe,OAAPf,CAAH,MAEM,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAEzCk4B,GAAOx2B,GAAOe,OAAPf,CAAH,MASJkvC,GAAmBlvC,GAAO,MAAPA,CAAH,KAKlBY,IAAMC,SAAS,QAAfD,CALkB,OAYhBuuC,GAAiBnvC,GAAOqvC,KAAV,MAcdzX,GAAO53B,GAAO6C,KAAP7C,CAAH,MAKJ6H,GAAQ7H,GAAOe,OAAPf,CAAH,MAIA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAEjCmhB,GAAWtf,GAAOe,OAAPf,CAAH,MAIH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAEjC6hC,GAAc//B,GAAOe,OAAPf,CAAH,MAKXwC,GAAOxC,GAAOoP,IAAV,MACgB,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAEhDgd,GAAOjb,GAAOO,QAAPP,CAAH,MASI,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAI7B,SAAAsC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAW5B,SAAAsC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAInCgd,GAAahR,GAAOe,OAAPf,CAAH,MAaH0uC,GAAe1uC,GAAOg4B,OAAV,MAqBP,gBAAG56B,EAAH,EAAGA,MAAH,SAAUuwC,KAAmBvwC,EAAMtJ,OAAOE,QAAUoJ,EAAMtJ,OAAOsK,UAOhE,qBAAGuvC,KAAmB,gBAAkB,eAI1C,qBAAGA,KAAmB,IAAM,OAC1B,qBAAGA,KAAmB,mBAAqB,mBAI3C,qBAAGA,KAAmB,iBAAmB,eAK/CqB,GAAahvC,GAAOsvC,IAAV,MACP,qBAAGlyC,MAAkBtJ,OAAOyJ,cAU7B,qBAAGowC,KAAmB,gBAAkB,sBAInD/sC,IAAMC,SAAS,QAAfD,CAfmB,O,i7GC9MhB,IAAM2uC,GAAsC,SAAC,GAU7C,IATLC,EASI,EATJA,WACAC,EAQI,EARJA,UACAv1B,EAOI,EAPJA,UACApa,EAMI,EANJA,SACA8uC,EAKI,EALJA,UACAxzB,EAII,EAJJA,SACA9I,EAGI,EAHJA,SACAjlB,EAEI,EAFJA,KACAwhD,EACI,EADJA,QACI,EACoB7/B,IAAMxB,UAAS,GADnC,mBACGmgC,EADH,KACSc,EADT,KAEE30B,EAAU5O,eAChB,OACE,kBAACwkC,GAAD,KACE,kBAAC,GAAD,CACEp9B,SAAUA,EACVjlB,KAAMA,EACNuhD,UAAWA,EACXC,QAASA,EACTlB,KAAMA,EACNc,QAASA,EACTE,KAAMa,IAER,kBAACG,GAAD,KACE,kBAACC,GAAD,CAAMvtC,QAAS,kBAAMyX,EAAQ+1B,WAC3B,kBAAC,KAAD,CAAah5C,KAAK,QAEnBqjB,GAEH,kBAAC,GAAD,KAASu1B,GACT,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOpuC,UAAU,iBACf,kBAAC,GAAD,KAAUmuC,IAEZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAU1vC,KAGd,kBAACgwC,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,GAAD,CAAQpC,KAAMA,EAAMc,QAASA,KAE/B,kBAACsB,GAAD,KACE,kBAAC,KAAD,CAASnpC,GAAG,KACV,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAOe,IAAKlV,QAKlB,kBAACs9C,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,KAAD,CAASppC,GAAIwU,GACX,kBAAC,GAAD,CAAQzT,IAAKinC,EAAW/3C,KAAK,YASrCwY,GAAOrP,GAAOe,OAAPf,CAAH,MASJgwC,GAAUhwC,GAAOe,OAAPf,CAAH,MAUA4vC,GAAO5vC,GAAOe,OAAPf,CAAH,MAUC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAE9B,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAI9B,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKpCyxC,GAAY3vC,GAAOe,OAAPf,CAAH,MAID,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cACzB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAU7B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwJ,MAW1CsD,IAAMqvC,YAAY,SAAlBrvC,CA1Ba,OA+BTmvC,GAAc/vC,GAAOe,OAAPf,CAAH,MAMX8vC,GAAS9vC,GAAOe,OAAPf,CAAH,MAMI,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAE5B,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,SAExCsC,IAAMqvC,YAAY,SAAlBrvC,CAVQ,OAeNE,GAAQd,GAAOe,OAAPf,CAAH,KAILY,IAAMC,SAAS,SAAfD,CAJK,OAUL8uC,GAAO1vC,GAAOe,OAAPf,CAAH,KAEHY,IAAMqvC,YAAY,QAAlBrvC,CAFG,MAMNA,IAAMC,SAAS,SAAfD,CANM,OAWJ2B,GAAUvC,GAAOe,OAAPf,CAAH,KAKTY,IAAMqvC,YAAY,SAAlBrvC,CALS,MAUTA,IAAMC,SAAS,SAAfD,CAVS,MAiBTA,IAAMC,SAAS,QAAfD,CAjBS,OAyBP26B,GAAUv7B,GAAOe,OAAPf,CAAH,MAIP0X,GAAU1X,GAAOe,OAAPf,CAAH,MAKPE,GAASF,GAAOe,OAAPf,CAAH,KACRY,IAAMC,SAAS,SAAfD,CADQ,OC7NCsvC,GAA+C,SAAC,GAAkB,IAAhBpwC,EAAe,EAAfA,SAAe,EAC5C4K,KAAxBU,EADoE,EACpEA,QAASD,EAD2D,EAC3DA,GAAII,EADuD,EACvDA,OAEf4kC,EAAmBrsC,mBAA6B,WAAO,IAAD,EACpDlK,EAAI,OAAGuR,QAAH,IAAGA,OAAH,EAAGA,EAAIvR,KACjB,IAAKA,GAAQwR,EACX,OAAO,KAET,IAAMwjC,GAAY,UAAAh1C,EAAKmN,YAAL,eAAWP,MAAO,GAC9B4U,EAAW2b,GAAa1M,QAAQ,CAAEC,SAAK7vB,EAAWZ,OAAQD,EAAK3K,SAAMwL,GAW3E,MAV4B,CAC1B+0C,WAAY,kBAAC,GAAD,MACZC,UAAW,kBAAC,GAAD,MACXv1B,UAAW,kBAAC,GAAD,MACX00B,YACAxzB,WACAyzB,QAAStjC,EACT+G,SAAU1Y,EAAKsN,iBAAmB,GAClC7Z,KAAMuM,EAAKwb,mBAAqB,MAGjC,CAAChK,EAASG,EAAQJ,IAErB,OAAOglC,EACL,kBAAC,GAAD,KACE,kBAAC,GAAgBA,EAAmBrwC,IAGtC,kBAAC,GAAD,KAAgBA,ICKPswC,GAAkC,CAC7CjX,OAAO,EACP9jC,KAAM,8CACN+rC,UApC0E,SAAC,GAAe,IAAbE,EAAY,EAAZA,MACvE/nC,EAAe+nC,EAAM7P,OAAOl4B,aAC5B8nC,EAAcC,EAAM7P,OAAOnH,IAC3BA,EACY,cAAhB+W,EACI1I,GAAkBE,UACjBwI,EAED,KADA1I,GAAkBsB,aAGlBx5B,EAAQqD,mBACZ,kBACU,OAARwmB,EACI,KACA,CACE/wB,eACA+wB,MACAtH,SAAS,gBAAD,OAAkBzpB,MAElC,CAACA,EAAc+wB,IAGjB,OAAK7pB,EAKH,kBAAC,GAAD,KACE,kBAAC,GAAmBA,IALf,kBAAC,GAAD,QAsBE45B,GAAqBgG,GAAkC+P,I,gxHCT7D,IAAM/W,GAA4B,SAAC,GAoBnC,IAnBLtyB,EAmBI,EAnBJA,KACA1Z,EAkBI,EAlBJA,KACA4Z,EAiBI,EAjBJA,QACAtK,EAgBI,EAhBJA,KACA0zC,EAeI,EAfJA,eACAC,EAcI,EAdJA,eACA3nB,EAaI,EAbJA,KACA4nB,EAYI,EAZJA,OACArb,EAWI,EAXJA,QAGAjV,EAQI,EARJA,UACA3Y,EAOI,EAPJA,SAEAD,EAKI,EALJA,YACA0Y,EAII,EAJJA,eACA1E,EAGI,EAHJA,eACAm1B,EAEI,EAFJA,WAGMC,GADF,EADJ5e,aAEgC0e,EAASG,KAAYC,MACrD,OACE,gBAAC,GAAD,KACGrpC,GACC,gBAAC,GAAD,KACE,gBAAC,SAAD,kBAGJ,gBAAC,GAAD,CAASnF,EAAG,GACA,KAAT4E,EACC,gBAAC,GAAD,CAAQlQ,KAAK,IAAI8Q,IAAKZ,IAEtB,gBAAC6pC,GAAD,KACE,gBAACC,GAAD,KACE,gBAACJ,EAAD,CAAyB35B,YAAY,IAAIjgB,KAAM,OAIrD,gBAAC,GAAD,CAAOykB,KAAM,EAAGlb,GAAI,GAClB,gBAAC0wC,GAAD,CAAWvqC,KAAM5J,EAAM+J,OAAO,UAE5B,gBAAC,GAAD,CAAO4U,KAAK,KACV,gBAACm1B,EAAD,CAAyB35B,YAAY,IAAIjgB,KAAM,KAC9CxJ,IAGJkjD,EACC,gBAACQ,GAAD,CAAUrgC,GAAI,GAAIwkB,GAElB,gBAAC8b,GAAD,KACE,qBAAGzqC,KAAM5J,EAAM+J,OAAO,SAASD,IAAI,uBACjC,gBAACwqC,GAAD,CAAU31B,KAAM,GAAI3e,KAI1B,gBAAC,GAAD,CAAS0D,QAAQ,OAAOqQ,GAAI,GACzBzJ,KAIP,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAY7G,GAAI,GAAhB,aACY,gBAAC,KAAD,CAASwG,GAAIypC,GAAb,IAA+BC,IAE1CjpC,EAAc,KACb,gBAAC,GAAD,KACGshB,GACC,gBAAC,GAAD,CACEzgB,UAAQ,EACR4gB,QAAOH,EAAKI,QACZ1mB,QAASsmB,EAAKK,iBAAiB1mB,YAE/B,gBAAC,GAAD,KACE,gBAAC,KAAD,CAAMwU,YAAY,IAAIjgB,KAAK,QAE7B,gBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACnEuoB,EAAKO,aAIZ,gBAACgoB,GAAD,CAAU7uC,QAASgZ,EAAgBhT,GAAI,CAAE8gB,SAAU,aACjD,gBAAC,GAAD,KACE,gBAAC,KAAD,CAAgB9nB,UAAU,QAAQxK,KAAM,MAEzCkpB,GACC,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAUnF,YAAY,SAASC,MAAOQ,GACnCm1B,GACC,gBAACz1B,GAAD,CAAc1Y,QAASmuC,GACrB,gBAAC,KAAD,CAAM35C,KAAM,KACZ,gBAAC,QAAD,CAAMwR,GAAI,CAAEiT,KAAM,GAAKlb,GAAI,GACvB6f,EAGA,gBAAC,SAAD,6BAFA,gBAAC,SAAD,oCAkBtB/O,GAAQlR,GAAOe,OAAPf,CAAH,MAOL8H,GAAO9H,GAAOO,QAAPP,CAAH,MAIJ8G,GAAa9G,GAAOO,QAAPP,CAAH,MAKH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAInCkrB,GAAUrpB,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAGjCiK,GAAapI,GAAOQ,QAAPR,CAAH,KACDjM,GAAgBE,IACpB,SAAAwM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAEjC6qB,GAAajpB,GAAOe,OAAPf,CAAH,MAcVgxC,GAAehxC,GAAOe,OAAPf,CAAH,MAEP,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aAExBnK,GAAgBG,IAazByjB,GAAU3X,GAAOO,QAAPP,CAAH,MAMPkxC,GAAWlxC,GAAOO,QAAPP,CAAH,MAORiI,GAAajI,GAAOO,QAAPP,CAAH,MAEL,SAAAS,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAEtE,SAAAuC,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAGrE,SAAAuC,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOE,QAAU,iBAC/C,SAAAyM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOE,QAAU,iBACrD,SAAAyM,GAAK,OAAKA,EAAMyH,SAAWzH,EAAMrD,MAAMtJ,OAAOE,QAAU,gBAK/DD,GAAgBE,IAGnB,SAAAwM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO+J,SAAW4C,EAAMrD,MAAMtJ,OAAOE,WAUvE,SAAAyM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO+J,YAG1C,SAAA4C,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO+J,YAE7C,SAAA4C,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO+J,YACtC,SAAA4C,GAAK,OACjBA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOoK,WAAauC,EAAMrD,MAAMtJ,OAAOE,WACnD,SAAAyM,GAAK,OACnBA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOoK,WAAauC,EAAMrD,MAAMtJ,OAAOE,WAIjE+8C,GAAW/wC,GAAOQ,QAAPR,CAAH,MAEH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAQjB,SAAAsC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAO0J,aAG5CozC,GAAgB5wC,GAAOe,OAAPf,CAAH,MAQG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SAG5C8yC,GAAc7wC,GAAOoP,IAAV,MAGH,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAgBpCgzC,GAAWjxC,GAAOQ,QAAPR,CAAH,KACVwI,aAAS,UACF,SAAA/H,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCwxB,GAAW1vB,GAAOe,OAAPf,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UACxB,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAKtCuzC,GAAY9wC,GAAO3H,EAAV,MAEJ,SAAAoI,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAcjCmE,GAAUvC,GAAOO,QAAPP,CAAH,MAGG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAKtC0T,GAAQjR,GAAOe,OAAPf,CAAH,MAOL6H,GAAQ7H,GAAOuI,WAAPvI,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UC/U1B+yC,GAAgC,SAAC,GAA6B,IAA3Bl3C,EAA0B,EAA1BA,WAAY21B,EAAc,EAAdA,QAAc,EACvCyC,GAAmBp4B,GAA5CD,EADgE,EAChEA,SAAU+sB,EADsD,EACtDA,WAEZiC,EAAmB9kB,aAAU,CACjCC,cAAe,GACfC,SAAU2iB,IAENqqB,EAAkBluB,KAPgD,EAQ/BtP,sBAAW,SAAAC,GAAE,OAAKA,KAAI,GARS,mBAQjEkM,EARiE,KAQjD1E,EARiD,OASlBzH,sBAAW,SAAAC,GAAE,OAAKA,KAAI,GATJ,mBASjEw9B,EATiE,KAS7CC,EAT6C,OAUlC19B,sBAAW,SAAAC,GAAE,OAAKu9B,MAA6Bv9B,KAAK,GAVlB,mBAUjE09B,EAViE,KAUrDC,EAVqD,KAWlEC,EAAuB3tC,mBAAqC,WAAO,IAAD,EACtE,IAAK9J,EACH,OAAO,KAET,IAAMqN,IAAcuoB,EACpB,OAAO,2BACF8hB,GAAyB,CAC1B13C,WACA2uB,KAAM,CACJI,UAAW/uB,EAASysB,OACpBuC,mBACAE,YAAY,UAAAlvB,EAASu4B,cAAT,eAAiB7sB,aAAc,GAE7C2B,iBARJ,IAUE0Y,iBACA1E,iBACAwW,aAAcyf,EACdd,WAAYgB,MAEb,CAACx3C,EAAU41B,EAAS5G,EAAkBjJ,IAEnC4C,EACJ4uB,GAAcv3C,EACZ,kBAAC,GAAD,CAAO6e,WAAY24B,GACjB,kBAAC,GAAD,CAAc33B,KAAM23B,EAAiBliD,IAAK0K,KAE1C,KAEA23C,EAAc7tC,mBAAQ,kBnFpDC,SAAC9J,GAC9B,IAAMV,EAAak5B,GAAc,OAACx4B,QAAD,IAACA,OAAD,EAACA,EAAUV,YAC5C,IAAMU,IAAYV,EAChB,OAAO,KAH6E,IAK9EjM,EAAiE2M,EAAjE3M,KAAM0iC,EAA2D/1B,EAA3D+1B,aAAchpB,EAA6C/M,EAA7C+M,KAAMmuB,EAAuCl7B,EAAvCk7B,QAASjuB,EAA8BjN,EAA9BiN,QAASnX,EAAqBkK,EAArBlK,QAAS8hD,EAAY53C,EAAZ43C,QAC7D,MAAO,CACL7hB,aAAcA,GAAgB,GAC9Bz2B,aACAyN,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMP,MAAO,GACnBnZ,OACA4Z,QAASA,GAAW,GACpBT,KAAY,OAAP1W,QAAO,IAAPA,OAAA,EAAAA,EAAS0W,OAAT,OAAgBorC,QAAhB,IAAgBA,OAAhB,EAAgBA,EAASprC,MAAO,GACrCqrC,QAAS3c,GAAW,GACpBhE,WAAkB,OAAPphC,QAAO,IAAPA,OAAA,EAAAA,EAASohC,YAAa,ImFsCD4gB,CAAgB93C,KAAW,CAACA,IACxD+3C,EACJJ,GAAeN,EACb,kBAAC,GAAD,CAAOx4B,WAAYy4B,GACjB,kBAAC,GAAD,CAAgBz3B,KAAMy3B,EAAyBt3C,SAAU23C,KAEzD,KACN,OACEF,GACE,oCACG9uB,EACAovB,EACD,kBAAC,GAAsBN,KAMlBC,GAA2B,SAACx4C,GAMlC,IAAD,UACkCmO,EAAgCnO,EAAhCmO,YAAashB,EAAmBzvB,EAAnByvB,KAAM3uB,EAAad,EAAbc,SAyBzD,MArBI,CACF+M,MAAM,UAAA/M,EAAS+M,YAAT,eAAeP,MAAO,GAC5B7J,MAAM,UAAA3C,EAAS43C,eAAT,eAAkBprC,MAAO,GAC/BnZ,KAAM2M,EAAS3M,MAAQ,GACvB4Z,QAASjN,EAASiN,SAAW,GAC7B0hB,OACA4nB,UAAS,UAACv2C,EAAS43C,eAAV,aAAC,EAAkBnnC,QAE5ByqB,QAASl7B,EAASk7B,SAAW,KAC7BjV,YAAajmB,EAASooB,OAKtB/a,YAAaA,EACbipC,gBAAgB,UAAAt2C,EAASV,kBAAT,eAAqBjM,OAAQ,GAC7CgjD,eAAgBhW,GAAmBhQ,QACjC,CAAE9wB,cAAc,UAAAS,EAASV,kBAAT,eAAqBrK,KAAM,GAAIq7B,SAAK7vB,QACpDA,K,00CC9EC,IAAMu3C,GAAwC,SAAC,GAS/C,IARLliD,EAQI,EARJA,QACA64B,EAOI,EAPJA,KACA1H,EAMI,EANJA,MACAgK,EAKI,EALJA,UACAzF,EAII,EAJJA,cACAyE,EAGI,EAHJA,cACA5iB,EAEI,EAFJA,YACAb,EACI,EADJA,IAEA,OACE,kBAAC,GAAD,CAASyrC,GAAI,GACX,kBAAC,GAAD,CACEhxB,MAAOA,EACPgK,UAAWA,EACXR,MAAO,GACPjF,cAAeA,EACfyE,cAAeA,IAEjB,kBAAC,GAAD,CACE1B,wBAAyB,CAAEC,OAAQC,KAAUC,SAAS54B,IACtDuY,GAAI,CAAE6pC,eAAgB,QACtB7xC,QAAQ,OACR0Q,GAAI,IAEN,kBAAC,GAAD,CAASL,GAAI,GACVrJ,EAAc,KACb,kBAAC,OAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAST,GAAIJ,GACX,kBAAC,GAAD,KACE,kBAAC,KAAD,CACEnF,UAAU,QACVyV,YAAY,IACZrY,MAAM,iBACN5H,KAAK,QAGT,kBAAC,GAAD,CACEuJ,GAAI,EACJC,QAAS,OACTgI,GAAI,CAAErJ,cAAe,aAAckzC,eAAgB,SAEnD,kBAAC,SAAD,iBAIN,kBAAC,GAAD,CACEppB,QAAOH,EAAKI,QACZ1mB,QAASsmB,EAAKK,iBAAiB1mB,YAE/B,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAMwU,YAAY,IAAIjgB,KAAK,QAE7B,kBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACnEuoB,EAAKO,WAAa,IADrB,IAC0B,kBAAC,SAAD,oBAWpCG,GAAUrpB,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAGjC0qB,GAAQ7oB,GAAOO,QAAPP,CAAH,MAKL2X,GAAU3X,GAAOe,OAAPf,CAAH,MAKPiI,GAAajI,GAAOO,QAAPP,CAAH,MAEL,SAAAS,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAEtE,SAAAuC,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAGrE,SAAAuC,GAAK,OACjBA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO0J,UAAYiD,EAAMrD,MAAMtJ,OAAOkK,cAKrDjK,GAAgBE,IAEjB,SAAAwM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAUtE,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAC3B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKvC+qB,GAAajpB,GAAOe,OAAPf,CAAH,MAcVoI,GAAapI,GAAOQ,QAAPR,CAAH,KACDjM,GAAgBE,IAGzBsO,GAAUvC,GAAOe,OAAPf,CAAH,MACG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cACjB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SCnJ1Co0C,GAAqD,SAAC,GAAmB,IAAjBx4C,EAAgB,EAAhBA,UAAgB,EACvCquB,GAAkBruB,GAAtDD,EAD2E,EAC3EA,QAASqtB,EADkE,EAClEA,WACXiC,EAAmB9kB,aAAU,CACjCC,cAAe,GACfC,SAAU2iB,IAQNqrB,EAA2BtuC,mBAAkC,WACjE,IAAKpK,EACH,OAAO,KAF8D,MAI9BswB,GAAwBtwB,GAAzDuwB,EAJ+D,EAI/DA,cAAezE,EAJgD,EAIhDA,cAcvB,MAbiC,CAC/Bhf,IAAK9M,EAAQI,OAASu4C,GAAehoB,QAAQ,CAAEtwB,SAAUL,EAAQI,OAAO7K,SAAMwL,GAAa,GAC3FwvB,gBACAzE,gBACAvE,MAAOvnB,EAAQokB,QAAUw0B,GAAiB54C,EAAQokB,SAAW,CAAE/W,KAAM,GAAIpK,KAAM,GAAItP,KAAM,IACzF49B,UAAWvxB,EAAQuxB,UACnBn7B,QAAS4J,EAAQ5J,QACjB64B,KAAM,CACJI,UAAWrvB,EAAQ+sB,OACnByC,WAAYxvB,EAAQgtB,YAAc,EAClCsC,uBAIH,CAACtvB,EAASsvB,IAEb,OAAOopB,GAA4B,kBAAC,GAA0BA,ICvCnDG,GAGR,SAHQA,EAGP,GAA0B,IA2BvB,EA3BDj8C,EAAuB,EAAvBA,QAASs5B,EAAc,EAAdA,QACf,GAA2B,eAAvBt5B,EAAQ8C,WACV,OAAIw2B,EACK,kBAAC,GAAD,CAAsBr2B,aAAcjD,EAAQrH,GAAI2gC,QAASA,IAEzD,kBAAC,GAAD,CAAsBr2B,aAAcjD,EAAQrH,KAEhD,GAA2B,YAAvBqH,EAAQ8C,WACjB,OAAO,kBAAC,GAAD,CAAmBO,UAAWrD,EAAQrH,GAAIs6B,aAAa,IACzD,GAA2B,cAAvBjzB,EAAQ8C,WACjB,OAAIw2B,EACK,kBAAC,GAAD,CAAqBn2B,YAAanD,EAAQrH,GAAI2gC,QAASA,IAEvD,kBAAC,GAAD,CAAqBn2B,YAAanD,EAAQrH,KAE9C,GAA2B,aAAvBqH,EAAQ8C,WACjB,OAAIw2B,EACK,kBAAC,GAAD,CAAoB31B,WAAY3D,EAAQrH,GAAI2gC,QAASA,IAErD,kBAAC,GAAD,CAAoB31B,WAAY3D,EAAQrH,KAE5C,GAA2B,SAAvBqH,EAAQ8C,WACjB,OAAIw2B,EACK,kBAAC,GAAD,CAAgB/1B,OAAQvD,EAAQuD,OAAQ+1B,QAASA,IAEjD,kBAAC,GAAD,CAAgB/1B,OAAQvD,EAAQuD,SAGzC,GAA2B,SAAvBvD,EAAQ8C,YAAyD,aAAhC,UAAA9C,EAAQA,eAAR,eAAiB8C,YACpD,OAAO,kBAAC,GAAD,CAAwBO,UAAWrD,EAAQA,QAAQrH,KAE1D,IAAMm1B,OAA0B3pB,IAAZnE,GAAyB2tB,GAAuB3tB,GACpE,OAAO8tB,EAAc,kBAACmuB,EAAD,CAAkBj8C,QAAS8tB,IAAkB,M,6JCCxE,IAAMkV,GAAY3kC,EAAQ,KAAkCylB,QACtDmf,GAAc5kC,EAAQ,KAAsCylB,QAC5DwkB,GAAejqC,EAAQ,KAAqCylB,QAC5Do4B,GAAc79C,EAAQ,KAAoCylB,QAEnDoc,GAAwB,SAAC,GAgB/B,IAfLic,EAeI,EAfJA,YACAC,EAcI,EAdJA,WACAC,EAaI,EAbJA,cACAC,EAYI,EAZJA,eACAxvC,EAWI,EAXJA,iBACAyvC,EAUI,EAVJA,eACA7vB,EASI,EATJA,SACA+K,EAQI,EARJA,iBACA3S,EAOI,EAPJA,SACA0S,EAMI,EANJA,iBACAE,EAKI,EALJA,WACA8kB,EAII,EAJJA,mBACAC,EAGI,EAHJA,cACAC,EAEI,EAFJA,oBACAC,EACI,EADJA,oBAEA,OACE,gBAACxwC,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,OAAD,CAAKoO,GAAI,GAEN0hC,EACD,gBAAC,GAAD,CACEzvB,SAAUA,EACV+K,iBAAkBA,EAClBD,iBAAkBA,EAClBE,WAAYA,KAGhB,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAO34B,KAAI,UAAK2tB,EAAL,eAA4B6vB,GACvC,gBAAC,KAAD,CAAO1Z,OAAK,EAAC9jC,KAAI,UAAK2tB,EAAL,MACf,gBAACxgB,GAAD,KAAOmwC,GACNG,GAAsB,gBAAC,GAAD,CAAU1wC,eAAgB0wC,KAEnD,gBAAC,KAAD,CAAO3Z,OAAK,EAAC9jC,KAAI,UAAK2tB,EAAL,aACf,gBAACxgB,GAAD,KAAOkwC,GACNK,GAAiB,gBAAC,GAAD,CAAU3wC,eAAgB2wC,KAE9C,gBAAC,KAAD,CAAO19C,KAAI,UAAK2tB,EAAL,iBACT,gBAACjgB,GAAD,KAAc6vC,GACbI,GAAuB,gBAAC,GAAD,CAAU5wC,eAAgB4wC,KAEpD,gBAAC,KAAD,CAAO39C,KAAI,UAAK2tB,EAAL,iBACT,gBAACjgB,GAAD,KACE,gBAACE,GAAD,KAAqBG,IAEtB6vC,GAAuB,gBAAC,GAAD,CAAU7wC,eAAgB6wC,QAY1D,gBAACtyC,GAAD,KACGya,EAAS1lB,OAAS,EACjB,gBAACoL,GAAD,KACE,gBAACE,GAAD,CAAY9B,WAAY,QAAxB,kBACA,gBAAC+B,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,QAAD,KACE,gBAAC,KAAD,CAAMrK,KAAM,KAAO,IACnB,qBAAG0P,KAAM6U,EAAU1U,OAAO,SAASD,IAAI,uBACrC,gBAAC,GAAD,CAAUrG,GAAI,EAAGkb,KAAM,GACpBF,QAOX,QAMNoe,GAAO,SAAC,GAQP,IAPLxW,EAOI,EAPJA,SACA+K,EAMI,EANJA,iBAOA,OACE,gBAACjrB,GAAD,CAAUX,EAAG,EAAGs3B,GAAI,GAClB,gBAAC72B,GAAD,CAAUu2B,OAAK,EAACvyB,GAAE,UAAKoc,IACrB,uBAAK3hB,UAAU,eACb,gBAAC,SAAD,yBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAAC,GAAD,CAAcxK,KAAK,SAGvB,gBAAC+L,GAAD,CAAUu2B,OAAK,EAACvyB,GAAE,UAAKoc,EAAL,aAChB,uBAAK3hB,UAAU,eACb,gBAAC,SAAD,iBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAAC,GAAD,CAAaxK,KAAK,SAGtB,gBAAC+L,GAAD,CAAUu2B,OAAK,EAACvyB,GAAE,UAAKoc,EAAL,iBAChB,uBAAK3hB,UAAU,eACb,gBAAC,SAAD,6CAAQ0sB,uBAEV,gBAAC7qB,GAAD,CAAY7B,UAAU,eACpB,gBAAC,GAAD,CAAWxK,KAAK,SAGpB,gBAAC+L,GAAD,CAAUu2B,OAAK,EAACvyB,GAAE,UAAKoc,EAAL,eAChB,uBAAK3hB,UAAU,eACb,gBAAC,SAAD,mBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAACmxC,GAAD,CAAa37C,KAAK,WAOtBo6C,GAAWjxC,GAAOQ,QAAPR,CAAH,KACVwI,aAAS,UACF,SAAA/H,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,Q,yeC5KvC,IA0Ba+0C,GAAgBlzC,GAAO,MAAPA,CAAH,M,oiFCxB1B,IAAMmzC,GAAgBx+C,EAAQ,KAAyCylB,QACjEg5B,GAAcz+C,EAAQ,KAAuCylB,QAC7Di5B,GAAU1+C,EAAQ,KAAgCylB,QAClDk5B,GAAU3+C,EAAQ,KAAgCylB,QAClDm5B,GAAU5+C,EAAQ,KAAiCylB,QACnDo5B,GAAW7+C,EAAQ,KAAmCylB,QACtDq5B,GAAW9+C,EAAQ,KAAiCylB,QACpDs5B,GAAY/+C,EAAQ,KAAkCylB,QACtDu5B,GAAah/C,EAAQ,KAAoCylB,QACzDw5B,GAAUj/C,EAAQ,KAAgCylB,QAClDy5B,GAAWl/C,EAAQ,KAAqCylB,QAExD05B,GAASn/C,EAAQ,KAWVo/C,GAAgC,SAAC,GAKvC,IAAD,UAJJ/5C,EAII,EAJJA,SACAg6C,EAGI,EAHJA,cACAC,EAEI,EAFJA,wBACAC,EACI,EADJA,wBAEMl+B,EAAMm+B,OAAOxlB,SAASpoB,KADxB,EAG4ByI,WAAe,CAC7ColC,OAAO,EACPC,QAAQ,IALN,mBAGGC,EAHH,KAGaC,EAHb,KAQJ,OACE,gBAAC9xC,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC6xC,GAAD,KACE,gBAACjzC,GAAD,CAAQqe,GAAI,EAAGvd,QAAS2xC,EAAe3zC,QAAQ,UAC7C,gBAAC,SAAD,uBAEF,gBAACkB,GAAD,CAAQnB,GAAI,EAAGiC,QAAS4xC,EAAyB5zC,QAAQ,SACvD,gBAACmzC,GAAD,CAAU38C,KAAK,KAAKwK,UAAU,SADhC,IAC0C,gBAAC,SAAD,cAE1C,gBAACE,GAAD,CAAQnB,GAAI,EAAGiC,QAAS6xC,EAAyB7zC,QAAQ,SACvD,gBAACszC,GAAD,CAAY98C,KAAK,KAAKwK,UAAU,SADlC,IAC4C,gBAAC,SAAD,iBAG9C,gBAACozC,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,MACW,OAAR36C,QAAQ,IAARA,OAAA,EAAAA,EAAU4R,QAAS,uBAAKjE,IAAK3N,EAAS4R,MAAOgpC,IAAK56C,EAAS3M,QAE9D,gBAACwnD,GAAD,MAAwB,OAAR76C,QAAQ,IAARA,OAAA,EAAAA,EAAU/K,KAAM,gBAAC6kD,GAAD,CAAQxmD,MAAO0oB,MAEjD,gBAAC8+B,GAAD,KACE,gBAAC,OAAD,CAAK/jC,GAAI,GACP,gBAAC,GAAD,CAAO1Q,QAAQ,WACZ,IACD,gBAAC,SAAD,oBAAQrG,GAAYA,EAAS3M,UAGjC,gBAAC,OAAD,KACE,gBAAC,QAAD,CAAMgT,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACkzC,GAAD,CAAS18C,KAAK,QAEhB,yBACE,gBAAC,SAAD,cAAqB,KAClB,IACL,gBAAC,SAAD,qBAAgB,OAARmD,QAAQ,IAARA,OAAA,EAAAA,EAAU6oC,MAAO7oC,EAAS6oC,KAAO,oBAG7C,gBAAC,OAAD,KACE,gBAAC,QAAD,CAAMxiC,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACgzC,GAAD,CAASx8C,KAAK,QAEhB,yBACE,gBAAC,SAAD,mBACG,KACI,OAARmD,QAAQ,IAARA,GAAA,UAAAA,EAAUszC,uBAAV,eAA2BjgD,MACxB2M,EAASszC,gBAAgBjgD,KACzB,iBAGR,gBAAC,OAAD,KACE,gBAAC,QAAD,CAAMgT,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACizC,GAAD,CAASz8C,KAAK,QAEhB,+CAA0B,IAC1B,wBACE6X,MAAO,CACLjQ,OACU,OAARzE,QAAQ,IAARA,OAAA,EAAAA,EAAU+6C,iBAAkB/6C,EAAS+6C,eAAehS,kBAAoB,EACpE,MACA,aAGC,OAAR/oC,QAAQ,IAARA,OAAA,EAAAA,EAAU+6C,gBAAV,iBACM/6C,QADN,IACMA,GADN,UACMA,EAAU+6C,sBADhB,aACM,EAA0BhS,kBADhC,mBACqD/oC,QADrD,IACqDA,GADrD,UACqDA,EAAU+6C,sBAD/D,aACqD,EAA0B/R,QAAQxN,OACpF,kBAIV,gBAAC,OAAD,KACE,gBAAC,QAAD,CAAMn1B,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACozC,GAAD,CAAU58C,KAAK,QAEjB,yBACE,gBAAC,SAAD,gBACG,KACI,OAARmD,QAAQ,IAARA,OAAA,EAAAA,EAAUg7C,oBAAV,OACGh7C,QADH,IACGA,OADH,EACGA,EAAUg7C,mBAAmB3nD,KAC7B,iBAGR,gBAAC,OAAD,CAAK8U,EAAG,GACN,gBAAC,QAAD,CAAM9B,QAAQ,WACZ,gBAAC,GAAD,KACE,gBAACqzC,GAAD,CAAW78C,KAAK,QAFpB,WAIW,KACA,OAARmD,QAAQ,IAARA,OAAA,EAAAA,EAAUi7C,MAAMv/C,QAAS,IAAa,OAARsE,QAAQ,IAARA,OAAA,EAAAA,EAAUk7C,MAAMx/C,QAAS,EACpD,GACA,kBAxEV,OA2EGsE,QA3EH,IA2EGA,OA3EH,EA2EGA,EAAUi7C,MAAM5mD,KAAI,SAAC4mD,GAAgB,IAAD,IACnC,OACE,gBAACE,GAAD,CAAc/oC,IAAK6oC,EAAMhmD,IACvB,gBAACmmD,GAAD,KACGH,EAAMzjB,OACL,gBAAC,SAAD,oBAAQyjB,EAAMzjB,OAAOgE,SAErB,gBAAC,SAAD,sBAGJ,gBAAC,OAAD,CAAK5V,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACuzC,GAAD,CAAS/8C,KAAK,QAEhB,yBACE,gBAAC,SAAD,iBACG,IACJo+C,EAAMI,wBACL,gBAAC,KAAD,CACEzuC,GAAE,oBAAequC,EAAMI,wBAAwBpmD,IAC/Cmd,IAAK6oC,EAAMI,wBAAwBpmD,IAElCgmD,EAAMI,wBAAwBhoD,MAGjC,kBAIN,gBAAC,OAAD,CAAKuyB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACkzC,GAAD,CAAS18C,KAAK,QAEhB,yBACE,gBAAC,SAAD,qBACG,IACJo+C,EAAMpS,KAAOoS,EAAMpS,KAAO,iBAG/B,gBAAC,OAAD,CAAKjjB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAUxJ,KAAK,QAEjB,yBACE,gBAAC,SAAD,qBACG,IACJo+C,EAAMvL,eACH4L,aAAO,IAAItpB,KAAKipB,EAAMvL,gBAAiB,cACvC,iBAGR,gBAAC,OAAD,CAAK9pB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACizC,GAAD,CAASz8C,KAAK,QAEhB,uCAAkB,IAJpB,oBAKMo+C,EAAMM,wBALZ,aAKM,EAAwBxS,kBAL9B,sBAKmDkS,EAAMM,wBALzD,aAKmD,EAAwBvS,QAAQxN,SAGrF,gBAAC,OAAD,CAAK5V,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACozC,GAAD,CAAU58C,KAAK,QAEjB,yBACE,gBAAC,SAAD,mBACG,IACJo+C,EAAMtL,SACL,gBAAC,KAAD,CAAM/iC,GAAE,gBAAWquC,EAAMtL,SAAS16C,IAAMmd,IAAK6oC,EAAMtL,SAAS16C,IACzDgmD,EAAMtL,SAASt8C,MAGlB,kBAIN,gBAAC,OAAD,CAAKuyB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACozC,GAAD,CAAU58C,KAAK,QAEjB,yBACE,gBAAC,SAAD,mBACG,IACJo+C,EAAMrL,SACL,gBAAC,KAAD,CAAMhjC,GAAE,gBAAWquC,EAAMrL,SAAS36C,IAAMmd,IAAK6oC,EAAMrL,SAAS36C,IACzDgmD,EAAMrL,SAASv8C,MAGlB,sBAxKd,OA+KG2M,QA/KH,IA+KGA,OA/KH,EA+KGA,EAAUk7C,MAAM7mD,KAAI,SAAC6mD,GAAgB,IAAD,IACnC,OACE,gBAACC,GAAD,CAAc/oC,IAAK8oC,EAAMjmD,IACvB,gBAACmmD,GAAD,KACGF,EAAM1jB,OACL,gBAAC,SAAD,oBAAQ0jB,EAAM1jB,OAAOgE,SAErB,gBAAC,SAAD,sBAGJ,gBAAC,OAAD,CAAK5V,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACuzC,GAAD,CAAS/8C,KAAK,QAEhB,yBACE,gBAAC,SAAD,iBACG,IACJq+C,EAAMM,sBACL,gBAAC,KAAD,CACE5uC,GAAE,oBAAesuC,EAAMM,sBAAsBvmD,IAC7Cmd,IAAK8oC,EAAMM,sBAAsBvmD,IAEhCimD,EAAMM,sBAAsBnoD,MAG/B,kBAIN,gBAAC,OAAD,CAAKuyB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACkzC,GAAD,CAAS18C,KAAK,QAEhB,yBACE,gBAAC,SAAD,qBACG,IACJq+C,EAAMrS,KAAOqS,EAAMrS,KAAO,iBAG/B,gBAAC,OAAD,CAAKjjB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACizC,GAAD,CAASz8C,KAAK,QAEhB,sCAAiB,IAJnB,oBAKMq+C,EAAMK,wBALZ,aAKM,EAAwBxS,kBAL9B,sBAKmDmS,EAAMK,wBALzD,aAKmD,EAAwBvS,QAAQxN,SAGrF,gBAAC,OAAD,CAAK5V,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACozC,GAAD,CAAU58C,KAAK,QAEjB,yBACE,gBAAC,SAAD,mBACG,IACJq+C,EAAMvL,SACL,gBAAC,KAAD,CAAM/iC,GAAE,gBAAWsuC,EAAMvL,SAAS16C,IAAMmd,IAAK8oC,EAAMvL,SAAS16C,IACzDimD,EAAMvL,SAASt8C,MAGlB,kBAIN,gBAAC,OAAD,CAAKuyB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAACozC,GAAD,CAAU58C,KAAK,QAEjB,yBACE,gBAAC,SAAD,mBACG,IACJq+C,EAAMtL,SACL,gBAAC,KAAD,CAAMhjC,GAAE,gBAAWsuC,EAAMtL,SAAS36C,IAAMmd,IAAK8oC,EAAMtL,SAAS36C,IACzDimD,EAAMtL,SAASv8C,MAGlB,sBAOZ,gBAAC,OAAD,CAAK8U,EAAG,GACN,gBAAC,QAAD,CAAM9B,QAAQ,WACZ,gBAAC,GAAD,KACE,gBAACgzC,GAAD,CAASx8C,KAAK,QAFlB,cAOF,gBAAC,GAAD,CACEuxC,KAAM,GACNC,QAAS,CACP,CACElf,SAAU,CACRse,KAAa,OAARztC,QAAQ,IAARA,GAAA,UAAAA,EAAUszC,uBAAV,eAA2BtG,OAAQ,IACxCD,KAAa,OAAR/sC,QAAQ,IAARA,GAAA,UAAAA,EAAUszC,uBAAV,eAA2BvG,MAAO,UAK/C,gBAACmM,GAAD,KACE,uBAAK7xC,UAAU,UACb,gBAAC,QAAD,CAAMhB,QAAQ,WACZ,gBAAC,SAAD,mBAEF,gBAACkB,GAAD,CACEqe,GAAI,EACJvd,QAAS,kBACPkyC,EAAY,2BACPD,GADM,IAETF,OAAQE,EAASF,UAGrB/zC,QAAQ,aAEPi0C,EAASF,MACR,gCACE,gBAAChB,GAAD,CAAav8C,KAAK,OAClB,gBAAC,SAAD,mBAGF,gCACE,gBAACs8C,GAAD,CAAet8C,KAAK,OACpB,gBAAC,SAAD,qBAMPy9C,EAASF,MACR,2BACE,uBAAK/yC,UAAU,UACb,gBAAC,QAAD,CAAMhB,QAAQ,QACZ,yBACE,gBAAC,SAAD,uBACG,KACI,OAARrG,QAAQ,IAARA,OAAA,EAAAA,EAAUy7C,aAAc,KAG7B,uBAAKp0C,UAAU,UACb,gBAAC,QAAD,CAAMhB,QAAQ,QACZ,yBACE,gBAAC,SAAD,mBACG,KACI,OAARrG,QAAQ,IAARA,OAAA,EAAAA,EAAU07C,UAAW,KAG1B,uBAAKr0C,UAAU,UACb,gBAAC,QAAD,CAAMhB,QAAQ,QACZ,yBACE,gBAAC,SAAD,cACG,KACI,OAARrG,QAAQ,IAARA,OAAA,EAAAA,EAAU27C,KAAM,KAGrB,uBAAKt0C,UAAU,UACb,gBAAC,QAAD,CAAMhB,QAAQ,QACZ,yBACE,gBAAC,SAAD,gBACG,KACI,OAARrG,QAAQ,IAARA,OAAA,EAAAA,EAAU47C,OAAQ,KAGvB,uBAAKv0C,UAAU,UACb,gBAAC,QAAD,CAAMhB,QAAQ,QACZ,yBACE,gBAAC,SAAD,uBACG,IAHP,OAIGrG,QAJH,IAIGA,OAJH,EAIGA,EAAUk7C,MAAMx/C,SAGrB,uBAAK2L,UAAU,UACb,gBAAC,QAAD,CAAMhB,QAAQ,QACZ,yBACE,gBAAC,SAAD,8BACG,KACI,OAARrG,QAAQ,IAARA,OAAA,EAAAA,EAAU67C,oBAAqB,KAGpC,uBAAKx0C,UAAU,UACb,gBAAC,QAAD,CAAMhB,QAAQ,QACZ,yBACE,gBAAC,SAAD,yBACG,KACI,OAARrG,QAAQ,IAARA,OAAA,EAAAA,EAAU87C,cAAe,MAI9B,aAWTV,GAAQp1C,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WACjC,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SAU1B8J,GAAQ7H,GAAOQ,QAAPR,CAAH,MACP,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAI1ByxC,GAAO5vC,GAAOe,OAAPf,CAAH,MAIH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAI7Bu2C,GAAmBz0C,GAAO,MAAPA,CAAH,KASzBY,IAAMC,SAAS,SAAfD,CATyB,OAchB8zC,GAAiB10C,GAAO,MAAPA,CAAH,KACvBY,IAAMC,SAAS,SAAfD,CADuB,OAMdu0C,GAAen1C,GAAO,MAAPA,CAAH,MAKZw0C,GAAiBx0C,GAAO,MAAPA,CAAH,KAavBY,IAAMC,SAAS,SAAfD,CAbuB,OAkBdk0C,GAAc90C,GAAO,MAAPA,CAAH,MAQX20C,GAAe30C,GAAO,MAAPA,CAAH,MAcZ60C,GAAgB70C,GAAO20C,GAAP30C,CAAH,KAMtBY,IAAMC,SAAS,SAAfD,CANsB,OC1hBbm1C,IDsiBc/1C,GAAO20C,GAAP30C,CAAH,MCtiBL,O,26CCmDZ,IA0IMg2C,GAAgBh2C,GAAOoP,IAAV,KAOtBxO,IAAMC,SAAS,SAAfD,CAPsB,OAYbq1C,GAAmBj2C,GAAOuB,UAAPvB,CAAH,KAuBzBY,IAAMC,SAAS,SAAfD,CAvByB,OA2BX,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WACjC,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cA4BnC+7B,GAAY3kC,EAAQ,KAAkCylB,QACtD87B,GAAYvhD,EAAQ,KAAkCylB,QACtDwkB,GAAejqC,EAAQ,KAAqCylB,QAC5D+7B,GAAcxhD,EAAQ,KAA2CylB,QAEjEof,GAAkD,SAAC,GAAD,IAAGT,EAAH,EAAGA,SAAH,OACtD,gBAACj2B,GAAD,CAAUX,EAAG,EAAGs3B,GAAI,GAClB,gBAAC72B,GAAD,CAAUu2B,OAAK,EAACvyB,GAAImyB,EAASqd,SAC3B,uBAAK/0C,UAAU,eACb,gBAAC,SAAD,iBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAAC60C,GAAD,CAAWr/C,KAAK,SAGpB,gBAAC+L,GAAD,CAAUu2B,OAAK,EAACvyB,GAAImyB,EAAS4F,UAC3B,uBAAKt9B,UAAU,eACb,gBAAC,SAAD,yBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAAC,GAAD,CAAcxK,KAAK,SAGvB,gBAAC+L,GAAD,CAAUu2B,OAAK,EAACvyB,GAAImyB,EAASsd,aAC3B,uBAAKh1C,UAAU,eACb,gBAAC,SAAD,qBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAAC80C,GAAD,CAAat/C,KAAK,SAGtB,gBAAC+L,GAAD,CAAUu2B,OAAK,EAACvyB,GAAE,UAAKmyB,EAASud,UAC9B,uBAAKj1C,UAAU,eACb,gBAAC,SAAD,iBAEF,gBAAC6B,GAAD,CAAY7B,UAAU,eACpB,gBAAC,GAAD,CAAWxK,KAAK,WAMlBgR,GAAQ7H,GAAOO,QAAPP,CAAH,MACK,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAIzB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAkBzCi4C,GAAiBv2C,GAAOe,OAAPf,CAAH,MACJ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAG7B2xB,GAnR2B,SAAC,GAgBpC,IAfL8Q,EAeI,EAfJA,WACAzgB,EAcI,EAdJA,cAEAi3B,EAYI,EAZJA,QACAC,EAWI,EAXJA,QAEA1d,EASI,EATJA,SACA2d,EAQI,EARJA,gBACAC,EAOI,EAPJA,SACAC,EAMI,EANJA,QACA9D,EAKI,EALJA,mBACAr5C,EAII,EAJJA,YAEAo9C,EAEI,EAFJA,gBAGMC,EAAmB,SAAC9wB,GACxB,OAAK2wB,IACH3mD,YAAMg2B,EAAK,CAAEt1B,KAAM,aACZ,IAILuyB,EAAoBC,KARtB,EASmDtP,sBACrD,SAAAC,GAAE,OACCijC,EAAiB5pC,GAAKzd,EAAL,4DACjBwzB,MACApP,KACH,GAdE,mBASGs6B,EATH,KASuBC,EATvB,OAgBmDp/B,YAAe,GAhBlE,mBAgBG6+B,EAhBH,KAgBuBC,EAhBvB,OAiBgCl6B,sBAClC,SAAAC,GAAE,OACCijC,EAAiB5pC,GAAKzd,EAAL,0DACjBwzB,MACApP,KACH,GAtBE,mBAiBGkjC,EAjBH,KAiBeC,EAjBf,KAyBEzI,EAAsBJ,EAC1B,gBAAC,GAAD,CAAOt1B,WAAYu1B,GAChBP,EACC,gBAAC,GAAD,CAAwBh0B,KAAMi0B,IAE9B,gBAAC,GAAD,CACEj0B,KAAMu0B,EACN7D,qBAAsBuD,KAI1B,KAEEmJ,EAAkBF,EACtB,gBAAC,GAAD,CACEl+B,WAAY,WACVm+B,MAGF,gBAAC,GAAD,CAAsBn9B,KAAMm9B,EAAev9C,YAAaA,KAExD,KAEJ,OACE,gBAACgJ,GAAD,KACG8rC,EACA0I,EACD,gBAACv0C,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,GAAD,KACG4c,EACD,gBAAC,GAAD,CAAMwZ,SAAUA,IAChB,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAOI,OAAK,EAAC9jC,KAAM0jC,EAASqd,SAC1B,gBAACJ,GAAD,KACE,gBAACC,GAAD,CAAkB51C,QAAQ,UAAUgC,QAAS20C,GAC3C,gBAAC,KAAD,CAAMngD,KAAM,GAAI4H,MAAO,SACvB,gBAAC,QAAD,CAAM4B,QAAQ,UACZ,gBAAC,SAAD,+BAIN,gBAAC0C,GAAD,KAAc0zC,IAEhB,gBAAC,KAAD,CAAOtd,OAAK,EAAC9jC,KAAM0jC,EAAS4F,UAC1B,gCACE,gBAACn8B,GAAD,CAAMkO,GAAI,GAAIsvB,GACb8S,GAAsB,gBAAC,GAAD,CAAU1wC,eAAgB0wC,MAmBrD,gBAAC,KAAD,CAAO3Z,OAAK,EAAC9jC,KAAM0jC,EAASsd,aAC1B,gCACE,gBAACE,GAAD,CAAgBp0C,EAAG,EAAG4O,GAAI,GACvB2lC,GACC,gBAAC,GAAD,CACErmC,YAAY,wBACZwU,OAAQ,SAAAjmB,GACN83C,EAAgBx9B,UAAU,CAAEta,SAC5B83C,EAAgBp0C,iBAKxB,gBAAC,GAAD,CAAO/C,GAAI,EAAGmR,GAAI,GAChB,gBAAC,QAAD,CAAMrQ,QAAQ,YAAd,oBAEF,gBAAC0C,GAAD,KAAc6zC,GACbC,GAAmB,gBAAC,GAAD,CAAUz0C,eAAgBy0C,MAGlD,gBAAC,KAAD,CAAOxhD,KAAM0jC,EAASud,SACpB,gBAACvzC,GAAD,KAAcyzC,U,yyBCvK9B,IAAMlD,GAAU3+C,EAAQ,KAAgCylB,QAClDm5B,GAAU5+C,EAAQ,KAAiCylB,QACnDq5B,GAAW9+C,EAAQ,KAAiCylB,QAQ7C88B,GAA6B,SAAC,GAA0C,IAAD,EAAvCC,EAAuC,EAAvCA,UAAWt9B,EAA4B,EAA5BA,KAAM/Z,EAAsB,EAAtBA,SAAUs3C,EAAY,EAAZA,MAC9DjsC,EAAOT,KAAPS,GACFksC,EAAW,OAAGlsC,QAAH,IAAGA,GAAH,UAAGA,EAAIvR,YAAP,aAAG,EAAU3K,GAFoD,EAG5Cue,mBAAc,IAH8B,mBAG3E8pC,EAH2E,KAG9DC,EAH8D,OAI5C/pC,mBAAS,GAJmC,mBAI3EgqC,EAJ2E,KAI9DC,EAJ8D,KA0BlF,OAhBA7pC,qBAAU,WACR,GAAIupC,EAAUzhD,OAAQ,CACpB,IAAMu1C,EAAUkM,EAAUO,MFvCN,GEwCjBF,EAAc,GFxCG,GEyCjBA,EAAc,GFzCG,GE2CpBD,EAAetM,QAEfsM,EAAe,MAEhB,CAACJ,EAAWK,IAEf5pC,qBAAU,WACR6pC,EFjDsB,KEkDrB,CAACN,EAAUzhD,SAGZ,gCACE,gBAACsgD,GAAD,MACK,OAAF7qC,QAAE,IAAFA,OAAA,EAAAA,EAAIvR,KAAK3K,MAAOmoD,GACf,gBAACnB,GAAD,CAAkB51C,QAAQ,UAAUgC,QAASwX,GAC3C,gBAAC,KAAD,CAAMhjB,KAAM,GAAI4H,MAAO,SACvB,gBAAC,QAAD,CAAM4B,QAAQ,UACZ,gBAAC,SAAD,iCAKR,uBAAKqO,MAAO,CAAEya,SAAU,aAAerpB,GACvC,gBAAC,GAAD,OACKw3C,EAAY5hD,QACb4hD,EAAYjpD,KACV,gBAAGY,EAAH,EAAGA,GAAI5B,EAAP,EAAOA,KAAMw1C,EAAb,EAAaA,KAAMj3B,EAAnB,EAAmBA,MAAOmpC,EAA1B,EAA0BA,eAAgBC,EAA1C,EAA0CA,mBAA1C,OACE,gBAAC,GAAD,CAAapuC,GAAE,oBAAe3X,GAAMmd,IAAKnd,GACvC,gBAACwlD,GAAD,CAAkBroC,IAAKnd,GACrB,gBAAC0lD,GAAD,KAAe/oC,GAAS,uBAAKjE,IAAKiE,EAAOgpC,IAAKvnD,KAC9C,gBAACynD,GAAD,KACE,gBAAC,GAAD,CAAOz0C,QAAQ,WAAWhT,GAC1B,gBAAC,OAAD,CAAKuyB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAAC,GAAD,CAASxJ,KAAK,QAEhB,yBACE,gBAAC,SAAD,cAAqB,KAClB,IACL,gBAAC,SAAD,oBAAQgsC,GAAc,oBAG1B,gBAAC,OAAD,CAAKjjB,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAAC,GAAD,CAASxJ,KAAK,QAEhB,+CAA0B,IAC1B,wBACE6X,MAAO,CACLjQ,MACEs2C,GAAkBA,EAAehS,kBAAoB,EACjD,MACA,YAGPgS,EAAc,UACRA,EAAehS,kBADP,YAC4BgS,EAAe/R,QAAQxN,OAC9D,kBAIV,gBAAC,OAAD,CAAK5V,GAAI,GACP,gBAAC,QAAD,CAAMvf,QAAQ,QACZ,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAUxJ,KAAK,QAEjB,yBACE,gBAAC,SAAD,gBACG,KACc,OAAlBm+C,QAAkB,IAAlBA,OAAA,EAAAA,EAAoB/lD,MAAOooD,EAAc,KAAzC,OAAgDrC,QAAhD,IAAgDA,OAAhD,EAAgDA,EAAoB3nD,eAQlFiqD,EAAY5hD,QACb,gBAACiiD,GAAD,KACE,gBAAC,KAAD,CACE9gD,KAAK,KACL+gD,WAAYT,EAAUzhD,OACtBmiD,SF/HY,EEgIZ9T,SA/Fa,SAAClgC,GACxB4zC,EAAe5zC,IA+FLi0C,qBF/HwB,EEgIxBC,kBFjIY,EEkIZC,iBAAiB,WAIrBV,EAAY5hD,QACZ,qBAAGgZ,MAAO,CAAE6M,UAAW,SAAUrc,WAAY,IAAKT,MAAO,UAAWw5C,cAAe,KAAnF,iBAWJN,GAAoB33C,GAAO,MAAPA,CAAH,MAuBjBwH,GAAcxH,GAAO6C,KAAP7C,CAAH,MAQX6H,GAAQ7H,GAAOQ,QAAPR,CAAH,KACIjM,GAAgBK,IACpB,SAAAqM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,Q,0+DCjKvC,IAAM+5C,GAAUvjD,EAAQ,KAAqCylB,QACvD+9B,GAAYxjD,EAAQ,KAAuCylB,QAC3Dg+B,GAAazjD,EAAQ,KAAmCylB,QACxDi+B,GAAY1jD,EAAQ,KAA8BylB,QAE3Ck+B,GAA0B,SAAC,GAA2D,IAAzD7kC,EAAwD,EAAxDA,OAAQ8kC,EAAgD,EAAhDA,UAAWC,EAAqC,EAArCA,YAAajoC,EAAwB,EAAxBA,SAAUkoC,EAAc,EAAdA,QAC5EC,EAAa,uCAAG,WAAOjuB,GAAP,eAAApyB,EAAA,sDACdsgD,EAAaluB,EAAMmuB,cAAcvrD,KAEvCkjB,EAAS,CAAEsoC,KAAMF,EAAYG,MHtBd,QGsBqBP,EAAUO,MAAgB/C,GHtB/C,QGmBK,2CAAH,sDAMnB,OACE,6BACE,kBAACgD,GAAD,CAAc12C,QAAS,kBAAMm2C,GAAa/kC,IAAS/iB,KAAK,UACrD+iB,EAAS,kBAAC4kC,GAAD,CAAWxhD,KAAK,OAAU,kBAACuhD,GAAD,CAAYvhD,KAAK,QAEtD4c,EACC,oCACE,kBAACulC,GAAD,KACE,yBAAK33C,UAAU,UACb,yBAAKA,UAAU,2BACb,kBAAC43C,GAAD,CACE52C,QAASq2C,EACTrrD,KHxCE,OGyCFgU,UHzCE,SGyCSk3C,EAAUM,MAAiB,UAHxC,gBHtCI,SG4CDN,EAAUM,MAAiBN,EAAUO,QAAU/C,GAC9C,kBAACmD,GAAD,KACG,IACD,kBAAChB,GAAD,CAASrhD,KAAM,KAFjB,IAEyBk/C,IAGzB,kBAACmD,GAAD,KACG,IACD,kBAACf,GAAD,CAAWthD,KAAM,KAFnB,IH/CD,UGuDP,kBAACosC,GAAD,KACE,kBAACC,GAAD,aACA,kBAACxN,GAAD,CACEhlC,KAAK,OACLzB,GAAG,OACH5B,KAAK,SACLkjB,SAAU,gBAAGqoC,EAAH,EAAGA,cAAH,OAA4BroC,EAAS,CAAE4oC,OAAQP,EAActrD,SACvE+iB,YAAaZ,oBAAS,gBACtBniB,MAAOirD,EAAUY,UAGrB,yBAAK93C,UAAU,UACb,yBAAKA,UAAU,cACb,kBAAC+3C,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,KAAD,CACE3qC,MAAO,CAAE5M,MAAO,QAChBzU,KAAK,QACL4B,GAAG,QACHyB,KAAK,WACLukC,QAASsjB,EAAUrD,QAAS,EAC5B3kC,SAAU,kBAAMA,EAAS,CAAE2kC,OAAQqD,EAAUrD,WAE/C,sEAIN,yBAAK7zC,UAAU,cACb,kBAAC+3C,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,KAAD,CACE3qC,MAAO,CAAE5M,MAAO,QAChBzU,KAAK,QACL4B,GAAG,QACHyB,KAAK,WACLukC,QAASsjB,EAAUtD,QAAS,EAC5B1kC,SAAU,kBAAMA,EAAS,CAAE0kC,OAAQsD,EAAUtD,WAE/C,+DAKR,yBAAK5zC,UAAU,UACb,kBAACi4C,GAAD,CACEj3C,QAAS,WACPo2C,IACAD,GAAY,IAEd9nD,KAAK,UAEL,kBAAC2nD,GAAD,CAAWxhD,KAAM,KAPnB,YAaJ,OAKJyiD,GAAct5C,GAAOuB,UAAPvB,CAAH,MAaXg5C,GAAgBh5C,GAAOuZ,GAAPvZ,CAAH,MAQbk5C,GAAkBl5C,GAAOqvC,KAAV,MASf4J,GAAaj5C,GAAOuB,UAAPvB,CAAH,MAcVo5C,GAAgBp5C,GAAOqvC,KAAV,MAkBbgK,GAAcr5C,GAAOu1B,KAAPv1B,CAAH,MAaX+4C,GAAe/4C,GAAOuB,UAAPvB,CAAH,KAgBdY,IAAMC,SAAS,SAAfD,CAhBc,O,2iBC3JX,IAAM24C,GAAoCzoD,IAAH,MAoEvC,IC/EK0oD,GCpBNC,GAAc9kD,EAAQ,KAuFtB+kD,GAAiB,CACrBb,KAAM,GACNC,MAAO,GACPK,OAAQ,GACRjE,OAAO,EACPD,OAAO,GAWI0E,GAA8C,SAAC,GAItD,EAHJC,WAGK,IACCjrB,EAAWkrB,eACb//B,EAAU5O,eACRmsC,EAAc1oB,EAASmrB,SAASrkD,MAAM,KAAK,GAH7C,EAImDuZ,IAAMxB,UAAS,GAJlE,mBAIGqgC,EAJH,KAIuBC,EAJvB,OAKwBtgC,oBAAS,GALjC,mBAKGiG,EALH,KAKW0wB,EALX,OAMwB32B,mBAASksC,IANjC,mBAMGhsD,EANH,KAMWqsD,EANX,KAQJnsC,qBAAU,WACR,IAAM5gB,EAAQ2hC,EAASwqB,OACjBa,EAAoBP,GAAYptC,MAAMrf,IAEvC,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAO0I,SAAUyuC,GAAU,GAC3B4V,EAAUC,KAET,IAEH,IF1CgDp0C,EE0C1Cqd,EAAoBC,KAjBtB,EAkBmDtP,sBACrD,SAAAC,GAAE,OAAKoP,MAAwBpP,KAC/B,GApBE,mBAkBGs6B,EAlBH,KAkBuBC,EAlBvB,KAsBEG,EAAsBJ,EAC1B,kBAAC,GAAD,CAAOt1B,WAAYu1B,GAChBP,EACC,kBAAC,GAAD,CAAwBh0B,KAAMi0B,IAE9B,kBAAC,GAAD,CACEj0B,KAAMu0B,EACN7D,qBAAsBuD,KAI1B,KAEIn9C,GF5DwCiV,EE4DG,CACjDtO,UAAW,CAAE20C,MAAOoL,EAAc,CAACA,GAAe,KF5DvCtxC,IAAmGwzC,GAAmC3zC,IE2D3IjV,KAGFwmD,GAAgB,OAAJxmD,QAAI,IAAJA,OAAA,EAAAA,EAAMspD,4BAA6B,GAtCjD,EAuC8CzsC,mBAAQ,YAAiB2pC,IAvCvE,mBAuCG+C,EAvCH,KAuCsBC,EAvCtB,KAwCJvsC,qBAAU,WACR,GAAIupC,EAAUzhD,OAEZ,GADci5B,EAASwqB,OACbzjD,OAAQ,CAChB,IAAIu1C,EAAO,YAAOkM,IACG,IAAjBzpD,EAAOwnD,QACTjK,EAAUA,EAAQv9C,QAAO,SAACw9C,GAAD,OAAeA,EAAKgK,MAAMx/C,YAEhC,IAAjBhI,EAAOunD,QACThK,EAAUA,EAAQv9C,QAAO,SAACw9C,GAAD,OAAeA,EAAK+J,MAAMv/C,WAEjDhI,EAAOyrD,SACTlO,EAAUA,EAAQv9C,QAAO,SAAAw9C,GAAI,oBAC3BA,QAD2B,IAC3BA,GAD2B,UAC3BA,EAAM79C,YADqB,aAC3B,EAAYq9B,cAAcvuB,SAASzO,EAAOyrD,OAAOzuB,mBAGjDh9B,EAAOorD,QACT7N,EAAUA,EAAQ4N,MAAK,SAASxgD,EAAQ+hD,GACtC,OAAI/hD,EAAE3K,EAAOmrD,MAAQuB,EAAE1sD,EAAOmrD,MACrB,EAELxgD,EAAE3K,EAAOmrD,MAAQuB,EAAE1sD,EAAOmrD,OACpB,EAEH,MAIPnrD,EAAOorD,OAASprD,EAAOorD,QAAU/C,GACnCoE,EAAqBlP,GAErBkP,EAAqBlP,EAAQoP,WAE/BF,EAAqBlP,QAErBkP,EAAqBhD,KAIxB,CAACA,IAMJvpC,qBAAU,WACR0sC,EAAY5sD,EAAOwnD,SAElB,CAACxnD,EAAOwnD,QAEXtnC,qBAAU,WACR0sC,EAAY5sD,EAAOunD,SAElB,CAACvnD,EAAOunD,QAEXrnC,qBAAU,WACRusC,EACEhD,EAAUzpD,QAAO,SAAAw9C,GAAI,wBACnBA,QADmB,IACnBA,GADmB,UACnBA,EAAM79C,YADa,iBACnB,EAAYq9B,qBADO,aACnB,EAA2BvuB,UAAe,OAANzO,QAAM,IAANA,GAAA,UAAAA,EAAQyrD,cAAR,eAAgBzuB,gBAAiB,UAIxE,CAACh9B,EAAOyrD,OAAQhC,IAEnBvpC,qBAAU,WACR,IAAI2sC,EAAY,YAAOL,GACvBK,EAAeA,EAAa1B,MAAK,SAASxgD,EAAQ+hD,GAChD,OAAI/hD,EAAE3K,EAAOmrD,MAAQuB,EAAE1sD,EAAOmrD,MACrB,EAELxgD,EAAE3K,EAAOmrD,MAAQuB,EAAE1sD,EAAOmrD,OACpB,EAGH,KAGLnrD,EAAOorD,QAAU/C,GACnBoE,EAAqBI,GAErBJ,EAAqBI,EAAaF,aAGnC,CAAC3sD,EAAOorD,QAEXlrC,qBAAU,WACR,IAAM4sC,EAAoBf,GAAYpiD,UCnPb,SAAC8C,GAC5B,IAAMsgD,EAAqC,GAW3C,OAVArrD,OAAOD,KAAKgL,GAAKlD,SAAQ,SAAAmV,IAEA,mBAAbjS,EAAIiS,KAAmC,IAAbjS,EAAIiS,IAClB,kBAAbjS,EAAIiS,IACU,kBAAbjS,EAAIiS,IAAkC,KAAbjS,EAAIiS,MAErCquC,EAAYruC,GAAOjS,EAAIiS,OAIpBquC,EDuO2CC,CAAchtD,IAC9DosB,EAAQ7O,KAAK,CACXkuC,OAAQqB,IAEVF,GAAY,KAEX,CAAC5sD,IAEJ,IAgBM4sD,EAAc,SAAC3pD,GAGnB,GAFcg+B,EAASwqB,OAEbzjD,QAAU/E,EAAM,CACxB,IAAIs6C,EAAO,YAAOkM,GACdzpD,EAAOwnD,QACTjK,EAAUA,EAAQv9C,QAAO,SAACw9C,GAAD,OAAeA,EAAKgK,MAAMx/C,WAEjDhI,EAAOunD,QACThK,EAAUA,EAAQv9C,QAAO,SAACw9C,GAAD,OAAeA,EAAK+J,MAAMv/C,WAEjDhI,EAAOyrD,SACTlO,EAAUA,EAAQv9C,QAAO,SAAAw9C,GAAI,oBAC3BA,QAD2B,IAC3BA,GAD2B,UAC3BA,EAAM79C,YADqB,aAC3B,EAAYq9B,cAAcvuB,SAASzO,EAAOyrD,OAAOzuB,mBAGjDh9B,EAAOorD,QACT7N,EAAUA,EAAQ4N,MAAK,SAASxgD,EAAQ+hD,GACtC,OAAI/hD,EAAE3K,EAAOmrD,MAAQuB,EAAE1sD,EAAOmrD,MACrB,EAELxgD,EAAE3K,EAAOmrD,MAAQuB,EAAE1sD,EAAOmrD,OACpB,EAGH,MAIPnrD,EAAOorD,OAASprD,EAAOorD,QAAU/C,GACnCoE,EAAqBlP,GAErBkP,EAAqBlP,EAAQoP,WAG/BF,EAAqBlP,QAErBkP,EAAqBhD,IAIzB,OACE,oCACG5I,EACD,kBAAC,GAAD,CAAW4I,UAAW+C,EAAmBrgC,KAAMu0B,EAA0BgJ,MAAOC,GAC9E,kBAAC,GAAD,CACE5jC,OAAQA,EACR+kC,YApHY,SAAClrD,GACnB62C,EAAU72C,IAoHJijB,SAhEmB,SAACoqC,EAAkBC,GAE1Cb,EADEa,EACQlB,GAGF,SAAAl0C,GAAI,kCACTA,GACAm1C,MA0DClC,QAtDY,WAClBsB,EAAUL,IACVS,EAAqBhD,IAqDfoB,UAAW7qD,Q,SD/RT8rD,O,qBAAAA,I,6BAAAA,I,6BAAAA,I,yBAAAA,I,2BAAAA,I,0BAAAA,Q,KASZ,IAAMqB,GAAuB,6BACvBC,GAA2B,iCAC3BC,GAA2B,iCAC3BC,GAAyB,+BACzBC,GAA0B,gCAC1BC,GAAyB,+BAElBC,GAAyB,SAAC,GAA+B,IAAD,EAA5BthD,EAA4B,EAA5BA,OAAQmpB,EAAoB,EAApBA,SAAUsH,EAAU,EAAVA,IACnD8wB,EAAWvtB,GAAQh0B,GAEnBwhD,EACJ/wB,IAAQkvB,GAAY8B,QAChBT,GACAvwB,IAAQkvB,GAAYzZ,YACpB+a,GACAxwB,IAAQkvB,GAAY1Z,YACpBib,GACAzwB,IAAQkvB,GAAY+B,UACpBP,GACA1wB,IAAQkvB,GAAYxZ,WACpBib,IACQzB,GAAYtC,UACpBgE,IAENloC,MAAc,OAACooC,QAAD,IAACA,GAAD,UAACA,EAAUxhD,YAAX,aAAC,EAAgBvM,OAAQguD,EAAeD,EAASxhD,MAjBI,IAmB3D0zB,EAAcF,GAAavzB,GAA3ByzB,UACDylB,EApB4D,YAoB3CzlB,EAAUtpB,QApBiC,MAsB3DgY,EAAmBsQ,GAAwBzyB,GAA3CmiB,eACD82B,EAvB4D,YAuBtC92B,EAAehY,QAvBuB,MAyB3D4oB,EAA4BF,GAA2B7yB,GAAvD+yB,wBACDqmB,EA1B4D,YA0BrCrmB,EAAwB5oB,QA1Ba,MA4B3DipB,EAA4BD,GAA2BnzB,GAAvDozB,wBACD+lB,EA7B4D,YA6BrC/lB,EAAwBjpB,QA7Ba,MA+B3D0pB,EAAsBD,GAAqB5zB,GAA3C6zB,kBACD8tB,EAhC4D,YAgCvC9tB,EAAkB1pB,QAhCqB,MAkC7Dy3C,EAAgB33C,mBAAe,WAAO,IAAD,IACjCmqB,EAAoEmtB,EAApEntB,gBAAiBH,EAAmDstB,EAAnDttB,iBAAkBC,EAAiCqtB,EAAjCrtB,iBAAkBC,EAAeotB,EAAfptB,WACvD0kB,EACJ,oCACGplB,EAAUzoB,MAAMxW,KAAI,SAAAs6B,GACnB,IAAM+yB,EACwB,aAA5B/yB,EAAKryB,QAAQ8C,YACe,SAA5BuvB,EAAKryB,QAAQ8C,YACe,WAA5BuvB,EAAKryB,QAAQ8C,YACe,SAA5BuvB,EAAKryB,QAAQ8C,YACe,iBAA5BuvB,EAAKryB,QAAQ8C,YACe,iBAA5BuvB,EAAKryB,QAAQ8C,YACe,aAA5BuvB,EAAKryB,QAAQ8C,YACe,WAA5BuvB,EAAKryB,QAAQ8C,WACTuvB,EAAKryB,QACL,KAXqB,EAYc0zB,GAAwB0xB,GAAzDzxB,EAZmB,EAYnBA,cAAezE,EAZI,EAYJA,cACjBvE,EAAQm6B,EAASxhD,KAAO04C,GAAiB8I,EAASxhD,MAAQ,KAC1D+hD,EAAkBhzB,EAClB8B,EAAQvG,GAAwBy3B,EAAiB/pD,GAAa0yB,SAC9D8G,EACwB,YAA5BzC,EAAKryB,QAAQ8C,WACX,kBAAC,GAAD,CAAwBgT,IAAKuc,EAAK15B,GAAI0K,UAAWgvB,EAAKryB,QAAQrH,KAE9D,kBAAC,GAAD,CAAkBqH,QAASqlD,IAEzBC,EAAsC,CAC1C36B,QACAgJ,gBACAzE,gBACAyF,UAAWtC,EAAKsC,UAChBR,QACAhL,OAAQZ,GAAO+E,OACfwH,WAGF,OAAO,kBAAC,GAAD,iBAAqBwwB,EAArB,CAAoCxvC,IAAKuvC,EAAgB1sD,UAIhE0jD,EACJ,oCACG32B,EAAenX,MAAMxW,KAAI,SAAA4K,GAAQ,OAChC,kBAAC,GAAD,CAAoBI,WAAYJ,EAAShK,GAAImd,IAAKnT,EAAShK,SAI3DmU,EACJ,oCACGwpB,EAAwB/nB,MACtBxW,KAAI,SAAA8rC,GAAM,OAAIA,EAAO7jC,WACrB5I,QACC,SAAC4I,GAAD,MACyB,eAAvBA,EAAQ8C,cAEX/K,KAAI,SAAAwtD,GAAkB,OACrB,kBAAC,KAAD,CAAKziC,EAAG,EAAGrI,GAAI,EAAG3E,IAAKyvC,EAAmB5sD,IACxC,kBAAC,GAAD,CACEsK,aAAcsiD,EAAmB5sD,GACjCmd,IAAKyvC,EAAmB5sD,UAM9B2jD,EACJ,oCACG3lB,EAAwBpoB,MACtBxW,KAAI,SAAA8rC,GAAM,OAAIA,EAAO7jC,WACrB5I,QACC,SAAC4I,GAAD,MACyB,cAAvBA,EAAQ8C,cAEX/K,KAAI,SAAAytD,GAAiB,OACpB,kBAAC,GAAD,CAAqBriD,YAAaqiD,EAAkB7sD,GAAImd,IAAK0vC,EAAkB7sD,SAKjF4jD,EAAiB,kBAAC,GAAD,MAEjBkJ,EACJ,oCACGruB,EAAkB7oB,MAChBxW,KAAI,SAAA8rC,GAAM,OAAIA,EAAO7jC,WACrB5I,QAAO,SAAC4I,GAAD,MAAyE,SAAvBA,EAAQ8C,cACjE/K,KAAI,SAAA2tD,GAAY,OACf,kBAAC,GAAD,CAAgBniD,OAAQmiD,EAAaniD,OAAQuS,IAAK4vC,EAAaniD,aA4BvE,MArBqB,CACnBmpB,WACA2vB,gBACAD,aACAD,YANkB,kBAAC,GAAD,CAAU54C,OAAQA,IAOpCuJ,mBACAwvC,iBACAC,iBACAkJ,YACA3zB,UAAU,UAAAgzB,EAASxhD,YAAT,eAAevM,OAAQ,GACjC4gC,gBAAgB,GAAD,OAAKA,GAAmB,KACvCH,iBAAiB,GAAD,OAAKA,GAAoB,KACzCC,iBAAiB,GAAD,OAAKA,GAAoB,KACzCC,WAAW,GAAD,OAAKA,GAAc,KAC7B5S,UAAU,UAAAggC,EAASxhD,YAAT,eAAeqiD,UAAW,GACpCnJ,qBACAG,sBACAD,sBACAwI,oBACAzI,mBAGD,CACDqI,EACA9tB,EACAtR,EAAenX,MACf+nB,EAAwB/nB,MACxBooB,EAAwBpoB,MACxB6oB,EAAkB7oB,MAClBhL,EACAmpB,EACA8vB,EACAG,EACAD,EACAwI,EACAzI,IAEF,OAAO,kBAAC,GAAe0I,IGnKZS,GAA4B,CACvC/iB,OAAO,EACP9jC,KAAM,2EACN+rC,UA1C8D,SAAC,GAAe,IAAbE,EAAY,EAAZA,MAC3DznC,EAASynC,EAAM7P,OAAO53B,OACtBwnC,EAAcC,EAAM7P,OAAOnH,IAC3BA,EACY,YAAhB+W,EACImY,GAAY8B,QACI,gBAAhBja,EACAmY,GAAYzZ,YACI,gBAAhBsB,EACAmY,GAAY1Z,YACI,cAAhBuB,EACAmY,GAAY+B,UACI,cAAhBla,EACAmY,GAAYtC,UACX7V,EAED,KADAmY,GAAYxZ,WAGZv/B,EAAQqD,mBACZ,kBACU,OAARwmB,EACI,KACA,CACEA,MACAzwB,SACAmpB,SAAU+T,GAAa1M,QAAQ,CAAEC,SAAK7vB,EAAWZ,eAAUY,MAEnE,CAAC6vB,EAAKzwB,IAER,OAAK4G,EAIH,kBAAC,GAAD,KACE,kBAAC,GAAaA,IAJT,kBAAC,GAAD,QAqBEs2B,GAAesJ,GAAkC6b,IC3DjD5J,GAAmB,SAC9B6J,GACe,IAAD,IACd,MAAO,CACLp1C,MAAM,UAAAo1C,EAAIp1C,YAAJ,eAAUP,OAAV,UAAiB21C,EAAIvwC,aAArB,aAAiB,EAAWpF,MAAO,GACzCnZ,KAAM8uD,EAAI/zB,UAAY,GACtBzrB,KAAMo6B,GAAa1M,QAAQ,CAAEC,SAAK7vB,EAAWZ,OAAQsiD,EAAItiD,aAAUY,KCJ1D2hD,GAAoB,SAACriD,GAA4B,IAAD,I3IsEtB6L,E2IrE/By2C,G3IqE+Bz2C,E2IrES,CAC5CtO,UAAW,CAAEyC,WAAU+L,MAAO1T,K3IqEnB2T,IAA6EuhB,GAAwB1hB,I2InE5G02C,EAAc34C,GAAO,UACzB04C,EAAe1rD,YADU,iBACzB,EAAqBmJ,cADI,aACzB,EAA6BiuB,UAC7B,YAAyB,IAAtBtoB,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAOo3C,EAAen2C,UAAU,CAC9B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,GAAmB2H,aAClDoM,YAAa,SAACX,EAAD,GAAgC,IAAD,IAAtBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,GAAA,UAAAA,EAAiBtM,cAAjB,eAAyBiuB,YAAzB,UAAqCviB,EAAK1L,cAA1C,aAAqC,EAAaiuB,UAAlD,2BAEE3hB,GAFF,IAGDtM,OAAO,2BACFsM,EAAgBtM,QADf,IAEJiuB,SAAU9iB,EAAO,CACfO,KAAMA,EAAK1L,OAAOiuB,SAClBxiB,QAASa,EAAgBtM,OAAOiuB,eAItCviB,QAMZ,OAAO1B,mBAAQ,WACb,MAAO,CACLw4C,iBAED,CAACA,K,ogCClBC,IAAMj3B,GAAkC,SAAC,GAQzC,IAPLv1B,EAOI,EAPJA,QAEA+5B,EAKI,EALJA,aACAC,EAII,EAJJA,aACAZ,EAGI,EAHJA,WACAotB,EAEI,EAFJA,QACA35C,EACI,EADJA,KAEA,OACE,kBAAC,GAAD,CAASwF,EAAG,GAIV,kBAAC,KAAD,CAASyE,GAAIjK,GACX,kBAAC,GAAD,CAAS0D,QAAQ,QAAQvQ,GACzB,kBAAC,QAAD,CAAM4gB,GAAI,EAAG6a,WAAW,UACtB,kBAAC,QAAD,CAAMjQ,KAAM,GACV,kBAAC,GAAD,KACE,kBAAC,SAAD,sBADF,IACgCqQ,YAASC,QAAQ/B,GAAcgC,cAE/D,kBAAC,GAAD,KACE,kBAAC,QAAD,CAAMN,WAAW,UACf,kBAAC,GAAD,CAAM3L,GAAI,GACR,kBAAC,KAAD,CAAe/oB,KAAM,MACf,IACPizB,GAAgB,GAEnB,kBAAC,QAAD,CAAM1pB,GAAI,EAAGmrB,WAAW,UACtB,kBAAC,GAAD,CAAM3L,GAAI,GACR,kBAAC,KAAD,CAAM/oB,KAAM,MAEbqyB,GAAc,KAIrB,kBAAC,QAAD,KACGotB,EAAQjoD,KAAI,SAAC+qB,EAAG9jB,GAAJ,OACX,kBAAC,GAAD,CAAQ8K,GAAI,EAAGuH,IAAKyR,YAS5Bw2B,GAAO5vC,GAAOe,OAAPf,CAAH,MAMJqpB,GAAUrpB,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAGjCktB,GAASrrB,GAAOe,OAAPf,CAAH,MAIS,SAAAS,GAAK,OAAIA,EAAMkH,OAQ9BG,GAAO9H,GAAOO,QAAPP,CAAH,MACC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIjC8tB,GAAOhsB,GAAOQ,QAAPR,CAAH,MACC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKjCqE,GAAUvC,GAAOe,OAAPf,CAAH,MACM,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAC/B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAG1B,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WC3FjCy+C,GAA8B,SAAC,GAAkB,IAAhBxiD,EAAe,EAAfA,SAAe,EACrB4vB,GAAiB5vB,GAA/CwvB,EADmD,EACnDA,YAAaO,EADsC,EACtCA,aAEf0yB,EAAqB14C,mBAAqC,WAC9D,OAAKylB,EAI+B,CAClCz5B,QAASy5B,EAAYz5B,QAErB+5B,aAAcN,EAAY0B,UAC1BqrB,QAAS,GACTptB,WAAW,GAAD,OAAKK,EAAY7C,YAAc,GACzCoD,aAAcA,EAAY,UAAMA,GAAiB,GACjDntB,KAAK,WAAD,OAAa5C,IAVV,OAcR,CAACwvB,EAAaO,EAAc/vB,IAE/B,OAAOyiD,GAAsB,kBAAC,GAAoBA,ICHvCC,GAAiC,SAAC,GAAa,IAAXntD,EAAU,EAAVA,IAC/C,IAAKA,EACH,OAAO,KAET,OAAQA,EAAI8J,YACV,IAAK,WACH,OAAO,kBAAC,GAAD,CAAoBC,WAAY/J,EAAIL,KAC7C,IAAK,aACH,OAAO,kBAAC,GAAD,CAAsBsK,aAAcjK,EAAIL,KACjD,IAAK,UACH,OAAO,kBAAC,GAAD,CAAmB0K,UAAWrK,EAAIL,GAAIs6B,aAAa,IAC5D,IAAK,YACH,OAAO,kBAAC,GAAD,CAAqB9vB,YAAanK,EAAIL,KAC/C,IAAK,WACH,OAAO,kBAAC,GAAD,CAAoBgL,WAAY3K,EAAIL,KAC7C,IAAK,SACH,OAAO,kBAAC,GAAD,CAAkB8K,SAAUzK,EAAIL,KACzC,IAAK,OACH,OAAO,kBAAC,GAAD,CAAgB4K,OAAQvK,EAAIL,KACrC,QACE,OAAO,OC3BPytD,GAAkB,6BAEXC,GAA6B,SAAC,GAAkB,IAAhB5iD,EAAe,EAAfA,SACnCuiD,EAAgBF,GAAkBriD,GAAlCuiD,YACD12B,EAFmD,YAE/B02B,EAAYt4C,QAFmB,MAGpDlK,EAAS6vB,GAAiB5vB,GAC1B6iD,EAAc9iD,EAAOyvB,aAAe,CACxCszB,QAAQ,GAAD,OAAK/iD,EAAOyvB,YAAYz5B,QAAQgtD,UAAU,EAAG,IAA7C,SAET9pC,KAAe4pC,GAAeF,GAAiBE,GAC/C,IAAM32B,EAAc/hB,aAAoC,CACtDC,cAAe,CAAE+hB,aAAc,IAC/B9hB,SAAU,gBAAG8hB,EAAH,EAAGA,aAAH,OAAsBpsB,EAAO+rB,MAAMK,MAGzC62B,EAAUj5C,mBAAsB,WAAO,IAAD,EACzBokB,EAA+BpuB,EAAxCxD,QAAwBizB,EAAgBzvB,EAAhByvB,YAChC,GACErB,IAC8B,SAA7BA,EAAc9uB,YACgB,SAA7B8uB,EAAc9uB,YACe,WAA7B8uB,EAAc9uB,YACe,YAA7B8uB,EAAc9uB,YAEhB,OAAO,KAGT,IAAM9C,EAAU2tB,GAAuBiE,GACvC,IAAMqB,IAAejzB,EACnB,OAAO,KAdiC,MAiBY0zB,GAAwB1zB,GAAtEkvB,EAjBkC,EAiBlCA,cAAe/rB,EAjBmB,EAiBnBA,YAAagsB,EAjBM,EAiBNA,cAE9Bm2B,EAGF,CACF3xB,cAAc,gBAAD,OAAkBxwB,GAC/B+rB,gBACAiF,MAAO,uBACPhL,OAAQu9B,GAAsBp5B,QAG1B0B,EACJ,kBAAC,GAAD,2BAEOs2B,GAFP,IAGI36B,MAAOsI,EAAYzL,QAAUw0B,GAAiB/oB,EAAYzL,SAAW,KACrEsN,QAAS,kBAAC,GAAD,CAAmBzxB,UAAW4vB,EAAYt6B,GAAIs6B,aAAa,IACpE0B,UAAW1B,EAAY0B,aAsD7B,MAhBqB,CACnB1F,SAjCA,oCACG+2B,EAAYz3C,MACVnX,QAAO,SAAAgM,GAAO,aAAIA,EAAQzK,MAAR,UAAe6K,EAAOyvB,mBAAtB,aAAe,EAAoBt6B,OACrDZ,KAAI,SAAAqL,GAAO,OACV,kBAAC,KAAD,CAAKqX,GAAI,EAAG3E,IAAK1S,EAAQzK,IACvB,kBAAC,GAAD,2BAEO2sD,GAFP,IAGInxB,MAAO,UACPxJ,MAAOvnB,EAAQokB,QACXw0B,GAAiB54C,EAAQokB,SACzB,CAAE/W,KAAM,GAAIpK,KAAM,GAAItP,KAAM,IAChC+9B,QACE,kBAAC,GAAD,CACEzxB,UAAWD,EAAQzK,GACnBs6B,aAAa,EACbliB,aAAa,IAGjB4jB,UAAWvxB,EAAQuxB,kBAe/BvF,QANA,kBAAC,GAAD,CACEp2B,IAA4B,SAAvBgH,EAAQ8C,WAAR,2BAAqC9C,GAArC,IAA8CrH,GAAIqH,EAAQuD,SAAWvD,IAM5EgvB,aACAG,gBACAhsB,cACA+rB,gBACAK,MAAO/rB,EAAOquB,SACV,CACElC,eAEF,KACJN,mBAAmD,eAA/B,UAAA7rB,EAAOxD,eAAP,eAAgB8C,YACpCwsB,sBAID,CAAC9rB,EAAQwiD,EAAa12B,EAAkBK,IAC3C,OAAO82B,GAAW,kBAAC,GAAiBA,ICvGzBE,GAA8B,CACzC9jB,OAAO,EACP9jC,KAAM,oBACN+rC,UApBkE,SAAC,GAAe,IAC5ErnC,EAD2E,EAAZunC,MAC9C7P,OAAO13B,SAExB0G,EAAQqD,mBACZ,iBAAO,CACL/J,cAEF,CAACA,IAGH,OACE,kBAAC,GAAD,KACE,kBAAC,GAAe0G,MAeT4xC,GAAiBhS,GAAkC4c,IC5BnDC,GAAqB,SAAC7jD,GAAgC,IAAD,E1JyC1BuM,E2JpBFtW,EDjB9B2J,EAAQ,W1JqCwB2M,E0JxCW,CAC/CtO,UAAW,CAAE+B,e1JwCF0M,IAA+Eie,GAAyBpe,I0JtCnFjV,YAApB,aAAG,EAAuBsI,SAClCmrB,EAAcH,GAAsB,OAAChrB,QAAD,IAACA,OAAD,EAACA,EAAU3C,SAC/C6mD,ExJTsB,SAAClkD,GAC7B,OAAOA,EACHirB,GAAwBjrB,EAAS3C,QAAS2C,EAASkrB,MACnD,GwJMgBi5B,CAAenkD,IAAa,GAC1C0D,GCc8BrN,EDdD80B,GCiBL,YAAnB90B,EAAI8J,WACN9J,EAAIwK,OAASu4C,GAAehoB,QAAQ,CAAEtwB,SAAUzK,EAAIwK,OAAO7K,SAAMwL,GAAa,GACzD,aAAnBnL,EAAI8J,WACN9J,EAAIsiD,QAAUtiD,EAAIsiD,QAAQprC,IAAM,GACX,SAAnBlX,EAAI8J,WACN29B,GAAa1M,QAAQ,CAAExwB,OAAQvK,EAAIuK,OAAQywB,SAAK7vB,QAAaA,GACxC,eAAnBnL,EAAI8J,WACNihC,GAAmBhQ,QAAQ,CAAE9wB,aAAcjK,EAAIL,GAAIq7B,SAAK7vB,QAAaA,GAChD,cAAnBnL,EAAI8J,WACNgxB,GAAkBC,QAAQ,CAAE5wB,YAAanK,EAAIL,GAAIq7B,SAAK7vB,QAAaA,GAErE,KAZE,GDfH4iD,EAAuBrzB,GAAwB5F,GAErD,OAAOtgB,mBAAQ,WACb,MAAO,CACL7K,WACAmrB,cACA+4B,cACAxgD,OACA0gD,0BAED,CAACpkD,EAAUmrB,EAAa+4B,EAAaxgD,EAAM0gD,KEfnCC,GAAgC,SAAC,GAAoB,IAAlBjkD,EAAiB,EAAjBA,WACxCkkD,EAAcL,GAAmB7jD,GACjCoH,EAAQqD,mBAAyB,WAAO,IACpC7K,EAAgDskD,EAAhDtkD,SAAUokD,EAAsCE,EAAtCF,qBAAsBF,EAAgBI,EAAhBJ,YACxC,GAAKlkD,EAEE,CAAC,IAAD,MACL,IAAKA,EAAS3C,QAEZ,OADAiF,QAAQrD,MAAM,4CAA6Ce,GACpD,KAGT,IAAMc,EAC4B,YAAhCd,EAAS3C,QAAQ8C,WAAjB,UACIH,EAAS3C,QAAQwD,cADrB,aACI,EAAyB7K,GACO,SAAhCgK,EAAS3C,QAAQ8C,YACwB,aAAzC,UAAAH,EAAS3C,QAAQA,eAAjB,eAA0B8C,YAD1B,UAEAH,EAAS3C,QAAQA,QAAQwD,cAFzB,aAEA,EAAiC7K,QACjCwL,EAEF2wB,EAAU,qCAoBd,MAlBkC,aAAhCnyB,EAAS3C,QAAQ8C,YACe,WAAhCH,EAAS3C,QAAQ8C,YACe,iBAAhCH,EAAS3C,QAAQ8C,YACe,iBAAhCH,EAAS3C,QAAQ8C,YACe,aAAhCH,EAAS3C,QAAQ8C,aAEjBgyB,EAAU,kBAAC,GAAD,CAAkB90B,QAAS2C,EAAS3C,WAG3B,yBACnBmpB,OAAQ+9B,GAAU55B,OAClBqH,UAAWhyB,EAASgyB,UACpBhK,MAAOhoB,EAASW,MAAQ04C,GAAiBr5C,EAASW,MAClDmxB,UAAWhxB,GAAYs4C,GAAehoB,QAAQ,CAAEtwB,iBAAYU,GAC5DgwB,MAAO0yB,GACJE,GANgB,IAOnBjyB,YAjCF,MAAO,CAAE3L,OAAQ+9B,GAAU99B,WAqC5B,CAAC69B,IAEJ,OAAO98C,GAAS,kBAAC,GAAuBA,I,2XC9BnC,IAAMg9C,GAA2B3sD,IAAH,MAUxB4sD,GAA2B5sD,IAAH,KAM/B2sD,IAmCC,ICxEME,GAAsB,SAAClkD,GAAkC,IAAD,IDuD5BmM,EClDjCg4C,EAAgB,qBDkDiBh4C,ECtDgB,CACrDtO,UAAW,CAAEmC,gBDsDFsM,IAAiF23C,GAA0B93C,ICnD7EjV,YAArB,aAAG,EAAwBktD,uBAA3B,QAA8C,GAEpE,OAAO/5C,mBACL,iBAAO,CACL85C,sBAEF,CAACA,K,q9ECeE,IAAME,GAA0B,SAAC,GAWjC,IAVL/2C,EAUI,EAVJA,KACA1Z,EASI,EATJA,KACA4Z,EAQI,EARJA,QACAtK,EAOI,EAPJA,KACA0zC,EAMI,EANJA,eACAC,EAKI,EALJA,eACA3nB,EAII,EAJJA,KACArhB,EAGI,EAHJA,SACAD,EAEI,EAFJA,YACA02C,EACI,EADJA,OAEA,OACE,gBAAC,GAAD,KACGz2C,GACC,gBAAC,GAAD,KACE,gBAAC,SAAD,gBAGJ,gBAAC,GAAD,CAASnF,EAAG,GACA,KAAT4E,GAAe,gBAAC,GAAD,CAAQlQ,KAAK,IAAI8Q,IAAKZ,IACtC,gBAAC,GAAD,CAAOuU,KAAM,EAAGlb,GAAI,GAClB,gBAAC,GAAD,CACEiC,QAAS,WACP07C,GAAUA,EAAOphD,KAGnB,gBAAC,GAAD,CAAO2e,KAAK,KAAKjuB,IAElB4Z,GACC,gBAAC,GAAD,CAAS5G,QAAQ,OAAOqQ,GAAI,GACzBzJ,KAKT,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAY7G,GAAI,EAAG2Q,GAAI,GAAvB,YACW,gBAAC,KAAD,CAASnK,GAAIypC,GAAb,KAAgCC,IAE1CjpC,EAAc,KACb,gBAAC,GAAD,KACGshB,GACC,gBAAC,GAAD,CACEzgB,UAAQ,EACR4gB,QAAOH,EAAKI,QACZ1mB,QAASsmB,EAAKK,iBAAiB1mB,YAE/B,gBAAC,GAAD,KACE,gBAAC,KAAD,CAAMwU,YAAY,IAAIjgB,KAAK,QAE7B,gBAAC,GAAD,CAAYwJ,QAAS,OAAQgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GACnEuoB,EAAKO,iBAWlBphB,GAAO9H,GAAOO,QAAPP,CAAH,MAIJ8G,GAAa9G,GAAOO,QAAPP,CAAH,MAKH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAInCkrB,GAAUrpB,GAAOQ,QAAPR,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QAGjCiK,GAAapI,GAAOQ,QAAPR,CAAH,KACDjM,GAAgBE,IACpB,SAAAwM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAEjC6qB,GAAajpB,GAAOe,OAAPf,CAAH,MAcV2X,GAAU3X,GAAOO,QAAPP,CAAH,MAMPiI,GAAajI,GAAOO,QAAPP,CAAH,MAEL,SAAAS,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAEtE,SAAAuC,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAGrE,SAAAuC,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOE,QAAU,iBAC/C,SAAAyM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOE,QAAU,iBACrD,SAAAyM,GAAK,OAAKA,EAAMyH,SAAWzH,EAAMrD,MAAMtJ,OAAOE,QAAU,gBAK/DD,GAAgBE,IAGnB,SAAAwM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO+J,SAAW4C,EAAMrD,MAAMtJ,OAAOE,WAUvE,SAAAyM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO+J,YAG1C,SAAA4C,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO+J,YAE7C,SAAA4C,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO+J,YACtC,SAAA4C,GAAK,OACjBA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOoK,WAAauC,EAAMrD,MAAMtJ,OAAOE,WACnD,SAAAyM,GAAK,OACnBA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOoK,WAAauC,EAAMrD,MAAMtJ,OAAOE,WAIjE07B,GAAW1vB,GAAOe,OAAPf,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UACxB,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAMtCuzC,GAAY9wC,GAAOg4B,OAAV,MAEJ,SAAAv3B,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAgBjCmE,GAAUvC,GAAOO,QAAPP,CAAH,MAGG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAKtC0T,GAAQjR,GAAOe,OAAPf,CAAH,MAOL6H,GAAQ7H,GAAOuI,WAAPvI,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UC3M1B4/C,GAA8B,SAAC,GAOrC,IANLC,EAMI,EANJA,SAOMC,EAAkC,CACtC7wD,KAFE,EALJA,KAQE4Z,QAHE,EAJJ47B,KAQElmC,KAAMshD,EACNt1B,KAAM,KACNthB,aAAa,EACbgpC,eAPE,EAHJpmB,cAWEqmB,eARE,EAFJ9qB,cAWEu4B,OATE,EADJA,QAaA,OAAOG,GAAsB,kBAAC,GAAoBA,I,4wBCuB7C,IAAMC,GAA8BrtD,IAAH,MA0CLA,IAAH,MAiDzB,IC9IMstD,GAAiB,WAAO,IDuFUx4C,ECvFX,EDwFrBG,IAAgGo4C,GAA6Bv4C,GCxFxG,mBAC3BoP,EAD2B,KAChBC,EADgB,KAG5BC,EAASC,GAAwB,uCACrC,uCAAA9c,EAAA,yDACEwqC,EADF,EACEA,KACArR,EAFF,EAEEA,OACAmY,EAHF,EAGEA,SACAC,EAJF,EAIEA,SACA5G,EALF,EAKEA,QACAD,EANF,EAMEA,mBAEI9tB,EAAgB7J,QARtB,0EAWS4J,EAAU,CACf1d,UAAW,CACTurC,OACArR,SACAmY,WACAC,WACA5G,UACAD,wBAlBN,2CADqC,sDAuBrC,IAEF,OAAOj/B,mBAAQ,WACb,MAAO,CACLoR,YAED,CAACA,KCQOjC,GAAmBC,YAAa6yB,MAAM,CACjDlD,KAAM3vB,YAAaC,IAAI,IAAK,aAC5Bqe,OAAQte,YAAa6yB,MAAM,CACzB92C,GAAIikB,YAAaE,SAAS,cAE5Bu2B,SAAUz2B,YAAa6yB,MAAM,CAC3B92C,GAAIikB,YAAaE,SAAS,cAE5Bw2B,SAAU12B,YAAa6yB,MAAM,CAC3B92C,GAAIikB,YAAaE,SAAS,cAE5B4vB,QAAS9vB,YAAa6yB,MAAM,CAC1B92C,GAAIikB,YAAaE,SAAS,cAE5B2vB,kBAAmB7vB,YAChBE,SAAS,YACT4yB,SAAS,CAAC,EAAG,IAAK,UAAMvrC,GAAY,cAsP1B4jD,GAnPoC,SAAC,GAM7C,IALLjU,EAKI,EALJA,WACAI,EAII,EAJJA,UACAH,EAGI,EAHJA,aACAC,EAEI,EAFJA,aACAtF,EACI,EADJA,UACI,EACkCh2B,WAAoB,IADtD,mBACGy7B,EADH,KACgBC,EADhB,OAEkC17B,WAAoB,IAFtD,mBAEG27B,EAFH,KAEgBC,EAFhB,OAG0B57B,WAAoB,IAH9C,mBAGGk2B,EAHH,KAGYC,EAHZ,KAKJn2B,aAAgB,WACd07B,EAAeb,GAAgBQ,EAAc,SAC7CO,EAAef,GAAgBS,EAAc,WAC5C,CAACD,EAAcC,IAElBt7B,aAAgB,WACdm2B,EACE0E,GAAe,OAAC7E,QAAD,IAACA,OAAD,EAACA,EAAWngC,MAAO,CAChCvN,UAAW,CAAC,QAAS,UACrB2yC,SAAU,sBAGb,CAACjF,IAjBA,IAmBI9vB,EAAWkpC,KAAXlpC,OAEFpF,EAAS5L,aAAe,CAC5BC,cAAe,CACb9W,KAAM,GACNw1C,KAAM,GACNj3B,WAAOnR,EACP+2B,OAAQ,CACNviC,GAAI,GACJumC,MAAO,IAETmU,SAAU,CACR16C,GAAI,GACJumC,MAAO,GACPqN,KAAM,GACN37B,gBAAiB,IAEnB0iC,SAAU,CACR36C,GAAI,GACJumC,MAAO,GACPqN,KAAM,GACN37B,gBAAiB,IAEnB87B,QAAS,CACP/zC,GAAI,GACJumC,MAAO,GACPqN,KAAM,IAERE,kBAAmB,GAErBlN,kBAAkB,EAClBD,gBAAgB,EAChB3iB,iBAAkBA,GAClBM,oBAAoB,EAEpBnP,SAAU,SAACkM,GACT,OAAO4E,EAAO,CACZsc,OAAQlhB,EAAOkhB,OAAOviC,GACtB4zC,KAAMvyB,EAAOuyB,KACb8G,SAAUr5B,EAAOq5B,SAAS16C,GAC1B26C,SAAUt5B,EAAOs5B,SAAS36C,GAC1B+zC,QAAS1yB,EAAO0yB,QAAQ/zC,GACxB8zC,kBAAmBzyB,EAAOyyB,oBAEzBn0C,MAAK,SAACgJ,GACAA,EAASrI,QACZS,IAAMm2C,QAAQ,oBAAqB,CACjChd,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,OAInBxuC,OAAM,SAACC,GAAD,OAAgBqD,QAAQ2jB,IAAIhnB,SAIzC,OACE,gBAAC,GAAD,KACE,gBAACirC,GAAD,CAAY/+B,SAAU0L,EAAOM,cAC3B,gBAAC,OAAD,KACE,gBAAC6yB,GAAD,KACE,gBAAC,GAAD,CACEc,SAAU,SAAC12C,EAAMg3C,GACfmG,EAAUnG,EAAOp1C,IACjB6gB,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCkhB,OAAQ6S,MAE/Ct0C,QAASq6C,EACT/pC,QAAQ,UACRpR,GAAG,UACH5B,KAAK,UACLgjB,YAAaZ,oBAAS,iBACtBniB,MAAOwiB,EAAOQ,OAAOkhB,UAGxB1hB,EAAOvgB,OAAOiiC,QACb,gBAACkS,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOiiC,QAAU,aAG5D1hB,EAAOQ,OAAOkhB,OAAOviC,GACpB,2BACE,gBAAC,GAAD,KACE,uBAAKoS,UAAU,UACb,uBAAKA,UAAU,cACb,gBAAC4hC,GAAD,KACE,gBAACC,GAAD,iBACA,gBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ch0B,YAAaZ,oBAAS,YACtB1f,QAAS06C,EACTpqC,QAAQ,UACR/S,MAAOwiB,EAAOQ,OAAOq5B,SACrB16C,GAAG,WACH5B,KAAK,WACLy2C,cAAe,SAACz2C,EAAcC,GAC5B,IAAI29C,EAAO,OAAGZ,QAAH,IAAGA,OAAH,EAAGA,EAAc38C,QAAO,SAACw9C,GAAD,oBACjCA,QADiC,IACjCA,GADiC,UACjCA,EAAMhkC,uBAD2B,aACjC,EAAuBwjB,cAAcvuB,SAAS7O,EAAMo9B,kBAGtDggB,EAAeb,GAAgBoB,EAAS,aAI7Cn7B,EAAOvgB,OAAOo6C,UACb,gBAACjG,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOo6C,UAAY,aAKjC,uBAAKtoC,UAAU,cACb,gBAAC4hC,GAAD,KACE,gBAACC,GAAD,iBACA,gBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ch0B,YAAaZ,oBAAS,YACtB1f,QAAS46C,EACTtqC,QAAQ,UACR/S,MAAOwiB,EAAOQ,OAAOs5B,SACrB36C,GAAG,WACH5B,KAAK,WACLy2C,cAAe,SAACz2C,EAAcC,GAC5B,IAAI29C,EAAO,OAAGX,QAAH,IAAGA,OAAH,EAAGA,EAAc58C,QAAO,SAACw9C,GAAD,oBACjCA,QADiC,IACjCA,GADiC,UACjCA,EAAMhkC,uBAD2B,aACjC,EAAuBwjB,cAAcvuB,SAAS7O,EAAMo9B,kBAGtDkgB,EAAef,GAAgBoB,EAAS,aAI7Cn7B,EAAOvgB,OAAOq6C,UACb,gBAAClG,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOq6C,UAAY,eAMrC,gBAAC,GAAD,KACE,uBAAKvoC,UAAU,UACb,uBAAKA,UAAU,cACb,gBAAC4hC,GAAD,KACE,gBAACC,GAAD,aACA,gBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ct0C,QAASm1C,EACT7kC,QAAQ,UACRpR,GAAG,UACH5B,KAAK,UACLgjB,YAAaZ,oBAAS,QACtBniB,MAAOwiB,EAAOQ,OAAO0yB,WAGxBlzB,EAAOvgB,OAAOyzC,SACb,gBAACU,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOyzC,SAAW,aAIhC,uBAAK3hC,UAAU,cACb,gBAAC4hC,GAAD,KACE,gBAACC,GAAD,wBACA,gBAACxN,GAAD,CACEhlC,KAAK,SACLzB,GAAG,oBACH5B,KAAK,oBACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,mBACtBniB,MAAOwiB,EAAOQ,OAAOyyB,qBAGxBjzB,EAAOvgB,OAAOwzC,mBACb,gBAACW,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOwzC,sBAKvD,gBAAC,GAAD,KACE,gBAACE,GAAD,KACE,gBAACC,GAAD,aACA,gBAACxN,GAAD,CACEzmC,GAAG,OACHyB,KAAK,WACLrD,KAAK,OACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,QACtBniB,MAAOwiB,EAAOQ,OAAOuyB,QAGzB,gBAAChrB,GAAD,KACG/H,EAAOQ,OAAOuyB,KAAO,IAAM/yB,EAAOQ,OAAOuyB,KAAKntC,OAAS,KAEzDoa,EAAOvgB,OAAOszC,MACb,gBAACa,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOszC,OAGnD,gBAACO,GAAD,KACE,gBAAC7hC,GAAD,CAAQlB,QAAQ,OAAO3P,KAAK,SAAS2Q,UAAU,aAC7C,gBAAC,SAAD,wBAIJ,MAEN,gBAAC,IAAD,Q,kuDC/QC,IAsGDi9C,GAAUt+C,GAAOu+C,GAAV,MAMK,SAAA99C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOuK,WAEjC,SAAAoC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SAOnCqlC,GAAapjC,GAAOoP,IAAV,MAQVovC,GAAcx+C,GAAOoP,IAAV,KAKbxO,IAAMC,SAAS,SAAfD,CALa,OAUX69C,GAAWz+C,GAAOoP,IAAV,MAORvH,GAAQ7H,GAAOQ,QAAPR,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGjCob,GAAWtZ,GAAOoP,IAAV,KAIVoI,gBAKS,SAAA/W,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,aACnC0C,IAAMC,SAAS,SAAfD,CAVQ,OAmBD,SAAAH,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAQnCmb,GAAOrZ,GAAOO,QAAPP,CAAH,KAINY,IAAMC,SAAS,SAAfD,CAJM,OAUK89C,GAvLoD,SAAC,GAS7D,IARLz9B,EAQI,EARJA,MACAgK,EAOI,EAPJA,UACAtuB,EAMI,EANJA,KACAtP,EAKI,EALJA,KACAijD,EAII,EAJJA,eACAvpC,EAGI,EAHJA,KACAwuC,EAEI,EAFJA,iBACAz7B,EACI,EADJA,QACI,EACiC9K,YAAe,GADhD,mBACG2vC,EADH,KACgBC,EADhB,KAEJ,OACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,WAAD,CAASxlC,EAAG,GAAI/rB,GAChB,gBAAC,GAAD,CACE4zB,MAAK,OAAEA,QAAF,IAAEA,SAASxmB,EAChBwwB,UAAS,OAAEA,QAAF,IAAEA,IAAa,GACxBR,MAAO,qBACPR,cAAettB,EACf6oB,cAAe8qB,KAGnB,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAOpxC,WAAY,WAIvB,gBAACs/C,GAAD,KACE,gBAAC,OAAD,KACGz3C,GAAiB,KAATA,GACP,gBAAC03C,GAAD,KACE,uBAAK92C,IAAKZ,EAAM6tC,IAAKvnD,KAGzB,gBAAC,GAAD,KACE,gBAACkU,GAAD,CAAQlB,QAAQ,WACd,gBAAC,SAAD,iBAGJ,gBAAC,GAAD,KACE,gBAACkB,GAAD,CAAQlB,QAAQ,WACd,gBAAC,SAAD,kBAGJ,gBAAC,GAAD,KACE,gBAACkB,GAAD,CAAQlB,QAAQ,WACd,gBAAC,SAAD,kBADF,IAC4Bk1C,IAG9B,gBAAC,GAAD,KACE,gBAACh0C,GAAD,CACEmN,MAAO,CACLmwC,WAAYF,EAAcvhD,GAAMtJ,OAAOuK,QAAU,cACjDI,MAAOkgD,EAAcvhD,GAAMtJ,OAAOiK,MAAQX,GAAMtJ,OAAOqK,MAEzDkC,QAAQ,UACRgC,QAAS,WACPu8C,GAAeD,KAGjB,wBACEjwC,MAAO,CACLpP,OAAQ,OACR6Y,QAAS,eACTuT,UAAW,QACXozB,YAAa,EACbC,cAAe,WAGjB,gBAAC,SAAD,gBACA,wBAAMrwC,MAAO,CAAE+K,WAAY,KAC1BK,GAAWA,EAAQpkB,QAEtB,gBAAC,WAAD,CAAOgZ,MAAO,CAAEyJ,QAAS,oBAG7B,gBAAC,GAAD,KACGwmC,GACC,gBAACL,GAAD,KACGxkC,GACCA,EAAQzrB,KAAI,SAAC68C,EAAM51C,GAAP,OACV,sBAAI8W,IAAK9W,GACP,4BAAO41C,EAAK1Z,QACX0Z,EAAKG,MAAQ,4BAAOiK,aAAO,IAAItpB,KAAKkf,EAAKG,MAAO,uBAO/D,gBAAC,OAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,W,skBC5EL,IAAM2T,GAAqBluD,IAAH,MAsExB,IC1FKmuD,GChBCC,GAA4B,SAAC,GAAiC,IAAD,sBFyFvCt5C,EEzFSq4C,EAA8B,EAA9BA,SAAUz4B,EAAoB,EAApBA,cAI9C25B,EAAe,WFqFYv5C,EExFW,CAC1CtO,UAAW,CAAE2mD,aFwFFl4C,IAAqEi5C,GAAoBp5C,IEtFjEjV,YAAhB,aAAG,EAAmByuD,OAE3C,IAAKD,EACH,OAAO,KAP+D,IAUhExV,EAAawV,EAAbxV,SAEF1oB,EAAe,CACnBla,KAAO4iC,GAAY,UAAWA,GAAYA,EAAS/9B,OAAU,GAC7Dve,KAAI,iBAAEs8C,QAAF,IAAEA,OAAF,EAAEA,EAAUt8C,YAAZ,QAAoB,GACxBsP,KAAI,iBAAEgtC,QAAF,IAAEA,OAAF,EAAEA,EAAU16C,UAAZ,QAAkB,IAGlBowD,EAAI,iBAAIF,QAAJ,IAAIA,OAAJ,EAAIA,EAAiBE,YAArB,QAA6B,GACjC9J,EAAgB,oBAAI4J,EAAgB5J,wBAApB,aAAI,EAAkCxS,yBAAtC,QAA2D,EAC3EjpB,EAAO,oBACXqlC,EAAgB3J,6BADL,iBACX,EAAuCN,aAD5B,aACX,EAA8C7mD,KAAI,SAAA68C,GAAS,IAAD,EACxD,MAAO,CACL1Z,OAAQ0Z,EAAK1Z,OAAOgE,MACpB6V,KAAI,UAAEH,EAAKxB,sBAAP,QAAyB,gBAJtB,QAML,GAEF4V,EAAyC,CAC7Cr+B,MAAOA,EACPqvB,eAAgB9qB,EAChB7oB,KAAMshD,EACNhzB,UAAS,iBAAEk0B,QAAF,IAAEA,OAAF,EAAEA,EAAiBzV,sBAAnB,QAAqC,KAC9Cr8C,KAAI,iBAAE8xD,QAAF,IAAEA,OAAF,EAAEA,EAAiB9xD,YAAnB,QAA2B,GAC/BgyD,KAAMA,EAAKhxD,KAAI,SAAAkxD,GAAG,uBAAIA,EAAIlyD,YAAR,QAAgB,MAClC0Z,KAAI,OAAEo4C,QAAF,IAAEA,OAAF,EAAEA,EAAiBvzC,MACvB2pC,mBACAz7B,UACA6O,KAAM,KACN1I,WAAW,EACXF,gBAAgB,EAChB1E,eAAgB,aAChBm1B,WAAY,KACZH,eAAgB7qB,GAGlB,OAAO,gBAAC,GAAwB85B,K,SD9BtBL,O,2BAAAA,I,qBAAAA,I,6BAAAA,I,sBAAAA,Q,KAeZ,IAAMO,GAA4B,kCAC5BC,GAA+B,qCAE/BC,GAAgC,sCAChCC,GAA4B,kCAGrBC,GAAmC,SAAC,GAAoC,IAAD,EAAjCnmD,EAAiC,EAAjCA,YAAaupB,EAAoB,EAApBA,SAAUsH,EAAU,EAAVA,IAAU,EAC9C7M,GAAahkB,GAAzCD,EAD0E,EAC1EA,UAAWqjB,EAD+D,EAC/DA,aAD+D,EAE9CrP,mBAAwB,MAFsB,mBAE3EupC,EAF2E,KAE/DC,EAF+D,KAI5E6I,EACJv1B,IAAQ20B,GAAiBzI,QACrBmJ,GACAr1B,IAAQ20B,GAAiBjf,WACzByf,GACAn1B,IAAQ20B,GAAiBa,YACzBJ,IAGMT,GAAiBxI,QACvB+I,IAENxsC,MAAc,OAACxZ,QAAD,IAACA,OAAD,EAACA,EAAWnM,OAAQwyD,EAAoBrmD,GAhB4B,IAiB1E6kB,EAA2BF,GAAsB1kB,GAAjD4kB,uBACAJ,EAAgBD,GAAoBvkB,GAApCwkB,YACD44B,EAnB2E,YAmBxD54B,EAAYja,QAnB4C,MAoB1EqY,EAAoBD,GAAwB3iB,GAA5C4iB,gBACD42B,EArB2E,YAqBpD52B,EAAgBrY,QArBoC,MAsB1EgY,EAAmBF,GAA6BriB,GAAhDuiB,eACD82B,EAvB2E,YAuBrD92B,EAAehY,QAvBsC,MAwB1E45C,EAAqBD,GAAoBlkD,GAAzCmkD,iBAGFjH,KAAY,OAACn9C,QAAD,IAACA,OAAD,EAACA,EAAWqqB,UACxBizB,EAAmB,SAAC9wB,GACxB,OAAK2wB,IACH3mD,YAAMg2B,EAAK,CAAEt1B,KAAM,aACZ,IAKLopB,EAAU5O,eACVwrC,EAAkBxyC,aAA4B,CAClDC,cAAe,CAAEvF,KAAM,IAEvBwF,SAAU,gBAAGxF,EAAH,EAAGA,KAAH,OACRk4C,EAAiB5pC,GAAKzd,EAAL,+DACbgL,EACAoiB,EAAaje,GAAMhQ,MAAK,SAAAmxD,GACtBjmC,EAAQ7O,KAAR,kBAAwB80C,UAI5B/f,EAAahkB,EAAenX,MAAMxW,KAAI,SAAA4K,GAAQ,OAClD,kBAAC,GAAD,CAAoBI,WAAYJ,EAAShK,GAAImd,IAAKnT,EAAShK,QASvD2nD,EAAU34B,EAAYpZ,MACzBxW,KAAI,SAAAyL,GAAM,aACT,UAAAA,EAAOiuB,gBAAP,eAAiBljB,MAAM,IACrB,kBAAC,OAAD,CAAKuH,IAAKtS,EAAO7K,IACf,kBAAC,GAAD,CAAkB8K,SAAUD,EAAO7K,OAGpCsM,QAAQqR,KAAR,6BACuB9S,EAAO7K,GAD9B,8CAEC6K,GAEF,SAGHpM,QAAO,SAAC+B,GAAD,QAA4BA,KAEhC+mD,EAAUn4B,EAAuBxZ,MACpCxW,KACC,SAAA8rC,GAAM,aAAIA,EAAOrc,SAAW,kBAAC,GAAD,CAAgB1R,IAAK+tB,EAAOlrC,GAAI4K,OAAM,UAAEsgC,EAAOrc,eAAT,aAAE,EAAgBjkB,YAErFnM,QAAO,SAAC+B,GAAD,QAA4BA,KAEhCuwD,EAAmB,kBAAC,GAAD,CAAevmD,YAAaA,EAAaupB,SAAUA,IAEtEyzB,EAAUmH,EACbvvD,KACC,SAAC+wD,EAAQ9pD,GAAT,iBACE8pD,GACE,kBAAC,GAAD,CACEhzC,IAAK9W,EACLjI,KAAI,iBAAE+xD,QAAF,IAAEA,OAAF,EAAEA,EAAQ/xD,YAAV,QAAkB,GACtB4wD,SAAUmB,EAAOnwD,GACjB4zC,KAAI,iBAAEuc,QAAF,IAAEA,OAAF,EAAEA,EAAQvc,YAAV,QAAkB,GACtBrd,cAAa,iBAAEhsB,QAAF,IAAEA,OAAF,EAAEA,EAAWnM,YAAb,QAAqB,GAClC48B,cAAa,uBAAkBxwB,GAC/BskD,OAAQ/G,OAIftpD,QAAO,SAAC+B,GAAD,QAA4BA,KAmBhCwzB,EAAoBC,KApHwD,EAqHbtP,sBACnE,SAAAC,GAAE,OACCijC,EAAiB5pC,GAAKzd,EAAL,+DACjBwzB,MACApP,KACH,GA1HgF,mBAqH3EosC,EArH2E,KAqHhDC,EArHgD,KA6H5EC,EAAwBF,EAC5B,kBAAC,GAAD,CAAOpnC,WAAYqnC,GACjB,kBAAC,GAAD,CAA0BrmC,KAAMqmC,EAAiCzmD,YAAaA,KAE9E,KAEEw9C,EAAkBF,EACtB,kBAAC,GAAD,CACEl+B,WAAY,WACVm+B,EAAc,QAGhB,kBAAC,GAAD,CAAgBxxB,cAAa,iBAAEhsB,QAAF,IAAEA,OAAF,EAAEA,EAAWnM,YAAb,QAAqB,GAAI4wD,SAAUlH,KAEhE,KAIEqJ,EAAqBt8C,mBAA+B,WACxD,IAAKtK,EACH,OAAO,KAGT,IAAMu/B,EAAuC,CAE3Csd,YAAajsB,GAAkBC,QAAQ,CAAE5wB,cAAa6wB,IAAK,oBAAiB7vB,GAC5E67C,QAASlsB,GAAkBC,QAAQ,CAAE5wB,cAAa6wB,IAAK,gBAAa7vB,GACpEkkC,SAAUvU,GAAkBC,QAAQ,CAAE5wB,cAAa6wB,IAAK,iBAAc7vB,GAEtE27C,QAAShsB,GAAkBC,QAAQ,CAAE5wB,cAAa6wB,SAAK7vB,QAAaA,IAoBtE,MAlB8B,CAC5B+7C,UACAC,UAEAzW,aAEAzgB,cAAeygC,EACfpJ,UACA7d,WACA4d,WACAl9C,cACAi9C,gBAAiBC,EAAWD,EAAkB,KAC9C5D,qBACAG,sBACA4D,kBACA53B,iBAAkBihC,KAInB,CACD1mD,EACAC,EACA+8C,EACAC,EAEAzW,EAEAggB,EACApJ,EACAD,EACAD,EACA5D,EACAG,EACA4D,IAGF,OACEuJ,GACE,oCACGD,EACAlJ,EACD,kBAAC,GAAoBmJ,KEpMhBC,GAAiC,CAC5ClnB,OAAO,EACP9jC,KAAM,wEACN+rC,UA3CwE,SAAC,GAAe,IAAbE,EAAY,EAAZA,MACrE7nC,EAAc6nC,EAAM7P,OAAOh4B,YAC3B4nC,EAAcC,EAAM7P,OAAOnH,IAE3BA,EACY,aAAhB+W,EACI4d,GAAiBjf,WAGH,YAAhBqB,EACE4d,GAAiBzI,QACD,gBAAhBnV,EACA4d,GAAiBa,YAChBze,EAID,KADA4d,GAAiBxI,QAGjBh2C,EAAQqD,mBAA8B,WAC1C,OAAe,OAARwmB,EACH,KACA,CACE7wB,cACA6wB,MACAtH,SAAS,gBAAD,OAAkBvpB,MAE/B,CAAC6wB,EAAK7wB,IAET,OAAc,OAAVgH,EACK,kBAAC,GAAD,MAIP,kBAAC,GAAD,KACE,kBAAC,GAAkBA,MAiBZ2pB,GAAoBiW,GAC/BggB,I,wrFC9BK,IAAMC,GAA8B,SAAA7/C,GACzC,IAAMqZ,EAAU5O,eACRgC,EAAS8B,IAAMC,WAAW7B,IAA1BF,KACFyhB,EAAWkrB,eACXpoB,EAAS8uB,eACTC,EAAkBp2B,GAAkBvW,GAAG8a,EAASmrB,UALJ,EAMbtsC,oBAAS,GANI,mBAM3CshC,EAN2C,KAM7BC,EAN6B,KAQlD,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAM1sC,QAAS,kBAAMyX,EAAQ+1B,WAC3B,kBAAC,KAAD,CAAah5C,KAAK,QAKpB,kBAAC4pD,GAAD,CAAU75C,GAAInG,EAAM7G,KAAO,IAAM,aAC/B,kBAAC,GAAD,CAAQ/C,KAAK,IAAI8Q,IAAKlV,MAExB,kBAAC,GAAD,KAEGgO,EAAM6H,QAERk4C,GACC,kBAACE,GAAD,CAAS95C,GAAE,uBAAkB6qB,EAAOh4B,YAAzB,SAA6CqZ,MAAM,OAC5D,kBAAC,KAAD,CAAQjc,KAAK,SAInB,kBAAC8pD,GAAD,KACGlgD,EAAM7G,MACL,kBAAC,GAAD,CAASyO,GAAI,CAAE8gB,SAAU,YAAcoC,WAAW,SAASlpB,QAAS0sC,GAClE,kBAAC6R,GAAD,CAAYxgD,GAAI,EAAGC,QAAQ,QAA3B,UAGA,kBAAC,GAAD,KACE,kBAAC,WAAD,CAAaxJ,KAAK,QAEnBi4C,GACC,kBAAC,GAAD,CACE70B,gBAAiBxZ,EAAMwZ,gBACvByB,eAAgBjb,EAAMib,eACtBD,aAAchb,EAAMgb,aACpBJ,eAAgB,WACd0zB,GAAcD,QAO1B,kBAAC,GAAD,CAAQvjB,WAAY,UACjB9qB,EAAM7G,KACL,kBAAC,GAAD,CACEyO,GAAI,CAAE8gB,SAAU,YAChBoC,WAAW,SACXlpB,QAAS5B,EAAM4a,gBAEf,kBAAC,GAAD,CACExkB,KAAK,IACL2jB,SAAU/Z,EAAM7G,KAAKvM,KAAKyvD,UAAU,EAAG,GACvCn1C,IAAKlH,EAAM7G,KAAKmN,KAChB1G,QAAQ,WAEV,kBAACugD,GAAD,CAAYxgD,GAAI,EAAGC,QAAQ,QACxBI,EAAM7G,KAAKvM,MAEd,kBAAC,GAAD,CAAO+S,GAAI,GACT,kBAAC,WAAD,CAAavJ,KAAK,QAEnB4J,EAAMsf,gBACL,kBAAC,GAAD,CACE1U,QAAS5K,EAAM7G,KAAKyR,QACpBE,OAAQ9K,EAAM7G,KAAK2R,OACnB6P,SAAU3a,EAAM7G,KAAK+C,KACrB0e,eAAgB5a,EAAM4a,kBAK5B,kBAAC,OAAD,KACE,kBAACwlC,GAAD,KACE,kBAAC,KAAD,CAAMj6C,GAAG,KACP,kBAAC,QAAD,CAAMvG,QAAQ,QAAQ6M,EAAKzd,E9QxGhB,mB8QmHvBsgB,GAAY/P,GAAOe,OAAPf,CAAH,MAMTsI,GAAStI,GAAOe,OAAPf,CAAH,MAUM,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwJ,OAIxCojD,GAAU1gD,GAAO6G,KAAP7G,CAAH,MAKPkR,GAAQlR,GAAOe,OAAPf,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAGjC2iD,GAAa5gD,GAAOQ,QAAPR,CAAH,KACZwI,aAAS,UACF,SAAA/H,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOsK,UAGjC8C,GAAUlB,GAAOO,QAAPP,CAAH,MAKK,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,UAE1C8C,IAAMC,SAAS,SAAfD,CAPS,OAcPV,GAASF,GAAOe,OAAPf,CAAH,MAaN2gD,GAAY3gD,GAAOe,OAAPf,CAAH,MAaT6gD,GAAS7gD,GAAOkB,GAAPlB,CAAH,MAKI,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WACjC,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAIrB,SAAA2C,GAAK,OAAIkB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAOE,YAO/C,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAGnC8xC,GAAO5vC,GAAOe,OAAPf,CAAH,MAUQ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAE9B,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAI9B,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKpCoC,GAAON,GAAOe,OAAPf,CAAH,MAMJU,GAAgBV,GAAOe,OAAPf,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAE/B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAWtCkjD,GAAWzgD,GAAO6G,KAAP7G,CAAH,MC5PD8gD,GAAmC,WAAO,IAAD,EAC9Cn2C,EAAMD,KACN9Q,EAAI,UAAG+Q,EAAIQ,UAAP,aAAG,EAAQvR,KACfqpB,EAAoBC,KAH0B,EAKGlU,IAAMxB,UAAS,GALlB,mBAK7CqgC,EAL6C,KAKzBC,EALyB,OAOKl6B,sBACvD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GATkD,mBAO7Ck6B,EAP6C,KAOxBC,EAPwB,OAYDp6B,sBACjD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GAdkD,mBAY7Co6B,EAZ6C,KAY3BC,EAZ2B,OAiBGt6B,sBACrD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GAnBkD,mBAiB7Cs6B,EAjB6C,KAiBzBC,EAjByB,KAsB9CC,EAAuBN,EAC3B,kBAAC,GAAD,CAAOl1B,WAAYm1B,GACjB,kBAAC,GAAD,CAAyBn0B,KAAMm0B,KAE/B,KAEEM,EAAoBL,EACxB,kBAAC,GAAD,CAAOp1B,WAAYq1B,GACjB,kBAAC,GAAD,CAAsBr0B,KAAMq0B,KAE5B,KAEEK,EAAsBJ,EAC1B,kBAAC,GAAD,CAAOt1B,WAAYu1B,GAChBP,EACC,kBAAC,GAAD,CAAwBh0B,KAAMi0B,IAE9B,kBAAC,GAAD,CACEj0B,KAAMu0B,EACN7D,qBAAsBuD,KAI1B,KAEgBiT,EAAkB9xC,qBAAWuE,IAAzCE,WA/C4C,EAiDXE,sBAAW,SAAAC,GAAE,OAAKA,KAAI,GAjDX,mBAiD7CkM,EAjD6C,KAiD7B1E,EAjD6B,KAkD9C2lC,EAAcl9C,mBAAyB,WAAO,IAAD,EAmBjD,MAlB+B,CAC7BwE,OAAQ,kBAAC,GAAD,CAAW8D,IAAI,WACvBxS,KAAMA,EACF,CACEyR,QAASV,EAAIU,QACbE,OAAQZ,EAAIY,OACZxE,MAAM,UAAAnN,EAAKmN,YAAL,eAAWP,MAAO,GACxB7J,KAAK,SAAD,OAAW/C,EAAK3K,IACpB5B,KAAMuM,EAAKvM,MAAQ,IAErB,KACJ0zD,gBACA9mC,gBAAiB+zB,EACjBvyB,aAAcyyB,EACdxyB,eAAgB0yB,EAChBruB,iBACA1E,oBAGD,CAACzhB,EAAM+Q,EAAIU,QAASV,EAAIY,OAAQw1C,EAAehhC,IAClD,OACE,oCACGsuB,EACAC,EACAC,EACD,kBAAC,GAAeyS,K,yqDC7Ef,IAAMC,GAAyB,SAAC,GAAwC,IAAtCnhD,EAAqC,EAArCA,SAAU2vC,EAA2B,EAA3BA,UAAWv1B,EAAgB,EAAhBA,UACtDJ,EAAU5O,eAEhB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAM7I,QAAS,kBAAMyX,EAAQ+1B,WAC3B,kBAAC,KAAD,CAAah5C,KAAK,QAEnBqjB,EACD,kBAAC,KAAD,CAAMtT,GAAG,UAAT,WAEF,kBAAC,GAAD,KAAS6oC,GACT,kBAAC,GAAD,KAAU3vC,KAMV8vC,GAAO5vC,GAAOe,OAAPf,CAAH,MAUQ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAE9B,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAI9B,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKpCgC,GAASF,GAAOe,OAAPf,CAAH,KACRY,IAAMC,SAAS,SAAfD,CADQ,OAMN+uC,GAAY3vC,GAAOe,OAAPf,CAAH,MAOC,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WACjC,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAMzB,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cACzB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAU7B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwJ,MAY1CsD,IAAMqvC,YAAY,SAAlBrvC,CArCa,OA0CT8uC,GAAO1vC,GAAOe,OAAPf,CAAH,MAOJuC,GAAUvC,GAAOe,OAAPf,CAAH,MClGAkhD,GAAmC,SAAC,GAAyC,IAAvCphD,EAAsC,EAAtCA,SAAsC,IAA5BqhD,cAErD1gD,EAAe,CACnBgvC,eAHqF,cACrDh1C,EAAY,kBAAC,GAAD,MAG5Cyf,UAAW,kBAAC,GAAD,OAEb,OACE,kBAAC,GAAD,KACE,kBAAC,GAAUzZ,EAAQX,KCCZshD,GAA6B,CACxCjoB,OAAO,EACP9jC,KAAM,SACN+rC,UAbgE,SAAC,GAAc,EAAZE,MACnE,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAe6f,eAAa,GAC1B,kBAAC,GAAD,UAYKE,GAAgBhhB,GAAqC+gB,ICb5DE,GAAoB,CACxBxxD,QAAS,kBACP,kBAAC,SAAD,oDACc,kBAAC,KAAD,CAAM8W,GAAIy6C,GAAch3B,aAAQ5vB,OAAWA,SAG3DvK,KAAM,CAAEQ,KAAM,YAGT,SAASykB,GACdosC,EACAC,EACAtxD,GAEA,IAAMuxD,EAAKp9C,sBAAYk9C,EAAKC,GACtB3xD,EAASqzB,GAAmBhzB,GAClC,OAAOmU,sBAAW,sBAChB,sCAAAhM,EAAA,+EACSxI,IAAW,KAAO4xD,EAAE,WAAF,MAD3B,2CAGA,CAACA,EAAI5xD,IAIF,IAAMqzB,GAAqB,SAACnzB,GAAoB,IAAD,EAC5Cob,EAAOT,KAAPS,GACFu2C,KAAY,OAACv2C,QAAD,IAACA,GAAD,UAACA,EAAIvR,YAAL,aAAC,EAAU3K,IAE7B,OAAOoV,uBAAY,WAAO,IAAD,6BACQi9C,IAAgBvxD,GAAvCD,EADe,EACfA,QAASI,EADM,EACNA,KAEjB,OADCwxD,GAAY1xD,YAAMF,EAASI,IACpBwxD,IACP,CAACA,EAAU3xD,KCtBH4tB,GAAmB,SAACruB,GAA2B,I5PwG1BsW,E4PxGyB,E5PyG5CG,IAAsEmD,GAAgBtD,G4PzG1C,mBAClD+7C,EADkD,KACvCC,EADuC,O5PgKpD,SAA6Bh8C,GAC5B,OAAOG,IAA0EoD,GAAkBvD,G4P/JhEgF,GAFgB,mBAElDi3C,EAFkD,KAErCC,EAFqC,KAGnDllC,EAAWglC,EAAgBx2C,SAAW02C,EAAkB12C,QACxDwS,EAAezI,GAAwB,sBAAC,0CAAA9c,EAAA,yDACpCpJ,GADoC,EACcK,GAAO,IAAzDL,GAAI80B,EADgC,EAChCA,cAAeF,EADiB,EACjBA,SAAUzqB,EADO,EACPA,WAAY/L,EADL,EACKA,KAC5C4B,IAAM2tB,EAFiC,oDAKvCiH,EALuC,uBAMpCvtB,EAAUrG,EAAM,CACpBX,IACiB,eAAf8J,EAAA,+BAC4B/L,GACT,SAAf+L,EAAA,yBACkB/L,GACH,cAAf+L,EAAA,2BACoB/L,QACpB,IAdkC,kBAgBnCs0D,EAAU,CACfrqD,UAAW,CACTolB,UAAWztB,GAEbqH,UACA+rB,mBAAoB0/B,GAAiB3oD,EAAYnK,EAAI80B,GAAiB,GACtE1O,eACiB,cAAfjc,EACI,CACE4P,GAA+B,CAC7BlD,MhG9C0B,KgGgD5B4D,GAA+B,CAAEjQ,YAAaxK,KAEjC,eAAfmK,EACA,CACEwP,GAAgC,CAC9B9C,MhGrD0B,KgGuD5ByD,GAAgC,CAAEhQ,aAActK,KAElD,MArCkC,cAwCpCqH,EAAUrG,EAAM,CACpBX,IACiB,eAAf8J,EAAA,iCAC8B/L,GACX,SAAf+L,EAAA,2BACoB/L,GACL,cAAf+L,EAAA,4BACqB/L,QACrB,IAhDkC,kBAmDnC4b,GAAe4a,EAAS50B,SAC3BwL,EACAonD,EAAY,CACVvqD,UAAW,CACTolB,UAAWmH,EAAS50B,IAEtBqH,UACA+rB,mBAAoB2/B,GAAmB5oD,EAAYnK,EAAI80B,GAAiB,GACxE1O,eACiB,cAAfjc,EACI,CACE4P,GAA+B,IAC/BU,GAA+B,CAAEjQ,YAAaxK,KAEjC,eAAfmK,EACA,CACEwP,GAAgC,IAChCW,GAAgC,CAAEhQ,aAActK,KAElD,MAtE8B,4CAyE3C,CAACK,EAAKstB,IAET,OAAO9Y,mBACL,iBAAO,CACL8Z,kBAEF,CAACA,KAICmkC,GAAmB,SACvB3oD,EACAnK,EACA80B,GAHuB,MAIC,CACxB3qB,WAAY,mBACZ6oD,aAAc,CACZ7oD,WAAY,SACZ9C,QAAS,CACP8C,aACAnK,KACA40B,SAAU,CAAEzqB,WAAY,SAAUnK,G7PvHJ,K6PwH9B80B,cAAeA,EAAgB,MAI/Bi+B,GAAqB,SACzB5oD,EACAnK,EACA80B,GAHyB,MAIC,CAC1B3qB,WAAY,mBACZspB,OAAQ,CACNtpB,WAAY,SACZ9C,QAAS,CACP8C,aACAnK,KACA40B,SAAU,KACVE,cAAeA,EAAgB,M,8NChH9B,IAAMm+B,GAA4BpxD,IAAH,KAOhCyS,IAmCC,IC7DM4+C,GAAuB,SAAC5oD,GAAoC,IAAD,ED4C9BqM,EC3ClCw8C,GD2CkCx8C,EC3Ca,CACnDtO,UAAW,CAAEiC,iBD2CFwM,IAAmFm8C,GAA2Bt8C,ICzCnHgY,EAAiBD,GAAgB,UACvCykC,EAAmBzxD,YADoB,aACvC,EAAyB2I,YADnBskB,aAGR,OAAO9Z,mBAAQ,WAAO,IAAD,EACnB,MAAO,CACLxK,WAAU,UAAE8oD,EAAmBzxD,YAArB,aAAE,EAAyB2I,WACrCskB,kBAED,CAACwkC,EAAoBxkC,KCDbykC,GAAkC,SAAC,GAA+B,IAA7B9oD,EAA4B,EAA5BA,aAAcq2B,EAAc,EAAdA,QAAc,EACvCuyB,GAAqB5oD,GAAlDD,EADoE,EACpEA,WAAYskB,EADwD,EACxDA,aACdxW,EAAqBlD,aAAU,CACnCC,cAAe,GACfC,SAAUwZ,IAGN0kC,EAAyBx+C,mBAAuC,WACpE,OAAKxK,EAKEipD,GAA2B,CAChCjpD,aACA8N,qBACAC,cAJkBuoB,IAHX,OASR,CAACt2B,EAAY8N,EAAoBwoB,IAEpC,OAAO0yB,GAA0B,kBAAC,GAAwBA,IAG/CC,GAA6B,SAACrpD,GAIpC,IACGI,EAAgDJ,EAAhDI,WAAY+N,EAAoCnO,EAApCmO,YAAaD,EAAuBlO,EAAvBkO,mBAE/BnY,EASEqK,EATFrK,GACA8X,EAQEzN,EARFyN,KACAkpB,EAOE32B,EAPF22B,QACAF,EAMEz2B,EANFy2B,aACA1iC,EAKEiM,EALFjM,KACA4Z,EAIE3N,EAJF2N,QACAu7C,EAGElpD,EAHFkpD,cACAt7C,EAEE5N,EAFF4N,gBACA2c,EACEvqB,EADFuqB,SAiBF,MAdsC,CACpC3c,kBACAH,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMP,MAAO,GACnBW,cAAe0c,EACflnB,KAAM,CACJ6J,IAAKypB,EAAO,uBAAmBhhC,GAAO8gC,GAAgB,GACtDzpB,UAAW2pB,GAEb5iC,OACA4Z,QAASA,GAAW,GACpBD,eAAgBw7C,GAAiB,KACjCp7C,qBACAC,YAAaA,IC1DXo7C,GAA0B,uBAGnBC,GAA6C,WACxD1vC,GAAayvC,IADiD,IAEtDz8C,EAAuBL,KAAvBK,mBACF5D,EAAiB8B,aAAU,CAC/BC,cAAe,GACfC,SAAU,kBAAO4B,EAAmB1B,MAAQ0B,EAAmBjO,YAAS0C,KAEpEkoD,EAAwB7+C,mBAA+B,WAa3D,MALqC,CACnCV,iBAPA,oCACG4C,EAAmBnB,MAAMxW,KAAI,SAAAu0D,GAAiB,OAC7C,kBAAC,GAAD,CAAsBrpD,aAAcqpD,EAAkB3zD,SAM1DmT,oBAID,CAAC4D,EAAoB5D,IAExB,OAAO,kBAAC,GAAqBugD,ICpBlBE,GAAsC,CACjD1pB,OAAO,EACP9jC,KAAM,eACN+rC,UAZG,WAEH,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,SCUO0hB,GAAkC,SAAC,GAA0C,IAAxCrkB,EAAuC,EAAvCA,iBAAkBr8B,EAAqB,EAArBA,eAC5D6gB,EAAoBC,KAD6D,EAEhCtP,sBACrD,SAAAC,GAAE,OAAKoP,MAAwBpP,KAC/B,GAJqF,mBAEhFs6B,EAFgF,KAE5DC,EAF4D,OAMhCp/B,YAAe,GANiB,mBAMhF6+B,EANgF,KAM5DC,EAN4D,OAOnDl6B,sBAAW,SAAAC,GAAE,OAAKoP,MAAwBpP,KAAI,GAPK,mBAOhFkjC,EAPgF,KAOpEC,EAPoE,OAQjDxpC,mBAAS2mC,OAAO4O,YARiC,mBAQhFC,EARgF,KAQnEC,EARmE,KAUvFC,2BAAgB,WACdD,EAAe9O,OAAO4O,cACrB,IAEH,IAAMxU,EAAsBJ,EAC1B,gBAAC,GAAD,CAAOt1B,WAAYu1B,GAChBP,EACC,gBAAC,GAAD,CAAwBh0B,KAAMi0B,IAE9B,gBAAC,GAAD,CACEj0B,KAAMu0B,EACN7D,qBAAsBuD,KAI1B,KAEEmJ,EAAkBF,EACtB,gBAAC,GAAD,CACEl+B,WAAY,WACVm+B,MAGF,gBAAC,GAAD,CAAsBn9B,KAAMm9B,KAE5B,KAEJ,OACE,gBAACv0C,GAAD,KACG8rC,EACA0I,EACD,gBAACv0C,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAQrV,KAAK,oBACb,gBAAC2oD,GAAD,KACE,gBAACC,GAAD,CAAkB51C,QAAQ,UAAUgC,QAAS20C,GAC3C,gBAAC,KAAD,CAAMngD,KAAM,GAAI4H,MAAO,SACvB,gBAAC,QAAD,CAAM4B,QAAQ,UACZ,gBAAC,SAAD,oBAAQ2iD,EAAc,IAAM,aAAe,2BAG/C,gBAAC/M,GAAD,CAAkB51C,QAAQ,UAAUgC,QAAS,kBAAM+rC,MACjD,gBAAC,KAAD,CAAMv3C,KAAM,GAAI4H,MAAO,SACvB,gBAAC,QAAD,CAAM4B,QAAQ,UACZ,gBAAC,SAAD,oBAAQ2iD,EAAc,IAAM,eAAiB,8BAInD,gBAACjgD,GAAD,KAAc07B,GACd,gBAAC,GAAD,CAAUr8B,eAAgBA,SCtEhC+gD,GAA0B,uBAGnBC,GAA6C,WACxDpwC,GAAamwC,IADiD,IAEtD3jB,EAAuBF,KAAvBE,mBACFp9B,EAAiB8B,aAAU,CAC/BC,cAAe,GACfC,SAAU,kBAAOo7B,EAAmBl7B,MAAQk7B,EAAmBznC,YAAS0C,KAGpE4oD,EAAwBv/C,mBAA+B,WAa3D,MALqC,CACnC26B,iBAPA,kBAAC,KAAD,CAAKrlB,EAAG,GACLomB,EAAmB36B,MAAMxW,KAAI,SAAAi1D,GAAgB,OAC5C,kBAAC,GAAD,CAAqB7pD,YAAa6pD,EAAiBr0D,SAMvDmT,oBAID,CAACo9B,EAAoBp9B,IAExB,OAAO,kBAAC,GAAqBihD,ICtBlBE,GAAsC,CACjDpqB,OAAO,EACP9jC,KAAM,eACN+rC,UAZG,WAEH,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,S,6zBCJN,IAAMpxB,GAAehQ,GAAOoP,IAAV,MAOZW,GAAY/P,GAAOoP,IAAV,MAWTa,GAAcjQ,GAAOe,OAAPf,CAAH,MAsDFwjD,GArC8B,SAAC,GAAgB,IAAd1rD,EAAa,EAAbA,OAC9C,OACE,gCACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAACuX,GAAD,MACA,gBAAC,GAAD,KACE,gBAAC,OAAD,KACIvX,EAEmB,OAAjBA,EAAOI,MACT,gCACE,gBAAC,QAAD,CAAMmI,QAAQ,QAAd,mBACA,gBAAC,QAAD,CAAMA,QAAQ,OAAOgI,GAAI,CAAEnJ,WAAY,OAAQwsB,UAAW,QAA1D,WACW5zB,EAAOwa,SADlB,MAKF,gBAAC,QAAD,CAAMjS,QAAQ,QAAd,gCAAmDvI,EAAOI,OAT1D,gBAAC,QAAD,CAAMmI,QAAQ,QAAd,iBAYJ,gBAAC,GAAD,KACE,gBAAC,KAAD,CAAMuG,GAAI,KACR,gBAACrF,GAAD,CAAQmP,GAAI,EAAGrQ,QAAQ,WACrB,gBAAC,SAAD,yBAcdyQ,GAAS9Q,GAAOe,OAAPf,CAAH,MAKNuC,GAAUvC,GAAOoP,IAAV,MC5EPq0C,GAAwB,0BAEjBC,GAAyC,SAAC,GAAe,IAAD,IAAZppD,EAAY,EAAZA,MACvD0Y,GAAaywC,IADsD,IAE3Dx4C,EAASC,eAATD,KAF2D,EAGtBkG,KAArCrW,EAH2D,EAG3DA,aAAc4W,EAH6C,EAG7CA,mBAChBiyC,EAAe,UAAGjyC,EAAmB/gB,YAAtB,iBAAG,EAAyBmK,oBAA5B,aAAG,EAAuCqQ,GAAGvR,KAAKvM,KACvEugB,qBAAU,WACJ+1C,GACFC,YAAW,kBAAM34C,EAAK,OAAM,OAE7B,CAAC04C,EAAiB14C,IAErB2C,qBAAU,WACR9S,EAAaR,KACZ,CAACA,EAAOQ,IAEX,IAAM2F,EAAQqD,mBACZ,kBACE4N,EAAmBtG,QACf,CAAEtT,OAAQ,MACV4Z,EAAmBxZ,MACnB,CAAEJ,OAAQ,CAAEI,MAAOwZ,EAAmBxZ,MAAMxI,UAC5Ci0D,EACA,CAAE7rD,OAAQ,CAAEI,MAAO,KAAMoa,SAAUqxC,IACnC,CAAE7rD,OAAQ,CAAEI,MAAO,uBAEzB,CAACwZ,EAAoBiyC,IAGvB,OAAO,kBAAC,GAAmBljD,ICpBhBojD,GAAgC,CAC3C1qB,OAAO,EACP9jC,KAAM,wBACN+rC,UAfsE,SAAC,GAElE,IADLE,EACI,EADJA,MAEA,OACE,kBAAC,GAAD,CAAuB16B,GAAG,aACxB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAkBtM,MAAOgnC,EAAM7P,OAAOn3B,Y,uxBCK9C,IAAIiV,GAAK,CACPG,aAAc,CACZE,SAAUH,oBAAS,2BACnBq0C,gBAAiBr0C,oBAAS,+BAoDfs0C,GAhDmC,SAAC,GAAgB,IAAdj0C,EAAa,EAAbA,OACnD,OACE,gCACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAACT,GAAD,MACA,gBAAC,KAAD,CACEgB,YAAad,GAAGG,aAAaE,SAC7BviB,KAAK,WACLqD,KAAK,WACLpD,MAAOwiB,EAAOQ,OAAOV,SACrBW,SAAUT,EAAOU,eAElBV,EAAOvgB,OAAOqgB,UACb,gBAAC0H,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOqgB,WAG7C,gBAAC,GAAD,MACA,gBAAC,KAAD,CACES,YAAad,GAAGG,aAAao0C,gBAC7Bz2D,KAAK,kBACLqD,KAAK,WACLpD,MAAOwiB,EAAOQ,OAAOwzC,gBACrBvzC,SAAUT,EAAOU,eAElBV,EAAOvgB,OAAOu0D,iBACb,gBAACxsC,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOu0D,kBAG7C,gBAACviD,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACL2R,QAASyN,EAAOxN,YAEhB,gBAAC,SAAD,oCAWR0N,GAAehQ,GAAOoP,IAAV,MAcZW,GAAY/P,GAAOoP,IAAV,MAcTa,GAAcjQ,GAAOoP,IAAV,MAIXqB,GAASzQ,GAAOoP,IAAV,MCrGN6D,GAAmBC,YAAa6yB,MAAM,CAC1Cn2B,SAAUsD,YACPyG,IAAI,GACJxG,IAAI,IACJC,SAAS,wBACZ0wC,gBAAiB5wC,YACd8wC,MAAM,CAAC9wC,OAAQ,YAAa,MAAO,wBACnCE,SAAS,kCAERjP,GAAgB,CAAEyL,SAAU,GAAIk0C,gBAAiB,IAMjDG,GAA6B,0BAEtBC,GAAyD,SAAC,GAAe,IAAb5pD,EAAY,EAAZA,MACvE0Y,GAAaixC,IADsE,IAE3E7xC,EAAajB,KAAbiB,SACFtC,EAAS5L,aAAiC,CAC9CE,SAAU,gBAAGwL,EAAH,EAAGA,SAAH,OAAkBwC,EAAS,CAAExC,WAAUtV,WACjD6J,iBACA8O,sBAEIxS,EAAQqD,mBAAe,WAC3B,MAAO,CACLgM,YAED,CAACA,IAEJ,OAAO,kBAAC,GAAsBrP,ICRnB0jD,GAAyC,CACpDhrB,OAAO,EACP9jC,KAAM,gBACN+rC,UAvBG,SAAC,GAIC,IAFO9mC,EAER,EAHJgnC,MACE7P,OAAUn3B,MAGNmG,EAAQqD,mBAAkC,WAC9C,MAAO,CACLxJ,WAED,CAACA,IAEJ,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAe6mD,eAAa,GAC1B,kBAAC,GAA6B1gD,OCwBzB2jD,GAA8D,SAAC,GAQrE,IAAD,EAPJtxC,EAOI,EAPJA,MACAhD,EAMI,EANJA,OACA+J,EAKI,EALJA,KACAuwB,EAII,EAJJA,WACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,aAEI,IADJE,iBACI,MADQ,aACR,IACkCx7B,IAAMxB,SAAc,IADtD,mBACGi9B,EADH,KACgBC,EADhB,OAEkC17B,IAAMxB,SAAc,IAFtD,mBAEGm9B,EAFH,KAEgBC,EAFhB,OAG8B57B,IAAMxB,SAAc,IAAIwe,MAHtD,mBAGG6e,EAHH,KAGcC,EAHd,KAII3/B,EAAOT,KAAPS,GA+BR,OA7BA6D,IAAMpB,WAAU,WAAO,IAAD,QACpB88B,EACEb,GAAgBQ,EAAc,CAC5B/yC,UAAW,CAAC,OAAQ,mBACpB2yC,SAAU,4BAGdW,EACEf,GAAgBS,EAAc,CAC5BhzC,UAAW,CAAC,OAAQ,mBACpB2yC,SAAU,4BAIdn6B,EAAOoJ,UAAP,2BACKpJ,EAAOQ,QADZ,IAEEo5B,gBAAgB,IAAI1d,MAAO+e,cAC3BpB,SAAU,CACR16C,IAAgB,OAAZo7C,QAAY,IAAZA,GAAA,UAAAA,EAAcn9C,MAAK,SAACgrB,GAAD,aAAaA,EAAGjpB,MAAH,OAAUkc,QAAV,IAAUA,GAAV,UAAUA,EAAIvR,YAAd,aAAU,EAAU3K,cAApD,eAAyDA,KAAM,GACnEumC,OAAmB,OAAZ6U,QAAY,IAAZA,GAAA,UAAAA,EAAcn9C,MAAK,SAACgrB,GAAD,aAAaA,EAAGjpB,MAAH,OAAUkc,QAAV,IAAUA,GAAV,UAAUA,EAAIvR,YAAd,aAAU,EAAU3K,cAApD,eAAyD5B,OAAQ,IAE1Eu8C,SAAU,CACR36C,IAAgB,OAAZq7C,QAAY,IAAZA,GAAA,UAAAA,EAAcp9C,MAAK,SAACgrB,GAAD,aAAaA,EAAGjpB,MAAH,OAAUkc,QAAV,IAAUA,GAAV,UAAUA,EAAIvR,YAAd,aAAU,EAAU3K,cAApD,eAAyDA,KAAM,GACnEumC,OAAmB,OAAZ8U,QAAY,IAAZA,GAAA,UAAAA,EAAcp9C,MAAK,SAACgrB,GAAD,aAAaA,EAAGjpB,MAAH,OAAUkc,QAAV,IAAUA,GAAV,UAAUA,EAAIvR,YAAd,aAAU,EAAU3K,cAApD,eAAyD5B,OAAQ,SAI3E,CAACg9C,EAAcC,IAGhB,kBAAC,GAAD,KACE,0BAAMlmC,SAAU0L,EAAOM,cACrB,kBAAC,GAAD,KACE,kBAAC,WAAD,CAASgJ,EAAG,GACV,kBAAC,SAAD,sBAAQtG,aAIZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,yBAAKzR,UAAU,uBACb,kBAAC,OAAD,CAAKgH,GAAI,CAAEvG,MAAO,MAAOxC,OAAQ,OAAS+B,UAAU,cAClD,kBAACszC,GAAD,KACE,yBACEhtC,IACiC,kBAAxBmI,EAAOQ,OAAO1E,MACjBkE,EAAOQ,OAAO1E,MACdkE,EAAOQ,OAAO1E,MAAMvW,KAE1Bu/C,IAAI,UAIV,yBAAKvzC,UAAU,aACb,kBAAC,OAAD,CAAKue,GAAI,EAAG7O,GAAI,GACd,kBAAC,GAAD,CAAO1Q,QAAQ,WACZ,IACD,kBAAC,SAAD,oBAAQyP,EAAOQ,OAAOjjB,UAG1B,kBAAC,OAAD,CAAKuyB,GAAI,EAAG7O,GAAI,GACd,kBAAC,QAAD,CAAM1Q,QAAQ,QACZ,2BACE,kBAAC,SAAD,kBAAyB,KACtB,IACL,kBAAC,SAAD,8BAAQyP,EAAOQ,OAAOwyB,kBAAtB,aAAQ,EAA0BtN,WAGtC,kBAAC,OAAD,CAAK5V,GAAI,GACP,kBAAC,QAAD,CAAMvf,QAAQ,QACZ,2BACE,kBAAC,SAAD,cAAqB,KAClB,IACL,kBAAC,SAAD,oBAAQyP,EAAOQ,OAAOuyB,aAMhC,kBAAC,GAAD,KACE,kBAAC,OAAD,KACE,kBAACI,GAAD,KACE,kBAACC,GAAD,gBACA,kBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfmG,EAAUnG,EAAOp1C,IACjB6gB,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCkhB,OAAQ6S,MAE/Ct0C,QAASq6C,EACT/pC,QAAQ,UACRpR,GAAG,UACH5B,KAAK,UACLgjB,YAAaZ,oBAAS,iBACtBniB,MAAOwiB,EAAOQ,OAAOkhB,OACrByS,UAAU,EACVH,cAAe,aACfI,iBAAiB,KAGpBp0B,EAAOvgB,OAAOiiC,QACb,kBAACkS,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOiiC,QAAU,aAI7D,yBAAKnwB,UAAU,UACb,yBAAKA,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,iBACA,kBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ch0B,YAAaZ,oBAAS,YACtB1f,QAAS06C,EACTpqC,QAAQ,UACR/S,MAAOwiB,EAAOQ,OAAOq5B,SACrB16C,GAAG,WACH5B,KAAK,WACL22C,WAAY,CAAEgH,kBAAmB,kBAAM,OACvClH,cAAe,SAACz2C,EAAcC,GAC5B,IAAI29C,EAAO,OAAGZ,QAAH,IAAGA,OAAH,EAAGA,EAAc38C,QAAO,SAAAw9C,GAAI,oBACrCA,QADqC,IACrCA,GADqC,UACrCA,EAAMhkC,uBAD+B,aACrC,EAAuBwjB,cAAcvuB,SAAS7O,EAAMo9B,kBAGtDggB,EACEb,GAAgBoB,EAAS,CACvB3zC,UAAW,CAAC,OAAQ,mBACpB2yC,SAAU,6BAIhB/F,iBAAiB,KAGpBp0B,EAAOvgB,OAAOo6C,UACb,kBAACjG,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOo6C,UAAY,aAKjC,yBAAKtoC,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,iBACA,kBAAC,GAAD,CACEa,SAAU,SAAC12C,EAAMg3C,GACfv0B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,kBAAsCjjB,EAAOg3C,MAE/Ch0B,YAAaZ,oBAAS,YACtB1f,QAAS46C,EACTtqC,QAAQ,UACR/S,MAAOwiB,EAAOQ,OAAOs5B,SACrB36C,GAAG,WACH5B,KAAK,WACL22C,WAAY,CAAEgH,kBAAmB,kBAAM,OACvClH,cAAe,SAACz2C,EAAcC,GAC5B,IAAI29C,EAAO,OAAGX,QAAH,IAAGA,OAAH,EAAGA,EAAc58C,QAAO,SAAAw9C,GAAI,oBACrCA,QADqC,IACrCA,GADqC,UACrCA,EAAMhkC,uBAD+B,aACrC,EAAuBwjB,cAAcvuB,SAAS7O,EAAMo9B,kBAGtDkgB,EACEf,GAAgBoB,EAAS,CACvB3zC,UAAW,CAAC,OAAQ,mBACpB2yC,SAAU,6BAIhB/F,iBAAiB,KAGpBp0B,EAAOvgB,OAAOq6C,UACb,kBAAClG,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOq6C,UAAY,eAMrC,kBAAC,GAAD,KACE,yBAAKvoC,UAAU,UACb,yBAAKA,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,aACA,kBAACxN,GAAD,CACEhlC,KAAK,OACLzB,GAAG,UACH5B,KAAK,UACLqU,UAAU,EACV6O,SAAUT,EAAOU,aACjBljB,MAAOwiB,EAAOQ,OAAO0yB,QAAQxN,SAGhC1lB,EAAOvgB,OAAOyzC,SACb,kBAACU,GAAD,CAAarjC,QAAQ,YAClByP,EAAOvgB,OAAOyzC,SAAW,aAIhC,yBAAK3hC,UAAU,cACb,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,wBACA,kBAACxN,GAAD,CACEhlC,KAAK,SACLzB,GAAG,oBACH5B,KAAK,oBACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,mBACtBniB,MAAOwiB,EAAOQ,OAAOyyB,qBAGxBjzB,EAAOvgB,OAAOwzC,mBACb,kBAACW,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOwzC,sBAMvD,kBAAC,GAAD,KACE,kBAACG,GAAD,mBACA,yBACEx0B,MAAO,CACL5M,MAAO,OACPxD,OAAQ,oBACR6sC,QAAS,SACTkZ,aAAc,KAGhB,kBAAC,KAAD,CACEjZ,SAAUP,EACVt6B,SAAU,SAAC86B,GACTP,EAAaO,GAEbv7B,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCo5B,eAAgB2B,EAAKN,kBAE5DO,WAAW,iBAIjB,kBAAC,GAAD,KACE,kBAACrI,GAAD,KACE,kBAACC,GAAD,mBACA,kBAACxN,GAAD,CACEzmC,GAAG,YACHyB,KAAK,WACLrD,KAAK,YACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,cACtBniB,MAAOwiB,EAAOQ,OAAOm5B,aAGzB,kBAAC5xB,GAAD,KACG/H,EAAOQ,OAAOm5B,UAAY,IAAM35B,EAAOQ,OAAOm5B,UAAU/zC,OAAS,KAEnEoa,EAAOvgB,OAAOk6C,WACb,kBAAC/F,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOk6C,cAKvD,kBAAC9xB,GAAD,KACE,kBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAErB,kBAAC,SAAD,cAEF,kBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAASwX,GACjC,kBAAC,SAAD,kBAIN,kBAAC,IAAD,Q,spFCrLC,IAAMyqC,GAA2BxzD,IAAH,MA0N9B,I,GAEMyzD,GAA+B,SAC1CjtD,EACAhB,GAF0C,MAGxC,CACFtJ,MAAMs3D,GACNhtD,YACAhB,YC3WWkuD,GAA2B,WAAO,I5EqIgB5+C,E4ErIjB,E5EsI/BG,IAAgIsjC,GAA6CzjC,G4EtI9I,mBAE1C2jC,EAF0C,KAG1CC,EAH0C,KAMtCt0B,EAASC,GAAwB,uCACrC,2CAAA9c,EAAA,yDACEpJ,EADF,EACEA,GACAuiC,EAFF,EAEEA,OACAmY,EAHF,EAGEA,SACAC,EAJF,EAIEA,SACA5G,EALF,EAKEA,QACAD,EANF,EAMEA,kBACA0G,EAPF,EAOEA,UACAC,EARF,EAQEA,gBAEIF,EAAwBp+B,QAV9B,0EAcSm+B,EAAkB,CACvBjyC,UAAW,CACTrI,KACAuiC,SACAmY,WACAC,WACA5G,UACAD,oBACA0G,YACAC,kBAEFr0B,eAAgB,CAACkvC,GAA6B,CAAEt1D,GAAIA,QAzBxD,2CADqC,sDA6BrC,CAACu6C,EAAyBD,IAE5B,OAAOzlC,mBAAQ,WACb,MAAO,CACLoR,YAED,CAACA,K,4tCCnCwEhC,UAE5E,CACA7lB,KAAM6lB,YACHyG,IAAI,GACJxG,IAAI,IACJC,WACHnM,QAASiM,YAAaC,IAAI,KAC1BvH,OAAO,GAAAsH,YAA2BpX,KAA3B,qBAAmC4d,OARrC,IAgBM+qC,GAAmD,SAAC,GAAkC,IAAhC5qC,EAA+B,EAA/BA,KAAM7f,EAAyB,EAAzBA,SAAayG,EAAY,oCACxFyU,EAAWsvC,KAAXtvC,OAEF4wB,EAAe5yB,YAAa6yB,MAAM,CACtC14C,KAAM6lB,YACHC,IAAI,GAAI,aACRC,SAAS,YACZyvB,KAAM3vB,YAAaC,IAAI,IAAK,aAC5Bs2B,UAAWv2B,YAAaC,IAAI,IAAK,aACjCqe,OAAQte,YAAa6yB,MAAM,CACzB92C,GAAIikB,YAAaE,SAAS,cAE5Bu2B,SAAUz2B,YAAa6yB,MAAM,CAC3B92C,GAAIikB,YAAaE,SAAS,cAE5Bw2B,SAAU12B,YAAa6yB,MAAM,CAC3B92C,GAAIikB,YAAaE,SAAS,cAE5B4vB,QAAS9vB,YAAa6yB,MAAM,CAC1B92C,GAAIikB,YAAaE,SAAS,cAE5B2vB,kBAAmB7vB,YAChBE,SAAS,YACT4yB,SAAS,CAAC,EAAG,IAAK,UAAMvrC,GAAY,cAGnCqV,EAAS5L,aAAe,CAC5BC,cAAe6K,IAAMlL,SAAQ,WAC3B,IA6Bc,wBA7BVwM,EAAS,CACXjjB,KAAM,GACNw1C,KAAM,GACNj3B,WAAanR,EACbqoC,WAAY,CACV7zC,GAAI,GACJumC,MAAO,GACPloC,MAAO,IAETkkC,OAAQ,CACNviC,GAAI,GACJumC,MAAO,IAETmU,SAAU,CACR16C,GAAI,GACJumC,MAAO,IAEToU,SAAU,CACR36C,GAAI,GACJumC,MAAO,IAETwN,QAAS,CACP/zC,GAAI,GACJumC,MAAO,IAETuN,kBAAmB,EACnB0G,UAAW,GACXC,eAAgB,IAEd1vC,IACFsW,EAAS,CACPjjB,KAAM2M,EAAS3M,MAAQ,GACvBw1C,KAAM7oC,EAAS6oC,MAAQ,GACvB6G,gBAAwB,OAAR1vC,QAAQ,IAARA,OAAA,EAAAA,EAAU0vC,iBAAkB,GAE5C99B,MAAO5R,EAAS4R,YAASnR,EACzB+2B,OAAQ,CACNviC,GAAI,GACJumC,MAAO,IAETmU,SAAU,CACR16C,IAAI,UAAA+K,EAASi7C,MAAM,UAAf,mBAAmBtL,gBAAnB,eAA6B16C,KAAM,GACvCumC,OAAO,UAAAx7B,EAASi7C,MAAM,UAAf,mBAAmBtL,gBAAnB,eAA6Bt8C,OAAQ,IAE9Cu8C,SAAU,CACR36C,IAAI,UAAA+K,EAASi7C,MAAM,UAAf,mBAAmBrL,gBAAnB,eAA6B36C,KAAM,GACvCumC,OAAO,UAAAx7B,EAASi7C,MAAM,UAAf,mBAAmBrL,gBAAnB,eAA6Bv8C,OAAQ,IAE9C21C,QAAS,CACP/zC,IAAI,UAAA+K,EAAS+6C,sBAAT,eAAyB/R,QAAQ/zC,KAAM,GAC3CumC,OAAO,UAAAx7B,EAAS+6C,sBAAT,eAAyB/R,QAAQxN,QAAS,IAEnDuN,mBAAmB,UAAA/oC,EAAS+6C,sBAAT,eAAyBhS,oBAAqB,EACjE0G,WAAW,UAAAzvC,EAASi7C,MAAM,UAAf,eAAmBpS,OAAQ,GACtCC,WAAY9oC,EAASszC,gBACjB,CACEr+C,GAAI+K,EAASszC,gBAAgBr+C,GAC7B3B,MAAO0M,EAASszC,gBAAgBr+C,GAChCumC,MAAOx7B,EAASszC,gBAAgBjgD,MAElC,CAAE4B,GAAI,GAAIumC,MAAO,GAAIloC,MAAO,MAGpC,OAAOgjB,IACN,CAACtW,IACJ67B,kBAAkB,EAClBD,gBAAgB,EAChB3iB,iBAAkB6yB,EAClBvyB,oBAAoB,EAEpBnP,SAAU,SAACkM,GACT,OAAO4E,EAAO,CACZjmB,GAAI+K,EAAS/K,GACb5B,KAAMijB,EAAOjjB,KACby1C,WAAYxyB,EAAOwyB,WAAW7zC,GAC9Bw6C,UAAWn5B,EAAOm5B,WAAa,GAC/BjY,OAAQlhB,EAAOkhB,OAAOviC,GACtB4zC,KAAMvyB,EAAOuyB,KACb8G,SAAUr5B,EAAOq5B,SAAS16C,GAC1B26C,SAAUt5B,EAAOs5B,SAAS36C,GAC1B+zC,QAAS1yB,EAAO0yB,QAAQ/zC,GACxB8zC,kBAAmBzyB,EAAOyyB,kBAC1Bn3B,MAAO0E,EAAO1E,MACd89B,eAAgBp5B,EAAOo5B,iBAEtB96C,MAAK,SAACgJ,GACAA,EAASrI,OAWZgM,QAAQ2jB,IAAItnB,EAASrI,OAAO,GAAGG,UAV/BM,IAAMm2C,QAAN,4BAAmCnsC,EAAS3M,KAA5C,YAA4D,CAC1D87B,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,IAEhB5sB,QAKH5hB,OAAM,SAACC,GAAD,OAAgBqD,QAAQ2jB,IAAIhnB,SAInCwsD,EAA4D,2BAC7DjkD,GAD6D,IAEhEqS,MAAM,kCAAD,OAAoC9Y,EAAS3M,MAClDyiB,SACA+J,SAxI8F,EA+IzCrM,oBAAS,GA/IgC,mBA+IzFqgC,EA/IyF,KA+IrEC,EA/IqE,KAgJ1FS,EACJ,oCACGV,EACC,kBAAC,GAAD,CAAwBh0B,KAAMi0B,IAE9B,kBAAC,GAAD,CACEj0B,KAXsB,WAC5B8qC,EAAU,GACV9qC,KAUM0wB,qBAAsBuD,EACtB9zC,SAAU8V,EAAOQ,UAMnBs0C,EACJ,kBAAC,GAA+BF,GA/J8D,EAkKvEl3C,mBAAS,GAlK8D,mBAkKzF8c,EAlKyF,KAkKpFq6B,EAlKoF,OAmK/Dn3C,oBAAS,GAnKsD,mBAmKzFq3C,EAnKyF,KAmK/EC,EAnK+E,KAoKhG,OACE,kBAAC,GAAD,KACE,kBAACC,GAAD,KACE,kBAACC,GAAD,KACE,2BACEt0D,KAAK,WACLrD,KAAK,eACL4B,GAAG,eACHgmC,QAAS4vB,EACTt0C,SAAU,WACRu0C,GAAcD,GACdF,EAAkB,IAARr6B,EAAY,EAAI,MAG9B,0BAAMjpB,UAAU,iBAChB,kBAAC,SAAD,oBACGwjD,EACG,uCACA,sDAITv6B,EAAMikB,EAAsBqW,IAKtBI,GAAWhlD,GAAO,QAAPA,CAAH,MAsDR+kD,GAAgB/kD,GAAOO,QAAPP,CAAH,MC/PbilD,GAAgD,SAAC,GAKvD,IAJLnyC,EAII,EAJJA,MACAhD,EAGI,EAHJA,OACA+J,EAEI,EAFJA,KAGMZ,GADF,EADJgsB,cAE2Bj2B,IAAM3K,aAC/B,SAAC9M,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqC1E,MAAOrU,OAC5D,CAACuY,KAGGqJ,EAAiB,kBAAoBrJ,EAAOQ,OAAO1E,MAAQkE,EAAOQ,OAAO1E,MAAQ,GACvF,OACE,kBAAC,GAAD,KACE,0BAAMxH,SAAU0L,EAAOM,cACrB,kBAAC,GAAD,KACE,kBAAC,WAAD,CAASgJ,EAAG,GACV,kBAAC,SAAD,sBAAQtG,aAIZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,yBAAKzR,UAAU,uBACb,kBAAC,OAAD,CAAKgH,GAAI,CAAEvG,MAAO,MAAOxC,OAAQ,OAAS+B,UAAU,cAClD,kBAAC,GAAD,CACEmU,WAAY2D,EACZzD,aAAcuD,EACdtD,YAAY,YAEd,4BACA,kBAACutB,GAAD,kBACA,kBAACxN,GAAD,CACEhlC,KAAK,OACLzB,GAAG,QACH5B,KAAK,QACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,SACtBniB,MACiC,kBAAxBwiB,EAAOQ,OAAO1E,MACjBkE,EAAOQ,OAAO1E,MACdkE,EAAOQ,OAAO1E,MAAMvW,QAK9B,yBAAKgM,UAAU,aACb,kBAAC,GAAD,KACE,kBAAC4hC,GAAD,KACE,kBAACC,GAAD,KAAYzzB,oBAAS,SACrB,kBAACimB,GAAD,CACEhlC,KAAK,WACLzB,GAAG,OACH5B,KAAK,OACLkjB,SAAUT,EAAOU,aACjBH,YAAaZ,oBAAS,QACtBniB,MAAOwiB,EAAOQ,OAAOuyB,OAEvB,kBAAChrB,GAAD,KACG/H,EAAOQ,OAAOuyB,KAAO,IAAM/yB,EAAOQ,OAAOuyB,KAAKntC,OAAS,MAG3Doa,EAAOvgB,OAAOszC,MACb,kBAACa,GAAD,CAAarjC,QAAQ,YAAYyP,EAAOvgB,OAAOszC,YAQ7D,kBAAClrB,GAAD,KACE,kBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,SAErB,kBAAC,SAAD,gBAEF,kBAAClY,GAAD,CAAQlB,QAAQ,UAAUgC,QAASwX,GACjC,kBAAC,SAAD,kBAIN,kBAAC,IAAD,Q,wRC9FC,IAAMqrC,GAAiCp0D,IAAH,MA4CpC,I,GCrDMq0D,GAAoB,WAAO,IDuCUv/C,ECvCX,EDwCxBG,IAAsGm/C,GAAgCt/C,GCxC9G,mBAC9Bw/C,EAD8B,KACXC,EADW,KAG/BpgD,EAASkQ,GAAwB,uCACrC,iCAAA9c,EAAA,yDAASpJ,EAAT,EAASA,GAAI4zC,EAAb,EAAaA,KAAMj3B,EAAnB,EAAmBA,OACby5C,EAAwBj6C,QAD9B,0EAKSg6C,EAAkB,CACvB9tD,UAAW,CACTrI,KACA4zC,OACAj3B,SAEFyJ,eAAgB,CAACkvC,GAA6B,CAAEt1D,GAAIA,QAXxD,2CADqC,sDAerC,CAACo2D,EAAyBD,IAE5B,OAAOthD,mBAAQ,WACb,MAAO,CACLmB,YAED,CAACA,KCVOqgD,IAhB8DpyC,UAEzE,CACA7lB,KAAM6lB,YACHyG,IAAI,GACJxG,IAAI,IACJC,WACHyvB,KAAM3vB,YAAaC,IAAI,KACvBvH,OAAO,GAAAsH,YAA2BpX,KAA3B,qBAAmC4d,OAQQ,SAAC,GAAkC,IAAD,EAA/BG,EAA+B,EAA/BA,KAAM7f,EAAyB,EAAzBA,SAAayG,EAAY,oCAC5EwE,EAAWkgD,KAAXlgD,OAEF6gC,EAAe5yB,YAAa6yB,MAAM,CACtClD,KAAM3vB,YAAaC,IAAI,IAAK,eAGxB8xB,EAAa,UADIr6B,KACcja,YAAlB,aAAG,EAAqBk1C,mBAErC/1B,EAAS5L,aAAe,CAC5BC,cAAe6K,IAAMlL,SAAQ,WAC3B,IAAIwM,EAAS,CACXuyB,KAAM,GACNj3B,WAAanR,GASf,OAPIT,IACFsW,EAAS,CAEPuyB,KAAM7oC,EAAS6oC,MAAQ,GACvBj3B,MAAO5R,EAAS4R,YAASnR,IAGtB6V,IACN,CAACtW,IACJ67B,kBAAkB,EAClBD,gBAAgB,EAChB3iB,iBAAkB6yB,EAClBvyB,oBAAoB,EAEpBnP,SAAU,SAACkM,GACT,OAAOrL,EAAO,CACZhW,GAAI+K,EAAS/K,GACb4zC,KAAMvyB,EAAOuyB,KACbj3B,MAAO0E,EAAO1E,QAEbhd,MAAK,SAACgJ,GACAA,EAASrI,OAWZgM,QAAQ2jB,IAAItnB,EAASrI,OAAO,GAAGG,UAV/BM,IAAMm2C,QAAN,uBAAsC,CACpChd,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,IAEhB5sB,QAKH5hB,OAAM,SAACC,GAAD,OAAgBqD,QAAQ2jB,IAAIhnB,SAInCqtD,EAA8C,2BAC/C9kD,GAD+C,IAElDwkC,cAAa,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAepgC,MAC9BiO,MAAM,mBAAD,OAAqB9Y,EAAS3M,MACnCyiB,SACA+J,SAGF,OAAO,kBAAC,GAAwB0rC,K,oKC3E3B,IAAMC,GAAiC10D,IAAH,MAsCpC,IC9CM20D,GAAoB,WAAO,IDgCU7/C,EChCX,EDiCxBG,IAAsGy/C,GAAgC5/C,GCjC9G,mBAC9B8/C,EAD8B,KAClBC,EADkB,KAG/BC,EAAiBzwC,GAAwB,uCAC7C,WAAOlmB,GAAP,SAAAoJ,EAAA,0DACMstD,EAAiBv6C,QADvB,0EAKSs6C,EAAW,CAChBpuD,UAAW,CACTrI,MAEFomB,eAAgB,CAACkvC,GAA6B,CAAEt1D,GAAIA,QATxD,2CAD6C,sDAa7C,CAAC02D,EAAkBD,IAErB,OAAO5hD,mBAAQ,WACb,MAAO,CACL8hD,iBACAD,sBAED,CAACC,EAAgBD,K,gKCgCf,IAAME,GAAsD,SAAC,GAO7D,IANL/yC,EAMI,EANJA,MACAgzC,EAKI,EALJA,YACAt0B,EAII,EAJJA,OACAxY,EAGI,EAHJA,OACA+sC,EAEI,EAFJA,QACAC,EACI,EADJA,QAGA,OACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,WAAD,KAAUlzC,IAEZ,gBAACiF,GAAD,KACE,gBAACD,GAAD,KAAgBguC,GAAe,gBAAC,QAAD,KAAOA,KAExC,gBAACnuC,GAAD,KACE,gBAAC,GAAD,CACEtX,QAAQ,UACR2B,aAAcgkD,EACd/jD,WAAY+jD,EACZt1D,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAAS0jD,GAET,gBAAC,SAAD,uBAAQv0B,aAEV,gBAACjwB,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS2W,GACjC,gBAAC,SAAD,mBAOJsI,GAAethB,GAAOuB,GAAPvB,CAAH,MCzFLimD,GAAuC,SAAC,GAAwB,IAAtBpsC,EAAqB,EAArBA,KAAM7f,EAAe,EAAfA,SAAe,EAC7ByrD,KAArCG,EADkE,EAClEA,eAAgBD,EADkD,EAClDA,iBAElB92C,EAAM,uCAAG,sBAAAxW,EAAA,+EACbutD,EAAe5rD,EAAS/K,IACrBL,MAAK,SAACgJ,IACAA,EAASrI,QAAUqI,EAASsuD,wBAC/Bl2D,IAAMm2C,QAAN,uBAAsC,CACpChd,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,IAEhB5sB,MAEA7pB,IAAMkI,MAAN,gCAAqCN,EAASrI,QAAU,CACtD45B,SAAU,YACVid,WAAYC,IACZC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,IAEhB5sB,QAGH5hB,OAAM,SAACC,GAAD,OAAgBqD,QAAQ2jB,IAAIhnB,OAzBxB,2CAAH,qDA2BNiuD,EAAmD,CACvDrzC,MAAM,4CAAD,OAA8C9Y,EAAS3M,KAAvD,KACL04D,QAASl3C,EACTmK,OAAQa,EACR2X,OAAQ,kBACRw0B,QAASL,EAAiBv6C,SAG5B,OAAO,kBAAC,GAAsB+6C,ICpCnBC,GAA6C,SAAC,GAAoB,IXyVtCxgD,EWzVoB3L,EAAiB,EAAjBA,WAAiB,GXyVrC2L,EWxVuB,CAC5DtO,UAAW,CAAErI,GAAIgL,EAAWzE,SXwVjBuQ,IAAiFu+C,GAA0B1+C,IWzVhHjV,EADoE,EACpEA,KAAMya,EAD8D,EAC9DA,QAASlT,EADqD,EACrDA,MAIjB8B,EAAQ,OAAGrJ,QAAH,IAAGA,OAAH,EAAGA,EAAM88C,iBAEjBxqB,EAAoBC,KAPkD,EAQrBtP,sBACrD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GAV0E,mBAQrEs6B,EARqE,KAQjDC,EARiD,OAarBx6B,sBACrD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GAf0E,mBAarEwyC,EAbqE,KAajDC,EAbiD,OAkBrB1yC,sBACrD,SAAAC,GAAE,OAAKoP,MAA+BpP,KACtC,GApB0E,mBAkBrE0yC,EAlBqE,KAkBjDC,EAlBiD,KAuBtEC,EAAoBtY,EACxB,kBAAC,GAAD,CAAOt1B,WAAYu1B,GACjB,kBAAC,GAAD,CAAuCv0B,KAAMu0B,EAA0Bp0C,SAAUA,KAEjF,KAEE0sD,EAAoBL,EACxB,kBAAC,GAAD,CAAOxtC,WAAYytC,GACjB,kBAAC,GAAD,CAA2BzsC,KAAMysC,EAA0BtsD,SAAUA,KAErE,KAEE2sD,EAAsBJ,EAC1B,kBAAC,GAAD,CAAO1tC,WAAY2tC,GACjB,kBAAC,GAAD,CAA2B3sC,KAAM2sC,EAA0BxsD,SAAUA,KAErE,KAEEyG,EAA2B,CAC/BuzC,cAAe5F,EACf6F,wBAAyBqS,EACzBpS,wBAAyBsS,EACzBxsD,WACAoR,UACAlT,SAGF,OACE,oCACGyuD,EACAD,EACAD,EACD,kBAAC,GAAiBhmD,KC3CXmmD,GAA0C,CACrDztB,OAAO,EACP9jC,KAAM,wBACN+rC,UAnB2F,SAAC,GAEvF,IAGC3gC,EAAQ,CACZxG,WAJE,EADJqnC,MAEyB7P,OAAOx3B,YAMhC,OACE,kBAAC,GAAD,KACE,kBAAC,GAAwBwG,MCblBomD,GAA4B,SAAC,GAAgB,IAAdhtD,EAAa,EAAbA,OAC1C,OACE,gBAAC4I,GAAD,KACE,gBAACC,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,GAAD,WAAa9I,O,+gDCwGK/I,IAAH,KAkDnBwS,GACJC,GACAuQ,GACA1K,GACA4K,GACAC,GACAC,GACAC,IA2BK,IAAM2yC,GAAuBh2D,IAAH,MA0D1B,ICtPMi2D,GAAkC,WAAO,IDqOjBnhD,ECpO3BuF,EAAOT,KAAPS,GACFksC,EAAW,OAAGlsC,QAAH,IAAGA,OAAH,EAAGA,EAAIvR,KAAK3K,GAFsB,GDqOhB2W,ECjOe,CAChDtO,UAAW,CAAEuC,OAAQw9C,GAA4B,KDiOtCtxC,IAAyE+gD,GAAsBlhD,IClOpG1N,EAJ2C,EAI3CA,MAAOvH,EAJoC,EAIpCA,KAIf4K,QAAQ2jB,IAAI,CAAEvuB,SACd4K,QAAQ2jB,IAAI,SAAUhnB,GACtB,IAAMuI,EAAuB,CAC3B5G,OAAQw9C,GAA4B,IAGtC,OAAO,kBAAC,GAAa52C,ICNVumD,GAAiC,CAC5C7tB,OAAO,EACP9jC,KAAM,YACN+rC,UAlBsD,SAAC,GAAe,IAGhE3gC,EAAQ,CACZ5G,OAJmE,EAAZynC,MACpC7P,OAAO53B,OAI1BmpB,SAAS,aAGX,OACE,kBAAC,GAAD,KACE,kBAAC,GAAiBviB,MCGTwmD,GAdmB,SAAC,GAAyC,IAAvC9e,EAAsC,EAAtCA,OAAsC,IAA9BC,YAA8B,MAAvB,GAAuB,MAAnBC,eAAmB,MAAT,GAAS,EACzE,OACE,kBAAC5lC,GAAD,KACE,kBAACC,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAKwlC,OAAQA,EAAQC,KAAMA,EAAMC,QAASA,S,0TCP/C,IAAM6e,GAAkBp2D,IAAH,MCctBq2D,GAAa,SAACC,GAClB,IAAKA,EACH,OAAO,EAFuC,IAIxCC,EAAqBD,EAArBC,iBACR,OACEA,IAAqBA,EAAiBC,OAAyB,OAAhBD,QAAgB,IAAhBA,OAAA,EAAAA,EAAkBtgB,MAAOsgB,EAAiBrgB,OAwBhFugB,GAAa,SAAC,GAAkC,IAAhC9tD,EAA+B,EAA/BA,YACrBoD,EAASuU,cAD2C,EAE5B5D,mBAA6B,IAFD,mBAEnD66B,EAFmD,KAE1Cmf,EAF0C,KAuB1D,OAnBA55C,qBAAU,WACU/Q,EAAO7P,MAA+D,CACtFA,MAAOk6D,GACP5vD,UAAW,CACTmC,iBAIM7K,MAAK,SAAAkJ,GACTA,EAAOnH,MACLmH,EAAOnH,KAAK82D,mBACdD,EAA8B1vD,EAAOnH,KAAK82D,kBAjC/C/5D,OAAOy5D,IACP94D,KAAI,SAAA+4D,GAAQ,OAAIA,KAChB/4D,KAAI,SAAA+4D,GAAa,IAAD,EACaA,EAASC,iBAA7BtgB,EADO,EACPA,IAAKC,EADE,EACFA,KAAMsgB,EADJ,EACIA,KAOnB,MAJ4B,CAC1Bn+B,SAFA4d,GAAOC,EAAO,CAAED,MAAKU,IAAKT,GAAS,CAAED,IAAKugB,EAAKI,YAAY,GAAIjgB,IAAK6f,EAAKI,YAAY,IAGrF9e,MAAOwe,EAAS/5D,eA6BnB,CAACoM,EAAaoD,IAEjBmW,GAAa,YAEN,kBAAC,GAAD,CAAMq1B,QAASA,EAASD,KAAM,GAAID,OAAQ,CAAEpB,IAAK,OAAQU,IAAK,UC7C1DkgB,GAA4B,CACvCxuB,OAAO,EACP9jC,KAAM,iCACN+rC,UAf8D,SAAC,GAAe,IAAbE,EAAY,EAAZA,MACjE,OAAc,OAAVA,EACK,kBAAC,GAAD,MAIP,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY7nC,YAAa6nC,EAAM7P,OAAOh4B,iBAWjB4mC,GAAqCsnB,I,2qCCThE,IAAIp4C,GAAK,CACPG,aAAc,CACZC,MAAOF,oBAAS,sBAqDLm4C,GAjD+B,SAAC,GAA6B,IAA3B93C,EAA0B,EAA1BA,OAAQ+3C,EAAkB,EAAlBA,YACvD,OACE,gCACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAACx4C,GAAD,MACCw4C,EACC,gBAAC,GAAD,KACE,gBAACC,GAAD,CAAaznD,QAAQ,QACnB,gBAAC,SAAD,uMAMF,gBAAC0nD,GAAD,CAAYnhD,GAAG,UACb,gBAAC,SAAD,gBAIJ,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEyJ,YAAad,GAAGG,aAAaC,MAC7BtiB,KAAK,QACLC,MAAOwiB,EAAOQ,OAAOX,MACrBY,SAAUT,EAAOU,eAElBV,EAAOvgB,OAAOogB,OACb,gBAAC2H,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOogB,QAG7C,gBAACpO,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACL2R,QAASyN,EAAOxN,YAEhB,gBAAC,SAAD,iCAYVylD,GAAa/nD,GAAO6G,KAAP7G,CAAH,MACA,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAKjC,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAQjCyE,GAAUvC,GAAOe,OAAPf,CAAH,MACG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAMtCuqD,GAAc9nD,GAAOQ,QAAPR,CAAH,MAEXgQ,GAAehQ,GAAOoP,IAAV,MAUZW,GAAY/P,GAAOoP,IAAV,MAiBTa,GAAcjQ,GAAOlJ,KAAV,MCzHJmc,GAA8DC,UAEzE,CACAvD,MAAOuD,YACJC,IAAI,IACJC,aAECjP,GAAyC,CAC7CwL,MAAO,IAIHq4C,GAAyB,sBAElBC,GAAkC,WAC7Cj1C,GAAag1C,IADsC,IAE3Ch2C,EAAgBb,KAAhBa,YACFlC,EAAS5L,aAAmC,CAChDE,SAAU,gBAAGuL,EAAH,EAAGA,MAAH,OAAeqC,EAAYrC,IACrCxL,iBACA8O,sBAEF,OACE,kBAAC,GAAD,CACEnD,OAAQA,EACR+3C,YAAa/3C,EAAOo4C,YAAc,KCd3BC,GAAqC,CAChDhvB,OAAO,EACP9jC,KAAM,SACN+rC,UAbG,SAAC,GAAc,EAAZE,MACN,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAe6f,eAAa,GAC1B,kBAAC,GAAD,U,opBCgCD,IAAMiH,GAA4Bt3D,IAAH,MAKzBu3D,GAAsCv3D,IAAH,KAM1Cs3D,IA0BC,IAAME,GAAuBx3D,IAAH,MAgC1B,IAAMy3D,GAAyBz3D,IAAH,MAwC5B,IC9FM03D,GAAoB,SAC/BlvD,EACA22B,GAEA,IAAMz2B,EAAYivD,GAAgB,OAACnvD,QAAD,IAACA,OAAD,EAACA,EAAYE,UAAWy2B,GAC1D,IAAM32B,IAAcE,EAClB,OAAO,KAH4B,IAMnC4b,EAYE9b,EAZF8b,kBACA2a,EAWEz2B,EAXFy2B,aACAhpB,EAUEzN,EAVFyN,KACAE,EASE3N,EATF2N,QAGAyhD,EAMEpvD,EANFovD,2BAEAr7D,EAIEiM,EAJFjM,KAKF,MAAO,CACL+L,WAAY,aACZI,YACA0N,gBAAiB7Z,EACjB0Z,KAAMA,EAAO,CAAE3N,WAAY,UAAWnK,GAAI,GAAIuX,IAAKO,GAAS,KAC5D9X,GAAIy5D,EACJz4B,UACA7N,OAAQ,KACRyB,SAAU,KACVx2B,OACA0iC,eACA9oB,UACAmO,sBAISqzC,GAAmB,SAC9BjvD,EACAy2B,GAEA,IAAKz2B,EACH,OAAO,KAF2B,IAKlCnM,EAYEmM,EAZFnM,KACA+nB,EAWE5b,EAXF4b,kBACAnO,EAUEzN,EAVFyN,QACA8oB,EASEv2B,EATFu2B,aACAhpB,EAQEvN,EARFuN,KAGA2hD,EAKElvD,EALFkvD,2BAGApqC,EAEE9kB,EAFF8kB,UAGF,MAAO,CACLllB,WAAY,YACZ2N,KAAMA,EAAO,CAAE3N,WAAY,UAAWnK,GAAI,GAAIuX,IAAKO,GAAS,KAC5D9X,GAAIy5D,EACJz4B,UACA5iC,OACA0iC,eACA9oB,UACA8c,eAAwB,OAATzF,QAAS,IAATA,OAAA,EAAAA,EAAW5Y,aAAc,EACxCwY,QAAS,CAAExY,WAAY,EAAGtM,WAAY,eACtC8N,gBAAiB7Z,EACjB+0B,OAAQ,KACRyB,SAAU,KACVmM,gBAAiB,EACjB5a,oBACA0I,QAAS,OC1GA6qC,GAAoB,SAACrvD,GAChC,IAAME,EAAYovD,GAAgB,OAACtvD,QAAD,IAACA,OAAD,EAACA,EAAYE,WAC/C,IAAMF,IAAcE,EAClB,OAAO,KAHqF,IAKtF4b,EAAyD9b,EAAzD8b,kBAAmB2a,EAAsCz2B,EAAtCy2B,aAAchpB,EAAwBzN,EAAxByN,KAAME,EAAkB3N,EAAlB2N,QAC/C,MAAO,CACL8oB,aAAcA,GAAgB,GAC9BhpB,OACA1Z,KAJ+DiM,EAATjM,KAKtD+nB,oBACAnO,QAASA,GAAW,GACpBzN,cAISovD,GAAmB,SAACpvD,GAC/B,IAAKA,EACH,OAAO,KAFiF,IAIlFnM,EAAyDmM,EAAzDnM,KAAM+nB,EAAmD5b,EAAnD4b,kBAAmBrO,EAAgCvN,EAAhCuN,KAAME,EAA0BzN,EAA1ByN,QACvC,MAAO,CACL8oB,aAF+Dv2B,EAAjBu2B,cAEhB,GAC9BhpB,KAAMA,GAAQ,GACd1Z,OACA+nB,oBACAnO,QAASA,GAAW,K,yUCxCjB,IAAMqB,GAAqB,SAAC,GAAsC,IAApCugD,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,WAAYxQ,EAAa,EAAbA,OACzD,OACE,oCACE,0BACE7xC,IAAI,aACJF,KAAK,8EAEP,kBAAC9D,GAAD,KACE,kBAACC,GAAD,KACE,kBAACqmD,GAAD,KACE,kBAACpmD,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAQtV,KAAK,mBACb,kBAAC,OAAD,KACGw7D,EAASx6D,KAAI,SAAA26D,GAAE,OACd,kBAAC,OAAD,CAAK5vC,EAAG,EAAGhN,IAAK48C,EAAG58C,KAChB48C,QAKT,kBAAC,OAAD,CAAK5vC,EAAG,GAAI0vC,MAIlB,kBAACnoD,GAAD,KACE,kBAACG,GAAD,KACE,kBAACE,GAAD,CAAY9B,WAAY,QACtB,kBAAC,SAAD,iBAEF,kBAAC+B,GAAD,KACE,kBAACgoD,GAAD,KAAa3Q,SASrB2Q,GAAajpD,GAAOe,OAAPf,CAAH,MAUV+oD,GAAgB/oD,GAAOe,OAAPf,CAAH,MACH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cCG/B2rD,GAAgBC,cAnCqB,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAqB7C3oD,EAAe,CACnBooD,SApBe75C,WACf,kBACEo6C,EACG/6D,KAAI,SAAAg7D,GACH,MAAuB,eAAnBA,EAAIC,WACC,gBAAC,GAAD,CAAsBD,IAAKA,EAAKj9C,IAAKi9C,EAAIE,WACpB,aAAnBF,EAAIC,WACN,gBAAC,GAAD,CAAoBD,IAAKA,EAAKj9C,IAAKi9C,EAAIE,WAClB,cAAnBF,EAAIC,WACN,gBAAC,GAAD,CAAqBD,IAAKA,EAAKj9C,IAAKi9C,EAAIE,YAE/ChuD,QAAQqR,KAAR,+BAA6Cy8C,GACtC,SAGV37D,QAAO,SAAC+B,GAAD,QAA4BA,OACxC,CAAC25D,IAKDN,WAAY,gBAAC,KAAD,CAAYU,UAAQ,IAChClR,OAAQ,gBAACmR,GAAA,EAAD,CAAgBC,UAAU,gBAGpC,OACE,gCACE,gBAACC,GAAA,EAAD,CAAWC,YAAa,IACxB,gBAAC,GAAWnpD,OAOZopD,GAAyD,SAAC,GAAa,IAAXR,EAAU,EAAVA,IAC1Dp5B,EAAU65B,GAAWT,GACrBU,EAAkBvB,GAAkBa,EAAKp5B,GACvC7oB,EAAuB4iD,GAAmBX,GAA1CjiD,mBACF3G,EACJspD,GACAxH,GAA2B,CACzBjpD,WAAYywD,EACZ1iD,aAAa,EACbD,uBAIJ,OAFC3G,GAASlF,QAAQqR,KAAR,+BAA6Cy8C,GAEhD5oD,GAAS,gBAAC,GAAD,eAAY6G,UAAQ,GAAK7G,KAGrCwpD,GAAuD,SAAC,GAAa,IAAXZ,EAAU,EAAVA,IACxDp5B,EAAU65B,GAAWT,GACrBU,EAAkBtB,GAAiBY,EAAKp5B,GAClBnQ,EAAqBkqC,GAAmBX,GAA5DjiD,mBACF3G,EACJspD,GACAj6B,GAA0B,CACxBt2B,UAAWuwD,EACX1iD,aAAa,EACbyY,mBACAjC,WAAW,IAIf,OAFCpd,GAASlF,QAAQqR,KAAR,+BAA6Cy8C,GAEhD5oD,GAAS,gBAAC,GAAD,eAAW6G,UAAQ,GAAK7G,KAGpCypD,GAAqD,SAAC,GAAa,IAAD,EAAVb,EAAU,EAAVA,IACtDp5B,EAAU65B,GAAWT,GACnB14D,EAAS4/B,KAAT5/B,KAEF4/C,MAAgB,OAAJ5/C,QAAI,IAAJA,GAAA,UAAAA,EAAMogC,gBAAN,eAAgBE,sBAAuB,IAAI/jC,MAC3D,SAAAi9D,GAAa,YACqB,cAAhCA,EAAcz/B,eACdy/B,EAAcz/B,iBAAd,UAAgC2+B,EAAIn4B,iBAApC,aAAgC,EAAexG,kBAI7Cq/B,EH5GuB,SAAC7wD,GAIO,IAC7Bc,EAA8Bd,EAA9Bc,SAAUi2B,EAAoB/2B,EAApB+2B,QAASsgB,EAAWr3C,EAAXq3C,OACrBj3C,EAAakvD,GAAiB,OAACxuD,QAAD,IAACA,OAAD,EAACA,EAAUV,WAAY22B,GACrDzpB,EAAG,OAAGxM,QAAH,IAAGA,OAAH,EAAGA,EAAUwM,IACtB,KAAMxM,GAAYV,GAAckN,GAC9B,OAAO,KAL2B,IAQlCnZ,EAeE2M,EAfF3M,KACA0iC,EAcE/1B,EAdF+1B,aACAhpB,EAaE/M,EAbF+M,KACA8qC,EAYE73C,EAZF63C,QACA5qC,EAWEjN,EAXFiN,QAEAiqB,EASEl3B,EATFk3B,UAGAw3B,EAME1uD,EANF0uD,2BAKAvhC,EACEntB,EADFmtB,MAEF,MAAO,CACL/tB,WAAY,WACZ22B,aAAcA,GAAgB,GAC9Bz2B,aACAyN,KAAMA,EAAO,CAAE3N,WAAY,UAAWnK,GAAI,GAAIuX,IAAKO,GAAS,KAC5D1Z,OACA4Z,QAASA,GAAW,GACpBiuB,QAAS2c,EACT5iD,GAAIy5D,EACJn2B,OAAQ,CACNn5B,WAAY,YACZsM,WAAYrT,UAAc,OAAL80B,QAAK,IAALA,OAAA,EAAAA,EAAOzhB,aAAc,MAAQ,GAEpD0c,OAAQ,KACRqE,OAAQ,KACRmrB,QAAS,CACPx4C,WAAY,UACZnK,GAAI,GACJuX,MACA4jD,OAAQ,CAAEhxD,WAAY,gBAAiBoN,OACvC0qB,UAAWA,GAAa,GACxBzmB,OAAQ8lC,EAAS,CAAEn3C,WAAY,iBAAoB,OG2D/BixD,CAAgB,CAAErwD,SAAUqvD,EAAKp5B,UAASsgB,WAXI,EAahBvhC,cAAiB,SAAA6E,GAAE,OAAKA,KAAI,GAbZ,mBAa/Dw9B,EAb+D,KAa3CC,EAb2C,OAc7BtiC,cAAiB,SAAA6E,GAAE,OAAKA,KAAI,GAdC,mBAc/DkM,EAd+D,KAc/C1E,EAd+C,KAgBhE5a,EAA8BspD,GAAe,2BAC9CrY,GAAyB,CAC1B13C,SAAU+vD,EACV1iD,aAAa,EACbshB,KAAM,QAJyC,IAMjD5I,iBACA1E,iBACAm1B,WAAY,KACZ3e,aAAcyf,KAEf7wC,GAASlF,QAAQqR,KAAR,+BAA6Cy8C,GAEvD,IAAM1X,EAAc3iC,WAAc,kBF1HL,SAAChV,GAC9B,IAAMV,EAAaqvD,GAAiB,OAAC3uD,QAAD,IAACA,OAAD,EAACA,EAAUV,YAC/C,IAAMU,IAAYV,EAChB,OAAO,KAH6E,IAK9EjM,EAA+D2M,EAA/D3M,KAAM0iC,EAAyD/1B,EAAzD+1B,aAAchpB,EAA2C/M,EAA3C+M,KAAM8qC,EAAqC73C,EAArC63C,QAClC,MAAO,CACL9hB,aAAcA,GAAgB,GAC9Bz2B,aACAyN,KAAMA,GAAQ,GACd1Z,OACA4Z,QANqEjN,EAA5BiN,SAMrB,GACpBT,IAPqExM,EAAnBwM,KAOtC,GACZqrC,QAASA,GAAW,GACpB3gB,UATqEl3B,EAAdk3B,WAS/B,IE4Gco5B,CAAgBjB,KAAM,CAACA,IACzDtX,EACJJ,GAAeN,EACb,gBAAC,GAAD,CAAOx4B,WAAYy4B,GACjB,gBAAC,GAAD,CAAgBz3B,KAAMy3B,EAAyBt3C,SAAU23C,KAEzD,KAEN,OACElxC,GACE,gCACGsxC,EACD,gBAAC,GAAD,eAAUzqC,UAAQ,GAAK7G,MAMzBqpD,GAAa,SAACT,GAAc,IAAD,EJ7EmBzjD,EI8E1CjV,GJ9E0CiV,EI8EG,CACnDtP,QAASrG,EAAM,CAAEQ,aAAa,KJ9EnBsV,IAAuGsiD,GAAqCziD,II6EjJjV,KAGF45D,EAAa,OAAG55D,QAAH,IAAGA,GAAH,UAAGA,EAAMogC,gBAAT,aAAG,EAAgBy5B,SAMtC,OALgBnB,EAAIoB,iBAAmBF,GAOnCP,GAAqB,SAACX,GAAa,IJtDDzjD,EIsDC,EJrD1BG,IAAkFuiD,GAAsB1iD,GIqD9E,mBAKxB8kD,GALwB,aJtBlC,SAAmC9kD,GAClC,OAAOG,IAAsFwiD,GAAwB3iD,GI2BxF+kD,GANI,mBAMtBC,GANsB,WAOjCC,EAAkB,GAWlBzjD,EAAqBlD,aAAU,CACnCC,cAAe,GACfC,SAAS,WAAD,4BAAE,sBAAA/L,EAAA,yDACHgxD,EAAIt5B,eAAgB26B,EAAat/C,UAAWw/C,EAAex/C,QADxD,kKAAF,kDAAC,KAgBX,OAAO4D,WACL,iBAAO,CACL5H,qBACAyjD,qBAEF,CAACzjD,EAAoByjD,KCzLZC,GAA8B,CACzC3xB,OAAO,EACP9jC,KAAM,UACN+rC,UAbkE,WAClE,OAAO1tC,GACL,kBAAC,GAAD,MAEA,kBAAC,GAAD,KACE,kBAACw1D,GAAD,S,k1JCeN,IAQYrqC,GARNtP,GAAK,CACTG,aAAc,CACZriB,KAAMoiB,oBAAS,gBACfxI,QAASwI,oBAAS,iDAClBkf,SAAUlf,oBAAS,qBACnBwsC,QAASxsC,oBAAS,+C,SAGVoP,O,qBAAAA,I,oBAAAA,Q,KA8CL,IAAM5Q,GAA4B,SAAC,GAUnC,IATL6B,EASI,EATJA,OACAi7C,EAQI,EARJA,YACAC,EAOI,EAPJA,SACAC,EAMI,EANJA,QACAC,EAKI,EALJA,MACAC,EAII,EAJJA,cACAjkD,EAGI,EAHJA,gBACAmE,EAEI,EAFJA,QACA+/C,EACI,EADJA,aAEMnyC,EAAqBjK,eACzB,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqCvJ,KAAMxP,OAC3D,CAACuY,IAEGqJ,EAAiB,kBAAoBrJ,EAAOQ,OAAOvJ,KAAO+I,EAAOQ,OAAOvJ,KAAO,GAC/EskD,EAAsBr8C,eAC1B,SAACzX,GAAD,OAAgBuY,EAAOoJ,UAAP,2BAAsBpJ,EAAOQ,QAA7B,IAAqC1E,MAAOrU,OAC5D,CAACuY,IAEGw7C,EAAkB,kBAAoBx7C,EAAOQ,OAAO1E,MAAQkE,EAAOQ,OAAO1E,MAAQ,GAExF,OACE,gBAACnJ,GAAD,KACE,gBAAC,GAAD,CAAS2oD,aAAcA,EAAc//C,QAASA,IAC9C,gBAAC3I,GAAD,KACE,gBAACC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC4oD,GAAD,KACE,gBAAC,KAAD,KACE,gBAAC,KAAD,CAAOl2D,KAAM+1D,EAAaI,aAAcT,GACxC,gBAAC,KAAD,CAAO11D,KAAM+1D,EAAar6B,UAAWi6B,GACrC,gBAAC,KAAD,CAAO31D,KAAM+1D,EAAaK,SAAUR,GACpC,gBAAC,KAAD,CAAO51D,KAAM+1D,EAAaM,OAAQR,GAClC,gBAAC,KAAD,CAAO71D,KAAM+1D,EAAaO,MAAOR,GACjC,gBAAC,KAAD,CAAO91D,KAAM+1D,EAAaQ,SACxB,gBAAC,GAAD,CAAYzpD,EAAG,EAAG80B,GAAI,GACpB,gBAAC,GAAD,KACE,gBAAC,QAAD,KACE,gBAAC40B,GAAD,KACE,gBAAC,GAAD,CACEr2C,WAAY81C,EACZ31C,YAAY,UACZD,aAAc21C,MAIpB,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,CACE71C,WAAY2D,EACZxD,YAAY,UACZD,aAAcuD,OAKtB,gBAAC,GAAD,CAAUvI,GAAI,EAAGtQ,GAAI,GACnB,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEiQ,YAAad,GAAGG,aAAariB,KAC7BqU,SAAUoO,EAAO9N,aACjB3U,KAAK,OACLC,MAAOwiB,EAAOQ,OAAOjjB,KACrBkjB,SAAUT,EAAOU,gBAIrB,gBAAC,GAAD,CAAUE,GAAI,EAAGvO,EAAG,GACjB+E,GAEH,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEmJ,YAAad,GAAGG,aAAazI,QAC7BvF,SAAUoO,EAAO9N,aACjB3U,KAAK,UACLC,MAAOwiB,EAAOQ,OAAOrJ,QACrBsJ,SAAUT,EAAOU,gBAGrB,gBAAC,GAAD,CAAUE,GAAI,GACZ,4BACE,gBAAC,KAAD,CAAQoG,YAAa,EAAGjgB,KAAM,MAEhC,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEwZ,YAAad,GAAGG,aAAaif,SAC7BjtB,SAAUoO,EAAO9N,aACjB3U,KAAK,WACLC,MAAOwiB,EAAOQ,OAAOqe,SACrBpe,SAAUT,EAAOU,iBAIvB,gBAACs7C,GAAD,CAAcp7C,GAAI,GAChB,4BACE,gBAAC,KAAD,CAAMoG,YAAa,EAAGjgB,KAAM,MAE9B,gBAAC,GAAD,KACE,gBAAC,KAAD,CACEwZ,YAAad,GAAGG,aAAausC,QAC7Bv6C,SAAUoO,EAAO9N,aACjB3U,KAAK,UACLC,MAAOwiB,EAAOQ,OAAO2rC,QACrB1rC,SAAUT,EAAOU,mBAM3B,gBAACmH,GAAD,CAAStP,GAAI,CAAE/I,OAAQ,uBACrB,gBAACiC,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAASyN,EAAOxN,YAEhB,gBAAC,SAAD,wBAmBlBipD,GAAkBvrD,GAAOe,OAAPf,CAAH,MACL,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAetCg+B,GAA+E,SAAC,GAG/E,IAFL6vB,EAEI,EAFJA,aACA//C,EACI,EADJA,QAEA,OACE,gBAAC,GAAD,CAAcuU,GAAI,GAChB,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAAC,GAAD,CAASzd,EAAG,GACV,gBAAC,KAAD,CAASg3B,OAAK,EAACvyB,GAAIwkD,EAAaQ,SAC9B,gBAAC,QAAD,CAAMrgC,WAAW,SAASljB,GAAI,CAAErJ,cAAe,aAAcD,SAAU,SACrE,gBAAC,GAAD,CAAMsC,UAAU,OAAOue,GAAI,GACzB,gBAAC,KAAD,CAAM/oB,KAAM,MAEd,gBAAC,GAAD,KACE,gBAAC,SAAD,gCAKR,gBAAC,GAAD,CAASsL,EAAG,GACV,gBAAC,KAAD,CAASyE,GAAIwkD,EAAaI,aACxB,gBAAC,QAAD,CAAMjgC,WAAW,SAASljB,GAAI,CAAErJ,cAAe,aAAcD,SAAU,SACrE,gBAAC,GAAD,CAAMsC,UAAU,OAAOue,GAAI,GACzB,gBAAC,KAAD,CAAS/oB,KAAM,MAEjB,gBAAC,GAAD,KACE,gBAAC,SAAD,wBAKPwU,EACC,gCACE,gBAAC0gD,GAAD,CAAc5pD,EAAG,GACf,gBAAC,QAAD,CACEopB,WAAW,SACXppB,EAAG,EACHkG,GAAI,CAAErJ,cAAe,aAAcD,SAAU,SAK7C,gBAAC,QAAD,CAAMsB,QAAQ,YAAd,WAGJ,gBAAC,GAAD,CAAS8B,EAAG,GACV,gBAAC,KAAD,CAASyE,GAAIwkD,EAAar6B,UACxB,gBAAC,QAAD,CAAMxF,WAAW,SAASljB,GAAI,CAAErJ,cAAe,aAAcD,SAAU,SACrE,gBAAC,GAAD,CAAMsC,UAAU,OAAOue,GAAI,GACzB,gBAAC,KAAD,CAAS/oB,KAAM,MAEjB,gBAAC,GAAD,KACE,gBAAC,SAAD,qBAKR,gBAAC,GAAD,CAASsL,EAAG,GACV,gBAAC,KAAD,CAASyE,GAAIwkD,EAAaK,SACxB,gBAAC,QAAD,CAAMlgC,WAAW,SAASljB,GAAI,CAAErJ,cAAe,aAAcD,SAAU,SACrE,gBAAC,GAAD,CAAMsC,UAAU,OAAOue,GAAI,GACzB,gBAAC,KAAD,CAAM/oB,KAAM,MAEd,gBAAC,GAAD,KACE,gBAAC,SAAD,oBAKR,gBAAC,GAAD,CAASsL,EAAG,GAEV,gBAAC,KAAD,CAASyE,GAAIwkD,EAAaM,OACxB,gBAAC,QAAD,CAAMngC,WAAW,SAASljB,GAAI,CAAErJ,cAAe,aAAcD,SAAU,SACrE,gBAAC,GAAD,CAAMsC,UAAU,OAAOue,GAAI,GACzB,gBAAC,KAAD,CAAM/oB,KAAM,MAEd,gBAAC,GAAD,KACE,gBAAC,SAAD,kBAKR,gBAAC,GAAD,CAASsL,EAAG,GACV,gBAAC,KAAD,CAASyE,GAAIwkD,EAAaO,MACxB,gBAAC,QAAD,CAAMpgC,WAAW,SAASljB,GAAI,CAAErJ,cAAe,aAAcD,SAAU,SACrE,gBAAC,GAAD,CAAMsC,UAAU,OAAOue,GAAI,GACzB,gBAAC,KAAD,CAAS/oB,KAAM,MAEjB,gBAAC,GAAD,KACE,gBAAC,SAAD,4BAMR,SAOR20B,GAAOxrB,GAAOQ,QAAPR,CAAH,KACNY,IAAMC,SAAS,SAAfD,CADM,OAMJmrD,GAAe/rD,GAAOO,QAAPP,CAAH,MACQ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WACzB,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAGnDyb,GAA0BvZ,GAAO8X,GAAP9X,CAAH,MAGhB,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAcnC6Y,GAAM/W,GAAOoP,IAAV,MAIO,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SACtB,SAAA0C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SAS5C8tD,GAAK7rD,GAAOe,OAAPf,CAAH,MASFsuB,GAActuB,GAAOO,QAAPP,CAAH,KAEbY,IAAMC,SAAS,QAAfD,CAFa,OASXwtB,GAAapuB,GAAOe,OAAPf,CAAH,MAEVsf,GAAWtf,GAAOQ,QAAPR,CAAH,MACH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIjC0wB,GAAW5uB,GAAOO,QAAPP,CAAH,MACH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAQvB,SAAAwC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAMtC6tD,GAAe9rD,GAAOO,QAAPP,CAAH,MACP,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAQvB,SAAAwC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAMtCswB,GAAcvuB,GAAOoP,IAAV,MASXiK,GAAOrZ,GAAOoP,IAAV,MAKG,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAWnCob,GAAWtZ,GAAOe,OAAPf,CAAH,MAWR4vC,GAAO5vC,GAAOe,OAAPf,CAAH,MAQI,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAK7B0C,GAAeX,GAAOO,QAAPP,CAAH,MAaR,SAAAS,GAAK,OAAIA,EAAMrD,MAAM0B,aAIlC8B,IAAMC,SAAS,SAAfD,CAjBqB,MAoBrBA,IAAMC,SAAS,SAAfD,CApBqB,OAyBZE,GAAQd,GAAOe,OAAPf,CAAH,MACF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAuB/B0D,IANajB,GAAOQ,QAAPR,CAAH,MAEM,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAItCkC,GAAOe,OAAPf,CAAH,OAEHkB,GAAUlB,GAAOQ,QAAPR,CAAH,MACX,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cACV,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAE5C,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAIxB,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAErB,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAE9B,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAQ1B,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAE9B,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WC1iBnCg4D,GAAc,WAAO,IAAD,EpO+DApmD,EoO9DzBqmD,EpO+DOlmD,IAAiE4b,GAAkB/b,GoO9D1FsmD,EAAYvoD,GAAO,UAACsoD,EAAUt7D,YAAX,aAAC,EAAgB+6D,OAAO,YAAyB,IAAtBjsD,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OAC1D,OAAOgnD,EAAU/lD,UAAU,CACzB5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAvBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,OAAA,EAAAA,EAAiBslD,QAASlmD,EAAKkmD,MAA/B,2BAEEtlD,GAFF,IAGDslD,MAAOzmD,EAAO,CACZO,KAAMA,EAAKkmD,MACXnmD,QAASa,EAAgBslD,UAG7BlmD,QAIV,OAAO1B,mBAAQ,WACb,MAAO,CACLooD,eAED,CAACA,K,4gCCqDC,IAAMC,GAA0Br7D,IAAH,KAM9BmjB,IA2BC,IAAMm4C,GAAqBt7D,IAAH,MAkCxB,IAAMu7D,GAA4Bv7D,IAAH,MAoD/B,IAAMw7D,GAAgCx7D,IAAH,MA0CnC,ICtOMy7D,GAAiB,SAACC,GAAwB,IAAD,ED6Fd5mD,EC5FhC6mD,GD4FgC7mD,EC5FA,CAAEtO,UAAW,CAAEk1D,WD6FxCzmD,IAA+EomD,GAAyBvmD,IC9FjE,EDsL/C,SAAsCA,GACrC,OAAOG,IAA4FsmD,GAA2BzmD,GCrL5E8mD,GAFJ,mBAE7CC,EAF6C,KAEvBC,EAFuB,ODkI/C,SAA+BhnD,GAC9B,OAAOG,IAA8EqmD,GAAoBxmD,GChIrEinD,GAHU,mBAG7CC,EAH6C,KAG9BC,EAH8B,ODwN/C,SAA0CnnD,GACzC,OAAOG,IAAoGumD,GAA+B1mD,GClN5IonD,GAPgD,mBAKlDC,EALkD,KAMlDC,EANkD,KAS9CltC,EAAI,UAAGysC,EAAM97D,YAAT,aAAG,EAAYqvB,KACnBmtC,EAAwBh4C,GAAwB,sBAAC,sBAAA9c,EAAA,yDAChD2nB,GAAoC,SAA5BA,EAAK1pB,QAAQ8C,aAAyB8zD,EAA4B9hD,QAD1B,0EAK9C6hD,EAAyB,CAC9B31D,UAAW,CAAEuC,OAAQmmB,EAAK1pB,QAAQuD,WANiB,2CAQpD,CAACmmB,IAEEotC,EAAoBj4C,GAAwB,sBAAC,sBAAA9c,EAAA,yDAE9C2nB,GAC2B,SAA5BA,EAAK1pB,QAAQ8C,aACb2zD,EAAiB3hD,UACjBwhD,EAAwBxhD,QALuB,0EAU1C1c,QAAQ2+D,IAAI,CACjBP,EAAc,CACZx1D,UAAW,CAAEk1D,OAAQxsC,EAAK/wB,IAC1BomB,eAAgB,CAACuM,GAAqB,OAExC+qC,EAAqB,CAAEr1D,UAAW,CAAEolB,UAAWsD,EAAK/wB,SAfL,2CAiBhD,CAAC+wB,IAEEstC,EAAan4C,GAAwB,sBAAC,sBAAA9c,EAAA,yDACrC2nB,IAAQ+sC,EAAiB3hD,QADY,0EAKnC0hD,EAAc,CACnBx1D,UAAW,CAAEk1D,OAAQxsC,EAAK/wB,IAC1BomB,eAAgB,CAACuM,GAAqB,QAPE,2CASzC,CAAC5B,IAEJ,OAAOlc,mBAAQ,WACb,MAAO,CACLkc,OACAmtC,wBACAC,oBACAE,aACAV,0BACAM,8BACAK,iBAAkBR,KAEnB,CACD/sC,EACAmtC,EACAC,EACAE,EACAV,EACAM,EACAH,K,m1CC7DG,IAAMS,GAAuC,SAAC,GAO9C,IANLC,EAMI,EANJA,0BACA/8D,EAKI,EALJA,KACAoyB,EAII,EAJJA,OACA4qC,EAGI,EAHJA,UACAJ,EAEI,EAFJA,WACAK,EACI,EADJA,cAEA,OACE,kBAAC,GAAD,KACE,kBAACC,GAAD,KAASH,GACT,kBAAC,QAAD,CAAMptD,QAAQ,OAAOo5B,GAAI,GACtB3W,GAEH,kBAAC,GAAD,KACE,kBAAC,OAAD,KACE,kBAAC,GAAD,KACY,SAATpyB,EACC,kBAAC,GAAD,CAAY2R,QAASqrD,GACnB,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAO52C,YAAY,IAAIjgB,KAAK,QAE9B,kBAAC,QAAD,CAAMwJ,QAAS,WAAYgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GAClE,kBAAC,SAAD,gBAIJ,kBAAC,GAAD,CAAYiC,QAASsrD,GACnB,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAS72C,YAAY,IAAIjgB,KAAK,QAEhC,kBAAC,QAAD,CAAMwJ,QAAS,WAAYgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GAClE,kBAAC,SAAD,iBAIN,kBAAC,GAAD,CAAYA,GAAI,EAAGiC,QAASirD,GAC1B,kBAAC,GAAD,CAAYjsD,UAAU,UACpB,kBAAC,KAAD,CAAMA,UAAU,QAAQyV,YAAY,IAAIjgB,KAAK,QAE/C,kBAAC,QAAD,CAAMwJ,QAAS,WAAYgI,GAAI,CAAErJ,cAAe,cAAgBoB,GAAI,GAClE,kBAAC,SAAD,sBAUVwtD,GAAS5tD,GAAOe,OAAPf,CAAH,MACD,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOqK,QACvB,SAAAsC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cACjB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOiK,SAGjD8qB,GAAQ7oB,GAAOO,QAAPP,CAAH,MAKL2X,GAAU3X,GAAOe,OAAPf,CAAH,MAMPiI,GAAajI,GAAOO,QAAPP,CAAH,MAEL,SAAAS,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAEtE,SAAAuC,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAGnE,SAAAuC,GAAK,OACjBA,EAAMqoB,MACFnnB,aAAO,MAAOlB,EAAMrD,MAAMtJ,OAAO0J,WACjCmE,aAAO,OAAQlB,EAAMrD,MAAMtJ,OAAOkK,gBAG5B,SAAAyC,GAAK,OACjBA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAO0J,UAAYiD,EAAMrD,MAAMtJ,OAAOkK,cAKrDjK,GAAgBE,IAEjB,SAAAwM,GAAK,OAAKA,EAAMqoB,MAAQroB,EAAMrD,MAAMtJ,OAAOgK,QAAU2C,EAAMrD,MAAMtJ,OAAOoK,cAUtE,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAC3B,SAAAuC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKvC+qB,GAAajpB,GAAOe,OAAPf,CAAH,MAcVuC,GAAUvC,GAAOe,OAAPf,CAAH,MACG,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cCpH/BswD,GAAqC,SAAC,GAAgB,IAAdrB,EAAa,EAAbA,OAAa,EAS5DD,GAAeC,GAPjBW,EAF8D,EAE9DA,sBACAC,EAH8D,EAG9DA,kBACAptC,EAJ8D,EAI9DA,KACAstC,EAL8D,EAK9DA,WACAV,EAN8D,EAM9DA,wBACAM,EAP8D,EAO9DA,4BACAK,EAR8D,EAQ9DA,iBAR8D,EAW1B//C,qBAX0B,mBAWzDsgD,EAXyD,KAW5CC,EAX4C,KAY1DC,EAAe3pD,uBAAY,kBAAM0pD,OAAetzD,KAAY,IAC5DwzD,EAAuBjuC,GAAQ8tC,EACnC,kBAAC,GAAD,CAAOj1C,WAAYm1C,GACA,WAAhBF,EACC,kBAAC,GAAD,CACE90C,OAAQg1C,EACRjI,QAAS,kBAAMqH,IAAoBx+D,KAAKo/D,IACxChI,QAAS4G,EAAwBxhD,SAAWmiD,EAAiBniD,QAC7DomB,OAAQtkB,GAAKzd,EAAL,0BACRq2D,YAAa54C,GAAKzd,EAAL,2DACyCuwB,EAAK1pB,QAAQ8C,WADtD,cAGb0Z,MAAO5F,GAAKzd,EAAL,YAES,UAAhBq+D,EACF,kBAAC,GAAD,CACE90C,OAAQg1C,EACRjI,QAAS,kBAAMoH,IAAwBv+D,KAAKo/D,IAC5ChI,QAASkH,EAA4B9hD,QACrComB,OAAQtkB,GAAKzd,EAAL,eACRq2D,YAAa54C,GAAKzd,EAAL,0DACbqjB,MAAO5F,GAAKzd,EAAL,YAES,WAAhBq+D,EACF,kBAAC,GAAD,CACE90C,OAAQg1C,EACRjI,QAAS,kBAAMuH,IAAa1+D,KAAKo/D,IACjChI,QAAS4G,EAAwBxhD,QACjComB,OAAQtkB,GAAKzd,EAAL,eACRq2D,YAAa54C,GAAKzd,EAAL,yDACbqjB,MAAO5F,GAAKzd,EAAL,YAEP,MA/B4C,KAoC9Cg+D,EAAuE3pD,mBAAQ,WACnF,GAAKkc,EAEE,IAAgC,YAA5BA,EAAK1pB,QAAQ8C,WAA0B,CAAC,IAAD,EAC1CM,EAAUsmB,EAAK1pB,QAD2B,EAEP0zB,GAAwBtwB,GAAzDuwB,EAFwC,EAExCA,cAAezE,EAFyB,EAEzBA,cACjB0oC,EACJ,kBAAC,GAAD,CAAmBv0D,UAAWD,EAAQzK,GAAIs6B,aAAa,EAAOliB,aAAa,IAEvE4Z,EAAQjB,EAAKlC,SAAWw0B,GAAiBtyB,EAAKlC,SACpD,OACE,kBAAC,GAAD,CACEmD,MAAOA,EACPiK,aAAcxxB,EAAQokB,QAAUw0B,GAAiB54C,EAAQokB,cAAWrjB,EACpEwwB,UAAWvxB,EAAQuxB,UACnBR,MAAO,YACPR,cAAeA,EACfzE,cAAeA,EACf/F,OAAQZ,GAAO+E,OACfmH,WACE,UAAArxB,EAAQI,cAAR,eAAgB7K,KAAMojD,GAAehoB,QAAQ,CAAEtwB,SAAUL,EAAQI,OAAO7K,SAAMwL,GAEhF2wB,QAAS8iC,IAIb,OAAIluC,EAEA,kBAAC,GAAD,CAAkB1pB,QAAU0pB,EAAK1pB,UAG5B,qCA7BT,OAAO,uCAgCR,CAAC0pB,IAEEvf,EAAQqD,mBAA6B,WACzC,OAAOkc,EACH,CACEytC,4BACA3qC,OAAQ9C,EAAKtwB,QACbgB,KAAMsvB,EAAK1pB,QAAQ8C,WACnBs0D,UAAW,kBAAMK,EAAe,UAChCJ,cAAe,kBAAMI,EAAe,WACpCT,WAAY,kBAAMS,EAAe,YAEnC,OACH,CAACN,EAA2BztC,IAC/B,OACEvf,GACE,oCACGwtD,EACD,kBAAC,GAAgBxtD,KCnFVyqD,GAxBgB,SAAC,GAAqC,IAAnCiD,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cAC9C,OACE,gBAAC,OAAD,KACE,gBAAC,QAAD,CAAM7uD,GAAI,EAAGmR,GAAI,EAAGrQ,QAAQ,WAC1B,gBAAC,SAAD,eAEF,gBAAC0X,GAAD,KACGo2C,EACC,gBAAC,OAAD,CAAKz9C,GAAI,EAAGrI,GAAI,CAAEvG,MAAO,UACtBqsD,EAAa9/D,KAAI,SAAAggE,GAAW,OAC3B,gBAACrrD,GAAD,CAAgBoJ,IAAKiiD,EAAYjiD,KAAO,IAAKiiD,MAE9CD,EAAgB,gBAAC,GAAD,CAAUhsD,eAAgBgsD,IAAoB,KAAM,KAGvE,gBAAC,QAAD,CAAM30B,GAAI,GACR,gBAAC,SAAD,yBCtBC60B,GAAiD,WAAO,IAC3DpC,EAAcF,KAAdE,UACDkC,EAF2D,YAE1ClC,EAAUloD,QAFgC,MAG5DmqD,EAAerqD,mBACnB,kBACEooD,EAAUrnD,MAAMxW,KAAI,SAAA2xB,GAClB,IAAMiB,EAAQjB,EAAKlC,SAAWw0B,GAAiBtyB,EAAKlC,SAEpD,OACE,kBAAC,GAAD,CACE1R,IAAK4T,EAAK/wB,GACVgyB,MAAOA,EACPgJ,cAAc,GACdzE,cAAc,GACdyF,UAAWjL,EAAKiL,UAChBR,MAAM,UACNW,QAAS,kBAAC,GAAD,CAAgBohC,OAAQxsC,EAAK/wB,KACtCwwB,OAAQZ,GAAO+E,cAKvB,CAACsoC,EAAUrnD,QAEPpE,EAAQqD,mBAAe,WAC3B,MAAO,CACLqqD,eACAC,mBAED,CAACD,EAAcC,IAClB,OAAO,kBAAC,GAAU3tD,I,mxDC6Eb,IAAM8tD,GAAoCz9D,IAAH,MAiCvC,IAAM09D,GAAyC19D,IAAH,MAgCRA,IAAH,MAiCjC,IAAM29D,GAAmC39D,IAAH,MAgCtC,IAAM49D,GAA0B59D,IAAH,MA8B7B,IAAM69D,GAAwC79D,IAAH,KAa5C0S,IA6BC,IAAMorD,GAA8C99D,IAAH,KAalD0S,IAqCC,IAiGMqrD,GAA4C,SACvDv3D,EACAhB,GAFuD,MAGrD,CACFtJ,MAAM2hE,GACNr3D,YACAhB,YAaWw4D,GAAkD,SAC7Dx3D,EACAhB,GAF6D,MAG3D,CACFtJ,MAAM4hE,GACNt3D,YACAhB,YCneWy4D,GAAoC,WAAO,IAAD,IDwIFnpD,ECxIE,EDyIxCG,IAA4GwoD,GAAmC3oD,GCzIvG,mBAC9CopD,EAD8C,KAC3BC,EAD2B,ODwKhD,SAAmDrpD,GAClD,OAAOG,IAAsHyoD,GAAwC5oD,GCpKvKgF,GALiD,mBAGnDskD,EAHmD,KAInDC,EAJmD,ODyOhD,SAA6CvpD,GAC5C,OAAOG,IAA0G0oD,GAAkC7oD,GCjO7GgF,GATS,mBAS9CwkD,EAT8C,KAS9BC,EAT8B,ODuQhD,SAAoCzpD,GACnC,OAAOG,IAAwF2oD,GAAyB9oD,GC9P1EgF,GAVC,mBAU9C0kD,EAV8C,KAU1BC,EAV0B,KAY/CC,EDkSD,SAA+C5pD,GAC9C,OAAOG,IAA2G4oD,GAAuC/oD,GCnS3IgF,CAA0C,CAC5DtT,UAAW,CACTwO,MAAO1T,MAGLq9D,EAAiB9rD,GAAO,UAAC6rD,EAAY7+D,YAAb,aAAC,EAAkB++D,uBAAuB,YAAyB,IAAtBjwD,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACjF,OAAOuqD,EAAYtpD,UAAU,CAC3B5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAvBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,OAAA,EAAAA,EAAiBspD,wBAAyBlqD,EAAKkqD,sBAA/C,2BAEEtpD,GAFF,IAGDspD,sBAAuBzqD,EAAO,CAC5BO,KAAMA,EAAKkqD,sBACXnqD,QAASa,EAAgBspD,0BAG7BlqD,QAKJmqD,EDsTD,SAAqD/pD,GACpD,OAAOG,IAAuH6oD,GAA6ChpD,GCvTvJgF,CAAgD,CACxEtT,UAAW,CACTwO,MAAO1T,MAGLw9D,EAAuBjsD,GAAO,UAClCgsD,EAAkBh/D,YADgB,aAClC,EAAwBk/D,6BACxB,YAAyB,IAAtBpwD,EAAqB,EAArBA,OAAQwF,EAAa,EAAbA,OACT,OAAO0qD,EAAkBzpD,UAAU,CACjC5O,UAAU,2BAAMmI,GAAP,IAAeqG,MAAO1T,KAC/B+T,YAAa,SAACX,EAAD,GAAgC,IAAvBY,EAAsB,EAAtBA,gBACpB,OAAsB,OAAfA,QAAe,IAAfA,OAAA,EAAAA,EAAiBypD,8BAA+BrqD,EAAKqqD,4BAArD,2BAEEzpD,GAFF,IAGDypD,4BAA6B5qD,EAAO,CAClCO,KAAMA,EAAKqqD,4BACXtqD,QAASa,EAAgBypD,gCAG7BrqD,QAKNsqD,EAAiB36C,IACrB,SAAC46C,GACC,OAAOf,EAAkB,CACvB13D,UAAW,CAAEy4D,UACb16C,eAAgB,CAACzK,GAAoD,SAGzE,CAACokD,IAEGgB,EAAoB76C,IACxB,SAAClmB,GACC,OAAOigE,EAAqB,CAC1B53D,UAAW,CAAErI,MACbomB,eAAgB,CAACzK,GAAoD,SAGzE,CAACskD,IAGGe,EAAkB96C,IACtB,SAACxF,GACC,OAAO2/C,EAAmB,CAAEh4D,UAAW,CAAEqY,aAE3C,CAAC2/C,IAGGY,EAAW/6C,IACf,SAACxF,GACC,OAAO2/C,EAAmB,CACxBh4D,UAAW,CAAEqY,SACb0F,eAAgB,CAACzK,GAA8C,SAGnE,CAAC0kD,IAGGa,EAAch7C,IAClB,SAAClmB,GACC,OAAOmgE,EAAe,CACpB93D,UAAW,CAAErI,MACbomB,eAAgB,CAACzK,GAA8C,SAGnE,CAACwkD,IAGH,OAAOtrD,mBAAQ,WACb,MAAO,CACL8rD,uBACAH,iBACAK,iBACAE,oBACAE,WACAC,cACAF,kBACAhB,uBACAE,0BACAE,oBACAE,2BAED,CACDK,EACAH,EACAK,EACAE,EACAE,EACAC,EACAF,EACAhB,EACAE,EACAE,EACAE,K,43BC3HJ,IAAMhgD,GAAK,CACTG,aAAc,CACZqgD,OAAQtgD,oBAAS,oCA+Hf2gD,GAAapwD,GAAOQ,QAAPR,CAAH,MAEF,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAGpCoyD,GAAsBrwD,GAAO8X,GAAP9X,CAAH,MAKnBswD,GAAgBtwD,GAAOoP,IAAV,MAEU,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAGnDyyD,GAAcvwD,GAAO01B,KAAP11B,CAAH,MAGJ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAInCsyD,GAAUxwD,GAAO+X,GAAP/X,CAAH,MAIPywD,GAASzwD,GAAOe,OAAPf,CAAH,MASE,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAGrB,SAAAwC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAEjC,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAK7Bg3D,GA5JmB,SAAC,GAK5B,IAJL0F,EAII,EAJJA,gBACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,YACAC,EACI,EADJA,gBAEA,OACE,kBAAC,OAAD,KACE,kBAAC,QAAD,CAAMtxD,GAAI,EAAGmR,GAAI,EAAGrQ,QAAQ,WAC1B,0BAAMqO,MAAO,CAAEowC,YAAa,OAASvkB,aAAW,OAAOC,KAAK,OAA5D,gBADF,2BA6CA,kBAAC81B,GAAD,KACE,kBAAC,KAAD,CAAO72B,GAAI,GACT,kBAAC,SAAD,iCAEF,kBAAC42B,GAAD,KACE,kBAACE,GAAD,CACElgD,YAAad,GAAGG,aAAaqgD,OAC7BruD,SAAUgvD,EAAgB1uD,aAC1B3U,KAAK,SACLC,MAAOojE,EAAgBpgD,OAAOy/C,OAC9Bx/C,SAAUmgD,EAAgBlgD,eAE5B,kBAACmH,GAAD,KACE,kBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAc0uD,EAAgB1uD,aAC9BC,WAAYyuD,EAAgB1uD,aAC5BtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAASquD,EAAgBpuD,YAEzB,kBAAC,SAAD,gBAKR,kBAAC,OAAD,CAAKH,EAAG,GACN,kBAAC,QAAD,CAAMA,EAAG,EAAG9B,QAAQ,YAClB,kBAAC,SAAD,yBAEDuwD,EAAYviE,KAAI,SAAA0hE,GAAM,OACrB,kBAACS,GAAD,CAASpkD,IAAK2jD,GACZ,kBAACK,GAAD,KAAaL,GACb,kBAACU,GAAD,CAAQpuD,QAAS,kBAAMsuD,EAAaZ,KAClC,kBAAC,KAAD,CAASl5D,KAAM,UAIpBg6D,EAAkB,kBAAC,GAAD,CAAUzuD,eAAgByuD,IAAsB,KAAM,KAI3E,kBAAC,QAAD,CAAMxwD,QAAQ,WAAW8B,EAAG,GAC1B,kBAAC,SAAD,+CCrHK2uD,GAA4B59C,YAAa6yB,MAAM,CAC1DgqB,OAAQ78C,YAAa6e,QAAQn+B,MAKlBm9D,GAAuD,WAAO,IAAD,EAC5BvjD,qBAD4B,mBACjEwjD,EADiE,KACjDC,EADiD,KAElEC,EAAsB7sD,uBAAY,kBAAM4sD,OAAkBx2D,KAAY,IAFJ,EAQpEs0D,KAJFiB,EAJsE,EAItEA,kBACAF,EALsE,EAKtEA,eACAF,EANsE,EAMtEA,qBACAT,EAPsE,EAOtEA,wBAEK0B,EATiE,YAS9CjB,EAAqB5rD,QATyB,MAUlE0sD,EAAkBxsD,aAA8B,CACpDC,cAAe,CAAE4rD,OAAQ,IACzB98C,iBAAkB69C,GAClB1sD,SAAU,cAAgC,IAA7B2rD,EAA4B,EAA5BA,OAAYoB,EAAgB,EAAhBA,UACvB,OAAOpB,EAASD,EAAeC,GAAQnhE,MAAK,kBAAMuiE,YAAe12D,KAI/Dm2D,EAAoC9sD,mBACxC,kBAAM8rD,EAAqB/qD,MAAMxW,KAAI,SAAAoB,GAAC,OAAIA,EAAEsgE,YAC5C,CAACH,IAGGe,EAAetsD,uBAAY,WAAO,IAAD,EAC/B+sD,EAAQ,UAAGxB,EAAqB/qD,MAAM3X,MAAK,SAAAuC,GAAC,OAAIuhE,IAAmBvhE,EAAEsgE,iBAA7D,aAAG,EAAmE9gE,GAC/EmiE,EAILpB,EAAkBoB,GAAUxiE,KAAKsiE,GAH/BA,MAID,CAACF,EAAgBpB,EAAqB/qD,MAAOmrD,EAAmBkB,IAE7DG,EAA2BL,EAC/B,kBAAC,GAAD,CAAOn4C,WAAY,kBAAMo4C,OAAkBx2D,KACzC,kBAAC,GAAD,CACEue,OAAQk4C,EACRnL,QAAS4K,EACTn/B,OAAQtkB,GAAKzd,EAAL,gCACRq2D,YAAa54C,GAAKzd,EAAL,0CAA0CuhE,EAA1C,qBACbl+C,MAAO5F,GAAKzd,EAAL,UACPu2D,QAASmJ,EAAwB/jD,WAGnC,KAEE3K,EAAQqD,mBAAe,WAC3B,MAAO,CACL4sD,kBACAC,aAAcM,EACdL,cACAC,qBAED,CAACH,EAAiBE,EAAaC,IAClC,OACE,oCACGQ,EACD,kBAAC,GAAa5wD,K,2iBC5DpB,ICKY6wD,GDLN/hD,GAAK,CACTG,aAAc,CACZC,MAAOF,oBAAS,iEAwEL8hD,GA1DiB,SAAC,GAAgE,IAA9DC,EAA6D,EAA7DA,WAAYC,EAAiD,EAAjDA,eAAgBC,EAAiC,EAAjCA,WAAYC,EAAqB,EAArBA,eACzE,OACE,kBAAC,OAAD,KACE,kBAAC,QAAD,CAAMtxD,QAAQ,UAAUd,GAAI,EAAGmR,GAAI,GAAnC,qCAGA,kBAACkhD,GAAD,KACE,kBAAC,KAAD,CAAOn4B,GAAI,GACT,kBAAC,SAAD,eAEF,kBAACo4B,GAAD,KACE,kBAACC,GAAD,CACEzhD,YAAad,GAAGG,aAAaC,MAC7BjO,SAAU+vD,EAAezvD,aACzB3U,KAAK,QACLC,MAAOmkE,EAAenhD,OAAOX,MAC7BY,SAAUkhD,EAAejhD,eAE3B,kBAACmH,GAAD,KACE,kBAACpW,GAAD,CACElB,QAAQ,UACR2B,aAAcyvD,EAAezvD,aAC7BC,WAAYwvD,EAAezvD,aAC3BtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAASovD,EAAenvD,YAExB,kBAAC,SAAD,gBAKR,kBAAC,OAAD,CAAKH,EAAG,GACN,kBAAC,QAAD,CAAMA,EAAG,EAAG9B,QAAQ,YAClB,kBAAC,SAAD,0BAEDmxD,EAAWnjE,KAAI,SAACshB,EAAOra,GAAR,OACd,kBAAC,GAAD,CAAS8W,IAAG,UAAK9W,EAAL,YAAUqa,IACpB,kBAACoiD,GAAD,KAAYpiD,GASZ,kBAACpO,GAAD,CAAQlB,QAAQ,UAAUgC,QAAS,kBAAMqvD,EAAW/hD,KAClD,kBAAC,SAAD,wBAILgiD,EAAiB,kBAAC,GAAD,CAAUvvD,eAAgBuvD,IAAqB,KAAM,OAQzEI,GAAY/xD,GAAOQ,QAAPR,CAAH,MAED,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOmK,UAGpC6zD,GAAa9xD,GAAO01B,KAAP11B,CAAH,MAGH,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAGnCsyD,GAAUxwD,GAAO+X,GAAP/X,CAAH,MAyBP6xD,GAAqB7xD,GAAO8X,GAAP9X,CAAH,MAKlB4xD,GAAe5xD,GAAOoP,IAAV,MAEW,SAAA3O,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WE1H5Ck0D,GAAsB9+C,YAAa6yB,MAAM,CACpDp2B,MAAOuD,YAAa6e,QhVwFK,iBgVrFdkgC,GAAqD,WAAO,IAAD,EAChBlD,KAA9CmB,EAD8D,EAC9DA,SAAUT,EADoD,EACpDA,eAAgBQ,EADoC,EACpCA,gBAC3B0B,EAF+D,YAE7ClC,EAAezrD,QAF8B,MAGhEytD,EAAiBvtD,aAA6B,CAClDC,cAAe,CAAEwL,MAAO,IACxBsD,iBAAkB++C,GAClB5tD,SAAU,cAA+B,IAA5BuL,EAA2B,EAA3BA,MAAWwhD,EAAgB,EAAhBA,UACtB,OAAOxhD,EAAQugD,EAASvgD,GAAO/gB,MAAK,kBAAMuiE,YAAe12D,KAIvD+2D,EAAkC1tD,mBAAQ,kBAAM2rD,EAAe5qD,MAAMxW,KAAI,SAAAoB,GAAC,OAAIA,EAAEkgB,WAAQ,CAC5F8/C,IAGIhvD,EAAQqD,mBAAe,WAC3B,MAAO,CACL2tD,iBACAC,WAAYzB,EACZuB,aACAG,oBAED,CAACF,EAAgBxB,EAAiBuB,EAAYG,IACjD,OAAO,kBAAC,GAAYlxD,ICjBP0qD,GAdwB,WACrC,OACE,kBAAC,OAAD,KACE,kBAAC,QAAD,CAAM5rD,GAAI,EAAGmR,GAAI,EAAGrQ,QAAQ,WAC1B,kBAAC,SAAD,wBAGF,kBAAC,QAAD,CAAMA,QAAQ,WAAW8B,EAAG,GAC1B,kBAAC,SAAD,uCCVK+vD,GAAmC,WAC9C,OAAO,kBAAC,GAAD,OCsCIC,GAAgD,SAAA1xD,GAC3D,OACE,gBAAC,KAAD,CACE1Q,QAAS0Q,EAAM5N,QACfiyB,aAAcrkB,EAAM6M,QACpBiD,SAAU,SAAA6hD,GACR,IAAMC,EAAYC,MAAMC,QAAQH,GAAgBA,EAAa,GAAKA,EAC7DC,GAGL5xD,EAAM+xD,UAAUH,EAAU/kE,WAkDnBy9D,GA7CsB,SAAAtqD,GAAK,OACxC,gBAAC,OAAD,KACE,gBAACsX,GAAD,KACE,gBAACD,GAAD,KACE,6BACE,gBAAC,SAAD,yBAEF,gBAAC,GAAmBrX,GAYpB,gBAACmX,GAAD,CAAevP,GAAI,CAAE/I,OAAQ,uBAC3B,gBAACiC,GAAD,CACElB,QAAQ,UACR2B,aAAcvB,EAAMqP,OAAO9N,aAC3BC,WAAYxB,EAAMqP,OAAO9N,aACzBtR,KAAK,SACLge,MAAO,CAAE+K,WAAY,QACrBpX,QAAS5B,EAAMqP,OAAOxN,YAEtB,gBAAC,SAAD,mBC7EN2Q,GAAmBC,UAA4B,CACnDu/C,cAAev/C,YAAa6e,QAAQn+B,MAGzB8+D,GAAiC,WAAO,IAAD,MACd1jD,IAAMC,WAAW7B,IAA7CJ,EAD0C,EAC1CA,UAAWM,EAD+B,EAC/BA,QAAS/S,EADsB,EACtBA,IADsB,EAGpBmQ,KAAtBS,EAH0C,EAG1CA,GAAIQ,EAHsC,EAGtCA,cACNE,EAAO,OAAGV,QAAH,IAAGA,OAAH,EAAGA,EAAIvR,KACdkW,EAAS5L,aAA2B,CACxCqP,oBAAoB,EACpBpP,cAAe,CAAEsuD,eAAsB,OAAP5mD,QAAO,IAAPA,GAAA,UAAAA,EAAS/B,iBAAT,mBAAoBgnB,WAApB,eAAyBT,OAAQ,IACjEpd,oBACA7O,SAAU,YAAwB,IAArBquD,EAAoB,EAApBA,cACX,OAAO9mD,EAAc,CACnBE,QAAS,CACP/B,UAAW,CACTgnB,IAAK,CACHT,KAAMoiC,UAQZE,EAAiB7uD,mBACrB,kBACEkJ,EAAU3e,KAAI,SAAA4e,GAAM,MAAK,CACvB3f,MAAO2f,EAAOle,KACdymC,MAAOvoB,EAAOna,WAElB,CAACka,IAGG4lD,EAAgB9uD,mBACpB,kBAAM6uD,EAAezlE,MAAK,SAAAm3C,GAAM,OAAIA,EAAO/2C,QAAUggB,EAAQve,SAAS4jE,EAAe,KACrF,CAACrlD,EAAQve,KAAM4jE,IAGXH,EAAYnuD,uBAChB,SAACtV,GACC,IAAMke,EAASD,EAAU9f,MAAK,SAAA+f,GAAM,OAAIA,EAAOle,OAASA,KACxDke,GAAU1S,EAAI0S,KAEhB,CAACD,EAAWzS,IAEd,OACE,kBAAC,GAAD,CACEuV,OAAQA,EACRxC,QAASslD,EACT//D,QAAS8/D,EACTH,UAAWA,M,SL3CLlB,O,6BAAAA,I,qBAAAA,I,uBAAAA,I,iBAAAA,I,mCAAAA,I,sBAAAA,Q,KAaZ,IAAMuB,GAA+B,8BAC/BC,GAA2B,0BAC3BC,GAA4B,2BAC5BC,GAAyB,wBACzBC,GAAkC,6BAClCC,GAA2B,0BAEpBC,GAAiC,SAAC,GAAsB,EAApBnwC,SAAqB,IAAXsH,EAAU,EAAVA,IACnD8oC,EACJ9oC,IAAQgnC,GAAgBvG,YACpB8H,GACAvoC,IAAQgnC,GAAgBrG,QACxB6H,GACAxoC,IAAQgnC,GAAgBtG,SACxB+H,GACAzoC,IAAQgnC,GAAgBpG,MACxB8H,GACA1oC,IAAQgnC,GAAgB+B,eACxBJ,IACQ3B,GAAgBgC,QACxBJ,IAENlgD,GAAaogD,GAfsD,MAiBrC1oD,KAAtBS,EAjB2D,EAiB3DA,GAAIQ,EAjBuD,EAiBvDA,cACNE,EAAO,OAAGV,QAAH,IAAGA,OAAH,EAAGA,EAAIvR,KAEduK,EAAgBL,mBACpB,yBAAO,CACLiD,MAAa,OAAP8E,QAAO,IAAPA,GAAA,UAAAA,EAAS9E,YAAT,eAAeP,WAAO/L,EAC5BmR,OAAc,OAAPC,QAAO,IAAPA,GAAA,UAAAA,EAASD,aAAT,eAAgBpF,WAAO/L,EAC9Bk0B,UAAiB,OAAP9iB,QAAO,IAAPA,OAAA,EAAAA,EAAS8iB,WAAY,GAC/BthC,MAAa,OAAPwe,QAAO,IAAPA,OAAA,EAAAA,EAASxe,OAAQ,GACvB4uD,SAAgB,OAAPpwC,QAAO,IAAPA,OAAA,EAAAA,EAASowC,UAAW,GAC7Bh1C,SAAgB,OAAP4E,QAAO,IAAPA,OAAA,EAAAA,EAAS5E,UAAW,MAE/B,CAAC4E,IAGG0nD,EAAsBrvD,aAAuB,CACjDC,gBACAoP,oBAAoB,EACpBnP,SAAU,gBAAG2C,EAAH,EAAGA,KAAM6E,EAAT,EAASA,MAAUC,EAAnB,wCAAiCF,EAAc,CAAEE,UAAS9E,OAAM6E,aAEtEw/C,EAAgDtnD,mBACpD,iBAAO,CACL0nD,YAAagI,GAAiBnpC,QAAQ,CAAEC,IAAK,oBAAiB7vB,GAC9Ds2B,SAAUyiC,GAAiBnpC,QAAQ,CAAEC,IAAK,iBAAc7vB,GACxDgxD,QAAS+H,GAAiBnpC,QAAQ,CAAEC,IAAK,gBAAa7vB,GACtDixD,MAAO8H,GAAiBnpC,QAAQ,CAAEC,IAAK,cAAW7vB,GAClDkxD,KAAM6H,GAAiBnpC,QAAQ,CAAEC,IAAK,aAAU7vB,GAChDmxD,QAAS4H,GAAiBnpC,QAAQ,CAAEC,SAAK7vB,QAAaA,MAExD,IAEIg5D,EAAoB3vD,mBAAgC,WAYxD,MAX+B,CAC7BsnD,eACAlkD,iBAAwB,OAAP2E,QAAO,IAAPA,OAAA,EAAAA,EAAS3E,kBAAmB,GAC7CmE,WAAU,OAACF,QAAD,IAACA,OAAD,EAACA,EAAIG,iBACfwE,OAAQyjD,EACRxI,YAAa,kBAAC,GAAD,MACbC,SAAU,kBAAC,GAAD,MACVC,QAAS,kBAAC,GAAD,MACTC,MAAO,kBAAC,GAAD,MACPC,cAAe,kBAAC,GAAD,SAGhB,CAAChgD,EAAIU,EAASu/C,EAAcmI,IAE/B,OAAOE,GAAqB,kBAAC,GAAmBA,I,y1GM/E3C,IAAMC,GAAkC,SAAC,GAUzC,IATLlkB,EASI,EATJA,WACAC,EAQI,EARJA,UACAv1B,EAOI,EAPJA,UACApa,EAMI,EANJA,SACA8uC,EAKI,EALJA,UACAxzB,EAII,EAJJA,SACA9I,EAGI,EAHJA,SACAjlB,EAEI,EAFJA,KACAwhD,EACI,EADJA,QACI,EACoB7/B,IAAMxB,UAAS,GADnC,mBACGmgC,EADH,KACSc,EADT,KAEE30B,EAAU5O,eAEhB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAM7I,QAAS,kBAAMyX,EAAQ+1B,WAC3B,kBAAC,KAAD,CAAah5C,KAAK,QAEnBqjB,GAEH,kBAAC,GAAD,KAASu1B,GACT,kBAAC,GAAD,KACE,kBAACkkB,GAAD,KAAkB7zD,IAEpB,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAQ6tC,KAAMA,EAAMc,QAASA,IAC7B,kBAAC,GAAD,CACEn8B,SAAUA,EACVjlB,KAAMA,EACNuhD,UAAWA,EACXC,QAASA,EACTlB,KAAMA,EACNc,QAASA,EACTE,KAAMa,KAGV,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAS5oC,GAAG,KACV,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAOe,IAAKlV,QAIlB,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,KAAD,CAASmU,GAAIwU,GACX,kBAAC,GAAD,CAAQzT,IAAKinC,EAAW/3C,KAAK,YASrCwY,GAAOrP,GAAOe,OAAPf,CAAH,MASJ4vC,GAAO5vC,GAAOe,OAAPf,CAAH,MAUQ,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOgK,WAE9B,SAAA2C,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOE,WAI9B,SAAAyM,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOoK,cAKpC8xC,GAAUhwC,GAAOe,OAAPf,CAAH,MAWPE,GAASF,GAAOe,OAAPf,CAAH,KACRY,IAAMC,SAAS,SAAfD,CADQ,OAMN+uC,GAAY3vC,GAAOe,OAAPf,CAAH,MAID,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cACzB,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,UAU7B,SAAAmC,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwJ,MAW1CsD,IAAMqvC,YAAY,SAAlBrvC,CA1Ba,OA+BTmvC,GAAc/vC,GAAOe,OAAPf,CAAH,KAIbY,IAAMC,SAAS,SAAfD,CAJa,OAaXkvC,GAAS9vC,GAAOe,OAAPf,CAAH,MAMI,SAAAS,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cAE5B,SAAAkD,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOwK,SAExCsC,IAAMqvC,YAAY,SAAlBrvC,CAVQ,OAgBN8uC,GAAO1vC,GAAOe,OAAPf,CAAH,KAGNY,IAAMqvC,YAAY,QAAlBrvC,CAHM,MAONA,IAAMC,SAAS,SAAfD,CAPM,OAYJ2B,GAAUvC,GAAOe,OAAPf,CAAH,KAKTY,IAAMqvC,YAAY,SAAlBrvC,CALS,MASTA,IAAMC,SAAS,SAAfD,CATS,MAkBTA,IAAMC,SAAS,QAAfD,CAlBS,OA2BP+yD,GAAkB3zD,GAAOe,OAAPf,CAAH,MCxNR4zD,GAAqD,SAAC,GAAkB,IAAhB9zD,EAAe,EAAfA,SAAe,EAC3D4K,KAAfS,EAD0E,EAC1EA,GAAII,EADsE,EACtEA,OACNsoD,EAAsB/vD,mBAAsB,WAAO,IAAD,EAChDlK,EAAI,OAAGuR,QAAH,IAAGA,OAAH,EAAGA,EAAIvR,KACjB,IAAKA,EACH,OAAO,KAET,IAAMg1C,GAAY,UAAAh1C,EAAKmN,YAAL,eAAWP,MAAO,GAC9B4U,EAAQ,gBAAYxhB,EAAK3K,IAW/B,MAVqB,CACnBugD,WAAY,kBAAC,GAAD,MACZC,UAAW,kBAAC,GAAD,MACXv1B,UAAW,kBAAC,GAAD,MACX00B,YACAxzB,WACAyzB,QAAStjC,EACT+G,SAAU1Y,EAAKsN,iBAAmB,GAClC7Z,KAAMuM,EAAKwb,mBAAqB,MAGjC,CAAC7J,EAAQJ,IAEZ,OAAO0oD,EACL,kBAAC,GAAmBA,EAAsB/zD,GAE1C,kBAAC,GAAD,KAAgBA,ICkBPg0D,GAAgC,CAC3C36B,OAAO,EACP9jC,KAAM,2DACN+rC,UA5CsE,SAAC,GAAe,IAChFC,EAD+E,EAAZC,MAC/C7P,OAAOnH,IAC3BA,EACY,gBAAhB+W,EACIiwB,GAAgBvG,YACA,SAAhB1pB,EACAiwB,GAAgB+B,eACA,YAAhBhyB,EACAiwB,GAAgBrG,QACA,aAAhB5pB,EACAiwB,GAAgBtG,SACA,UAAhB3pB,EACAiwB,GAAgBpG,MACf7pB,EAED,KADAiwB,GAAgBgC,QAGhB7yD,EAAQqD,mBACZ,kBACU,OAARwmB,EACI,KACA,CACEA,MACAtH,SAAS,eAEjB,CAACsH,IAGH,OAAK7pB,EAKH,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAiBA,KANf,kBAAC,GAAD,QAsBE+yD,GAAmBnzB,GAAkCyzB,I,y3CC9ClE,IAAIvkD,GAAK,CACPC,MAAOC,oBAAS,WAChBC,aAAc,CACZC,MAAOF,oBAAS,yBAChB2F,kBAAmB3F,oBAAS,mBAC5BpiB,KAAMoiB,oBAAS,oBACfG,SAAUH,oBAAS,wBACnBq0C,gBAAiBr0C,oBAAS,2BAoLfskD,GAjK4B,SAAC,GAAqD,IAAnDjkD,EAAkD,EAAlDA,OAAQkkD,EAA0C,EAA1CA,mBAAoBC,EAAsB,EAAtBA,gBACxE,OACE,gBAAC,GAAD,MACInkD,EAAO9N,cAAgB8N,EAAOo4C,aAAe8L,GAAsBC,EACnE,gBAAC,OAAD,CAAKvjD,GAAI,GACP,gBAACrB,GAAD,MACA,gBAAC,GAAD,KACE,gBAAC,OAAD,KACE,gBAAC,QAAD,CAAMhP,QAAQ,YACZ,gBAAC,SAAD,gBADF,IACyB,yBAAI2zD,IAE7B,gBAAC,QAAD,CAAMtjD,GAAI,EAAGrQ,QAAQ,QACnB,gBAAC,SAAD,0CACA,yBAAI,IAAM4zD,EAAkB,KAC5B,gBAAC,SAAD,wFAKJ,gBAAC,GAAD,KACE,gBAAC,KAAD,CAAMrtD,GAAI,KACR,gBAACrF,GAAD,CAAQmP,GAAI,EAAGrQ,QAAQ,WACrB,gBAAC,SAAD,qBAQV,gBAAC,GAAD,KACE,gBAACgP,GAAD,MACA,gBAAC,GAAD,KACE,gBAAC6kD,GAAD,CAAO/xD,EAAG,GACR,gBAAC,OAAD,CAAKyd,GAAI,GACP,gBAAC,KAAD,CAAa/oB,KAAK,KAAK4H,MAAM,WAE/B,gBAAC,QAAD,CAAM4B,QAAQ,YAAY9N,MAG9B,gBAAC,QAAD,CAAMme,GAAI,GACR,gBAAC,GAAD,CAAatM,SAAU0L,EAAOM,cAC5B,gBAAC,OAAD,KACE,6BACE,gBAAC,SAAD,eAEF,gBAAC,KAAD,CACEC,YAAad,GAAGG,aAAaC,MAC7BtiB,KAAK,QACLC,MAAOwiB,EAAOQ,OAAOX,MACrBY,SAAUT,EAAOU,eAElBV,EAAOvgB,OAAOogB,OACb,gBAAC2H,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOogB,SAI/C,gBAAC,OAAD,CAAKe,GAAI,GACP,6BACE,gBAAC,SAAD,mBAEF,gBAAC,KAAD,CACEL,YAAad,GAAGG,aAAariB,KAC7BA,KAAK,OACLC,MAAOwiB,EAAOQ,OAAOjjB,KACrBkjB,SAAUT,EAAOU,eAElBV,EAAOvgB,OAAOlC,MACb,gBAACiqB,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOlC,QAI/C,gBAAC,OAAD,CAAKqjB,GAAI,GACP,6BACE,gBAAC,SAAD,4BAEF,gBAAC,KAAD,CACEL,YAAad,GAAGG,aAAa0F,kBAC7B/nB,KAAK,WACLC,MAAOwiB,EAAOQ,OAAOgC,SACrB/B,SAAUT,EAAOU,eAElBV,EAAOvgB,OAAO+iB,UACb,gBAACgF,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAO+iB,YAI/C,gBAAC,OAAD,CAAK5B,GAAI,GACP,6BACE,gBAAC,SAAD,kBAEF,gBAAC,KAAD,CACEL,YAAad,GAAGG,aAAaE,SAC7BviB,KAAK,WACLqD,KAAK,WACLpD,MAAOwiB,EAAOQ,OAAOV,SACrBW,SAAUT,EAAOU,eAElBV,EAAOvgB,OAAOqgB,UACb,gBAAC0H,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOqgB,YAI/C,gBAAC,OAAD,CAAKc,GAAI,GACP,6BACE,gBAAC,SAAD,0BAEF,gBAAC,KAAD,CACEL,YAAad,GAAGG,aAAao0C,gBAC7Bz2D,KAAK,kBACLqD,KAAK,WACLpD,MAAOwiB,EAAOQ,OAAOwzC,gBACrBvzC,SAAUT,EAAOU,eAElBV,EAAOvgB,OAAOu0D,iBACb,gBAACxsC,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAOu0D,mBAI/C,gBAAC,OAAD,CAAKpzC,GAAI,EAAGK,GAAI,GACd,gBAAC,KAAD,CAAOwa,WAAW,UAChB,gBAAC,KAAD,CACEl+B,KAAK,QACL4B,GAAG,WACH3B,MAAOwiB,EAAOQ,OAAO6jD,MACrB5jD,SAAUT,EAAOU,eAEnB,gBAAC,QAAD,CAAMoP,GAAI,GAAV,8BACA,gBAAC,KAAD,CAAShZ,GAAG,SAASF,OAAO,UAA5B,yBAIDoJ,EAAOvgB,OAAO4kE,OACb,gBAAC78C,GAAD,KACE,gBAAC,GAAD,CAAOjX,QAAQ,YAAYyP,EAAOvgB,OAAO4kE,SAI/C,gBAAC,OAAD,CAAKzjD,GAAI,GACP,gBAACnP,GAAD,CACElB,QAAQ,UACR2B,aAAc8N,EAAO9N,aACrBC,WAAY6N,EAAO9N,aACnBtR,KAAK,UAGL,gBAAC,SAAD,uBAYZogB,GAAS9Q,GAAOe,OAAPf,CAAH,MAKNuC,GAAUvC,GAAOoP,IAAV,MASPY,GAAehQ,GAAOe,OAAPf,CAAH,KACdY,IAAMC,SAAS,SAAfD,CADc,OAQZmP,GAAY/P,GAAOoP,IAAV,MAMTlP,GAASF,GAAOoP,IAAV,MAKNa,GAAcjQ,GAAOlJ,KAAV,MAUD,SAAA2J,GAAK,OAAIA,EAAMrD,MAAMtJ,OAAOyJ,cA4CtC22D,GAAQl0D,GAAOO,QAAPP,CAAH,MACK,SAAAS,GAAK,OAAKA,EAAM2zD,MAAQ,UAAY3zD,EAAMrD,MAAMtJ,OAAO0J,aC5RjE2G,GAAkC,CACtC9W,KAAM,GACNsiB,MAAO,GACPC,SAAU,GACV0C,SAAU,GACVwxC,gBAAiB,GACjBqQ,OAAO,GAGHE,GAAkB,eAEXC,GAAmC,WAC9CthD,GAAaqhD,IADuC,MAEAljD,KAA5Cc,EAF4C,EAE5CA,OAAQL,EAFoC,EAEpCA,aAAcS,EAFsB,EAEtBA,kBACxBY,EAAuDC,UAA6B,CACxFZ,SAAUY,YACPyG,IAAI,GACJxG,IAAI,IACJ4e,QAAQp+B,IACRyf,WACAtX,KACC,oBACA,2BACA,SAAAwW,GAAQ,OAAIA,GAAYD,EAAkBC,MAE9C3C,MAAOuD,YACJC,IAAI,IACJC,WACH/lB,KAAM6lB,YACHC,IAAI,IACJC,WACHxD,SAAUsD,YACPyG,IAAI,GACJxG,IAAI,IACJC,WACH0wC,gBAAiB5wC,YACd8wC,MAAM,CAAC9wC,OAAQ,YAAa,MAAO,wBACnCE,WACH+gD,MAAOjhD,aAAc8wC,MAAM,EAAC,GAAO,sCAG/Bl0C,EAAS5L,aAA4B,CACzCC,iBACAoP,oBAAoB,EACpBsiB,kBAAkB,EAClBD,gBAAgB,EAChB3iB,mBACA7O,SAAU,SAAAmwD,GAAQ,OAChBtiD,EAAO,CACLtC,MAAO4kD,EAAS5kD,MAChBtiB,KAAMknE,EAASlnE,KACfuiB,SAAU2kD,EAAS3kD,SACnBwF,kBAAmBm/C,EAASjiD,SAC5BkiD,kBAAkB,EAClBC,oBAAoB,OAIpBh0D,EAAQqD,mBACZ,0BACE8N,EAAa8iD,SAAb,UAAuB9iD,EAAajhB,YAApC,iBAAuB,EAAmBwhB,kBAA1C,aAAuB,EAA+BvY,KAAKvM,MACvD,CACEyiB,SACAkkD,mBAAoBpiD,EAAajhB,KAAKwhB,WAAWvY,KAAKvM,KACtD4mE,gBAAiBriD,EAAajhB,KAAKwhB,WAAWxC,OAEhD,CACEG,YAER,CAAC8B,EAAc9B,IAGjB,OAAO,kBAAC,GAAerP,ICjEZk0D,GAA8B,CACzCx7B,OAAO,EACP9jC,KAAM,UACN+rC,UAbkE,SAAC,GAE/D,EADJE,MAEA,OACE,kBAAC,GAAD,CAAe6f,eAAa,GAC1B,kBAAC,GAAD,SCGAyT,GAA0B,kBAEnBC,GAAuC,SAAAp0D,GAGlD,GAFAuS,GAAa4hD,IAETn0D,EAAMq0D,UACR,OACE,6BACE,2CAGE,IAAD,EAC6Br0D,EAAMgxB,OAAhCJ,EADH,EACGA,OAAQhB,EADX,EACWA,KAAMiB,EADjB,EACiBA,QACtB,OACE,6BACE,yDACA,qCAAWjB,GACVgB,GAAU,uCAAaA,GACvBC,GAAW,wCAAcA,KCArByjC,GAAmC,CAC9C57B,OAAO,EACP9jC,KAAM,qBACN+rC,UA1B4E,SAAC,GAAc,EAAZE,MAAa,IAAD,EACvD5Q,KAA5BC,EADmF,EACnFA,eAAgBvlB,EADmE,EACnEA,QAClB4pD,EAAY/vC,iB3MLkC,WACpD,IAAMgwC,EAAI,IAAIt0B,gBAAgBwT,OAAOxlB,SAASwqB,QACxC9oB,EAAO4kC,EAAEx8D,IAAI,QACnB,OAAK43B,EAKE,CACLA,OACAgB,OAJa4jC,EAAEx8D,IAAI,gBAAa,EAKhC64B,QAJc2jC,EAAEx8D,IAAI,iBAAc,GAH3B,K2MCgBy8D,IACnBr7C,EAAOoL,kBAAO,GAHuE,EAIjEzX,qBAJiE,mBAIpF/M,EAJoF,KAI7E00D,EAJ6E,KAgB3F,OAXAvnD,qBAAU,WAAO,IACE6jB,EAAWujC,EAApB1nD,QACJuM,EAAKvM,SAAWlC,IAERqmB,EAGVd,EAAec,GAAQ7iC,MAAK,kBAAMumE,EAAS,CAAE1jC,cAF7C0jC,EAAS,CAAEL,WAAW,IAIxBj7C,EAAKvM,SAAU,KACd,CAACqjB,EAAgBvlB,IAElB,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAsB3K,GAAS,kBAAC,GAAoBA,O,0qBCN1D,IAkDe20D,GAlDiC,SAAC,GAU1C,IATLC,EASI,EATJA,sBACAC,EAQI,EARJA,wBACAC,EAOI,EAPJA,yBACAC,EAMI,EANJA,iBACAC,EAKI,EALJA,sBACAC,EAII,EAJJA,sBACAC,EAGI,EAHJA,wBACAC,EAEI,EAFJA,mBACAC,EACI,EADJA,oBAEA,OACE,gBAAC,GAAD,KACE,gBAAC,GAAD,KACE,gBAACxmD,GAAD,MACA,gBAAC,QAAD,CAAMqB,GAAI,GACR,gBAAC,GAAD,KACE,gBAAC,GAAD,CAAO0jD,OAAK,EAACrjD,GAAI,EAAGL,GAAI,EAAGvO,EAAG,GAC5B,gBAAC,OAAD,CAAKyd,GAAI,GACP,gBAAC,WAAD,CAAK/oB,KAAK,KAAK4H,MAAM,WAEvB,gBAAC,QAAD,CAAM4B,QAAQ,YACX,IADH,wGAMF,gBAACS,GAAD,CAAOO,UAAU,SACf,gBAAC,OAAD,CAAKc,EAAG,GACN,gBAAC,KAAD,KAAWqzD,GAAoBH,IAEjC,gBAAC,OAAD,CAAKlzD,EAAG,GACLszD,EACC,gBAAC,KAAD,KAAWC,GAAyBC,GAClC,MAEN,gBAAC,OAAD,CAAKxzD,EAAG,GACN,gBAAC,KAAD,KAAWyzD,GAAsBN,IAEnC,gBAAC,OAAD,CAAKnzD,EAAG,GACN,gBAAC,KAAD,KAAW0zD,GAAuBN,UAY5CvlD,GAAehQ,GAAOe,OAAPf,CAAH,KACdY,IAAMC,SAAS,SAAfD,CADc,OAQZmP,GAAY/P,GAAOoP,IAAV,MAKT8B,GAAQlR,GAAOe,OAAPf,CAAH,MAoCLk0D,GAAQl0D,GAAOO,QAAPP,CAAH,MACK,SAAAS,GAAK,OAAKA,EAAM2zD,MAAQ,UAAY3zD,EAAMrD,MAAMtJ,OAAOE,W,UCpHjE8hE,GAA8B,4BAEvBC,GAAgC,WAC3C/iD,GAAa8iD,IADoC,IAEzC5oD,EAAS8B,IAAMC,WAAW7B,IAA1BF,KACF8oD,EAAmB,CAAErlE,KAAMuc,EAAKzd,EAAEiD,KAClCujE,EAAqB,CAAEtlE,KAAMuc,EAAKzd,EAAEmD,KACpCsjE,EAAqB,CAAEvlE,KAAMuc,EAAKzd,EAAEiD,KACpCyjE,EAAsB,CAAExlE,KAAMuc,EAAKzd,EAAEiD,KANM,EAQT0jE,aAASzjE,GAAiC,CAChF0jE,UAAU,EACVC,QAAQ,IAVuC,mBAQ1CC,EAR0C,KAQ7BC,EAR6B,OAaLJ,aAASzjE,GAAmC,CACtF0jE,UAAU,EACVC,QAAQ,IAfuC,mBAa1CG,EAb0C,KAa3BC,EAb2B,OAiBHN,aAASzjE,GAAoC,CACzF0jE,UAAU,EACVC,QAAQ,IAnBuC,mBAiB1CK,EAjB0C,KAiB1BC,EAjB0B,OAqBCR,aAASxjE,GAA4B,CACrFyjE,UAAU,IAtBqC,mBAqB1CQ,EArB0C,KAqBxBC,EArBwB,KAwBjDlpD,qBACE,WACMjb,KACF6jE,IACAE,IACAE,KAEEhkE,IACFkkE,MAIJ,IAGF,IAAMr2D,EAAQqD,mBACZ,iBAAO,CACL2xD,sBAAuB7iE,GACvB4iE,iBAAkBe,EAAY5lE,KAC9B0kE,sBAAuBW,EAAiBrlE,KACxC+kE,sBAAuBmB,EAAiBlmE,KACxCglE,wBAAyBM,EAAmBtlE,KAC5CilE,mBAAoBa,EAAc9lE,KAClC2kE,wBAAyBY,EAAmBvlE,KAC5CklE,oBAAqBc,EAAehmE,KACpC4kE,yBAA0BY,EAAoBxlE,QAEhD,CACEkmE,EAAiBlmE,KACjB8lE,EAAc9lE,KACdulE,EAAmBvlE,KACnBgmE,EAAehmE,KACfwlE,EAAoBxlE,KACpBslE,EAAmBtlE,KACnB4lE,EAAY5lE,KACZqlE,EAAiBrlE,OAIrB,OAAO,kBAAC,GAA2B8P,IC1DxBs2D,GAA0C,CACrD59B,OAAO,EACP9jC,KAAM,SACN+rC,UAX0F,WAC1F,OACE,kBAAC,GAAD,CAAe+f,eAAa,GAC1B,kBAAC,GAAD,SCeO6V,GAAmB,WAC9B,OACE,kBAAC,KAAD,KACE,kBAAC,KAAU9a,IACX,kBAAC,KAAUmE,IACX,kBAAC,KAAUjQ,IACX,kBAAC,KAAU0jB,IACX,kBAAC,KAAUjR,IACX,kBAAC,KAAUU,IACX,kBAAC,KAAUtG,IACX,kBAAC,KAAU2J,IACX,kBAAC,KAAUI,IACX,kBAAC,KAAU7lB,IACX,kBAAC,KAAU2pB,IACX,kBAAC,KAAU3G,IACX,kBAAC,KAAUgE,IACX,kBAAC,KAAU/G,IACX,kBAAC,KAAUuT,IACX,kBAAC,KAAU9Q,IACX,kBAAC,KAAUkT,IACX,kBAAC,KAAUhC,IACX,kBAAC,KAAU3yB,IACX,kBAAC,KAAUulB,IACX,kBAAC,KAAD,CAAOvmB,UAAW1G,O,sJCzCjB,IAAMu8B,GAAuB,WAAO,IAAD,EAChBjoD,YAAe,GADC,mBACjCkoD,EADiC,KAC3BC,EAD2B,KAExC,OAAOD,EACL,gBAACE,GAAD,KACE,gBAAC,GAAD,CAAO/2D,QAAQ,WACb,uBAAKqO,MAAO,CAAE6M,UAAW,WAAzB,iHAE4B,IAC1B,qBACEhV,KAAK,kDACLG,OAAO,SACPD,IAAI,uBAHN,kBAOA,wBACEiI,MAAO,CACLjP,OAAQ,UACR0pB,SAAU,WACVkuC,IAAK,OACLC,MAAO,QAETj1D,QAAS,kBAAM80D,GAAQ,KAEvB,gBAAC,WAAD,CAAGtgE,KAAM,SAKf,MAGAugE,GAAYp3D,GAAOe,KAAPf,CAAH,MCtBAu3D,GAXc,WAC3B,OACE,gBAAC,GAAD,KACE,gCACE,gBAAC,GAAD,MACA,gBAAC,GAAD,S,oDCHFC,GAAY,SAACC,GAAD,iBAA0BC,KAAGrgE,UAAUogE,KAMnDE,GACJrkE,IACAA,GAAgBC,OAChBD,GAAgBE,QAChBokE,KAActkE,GAAgBC,MAAOD,GAAgBE,QAE1CqkE,GAAkC,SAAC,GAAkB,IARxC1e,EAQwBr5C,EAAe,EAAfA,SACxCmL,EAASC,eAATD,KACF0jB,EAAWkrB,eACXie,EAAU9oD,IAAMiW,SAChB8yC,EAAY/oD,IAAMiW,OAAO+yC,GAAiBrpC,EAASmrB,WAJM,EAKzB9qC,IAAMxB,UAbpB2rC,EAa8CxqB,EAASwqB,OAbpCue,KAAGrrD,MAAM8sC,EAAOzB,MAAM,MAQF,mBAKxD+f,EALwD,KAK3CQ,EAL2C,KAM/DjpD,IAAMpB,WAAU,WAWd,IAAMsqD,EAAWtU,YAAW,WACtBmU,EAAUzqD,UAAY0qD,GAAiBrpC,EAASmrB,WAClDge,EAAQxqD,aAAU7S,EAClBs9D,EAAUzqD,SAAU,EACpB2qD,EAAeE,KACNV,EAAYzqE,OACrB8qE,EAAQxqD,QACNwqD,EAAQxqD,UAAY0qD,GAAiBrpC,EAASmrB,eAAYr/C,EAAYk0B,GACxEopC,EAAUzqD,SAAU,EACpBrC,EApCiB,SAACwsD,GAAD,wBAAiCD,GAAUC,IAoCvDW,CAAiBX,KACbO,GAAiBrpC,EAASmrB,YAC/Bge,EAAQxqD,QACVrC,EAAK6sD,EAAQxqD,SAEbrC,EAAK,KAEP6sD,EAAQxqD,aAAU7S,KAxCJ,KA2ClB,OAAO,WACL49D,aAAaH,MAGd,CAACT,EAAa9oC,EAASmrB,SAAUnrB,EAAS2pC,KAAM3pC,EAASwqB,OAAQluC,IACpE,IAAMstD,EAAuBvpD,IAAM3K,aACjC,SAAAm0D,GAAmB,IAAD,MAGd,UAAWA,KAEI,OAAdA,QAAc,IAAdA,OAAA,EAAAA,EAAgBxrE,SAAhB,OAAyByqE,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAazqE,SAEvB,OAAdwrE,QAAc,IAAdA,GAAA,UAAAA,EAAgBC,sBAAhB,eAAgCnP,cAAhC,OAA8CmO,QAA9C,IAA8CA,GAA9C,UAA8CA,EAAagB,sBAA3D,aAA8C,EAA6BnP,cAE7D,OAAdkP,QAAc,IAAdA,OAAA,EAAAA,EAAgB30D,QAAhB,OAAwB4zD,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAa5zD,OAEvCo0D,EAAeO,KAGnB,CAACf,IAEH,OAAOE,IAAgBrkE,GACrB,kBAAColE,GAAA,EAAD,CACEjB,YAAaA,EACbkB,oBAAqBJ,EACrBZ,aAAcA,GACdiB,SAAS,EACTnlE,UAAWH,GAAgBG,WAAa,GACxC+jE,UAAWA,IAEV13D,GAGH,oCAAGA,IAGDk4D,GAAmB,SAACa,GAAD,MAAmD,aAArBA,GACjDV,GAAc,CAAEnrE,MAAO,ICpFhB8rE,GAAmC,SAAC,GAAkB,IAAhBh5D,EAAe,EAAfA,SACjD,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,KAAD,KACE,kBAAC,GAAD,KAAwBA,OCF5Bi5D,GAAcz8D,QACW,cAA7B63C,OAAOxlB,SAAS67B,UAEe,UAA7BrW,OAAOxlB,SAAS67B,UAEhBrW,OAAOxlB,SAAS67B,SAASlpB,MACvB,2DAIS,SAAS03B,KACtB,GAAe,kBAAmBC,UAAW,CAG3C,GADkB,IAAIjjD,IrWtBAhkB,GqWsBgBmiD,OAAOxlB,UAC/BuqC,SAAW/kB,OAAOxlB,SAASuqC,OAIvC,OAGF/kB,OAAOglB,iBAAiB,QAAQ,WAC9B,IAAMC,EAAK,UrW/BSpnE,GqW+BT,sBAEP+mE,KAiDV,SAAiCK,GAE/BtjE,MAAMsjE,GACHxqE,MAAK,SAAAgJ,GAGkB,MAApBA,EAAS6nB,SACuD,IAAhE7nB,EAAS1B,QAAQuC,IAAI,gBAAgBwe,QAAQ,cAG7CgiD,UAAUI,cAAc/0D,MAAM1V,MAAK,SAAAsjB,GACjCA,EAAaonD,aAAa1qE,MAAK,WAC7BulD,OAAOxlB,SAAS4qC,eAKpBC,GAAgBJ,MAGnBnhE,OAAM,WACLsD,QAAQ2jB,IACN,oEArEAu6C,CAAwBL,GAIxBH,UAAUI,cAAc/0D,MAAM1V,MAAK,WACjC2M,QAAQ2jB,IACN,gHAMJs6C,GAAgBJ,OAMxB,SAASI,GAAgBJ,GACvBH,UAAUI,cACPL,SAASI,GACTxqE,MAAK,SAAAsjB,GACJA,EAAawnD,cAAgB,WAC3B,IAAMC,EAAmBznD,EAAa0nD,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfb,UAAUI,cAAc1hE,WAK1B4D,QAAQ2jB,IAAI,6CAKZ3jB,QAAQ2jB,IAAI,4CAMrBjnB,OAAM,SAAAC,GACLqD,QAAQrD,MAAM,4CAA6CA,M,qhEC1DjE,kCAAAG,EAAA,6DACQ0hE,EAASC,4BADjB,KAQyBjmE,GAAgBC,QAQhBD,GAAgBC,QAiBnBF,GAGFA,GAGIA,GAQEA,GAUEA,GAKlB8M,IAAMC,SAAS,QAAfD,CA9DV,OA+EQq5D,EAAqBnuD,GAA4B,SA/EzD,SAiF6BouD,GAAgB,CACzC5hE,aAAc2hE,EAAmB,WACjC1hE,SAAU,CAACpI,KAnFf,OAiFQgqE,EAjFR,OAsFQC,EAAY,kBAChB,gBAAC,IAAD,CAAgBv9D,OAAQs9D,EAAat9D,QACnC,gBAAC,GAAD,KACE,gBAACk9D,EAAD,MACA,gBAAC,IAAD,CAAgBxzB,iBAAe,EAACH,WAAYC,IAAOC,UAAW,IAAM+zB,aAAW,IAC/E,gBAAC,GAAD,SAKNjiD,IAASkiD,OAAO,gBAACF,EAAD,MAAe7rD,SAASgsD,eAAe,SAEvDC,KAlGF,4C,sBALEC,IAAY,CACVC,IAAKC,K,oCAGTC,K","file":"static/js/main.02c1901b.chunk.js","sourcesContent":["export * from './operation';\nexport * from './types.d';\n","import { ApolloLink, FetchResult, Operation } from 'apollo-link';\nimport {\n  OperationDefinitionNode,\n  OperationTypeNode,\n  FieldNode,\n  DocumentNode\n} from 'graphql';\nimport {\n  OperationDef,\n  OpRequestHandler,\n  Result,\n  VarsOperation,\n  Name\n} from './types';\n\nexport function isOp<D extends OperationDef>(\n  operationName: Name<D>,\n  operation: Operation\n): operation is VarsOperation<D> {\n  return operation.operationName === operationName;\n}\n\nexport class ApolloLinkOp<D extends OperationDef> extends ApolloLink {\n  constructor(operationName: Name<D>, reqHandl: OpRequestHandler<D>) {\n    super((operation, nextLink) => {\n      if (isOp<D>(operationName, operation)) {\n        return reqHandl(operation, nextLink);\n      } else {\n        return nextLink(operation);\n      }\n    });\n  }\n}\n\nexport const apolloLinkOp = <D extends OperationDef>(\n  operationName: Name<D>,\n  reqHandl: OpRequestHandler<D>\n) => new ApolloLinkOp<D>(operationName, reqHandl);\n\nexport type OpFetchResult<D extends OperationDef> = FetchResult<Result<D>>;\nexport type OpResultWatcher<D extends OperationDef> = (\n  result: OpFetchResult<D>\n) => OpFetchResult<D> | undefined | void;\nexport const apolloLinkOpResult = <D extends OperationDef>(\n  operationName: Name<D>,\n  watcher: OpResultWatcher<D>\n) =>\n  apolloLinkOp<D>(operationName, (op, next) =>\n    next(op).map(resp => {\n      const watcherResp = watcher(resp);\n      return typeof watcherResp === 'undefined' ? resp : watcherResp;\n    })\n  );\n\nexport const getOpType = (op: Operation) => {\n  const maybeOpDefNode = op.query.definitions.find<OperationDefinitionNode>(\n    (def): def is OperationDefinitionNode =>\n      def.kind === 'OperationDefinition' &&\n      !!def.name &&\n      def.name.value === op.operationName\n  );\n\n  return maybeOpDefNode && maybeOpDefNode.operation;\n};\n\nexport const getOperationNameAndType = <OperationName extends string = string>(\n  query: DocumentNode\n): [OperationName, OperationTypeNode] | [] => {\n  const opDefNodes = query.definitions.filter(\n    (def): def is OperationDefinitionNode => def.kind === 'OperationDefinition'\n  );\n\n  const maybeOperationNameAndType = opDefNodes.reduce<\n    [OperationName, OperationTypeNode] | null\n  >((found, opDefNode) => {\n    if (!found) {\n      const maybeFieldNode =\n        opDefNode.selectionSet.selections.find(\n          (selNode): selNode is FieldNode => selNode.kind === 'Field'\n        ) || null;\n      const opType = opDefNode.operation;\n      found =\n        maybeFieldNode &&\n        ([maybeFieldNode.name.value, opType] as [\n          OperationName,\n          OperationTypeNode\n        ]);\n    }\n    return found;\n  }, null);\n\n  return maybeOperationNameAndType || [];\n};\n","module.exports = __webpack_public_path__ + \"static/media/collectionPlaceholder.43589a77.png\";","var map = {\n\t\"./en_GB/messages.po\": [\n\t\t886,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 573;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./en_GB/messages.js\": [\n\t\t887,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 574;\nmodule.exports = webpackAsyncContext;","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/by.04d377d9.png\";","module.exports = __webpack_public_path__ + \"static/media/by-sa.331e6b36.png\";","import { ExecutionResult, GraphQLError } from 'graphql';\nimport { toast, ToastContent, ToastOptions } from 'react-toastify';\nimport { ApolloLink } from 'apollo-link';\nimport { getOperationNameAndType } from 'util/apollo/operation';\nimport Maybe from 'graphql/tsutils/Maybe';\n\nexport interface APICTX<Data = any> {\n  ctx?: string;\n  noShowError?: boolean;\n  noShowSuccess?: boolean;\n  errorMsg?: (errors: readonly GraphQLError[]) => string;\n  successMsg?: (data: Data) => string;\n}\n\nconst defaultErrorMsg = (ctx: string, errors: readonly GraphQLError[]) => {\n  const errorMsg = errors.map(_ => _.message).join('\\n');\n  return `Ooops, something went wrong with ${ctx}: \\n${errorMsg}`;\n};\nconst defaultSuccessMsg = (ctx: string) => `${ctx} success`;\n\nexport const notifyGqlResponse = <Data>(opts: APICTX<Data> = {}) => (\n  resp: ExecutionResult<Data>\n) => {\n  if (resp.errors && !opts.noShowError) {\n    const errorMsg = opts.errorMsg\n      ? opts.errorMsg(resp.errors)\n      : defaultErrorMsg(opts.ctx || 'this operation', resp.errors);\n    notify(errorMsg, { type: 'error' });\n  } else if (!resp.errors && resp.data && !opts.noShowSuccess) {\n    const successMsg = opts.successMsg\n      ? opts.successMsg(resp.data)\n      : defaultSuccessMsg(opts.ctx || '');\n    notify(successMsg, { type: 'success' });\n  }\n  return resp;\n};\n\nexport const notify = (content: ToastContent, options: ToastOptions) =>\n  toast(content, options);\n\nconst MN_CTX_FLD = 'MN_CTX_FLD';\nexport const mnCtx = <Data>(opts: APICTX<Data>) => ({ [MN_CTX_FLD]: opts });\nexport const getMnCtx = <Data>(context: any): undefined | APICTX<Data> =>\n  context ? context[MN_CTX_FLD] : undefined;\n\nexport const MngErrorLink = new ApolloLink((operation, forward) => {\n  const [, opType] = getOperationNameAndType(operation.query);\n  const mnCtx = operation.getContext()[MN_CTX_FLD] as Maybe<APICTX>;\n  const noShowSuccess =\n    opType === 'query' || (!mnCtx?.ctx && !mnCtx?.successMsg);\n\n  return forward(operation).map(\n    notifyGqlResponse({\n      noShowSuccess,\n      ctx: operation.operationName,\n      ...operation.getContext()[MN_CTX_FLD]\n    })\n  );\n});\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type SettingsPageMeUserFragment = (\n  { __typename: 'User' }\n  & Pick<Types.User, 'id' | 'name' | 'location' | 'summary' | 'displayUsername' | 'website' | 'extraInfo'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, image: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )> }\n);\n\nexport const SettingsPageMeUserFragmentDoc = gql`\n    fragment SettingsPageMeUser on User {\n  id\n  name\n  icon {\n    id\n    url\n  }\n  image {\n    id\n    url\n  }\n  location\n  summary\n  displayUsername\n  website\n  extraInfo\n}\n    `;\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type SidebarFollowedCommunityFragment = (\n  { __typename: 'Community' }\n  & Pick<Types.Community, 'id' | 'isLocal' | 'canonicalUrl' | 'name'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, image: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )> }\n);\n\nexport type SidebarMeUserFragment = (\n  { __typename: 'User' }\n  & Pick<Types.User, 'id' | 'name' | 'preferredUsername' | 'displayUsername'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, image: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )> }\n);\n\nexport const SidebarFollowedCommunityFragmentDoc = gql`\n    fragment SidebarFollowedCommunity on Community {\n  id\n  isLocal\n  canonicalUrl\n  icon {\n    id\n    url\n  }\n  image {\n    id\n    url\n  }\n  name\n}\n    `;\nexport const SidebarMeUserFragmentDoc = gql`\n    fragment SidebarMeUser on User {\n  id\n  name\n  icon {\n    id\n    url\n  }\n  image {\n    id\n    url\n  }\n  preferredUsername\n  displayUsername\n}\n    `;\n","import * as Types from '../../graphql/types.generated';\n\nimport { SidebarMeUserFragment } from '../../HOC/modules/Sidebar/Sidebar.generated';\nimport { SettingsPageMeUserFragment } from '../../HOC/pages/settings/SettingsPage.generated';\nimport gql from 'graphql-tag';\nimport { SettingsPageMeUserFragmentDoc } from '../../HOC/pages/settings/SettingsPage.generated';\nimport { SidebarMeUserFragmentDoc } from '../../HOC/modules/Sidebar/Sidebar.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type MeQueryVariables = {};\n\n\nexport type MeQuery = (\n  { __typename: 'RootQueryType' }\n  & { me: Types.Maybe<(\n    { __typename: 'Me' }\n    & UseMeDataFragment\n  )> }\n);\n\nexport type MeLogoutMutationVariables = {};\n\n\nexport type MeLogoutMutation = (\n  { __typename: 'RootMutationType' }\n  & Pick<Types.RootMutationType, 'deleteSession'>\n);\n\nexport type UseMeDataFragment = (\n  { __typename: 'Me' }\n  & Pick<Types.Me, 'isInstanceAdmin' | 'email' | 'isConfirmed' | 'wantsEmailDigest' | 'wantsNotifications'>\n  & { user: (\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & SettingsPageMeUserFragment\n    & SidebarMeUserFragment\n  ) }\n);\n\nexport type MeUpdateMyProfileMutationVariables = {\n  profile: Types.UpdateProfileInput,\n  icon?: Types.Maybe<Types.UploadInput>,\n  image?: Types.Maybe<Types.UploadInput>\n};\n\n\nexport type MeUpdateMyProfileMutation = (\n  { __typename: 'RootMutationType' }\n  & { updateProfile: Types.Maybe<(\n    { __typename: 'Me' }\n    & { user: (\n      { __typename: 'User' }\n      & SettingsPageMeUserFragment\n    ) }\n  )> }\n);\n\nexport const UseMeDataFragmentDoc = gql`\n    fragment UseMeData on Me {\n  isInstanceAdmin\n  email\n  isConfirmed\n  wantsEmailDigest\n  wantsNotifications\n  user {\n    id\n    ...SettingsPageMeUser\n    ...SidebarMeUser\n  }\n}\n    ${SettingsPageMeUserFragmentDoc}\n${SidebarMeUserFragmentDoc}`;\nexport const MeDocument = gql`\n    query me {\n  me {\n    ...UseMeData\n  }\n}\n    ${UseMeDataFragmentDoc}`;\n\n/**\n * __useMeQuery__\n *\n * To run a query within a React component, call `useMeQuery` and pass it any options that fit your needs.\n * When your component renders, `useMeQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useMeQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useMeQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<MeQuery, MeQueryVariables>) {\n        return ApolloReactHooks.useQuery<MeQuery, MeQueryVariables>(MeDocument, baseOptions);\n      }\nexport function useMeLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<MeQuery, MeQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<MeQuery, MeQueryVariables>(MeDocument, baseOptions);\n        }\nexport type MeQueryHookResult = ReturnType<typeof useMeQuery>;\nexport type MeLazyQueryHookResult = ReturnType<typeof useMeLazyQuery>;\nexport type MeQueryResult = ApolloReactCommon.QueryResult<MeQuery, MeQueryVariables>;\nexport const MeLogoutDocument = gql`\n    mutation meLogout {\n  deleteSession\n}\n    `;\nexport type MeLogoutMutationFn = ApolloReactCommon.MutationFunction<MeLogoutMutation, MeLogoutMutationVariables>;\n\n/**\n * __useMeLogoutMutation__\n *\n * To run a mutation, you first call `useMeLogoutMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useMeLogoutMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [meLogoutMutation, { data, loading, error }] = useMeLogoutMutation({\n *   variables: {\n *   },\n * });\n */\nexport function useMeLogoutMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<MeLogoutMutation, MeLogoutMutationVariables>) {\n        return ApolloReactHooks.useMutation<MeLogoutMutation, MeLogoutMutationVariables>(MeLogoutDocument, baseOptions);\n      }\nexport type MeLogoutMutationHookResult = ReturnType<typeof useMeLogoutMutation>;\nexport type MeLogoutMutationResult = ApolloReactCommon.MutationResult<MeLogoutMutation>;\nexport type MeLogoutMutationOptions = ApolloReactCommon.BaseMutationOptions<MeLogoutMutation, MeLogoutMutationVariables>;\nexport const MeUpdateMyProfileDocument = gql`\n    mutation meUpdateMyProfile($profile: UpdateProfileInput!, $icon: UploadInput, $image: UploadInput) {\n  updateProfile(profile: $profile, icon: $icon, image: $image) {\n    user {\n      ...SettingsPageMeUser\n    }\n  }\n}\n    ${SettingsPageMeUserFragmentDoc}`;\nexport type MeUpdateMyProfileMutationFn = ApolloReactCommon.MutationFunction<MeUpdateMyProfileMutation, MeUpdateMyProfileMutationVariables>;\n\n/**\n * __useMeUpdateMyProfileMutation__\n *\n * To run a mutation, you first call `useMeUpdateMyProfileMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useMeUpdateMyProfileMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [meUpdateMyProfileMutation, { data, loading, error }] = useMeUpdateMyProfileMutation({\n *   variables: {\n *      profile: // value for 'profile'\n *      icon: // value for 'icon'\n *      image: // value for 'image'\n *   },\n * });\n */\nexport function useMeUpdateMyProfileMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<MeUpdateMyProfileMutation, MeUpdateMyProfileMutationVariables>) {\n        return ApolloReactHooks.useMutation<MeUpdateMyProfileMutation, MeUpdateMyProfileMutationVariables>(MeUpdateMyProfileDocument, baseOptions);\n      }\nexport type MeUpdateMyProfileMutationHookResult = ReturnType<typeof useMeUpdateMyProfileMutation>;\nexport type MeUpdateMyProfileMutationResult = ApolloReactCommon.MutationResult<MeUpdateMyProfileMutation>;\nexport type MeUpdateMyProfileMutationOptions = ApolloReactCommon.BaseMutationOptions<MeUpdateMyProfileMutation, MeUpdateMyProfileMutationVariables>;\n\n\nexport interface MeQueryOperation {\n  operationName: 'me'\n  result: MeQuery\n  variables: MeQueryVariables\n  type: 'query'\n}\nexport const MeQueryName:MeQueryOperation['operationName'] = 'me'\n\nexport const MeQueryRefetch = (\n  variables:MeQueryVariables, \n  context?:any\n)=>({\n  query:MeDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface MeLogoutMutationOperation {\n  operationName: 'meLogout'\n  result: MeLogoutMutation\n  variables: MeLogoutMutationVariables\n  type: 'mutation'\n}\nexport const MeLogoutMutationName:MeLogoutMutationOperation['operationName'] = 'meLogout'\n\nexport const MeLogoutMutationRefetch = (\n  variables:MeLogoutMutationVariables, \n  context?:any\n)=>({\n  query:MeLogoutDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface MeUpdateMyProfileMutationOperation {\n  operationName: 'meUpdateMyProfile'\n  result: MeUpdateMyProfileMutation\n  variables: MeUpdateMyProfileMutationVariables\n  type: 'mutation'\n}\nexport const MeUpdateMyProfileMutationName:MeUpdateMyProfileMutationOperation['operationName'] = 'meUpdateMyProfile'\n\nexport const MeUpdateMyProfileMutationRefetch = (\n  variables:MeUpdateMyProfileMutationVariables, \n  context?:any\n)=>({\n  query:MeUpdateMyProfileDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../graphql/types.generated';\n\nimport { UseMeDataFragment } from './me.generated';\nimport gql from 'graphql-tag';\nimport { UseMeDataFragmentDoc } from './me.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type AnonResetPasswordMutationVariables = {\n  password: Types.Scalars['String'],\n  token: Types.Scalars['String']\n};\n\n\nexport type AnonResetPasswordMutation = (\n  { __typename: 'RootMutationType' }\n  & { resetPassword: Types.Maybe<(\n    { __typename: 'AuthPayload' }\n    & AuthDataFragment\n  )> }\n);\n\nexport type AnonResetPasswordRequestMutationVariables = {\n  email: Types.Scalars['String']\n};\n\n\nexport type AnonResetPasswordRequestMutation = (\n  { __typename: 'RootMutationType' }\n  & Pick<Types.RootMutationType, 'resetPasswordRequest'>\n);\n\nexport type AnonLoginMutationVariables = {\n  email: Types.Scalars['String'],\n  password: Types.Scalars['String']\n};\n\n\nexport type AnonLoginMutation = (\n  { __typename: 'RootMutationType' }\n  & { createSession: Types.Maybe<(\n    { __typename: 'AuthPayload' }\n    & AuthDataFragment\n  )> }\n);\n\nexport type AnonConfirmEmailMutationVariables = {\n  token: Types.Scalars['String']\n};\n\n\nexport type AnonConfirmEmailMutation = (\n  { __typename: 'RootMutationType' }\n  & { confirmEmail: Types.Maybe<(\n    { __typename: 'AuthPayload' }\n    & AuthDataFragment\n  )> }\n);\n\nexport type AnonSignUpMutationVariables = {\n  registration: Types.RegistrationInput\n};\n\n\nexport type AnonSignUpMutation = (\n  { __typename: 'RootMutationType' }\n  & { createUser: Types.Maybe<(\n    { __typename: 'Me' }\n    & UseMeDataFragment\n  )> }\n);\n\nexport type AnonUsernameAvailableQueryVariables = {\n  username: Types.Scalars['String']\n};\n\n\nexport type AnonUsernameAvailableQuery = (\n  { __typename: 'RootQueryType' }\n  & Pick<Types.RootQueryType, 'usernameAvailable'>\n);\n\nexport type AuthDataFragment = (\n  { __typename: 'AuthPayload' }\n  & Pick<Types.AuthPayload, 'token'>\n  & { me: (\n    { __typename: 'Me' }\n    & UseMeDataFragment\n  ) }\n);\n\nexport const AuthDataFragmentDoc = gql`\n    fragment AuthData on AuthPayload {\n  me {\n    ...UseMeData\n  }\n  token\n}\n    ${UseMeDataFragmentDoc}`;\nexport const AnonResetPasswordDocument = gql`\n    mutation anonResetPassword($password: String!, $token: String!) {\n  resetPassword(token: $token, password: $password) {\n    ...AuthData\n  }\n}\n    ${AuthDataFragmentDoc}`;\nexport type AnonResetPasswordMutationFn = ApolloReactCommon.MutationFunction<AnonResetPasswordMutation, AnonResetPasswordMutationVariables>;\n\n/**\n * __useAnonResetPasswordMutation__\n *\n * To run a mutation, you first call `useAnonResetPasswordMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAnonResetPasswordMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [anonResetPasswordMutation, { data, loading, error }] = useAnonResetPasswordMutation({\n *   variables: {\n *      password: // value for 'password'\n *      token: // value for 'token'\n *   },\n * });\n */\nexport function useAnonResetPasswordMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AnonResetPasswordMutation, AnonResetPasswordMutationVariables>) {\n        return ApolloReactHooks.useMutation<AnonResetPasswordMutation, AnonResetPasswordMutationVariables>(AnonResetPasswordDocument, baseOptions);\n      }\nexport type AnonResetPasswordMutationHookResult = ReturnType<typeof useAnonResetPasswordMutation>;\nexport type AnonResetPasswordMutationResult = ApolloReactCommon.MutationResult<AnonResetPasswordMutation>;\nexport type AnonResetPasswordMutationOptions = ApolloReactCommon.BaseMutationOptions<AnonResetPasswordMutation, AnonResetPasswordMutationVariables>;\nexport const AnonResetPasswordRequestDocument = gql`\n    mutation anonResetPasswordRequest($email: String!) {\n  resetPasswordRequest(email: $email)\n}\n    `;\nexport type AnonResetPasswordRequestMutationFn = ApolloReactCommon.MutationFunction<AnonResetPasswordRequestMutation, AnonResetPasswordRequestMutationVariables>;\n\n/**\n * __useAnonResetPasswordRequestMutation__\n *\n * To run a mutation, you first call `useAnonResetPasswordRequestMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAnonResetPasswordRequestMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [anonResetPasswordRequestMutation, { data, loading, error }] = useAnonResetPasswordRequestMutation({\n *   variables: {\n *      email: // value for 'email'\n *   },\n * });\n */\nexport function useAnonResetPasswordRequestMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AnonResetPasswordRequestMutation, AnonResetPasswordRequestMutationVariables>) {\n        return ApolloReactHooks.useMutation<AnonResetPasswordRequestMutation, AnonResetPasswordRequestMutationVariables>(AnonResetPasswordRequestDocument, baseOptions);\n      }\nexport type AnonResetPasswordRequestMutationHookResult = ReturnType<typeof useAnonResetPasswordRequestMutation>;\nexport type AnonResetPasswordRequestMutationResult = ApolloReactCommon.MutationResult<AnonResetPasswordRequestMutation>;\nexport type AnonResetPasswordRequestMutationOptions = ApolloReactCommon.BaseMutationOptions<AnonResetPasswordRequestMutation, AnonResetPasswordRequestMutationVariables>;\nexport const AnonLoginDocument = gql`\n    mutation anonLogin($email: String!, $password: String!) {\n  createSession(email: $email, password: $password) {\n    ...AuthData\n  }\n}\n    ${AuthDataFragmentDoc}`;\nexport type AnonLoginMutationFn = ApolloReactCommon.MutationFunction<AnonLoginMutation, AnonLoginMutationVariables>;\n\n/**\n * __useAnonLoginMutation__\n *\n * To run a mutation, you first call `useAnonLoginMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAnonLoginMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [anonLoginMutation, { data, loading, error }] = useAnonLoginMutation({\n *   variables: {\n *      email: // value for 'email'\n *      password: // value for 'password'\n *   },\n * });\n */\nexport function useAnonLoginMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AnonLoginMutation, AnonLoginMutationVariables>) {\n        return ApolloReactHooks.useMutation<AnonLoginMutation, AnonLoginMutationVariables>(AnonLoginDocument, baseOptions);\n      }\nexport type AnonLoginMutationHookResult = ReturnType<typeof useAnonLoginMutation>;\nexport type AnonLoginMutationResult = ApolloReactCommon.MutationResult<AnonLoginMutation>;\nexport type AnonLoginMutationOptions = ApolloReactCommon.BaseMutationOptions<AnonLoginMutation, AnonLoginMutationVariables>;\nexport const AnonConfirmEmailDocument = gql`\n    mutation anonConfirmEmail($token: String!) {\n  confirmEmail(token: $token) {\n    ...AuthData\n  }\n}\n    ${AuthDataFragmentDoc}`;\nexport type AnonConfirmEmailMutationFn = ApolloReactCommon.MutationFunction<AnonConfirmEmailMutation, AnonConfirmEmailMutationVariables>;\n\n/**\n * __useAnonConfirmEmailMutation__\n *\n * To run a mutation, you first call `useAnonConfirmEmailMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAnonConfirmEmailMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [anonConfirmEmailMutation, { data, loading, error }] = useAnonConfirmEmailMutation({\n *   variables: {\n *      token: // value for 'token'\n *   },\n * });\n */\nexport function useAnonConfirmEmailMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AnonConfirmEmailMutation, AnonConfirmEmailMutationVariables>) {\n        return ApolloReactHooks.useMutation<AnonConfirmEmailMutation, AnonConfirmEmailMutationVariables>(AnonConfirmEmailDocument, baseOptions);\n      }\nexport type AnonConfirmEmailMutationHookResult = ReturnType<typeof useAnonConfirmEmailMutation>;\nexport type AnonConfirmEmailMutationResult = ApolloReactCommon.MutationResult<AnonConfirmEmailMutation>;\nexport type AnonConfirmEmailMutationOptions = ApolloReactCommon.BaseMutationOptions<AnonConfirmEmailMutation, AnonConfirmEmailMutationVariables>;\nexport const AnonSignUpDocument = gql`\n    mutation anonSignUp($registration: RegistrationInput!) {\n  createUser(user: $registration) {\n    ...UseMeData\n  }\n}\n    ${UseMeDataFragmentDoc}`;\nexport type AnonSignUpMutationFn = ApolloReactCommon.MutationFunction<AnonSignUpMutation, AnonSignUpMutationVariables>;\n\n/**\n * __useAnonSignUpMutation__\n *\n * To run a mutation, you first call `useAnonSignUpMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAnonSignUpMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [anonSignUpMutation, { data, loading, error }] = useAnonSignUpMutation({\n *   variables: {\n *      registration: // value for 'registration'\n *   },\n * });\n */\nexport function useAnonSignUpMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AnonSignUpMutation, AnonSignUpMutationVariables>) {\n        return ApolloReactHooks.useMutation<AnonSignUpMutation, AnonSignUpMutationVariables>(AnonSignUpDocument, baseOptions);\n      }\nexport type AnonSignUpMutationHookResult = ReturnType<typeof useAnonSignUpMutation>;\nexport type AnonSignUpMutationResult = ApolloReactCommon.MutationResult<AnonSignUpMutation>;\nexport type AnonSignUpMutationOptions = ApolloReactCommon.BaseMutationOptions<AnonSignUpMutation, AnonSignUpMutationVariables>;\nexport const AnonUsernameAvailableDocument = gql`\n    query anonUsernameAvailable($username: String!) {\n  usernameAvailable(username: $username)\n}\n    `;\n\n/**\n * __useAnonUsernameAvailableQuery__\n *\n * To run a query within a React component, call `useAnonUsernameAvailableQuery` and pass it any options that fit your needs.\n * When your component renders, `useAnonUsernameAvailableQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useAnonUsernameAvailableQuery({\n *   variables: {\n *      username: // value for 'username'\n *   },\n * });\n */\nexport function useAnonUsernameAvailableQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<AnonUsernameAvailableQuery, AnonUsernameAvailableQueryVariables>) {\n        return ApolloReactHooks.useQuery<AnonUsernameAvailableQuery, AnonUsernameAvailableQueryVariables>(AnonUsernameAvailableDocument, baseOptions);\n      }\nexport function useAnonUsernameAvailableLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<AnonUsernameAvailableQuery, AnonUsernameAvailableQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<AnonUsernameAvailableQuery, AnonUsernameAvailableQueryVariables>(AnonUsernameAvailableDocument, baseOptions);\n        }\nexport type AnonUsernameAvailableQueryHookResult = ReturnType<typeof useAnonUsernameAvailableQuery>;\nexport type AnonUsernameAvailableLazyQueryHookResult = ReturnType<typeof useAnonUsernameAvailableLazyQuery>;\nexport type AnonUsernameAvailableQueryResult = ApolloReactCommon.QueryResult<AnonUsernameAvailableQuery, AnonUsernameAvailableQueryVariables>;\n\n\nexport interface AnonResetPasswordMutationOperation {\n  operationName: 'anonResetPassword'\n  result: AnonResetPasswordMutation\n  variables: AnonResetPasswordMutationVariables\n  type: 'mutation'\n}\nexport const AnonResetPasswordMutationName:AnonResetPasswordMutationOperation['operationName'] = 'anonResetPassword'\n\nexport const AnonResetPasswordMutationRefetch = (\n  variables:AnonResetPasswordMutationVariables, \n  context?:any\n)=>({\n  query:AnonResetPasswordDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface AnonResetPasswordRequestMutationOperation {\n  operationName: 'anonResetPasswordRequest'\n  result: AnonResetPasswordRequestMutation\n  variables: AnonResetPasswordRequestMutationVariables\n  type: 'mutation'\n}\nexport const AnonResetPasswordRequestMutationName:AnonResetPasswordRequestMutationOperation['operationName'] = 'anonResetPasswordRequest'\n\nexport const AnonResetPasswordRequestMutationRefetch = (\n  variables:AnonResetPasswordRequestMutationVariables, \n  context?:any\n)=>({\n  query:AnonResetPasswordRequestDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface AnonLoginMutationOperation {\n  operationName: 'anonLogin'\n  result: AnonLoginMutation\n  variables: AnonLoginMutationVariables\n  type: 'mutation'\n}\nexport const AnonLoginMutationName:AnonLoginMutationOperation['operationName'] = 'anonLogin'\n\nexport const AnonLoginMutationRefetch = (\n  variables:AnonLoginMutationVariables, \n  context?:any\n)=>({\n  query:AnonLoginDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface AnonConfirmEmailMutationOperation {\n  operationName: 'anonConfirmEmail'\n  result: AnonConfirmEmailMutation\n  variables: AnonConfirmEmailMutationVariables\n  type: 'mutation'\n}\nexport const AnonConfirmEmailMutationName:AnonConfirmEmailMutationOperation['operationName'] = 'anonConfirmEmail'\n\nexport const AnonConfirmEmailMutationRefetch = (\n  variables:AnonConfirmEmailMutationVariables, \n  context?:any\n)=>({\n  query:AnonConfirmEmailDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface AnonSignUpMutationOperation {\n  operationName: 'anonSignUp'\n  result: AnonSignUpMutation\n  variables: AnonSignUpMutationVariables\n  type: 'mutation'\n}\nexport const AnonSignUpMutationName:AnonSignUpMutationOperation['operationName'] = 'anonSignUp'\n\nexport const AnonSignUpMutationRefetch = (\n  variables:AnonSignUpMutationVariables, \n  context?:any\n)=>({\n  query:AnonSignUpDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface AnonUsernameAvailableQueryOperation {\n  operationName: 'anonUsernameAvailable'\n  result: AnonUsernameAvailableQuery\n  variables: AnonUsernameAvailableQueryVariables\n  type: 'query'\n}\nexport const AnonUsernameAvailableQueryName:AnonUsernameAvailableQueryOperation['operationName'] = 'anonUsernameAvailable'\n\nexport const AnonUsernameAvailableQueryRefetch = (\n  variables:AnonUsernameAvailableQueryVariables, \n  context?:any\n)=>({\n  query:AnonUsernameAvailableDocument,\n  variables,\n  context\n})\n      \n","import { GraphQLResolveInfo, GraphQLScalarType, GraphQLScalarTypeConfig } from 'graphql';\nexport type Maybe<T> = T | null;\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\nexport type RequireFields<T, K extends keyof T> = { [X in Exclude<keyof T, K>]?: T[X] } & { [P in K]-?: NonNullable<T[P]> };\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string,\n  String: string,\n  Boolean: boolean,\n  Int: number,\n  Float: number,\n  /** The `URI` type simply declares a reference to an external web URL, Holochain entry or other resource. */\n  URI: any,\n  /** Arbitrary json stored as a string */\n  Json: any,\n  /** \n * An opaque position marker for pagination. Paginated queries return\n   * a PageInfo struct with start and end cursors (which are actually\n   * lists of Cursor for ...reasons...). You can then issue queries\n   * requesting results `before` the `start` or `after` the `end`\n   * cursors to request the previous or next page respectively.\n   * \n   * Is actually a string or integer. May be extended in future.\n **/\n  Cursor: any,\n  /** \n * The `DateTime` scalar type represents a date and time in the UTC\n   * timezone. The DateTime appears in a JSON response as an ISO8601 formatted\n   * string, including UTC timezone (\"Z\"). The parsed date and time string will\n   * be converted to UTC if there is an offset.\n **/\n  DateTime: any,\n  /** Represents an uploaded file. */\n  Upload: any,\n};\n\n/** A boundary or context grouped around some other record- used for documenting, accounting, planning. */\nexport type AccountingScope = Category | Collection | Community | Organisation | Organization | Person | Taggable | User;\n\n/** \n * An action verb defining the kind of event, commitment, or intent.\n * It is recommended that the lowercase action verb should be used as the record ID\n * in order that references to `Action`s elsewhere in the system are easily readable.\n **/\nexport type Action = {\n   __typename?: 'Action',\n  id: Scalars['ID'],\n  /** Denotes if a process input or output, or not related to a process. */\n  inputOutput?: Maybe<Scalars['String']>,\n  /** A unique verb which defines the action. */\n  label: Scalars['String'],\n  note?: Maybe<Scalars['String']>,\n  /** \n * The onhand effect of an economic event on a resource, increment, decrement, no\n   * effect, or decrement resource and increment 'to' resource.\n **/\n  onhandEffect?: Maybe<Scalars['String']>,\n  /** The action that should be included on the other direction of the process, for example accept with modify. */\n  pairsWith?: Maybe<Scalars['String']>,\n  /** \n * The accounting effect of an economic event on a resource, increment,\n   * decrement, no effect, or decrement resource and increment 'to' resource.\n **/\n  resourceEffect: Scalars['String'],\n};\n\nexport type ActivitiesPage = {\n   __typename?: 'ActivitiesPage',\n  edges: Array<Activity>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** An event that appears in a feed */\nexport type Activity = {\n   __typename?: 'Activity',\n  /** A url for the like, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The object of the user's verbing */\n  context?: Maybe<AnyContext>,\n  /** When the activity was created */\n  createdAt: Scalars['String'],\n  /** An instance-local UUID identifying the activity */\n  id: Scalars['String'],\n  /** Whether the activity is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the activity is public */\n  isPublic: Scalars['Boolean'],\n  /** The user who performed the activity */\n  user?: Maybe<User>,\n  /** The verb describing the activity */\n  verb: ActivityVerb,\n};\n\n/** Something a user does, in past tense */\nexport enum ActivityVerb {\n  Created = 'CREATED',\n  Updated = 'UPDATED'\n}\n\n/** A person or group or organization with economic agency. */\nexport type Agent = {\n  agentType?: Maybe<AgentType>,\n  canonicalUrl?: Maybe<Scalars['String']>,\n  commitments?: Maybe<Array<Commitment>>,\n  displayUsername?: Maybe<Scalars['String']>,\n  economicEvents?: Maybe<Array<EconomicEvent>>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the agent, such as a logo, avatar, photo, etc. */\n  image?: Maybe<Scalars['URI']>,\n  intents?: Maybe<Array<Intent>>,\n  inventoriedEconomicResources?: Maybe<Array<EconomicResource>>,\n  /** An informal or formal textual identifier for an agent. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  plans?: Maybe<Array<Plan>>,\n  /** \n * The main place an agent is located, often an address where activities occur\n   * and mail can be sent. This is usually a mappable geographic location.  It also\n   * could be a website address, as in the case of agents who have no physical location.\n **/\n  primaryLocation?: Maybe<SpatialThing>,\n  processes?: Maybe<Array<Process>>,\n  proposals?: Maybe<Array<Proposal>>,\n  relationships?: Maybe<Array<AgentRelationship>>,\n  relationshipsAsObject?: Maybe<Array<AgentRelationship>>,\n  relationshipsAsSubject?: Maybe<Array<AgentRelationship>>,\n  roles?: Maybe<Array<AgentRelationshipRole>>,\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentCommitmentsArgs = {\n  filter?: Maybe<AgentCommitmentSearchParams>\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentEconomicEventsArgs = {\n  filter?: Maybe<AgentEventSearchParams>\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentIntentsArgs = {\n  filter?: Maybe<AgentIntentSearchParams>\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentInventoriedEconomicResourcesArgs = {\n  filter?: Maybe<AgentResourceSearchParams>\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentPlansArgs = {\n  filter?: Maybe<AgentPlanSearchParams>\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentProcessesArgs = {\n  filter?: Maybe<AgentProcessSearchParams>\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentRelationshipsArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentRelationshipsAsObjectArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\n\n/** A person or group or organization with economic agency. */\nexport type AgentRelationshipsAsSubjectArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\n/** Query parameters for reading `Commitment`s related to an `Agent` */\nexport type AgentCommitmentSearchParams = {\n  action?: Maybe<Scalars['ID']>,\n  endDate?: Maybe<Scalars['DateTime']>,\n  finished?: Maybe<Scalars['Boolean']>,\n  searchString?: Maybe<Scalars['String']>,\n  startDate?: Maybe<Scalars['DateTime']>,\n};\n\nexport type AgentCreateParams = {\n  /** The uri to an image relevant to the agent, such as a logo, avatar, photo, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** An informal or formal textual identifier for an agent. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * (`SpatialThing`) The main place an agent is located, often an address where\n   * activities occur and mail can be sent. This is usually a mappable geographic\n   * location.  It also could be a website address, as in the case of agents who\n   * have no physical location.\n **/\n  primaryLocation?: Maybe<Scalars['ID']>,\n};\n\n/** Query parameters for reading `EconomicEvent`s related to an `Agent` */\nexport type AgentEventSearchParams = {\n  action?: Maybe<Scalars['ID']>,\n  endDate?: Maybe<Scalars['DateTime']>,\n  searchString?: Maybe<Scalars['String']>,\n  startDate?: Maybe<Scalars['DateTime']>,\n};\n\n/** Query parameters for reading `Intent`s related to an `Agent` */\nexport type AgentIntentSearchParams = {\n  action?: Maybe<Scalars['ID']>,\n  endDate?: Maybe<Scalars['DateTime']>,\n  finished?: Maybe<Scalars['Boolean']>,\n  searchString?: Maybe<Scalars['String']>,\n  startDate?: Maybe<Scalars['DateTime']>,\n};\n\n/** Query parameters for reading `Plan`s related to an `Agent` */\nexport type AgentPlanSearchParams = {\n  finished?: Maybe<Scalars['Boolean']>,\n  searchString?: Maybe<Scalars['String']>,\n};\n\n/** Query parameters for reading `Process`es related to an `Agent` */\nexport type AgentProcessSearchParams = {\n  finished?: Maybe<Scalars['Boolean']>,\n  searchString?: Maybe<Scalars['String']>,\n};\n\n/** The role of an economic relationship that exists between 2 agents, such as member, trading partner. */\nexport type AgentRelationship = {\n   __typename?: 'AgentRelationship',\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The object of a relationship between 2 agents.  For example, if Mary is a member of a group, then the group is the object. */\n  object: Agent,\n  /** A kind of relationship that exists between 2 agents. */\n  relationship: AgentRelationshipRole,\n  /** The subject of a relationship between 2 agents.  For example, if Mary is a member of a group, then Mary is the subject. */\n  subject: Agent,\n};\n\nexport type AgentRelationshipCreateParams = {\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * (`Agent`) The object of a relationship between 2 agents.  For example, if Mary\n   * is a member of a group, then the group is the object.\n **/\n  object: Scalars['ID'],\n  /** \n * (`AgentRelationshipRole`) The role of an economic relationship that exists\n   * between 2 agents, such as member, trading partner.\n **/\n  relationship: Scalars['ID'],\n  /** \n * (`Agent`) The subject of a relationship between 2 agents.  For example, if\n   * Mary is a member of a group, then Mary is the subject.\n **/\n  subject: Scalars['ID'],\n};\n\nexport type AgentRelationshipResponse = {\n   __typename?: 'AgentRelationshipResponse',\n  agentRelationship: AgentRelationship,\n};\n\n/** A relationship role defining the kind of association one agent can have with another. */\nexport type AgentRelationshipRole = {\n   __typename?: 'AgentRelationshipRole',\n  id: Scalars['ID'],\n  /** The human readable name of the role, from the object to the subject. */\n  inverseRoleLabel?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The human readable name of the role, from the subject to the object. */\n  roleLabel: Scalars['String'],\n};\n\nexport type AgentRelationshipRoleCreateParams = {\n  /** The human readable name of the role, inverse from the object to the subject. For example, 'has member'. */\n  inverseRoleLabel?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The human readable name of the role, inverse from the object to the subject. For example, 'is member of'. */\n  roleLabel: Scalars['String'],\n};\n\nexport type AgentRelationshipRoleResponse = {\n   __typename?: 'AgentRelationshipRoleResponse',\n  agentRelationshipRole?: Maybe<AgentRelationshipRole>,\n};\n\nexport type AgentRelationshipRoleUpdateParams = {\n  id: Scalars['ID'],\n  /** The human readable name of the role, inverse from the object to the subject. For example, 'has member'. */\n  inverseRoleLabel?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The human readable name of the role, inverse from the object to the subject. For example, 'is member of'. */\n  roleLabel?: Maybe<Scalars['String']>,\n};\n\nexport type AgentRelationshipUpdateParams = {\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * (`Agent`) The object of a relationship between 2 agents.  For example, if Mary\n   * is a member of a group, then the group is the object.\n **/\n  object?: Maybe<Scalars['ID']>,\n  /** \n * (`AgentRelationshipRole`) The role of an economic relationship that exists\n   * between 2 agents, such as member, trading partner.\n **/\n  relationship?: Maybe<Scalars['ID']>,\n  /** \n * (`Agent`) The subject of a relationship between 2 agents.  For example, if\n   * Mary is a member of a group, then Mary is the subject.\n **/\n  subject?: Maybe<Scalars['ID']>,\n};\n\n/** Query parameters for reading `EconomicResource`s related to an `Agent` */\nexport type AgentResourceSearchParams = {\n  page?: Maybe<Scalars['Int']>,\n  resourceClassification?: Maybe<Scalars['URI']>,\n  searchString?: Maybe<Scalars['String']>,\n};\n\n/** A page of agents */\nexport type AgentsPage = {\n   __typename?: 'AgentsPage',\n  edges: Array<Agent>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport enum AgentType {\n  Organization = 'Organization',\n  Person = 'Person'\n}\n\nexport type AgentUpdateParams = {\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the agent, such as a logo, avatar, photo, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** An informal or formal textual identifier for an agent. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * (`SpatialThing`) The main place an agent is located, often an address where\n   * activities occur and mail can be sent. This is usually a mappable geographic\n   * location.  It also could be a website address, as in the case of agents who\n   * have no physical location.\n **/\n  primaryLocation?: Maybe<Scalars['ID']>,\n};\n\n/** Any type of agreement among economic agents. */\nexport type Agreement = {\n   __typename?: 'Agreement',\n  commitments?: Maybe<Array<Commitment>>,\n  /** The date and time the agreement was created. */\n  created?: Maybe<Scalars['DateTime']>,\n  economicEvents?: Maybe<Array<EconomicEvent>>,\n  id: Scalars['ID'],\n  involvedAgents?: Maybe<Array<Agent>>,\n  /** An informal or formal textual identifier for an agreement. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type AgreementCreateParams = {\n  /** The date and time the agreement was created. */\n  created: Scalars['DateTime'],\n  /** An informal or formal textual identifier for an agreement. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type AgreementResponse = {\n   __typename?: 'AgreementResponse',\n  agreement?: Maybe<Agreement>,\n};\n\nexport type AgreementUpdateParams = {\n  /** The date and time the agreement was created. */\n  created?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for an agreement. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\n/** Any type of known object */\nexport type AnyContext = Category | Collection | Comment | Community | Flag | Follow | Intent | Like | Organisation | Resource | SpatialThing | Taggable | User;\n\n/** \n * A way to tie an economic event that is given in loose fulfilment for another\n * economic event, without commitments or expectations. \n * Supports the gift economy.\n **/\nexport type Appreciation = {\n   __typename?: 'Appreciation',\n  /** The economic event this appreciation has been given in acknowledgement of. */\n  appreciationOf: EconomicEvent,\n  /** The economic event provided as a gift in this appreciation. */\n  appreciationWith: EconomicEvent,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type AppreciationCreateParams = {\n  /** (`EconomicEvent`) The economic event this appreciation has been given in acknowledgement of. */\n  appreciationOf: Scalars['ID'],\n  /** (`EconomicEvent`) The economic event provided as a gift in this appreciation. */\n  appreciationWith: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type AppreciationResponse = {\n   __typename?: 'AppreciationResponse',\n  appreciation?: Maybe<Appreciation>,\n};\n\nexport type AppreciationUpdateParams = {\n  /** (`EconomicEvent`) The economic event this appreciation has been given in acknowledgement of. */\n  appreciationOf?: Maybe<Scalars['ID']>,\n  /** (`EconomicEvent`) The economic event provided as a gift in this appreciation. */\n  appreciationWith?: Maybe<Scalars['ID']>,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type AuthPayload = {\n   __typename?: 'AuthPayload',\n  me: Me,\n  token: Scalars['String'],\n};\n\nexport type CategoriesPage = {\n   __typename?: 'CategoriesPage',\n  edges: Array<Category>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** A category (eg. tag in a taxonomy) */\nexport type Category = {\n   __typename?: 'Category',\n  /** The caretaker of this category, if any */\n  caretaker?: Maybe<AnyContext>,\n  /** The character that represents this category in feeds and federation */\n  character?: Maybe<Character>,\n  /** The user who created the character */\n  creator?: Maybe<User>,\n  facet?: Maybe<Scalars['String']>,\n  /** The numeric primary key of the category */\n  id?: Maybe<Scalars['String']>,\n  name?: Maybe<Scalars['String']>,\n  /** The parent category (in a tree-based taxonomy) */\n  parentCategory?: Maybe<Category>,\n  parentCategoryId?: Maybe<Scalars['String']>,\n  prefix?: Maybe<Scalars['String']>,\n  /** The profile that represents this category */\n  profile?: Maybe<Profile>,\n  /** List of child categories (in a tree-based taxonomy) */\n  subCategories?: Maybe<Array<Maybe<CategoriesPage>>>,\n  summary?: Maybe<Scalars['String']>,\n};\n\nexport type CategoryInput = {\n  facet?: Maybe<Scalars['String']>,\n  parentCategory?: Maybe<Scalars['ID']>,\n  prefix?: Maybe<Scalars['String']>,\n  sameAsCategory?: Maybe<Scalars['ID']>,\n};\n\n/** \n * A character is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type Character = {\n   __typename?: 'Character',\n  /** A url for the character, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** Any collections created under this character */\n  collections?: Maybe<CollectionsPage>,\n  /** Any communities linked under this character */\n  communities?: Maybe<CommunitiesPage>,\n  /** The parent of the character */\n  context?: Maybe<AnyContext>,\n  /** When the character was created */\n  createdAt: Scalars['String'],\n  /** The user who created the character */\n  creator?: Maybe<User>,\n  /** A preferred username + the host domain */\n  displayUsername: Scalars['String'],\n  /** A friendly name for the type of thing this character represents, eg. Organisation, Location, Tag... */\n  facet: Scalars['String'],\n  /** Total number of followers, including those we can't see */\n  followerCount?: Maybe<Scalars['Int']>,\n  /** Subscriptions users have to the character */\n  followers?: Maybe<FollowsPage>,\n  /** \n * An instance-local UUID identifying the character. Not to be confused with the\n   * associated thing's ID (available under characteristic.id)\n **/\n  id: Scalars['String'],\n  /** Whether an instance admin has hidden the character */\n  isDisabled: Scalars['Boolean'],\n  /** Whether the character is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the character is public */\n  isPublic: Scalars['Boolean'],\n  /** \n * When the character or a resource in it was last updated or a\n   * thread or a comment was created or updated\n **/\n  lastActivity: Scalars['String'],\n  /** The current user's flag of the character, if any */\n  myFlag?: Maybe<Flag>,\n  /** The current user's follow of this character, if any */\n  myFollow?: Maybe<Follow>,\n  /** The current user's like of this character, if any */\n  myLike?: Maybe<Like>,\n  /** Any organisations created under this character */\n  organisations?: Maybe<OrganisationsPage>,\n  /** Activities on the character, most recent first */\n  outbox?: Maybe<ActivitiesPage>,\n  /** An instance-unique identifier shared with users and communities */\n  preferredUsername: Scalars['String'],\n  /** Any resources posted under this character, most recent last */\n  resources?: Maybe<ResourcesPage>,\n  /** \n * The threads created on the character, most recently created\n   * first. Does not include threads created on resources.\n **/\n  threads?: Maybe<ThreadsPage>,\n  /** When the character was last updated */\n  updatedAt: Scalars['String'],\n};\n\n\n/** \n * A character is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type CharacterCollectionsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** \n * A character is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type CharacterCommunitiesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** \n * A character is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type CharacterFollowersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** \n * A character is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type CharacterOrganisationsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** \n * A character is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type CharacterOutboxArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** \n * A character is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type CharacterResourcesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** \n * A character is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type CharacterThreadsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type CharacterInput = {\n  preferredUsername?: Maybe<Scalars['String']>,\n};\n\nexport type CharactersPage = {\n   __typename?: 'CharactersPage',\n  edges: Array<Character>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** \n * A claim for a future economic event(s) in reciprocity for an economic event that\n * already occurred. For example, a claim for payment for goods received.\n **/\nexport type Claim = {\n   __typename?: 'Claim',\n  /** Relates a claim to a verb, such as consume, produce, work, improve, etc. */\n  action: Action,\n  /** Reference to an agreement between agents which specifies the rules or policies or calculations which govern this claim. */\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** The data on which the claim was made. */\n  created?: Maybe<Scalars['DateTime']>,\n  /** The time the claim is expected to be settled. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<Measure>,\n  /** \n * The claim is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The economic agent from whom the claim is initiated. */\n  provider: Agent,\n  /** The economic agent whom the claim is for. */\n  receiver: Agent,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * The primary resource specification or definition of an existing or potential\n   * economic resource. A resource will have only one, as this specifies exactly\n   * what the resource is.\n **/\n  resourceConformsTo?: Maybe<ResourceSpecification>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<Measure>,\n  /** The economic event which already occurred which this claim has been made against. */\n  triggeredBy: EconomicEvent,\n};\n\nexport type ClaimCreateParams = {\n  /** (`Action`) Relates a claim to a verb, such as consume, produce, work, improve, etc. */\n  action: Scalars['ID'],\n  /** Reference to an agreement between agents which specifies the rules or policies or calculations which govern this claim. */\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** The data on which the claim was made. */\n  created?: Maybe<Scalars['DateTime']>,\n  /** The time the claim is expected to be settled. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** \n * The claim is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Agent`) The economic agent from whom the claim is initiated. */\n  provider: Scalars['ID'],\n  /** (`Agent`) The economic agent whom the claim is for. */\n  receiver: Scalars['ID'],\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** \n * The amount and unit of the economic resource counted or inventoried. This is\n   * the quantity that could be used to increment or decrement a resource,\n   * depending on the type of resource and resource effect of action.\n **/\n  resourceQuantity?: Maybe<IMeasure>,\n  /** (`EconomicEvent`) The economic event which already occurred which this claim has been made against. */\n  triggeredBy?: Maybe<Scalars['ID']>,\n};\n\nexport type ClaimResponse = {\n   __typename?: 'ClaimResponse',\n  claim?: Maybe<Claim>,\n};\n\nexport type ClaimUpdateParams = {\n  /** (`Action`) Relates a claim to a verb, such as consume, produce, work, improve, etc. */\n  action?: Maybe<Scalars['ID']>,\n  /** Reference to an agreement between agents which specifies the rules or policies or calculations which govern this claim. */\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** The data on which the claim was made. */\n  created?: Maybe<Scalars['DateTime']>,\n  /** The time the claim is expected to be settled. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** \n * The claim is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Agent`) The economic agent from whom the claim is initiated. */\n  provider?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent whom the claim is for. */\n  receiver?: Maybe<Scalars['ID']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n  /** (`EconomicEvent`) The economic event which already occurred which this claim has been made against. */\n  triggeredBy?: Maybe<Scalars['ID']>,\n};\n\n/** A collection is typically the home of resources and discussion threads within a community */\nexport type Collection = {\n   __typename?: 'Collection',\n  /** A url for the collection, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The community the collection belongs to, if any */\n  community?: Maybe<Community>,\n  /** The community or other context the collection belongs to */\n  context?: Maybe<AnyContext>,\n  /** When the collection was created */\n  createdAt: Scalars['String'],\n  /** The user who created the collection */\n  creator?: Maybe<User>,\n  /** A preferred username + the host domain */\n  displayUsername: Scalars['String'],\n  /** A JSON document containing more info beyond the default fields */\n  extraInfo?: Maybe<Scalars['Json']>,\n  /** The total number of times this collection has been featured */\n  featureCount?: Maybe<Scalars['Int']>,\n  /** Flags users have made about the collection, most recently created first */\n  flags?: Maybe<FlagsPage>,\n  /** Total number of followers, including those we can't see */\n  followerCount?: Maybe<Scalars['Int']>,\n  /** Subscriptions users have to the collection */\n  followers?: Maybe<FollowsPage>,\n  /** An avatar url */\n  icon?: Maybe<Content>,\n  /** An instance-local UUID identifying the user */\n  id: Scalars['String'],\n  /** Whether an instance admin has hidden the collection */\n  isDisabled: Scalars['Boolean'],\n  /** Whether the collection is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the collection is public */\n  isPublic: Scalars['Boolean'],\n  /** \n * When the collection or a resource in it was last updated or a\n   * thread or a comment was created or updated\n **/\n  lastActivity: Scalars['String'],\n  /** Total number of likers, including those we can't see */\n  likerCount?: Maybe<Scalars['Int']>,\n  /** Likes users have made of the collection */\n  likers?: Maybe<LikesPage>,\n  /** The current user's flag of the collection, if any */\n  myFlag?: Maybe<Flag>,\n  /** The current user's follow of this collection, if any */\n  myFollow?: Maybe<Follow>,\n  /** The current user's like of this collection, if any */\n  myLike?: Maybe<Like>,\n  /** A name field */\n  name: Scalars['String'],\n  /** Activities on the collection, most recent first */\n  outbox?: Maybe<ActivitiesPage>,\n  /** An instance-unique identifier shared with users and communities */\n  preferredUsername: Scalars['String'],\n  /** The total number of resources in the collection, including private ones */\n  resourceCount?: Maybe<Scalars['Int']>,\n  /** The resources in the collection, most recently created last */\n  resources?: Maybe<ResourcesPage>,\n  /** Possibly biographical information */\n  summary?: Maybe<Scalars['String']>,\n  /** \n * The threads created on the collection, most recently created\n   * first. Does not include threads created on resources.\n **/\n  threads?: Maybe<ThreadsPage>,\n  /** When the collection was last updated */\n  updatedAt: Scalars['String'],\n};\n\n\n/** A collection is typically the home of resources and discussion threads within a community */\nexport type CollectionFlagsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** A collection is typically the home of resources and discussion threads within a community */\nexport type CollectionFollowersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** A collection is typically the home of resources and discussion threads within a community */\nexport type CollectionLikersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** A collection is typically the home of resources and discussion threads within a community */\nexport type CollectionOutboxArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** A collection is typically the home of resources and discussion threads within a community */\nexport type CollectionResourcesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** A collection is typically the home of resources and discussion threads within a community */\nexport type CollectionThreadsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type CollectionInput = {\n  extraInfo?: Maybe<Scalars['Json']>,\n  name: Scalars['String'],\n  preferredUsername?: Maybe<Scalars['String']>,\n  summary?: Maybe<Scalars['String']>,\n};\n\nexport type CollectionsPage = {\n   __typename?: 'CollectionsPage',\n  edges: Array<Collection>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type CollectionUpdateInput = {\n  extraInfo?: Maybe<Scalars['Json']>,\n  name: Scalars['String'],\n  summary?: Maybe<Scalars['String']>,\n};\n\nexport type Comment = {\n   __typename?: 'Comment',\n  /** A url for the user, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The comment text */\n  content: Scalars['String'],\n  /** When the comment was created */\n  createdAt: Scalars['String'],\n  /** The user who created this comment */\n  creator?: Maybe<User>,\n  /** Flags users have made about the comment, most recently created first */\n  flags?: Maybe<FlagsPage>,\n  /** An instance-local UUID identifying the thread */\n  id: Scalars['String'],\n  /** The id of the comment this one was a reply to */\n  inReplyTo?: Maybe<Comment>,\n  /** Whether an comment admin has hidden the thread */\n  isHidden: Scalars['Boolean'],\n  /** Whether the comment is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the comment is publically visible */\n  isPublic: Scalars['Boolean'],\n  /** Total number of likers, including those we can't see */\n  likerCount?: Maybe<Scalars['Int']>,\n  /** Users who like the comment, most recently liked first */\n  likers?: Maybe<LikesPage>,\n  /** The current user's flag of this comment, if any */\n  myFlag?: Maybe<Flag>,\n  /** The current user's like of this comment, if any */\n  myLike?: Maybe<Like>,\n  /** The comment name/title or content warning */\n  name?: Maybe<Scalars['String']>,\n  /** The thread this comment is part of */\n  thread?: Maybe<Thread>,\n  /** When the comment was last updated */\n  updatedAt: Scalars['String'],\n};\n\n\nexport type CommentFlagsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type CommentLikersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type CommentInput = {\n  content: Scalars['String'],\n};\n\nexport type CommentsPage = {\n   __typename?: 'CommentsPage',\n  edges: Array<Comment>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** A planned economic flow that has been promised by an agent to another agent. */\nexport type Commitment = {\n   __typename?: 'Commitment',\n  /** Relates a commitment to a verb, such as consume, produce, work, improve, etc. */\n  action: Action,\n  /** \n * Reference to an agreement between agents which specifies the rules or policies\n   * or calculations which govern this commitment.\n **/\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** The place where a commitment occurs. Usually mappable. */\n  atLocation?: Maybe<SpatialThing>,\n  /** This commitment is part of the exchange agreement. */\n  clauseOf?: Maybe<Agreement>,\n  /** The creation time of the commitment. */\n  created?: Maybe<Scalars['DateTime']>,\n  /** The commitment can be safely deleted, has no dependent information. */\n  deletable?: Maybe<Scalars['Boolean']>,\n  /** The time something is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<Measure>,\n  /** \n * The commitment is complete or not.  This is irrespective of if the original\n   * goal has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The economic event which completely or partially fulfills a commitment. */\n  fulfilledBy?: Maybe<Array<Fulfillment>>,\n  /** The planned beginning of the commitment. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the commitment. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** The planned date/time for the commitment. Can be used instead of beginning and end. */\n  hasPointInTime?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  /** Represents a desired deliverable expected from this plan. */\n  independentDemandOf?: Maybe<Plan>,\n  /** Defines the process to which this commitment is an input. */\n  inputOf?: Maybe<Process>,\n  involvedAgents?: Maybe<Array<Agent>>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** Defines the process for which this commitment is an output. */\n  outputOf?: Maybe<Process>,\n  /** The economic agent from whom the commitment is initiated. */\n  provider: Agent,\n  /** The economic agent whom the commitment is for. */\n  receiver: Agent,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * The primary resource specification or definition of an existing or potential\n   * economic resource. A resource will have only one, as this specifies exactly\n   * what the resource is.\n **/\n  resourceConformsTo?: Maybe<ResourceSpecification>,\n  /** Exact economic resource involved in the commitment. */\n  resourceInventoriedAs?: Maybe<EconomicResource>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<Measure>,\n  /** An intent satisfied fully or partially by an economic event or commitment. */\n  satisfies?: Maybe<Array<Satisfaction>>,\n};\n\nexport type CommitmentCreateParams = {\n  /** (`Action`) Relates a commitment to a verb, such as consume, produce, work, improve, etc. */\n  action: Scalars['ID'],\n  /** \n * Reference to an agreement between agents which specifies the rules or policies\n   * or calculations which govern this commitment.\n **/\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** (`SpatialThing`) The place where an commitment occurs.  Usually mappable. */\n  atLocation?: Maybe<Scalars['ID']>,\n  /** (`Agreement`) This commitment is part of the agreement. */\n  clauseOf?: Maybe<Scalars['ID']>,\n  /** The time something is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** \n * The commitment is complete or not.  This is irrespective of if the original\n   * goal has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The planned beginning of the commitment. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the commitment. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** The planned date/time for the commitment. Can be used instead of beginning and end. */\n  hasPointInTime?: Maybe<Scalars['DateTime']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** (`Plan`) Represents a desired deliverable expected from this plan. */\n  independentDemandOf?: Maybe<Scalars['ID']>,\n  /** (`Process`) Defines the process to which this commitment is an input. */\n  inputOf?: Maybe<Scalars['ID']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Process`) Defines the process for which this commitment is an output. */\n  outputOf?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent from whom the commitment is initiated. */\n  provider: Scalars['ID'],\n  /** (`Agent`) The economic agent whom the commitment is for. */\n  receiver: Scalars['ID'],\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** (`EconomicResource`) Exact economic resource involved in the commitment. */\n  resourceInventoriedAs?: Maybe<Scalars['ID']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n};\n\nexport type CommitmentResponse = {\n   __typename?: 'CommitmentResponse',\n  commitment?: Maybe<Commitment>,\n};\n\nexport type CommitmentUpdateParams = {\n  /** \n * Reference to an agreement between agents which specifies the rules or policies\n   * or calculations which govern this commitment.\n **/\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** (`SpatialThing`) The place where an commitment occurs.  Usually mappable. */\n  atLocation?: Maybe<Scalars['ID']>,\n  /** (`Agreement`) This commitment is part of the agreement. */\n  clauseOf?: Maybe<Scalars['ID']>,\n  /** The time something is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** \n * The commitment is complete or not.  This is irrespective of if the original\n   * goal has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The planned beginning of the commitment. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the commitment. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** The planned date/time for the commitment. Can be used instead of beginning and end. */\n  hasPointInTime?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** (`Plan`) Represents a desired deliverable expected from this plan. */\n  independentDemandOf?: Maybe<Scalars['ID']>,\n  /** (`Process`) Defines the process to which this commitment is an input. */\n  inputOf?: Maybe<Scalars['ID']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Process`) Defines the process for which this commitment is an output. */\n  outputOf?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent from whom the commitment is initiated. */\n  provider?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent whom the commitment is for. */\n  receiver?: Maybe<Scalars['ID']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** (`EconomicResource`) Exact economic resource involved in the commitment. */\n  resourceInventoriedAs?: Maybe<Scalars['ID']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n};\n\nexport type CommunitiesPage = {\n   __typename?: 'CommunitiesPage',\n  edges: Array<Community>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type Community = {\n   __typename?: 'Community',\n  /** A url for the community, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The total number of collections in the community, including private ones */\n  collectionCount?: Maybe<Scalars['Int']>,\n  /** The collections in this community */\n  collections?: Maybe<CollectionsPage>,\n  /** The parentccommunity or other context the community belongs to */\n  context?: Maybe<AnyContext>,\n  /** When the community was created */\n  createdAt: Scalars['String'],\n  /** The user who created the community */\n  creator?: Maybe<User>,\n  /** A preferred username + the host domain */\n  displayUsername: Scalars['String'],\n  /** A JSON document containing more info beyond the default fields */\n  extraInfo?: Maybe<Scalars['Json']>,\n  /** The total number of times this community has been featured */\n  featureCount?: Maybe<Scalars['Int']>,\n  /** Flags users have made about the community, most recently created first */\n  flags?: Maybe<FlagsPage>,\n  /** Total number of followers, including those we can't see */\n  followerCount?: Maybe<Scalars['Int']>,\n  /** Users following the community, most recently followed first */\n  followers?: Maybe<FollowsPage>,\n  /** An avatar url */\n  icon?: Maybe<Content>,\n  /** An instance-local UUID identifying the user */\n  id: Scalars['String'],\n  /** A header background image url */\n  image?: Maybe<Content>,\n  /** Whether an instance admin has disabled the community */\n  isDisabled: Scalars['Boolean'],\n  /** Whether the community is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the community has a public profile */\n  isPublic: Scalars['Boolean'],\n  /** \n * When the community or a resource or collection in it was last\n   * updated or a thread or a comment was created or updated\n **/\n  lastActivity: Scalars['String'],\n  /** Total number of likes, including those we can't see */\n  likerCount?: Maybe<Scalars['Int']>,\n  /** Likes users have given the community */\n  likers?: Maybe<LikesPage>,\n  /** The current user's flag of the community, if any */\n  myFlag?: Maybe<Flag>,\n  /** The current user's follow of the community, if any */\n  myFollow?: Maybe<Follow>,\n  /** The current user's like of this community, if any */\n  myLike?: Maybe<Like>,\n  /** A name field */\n  name: Scalars['String'],\n  /** Activities in the community, most recently created first */\n  outbox?: Maybe<ActivitiesPage>,\n  /** An instance-unique identifier shared with users and collections */\n  preferredUsername: Scalars['String'],\n  /** Possibly biographical information */\n  summary?: Maybe<Scalars['String']>,\n  /** \n * Threads started on the community, in most recently updated\n   * order. Does not include threads started on collections or\n   * resources\n **/\n  threads?: Maybe<ThreadsPage>,\n  /** When the community was last updated */\n  updatedAt: Scalars['String'],\n};\n\n\nexport type CommunityCollectionsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type CommunityFlagsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type CommunityFollowersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type CommunityLikersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type CommunityOutboxArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type CommunityThreadsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type CommunityInput = {\n  extraInfo?: Maybe<Scalars['Json']>,\n  name: Scalars['String'],\n  preferredUsername?: Maybe<Scalars['String']>,\n  summary?: Maybe<Scalars['String']>,\n};\n\nexport type CommunityUpdateInput = {\n  extraInfo?: Maybe<Scalars['Json']>,\n  name: Scalars['String'],\n  summary?: Maybe<Scalars['String']>,\n};\n\n/** An uploaded file, may contain metadata. */\nexport type Content = {\n   __typename?: 'Content',\n  id: Scalars['ID'],\n  isPublic: Scalars['Boolean'],\n  mediaType: Scalars['String'],\n  metadata?: Maybe<FileMetadata>,\n  mirror?: Maybe<ContentMirror>,\n  upload?: Maybe<ContentUpload>,\n  uploader?: Maybe<User>,\n  url: Scalars['String'],\n};\n\nexport type ContentMirror = {\n   __typename?: 'ContentMirror',\n  url?: Maybe<Scalars['String']>,\n};\n\nexport type ContentUpload = {\n   __typename?: 'ContentUpload',\n  path?: Maybe<Scalars['String']>,\n  size?: Maybe<Scalars['Int']>,\n};\n\nexport type CountriesPages = {\n   __typename?: 'CountriesPages',\n  edges: Array<Country>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type Country = {\n   __typename?: 'Country',\n  capital?: Maybe<Scalars['String']>,\n  continentId?: Maybe<Scalars['String']>,\n  currencyId?: Maybe<Scalars['String']>,\n  id?: Maybe<Scalars['String']>,\n  id3letter?: Maybe<Scalars['String']>,\n  idIso?: Maybe<Scalars['String']>,\n  languageMain?: Maybe<Scalars['String']>,\n  mainTz?: Maybe<Scalars['String']>,\n  nameEng?: Maybe<Scalars['String']>,\n  nameEngFormal?: Maybe<Scalars['String']>,\n  nameLocal?: Maybe<Scalars['String']>,\n  population?: Maybe<Scalars['Int']>,\n  telPrefix?: Maybe<Scalars['String']>,\n  tld?: Maybe<Scalars['String']>,\n};\n\n\n\n/** A `Duration` represents an interval between two `DateTime` values. */\nexport type Duration = {\n   __typename?: 'Duration',\n  /** A number representing the duration, will be paired with a unit. */\n  numericDuration: Scalars['Float'],\n  /** A unit of measure. */\n  unitType: TimeUnit,\n};\n\n/** \n * An observed economic flow, as opposed to a flow planned to happen in the future.\n * This could reflect a change in the quantity of an economic resource. It is also\n * defined by its behavior in relation to the economic resource (see `Action`)\n **/\nexport type EconomicEvent = {\n   __typename?: 'EconomicEvent',\n  /** Relates an economic event to a verb, such as consume, produce, work, improve, etc. */\n  action: Action,\n  /** \n * Reference to an agreement between agents which specifies the rules or policies\n   * or calculations which govern this economic event.\n **/\n  agreedIn?: Maybe<Scalars['URI']>,\n  appreciatedBy?: Maybe<Array<Appreciation>>,\n  appreciationOf?: Maybe<Array<Appreciation>>,\n  /** The place where an economic event occurs.  Usually mappable. */\n  atLocation?: Maybe<SpatialThing>,\n  /** The economic event can be safely deleted, has no dependent information. */\n  deletable?: Maybe<Scalars['Boolean']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<Measure>,\n  /** The commitment which is completely or partially fulfilled by an economic event. */\n  fulfills?: Maybe<Array<Fulfillment>>,\n  /** The beginning of the economic event. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The end of the economic event. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** The date/time at which the economic event occurred. Can be used instead of beginning and end. */\n  hasPointInTime?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  /** Defines the process to which this event is an input. */\n  inputOf?: Maybe<Process>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** Defines the process for which this event is an output. */\n  outputOf?: Maybe<Process>,\n  /** The economic agent from whom the actual economic event is initiated. */\n  provider: Agent,\n  /** This economic event occurs as part of this agreement. */\n  realizationOf?: Maybe<Agreement>,\n  /** The economic agent whom the actual economic event is for. */\n  receiver: Agent,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * The primary resource specification or definition of an existing or potential\n   * economic resource. A resource will have only one, as this specifies exactly\n   * what the resource is.\n **/\n  resourceConformsTo?: Maybe<ResourceSpecification>,\n  /** Economic resource involved in the economic event. */\n  resourceInventoriedAs?: Maybe<EconomicResource>,\n  /** \n * The amount and unit of the economic resource counted or inventoried. This is\n   * the quantity that could be used to increment or decrement a resource,\n   * depending on the type of resource and resource effect of action.\n **/\n  resourceQuantity?: Maybe<Measure>,\n  /** An intent satisfied fully or partially by an economic event or commitment. */\n  satisfies?: Maybe<Array<Satisfaction>>,\n  /** \n * Tags/Categories in a taxonomy, linked to resourceClassifiedAs:\n   * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  tags?: Maybe<Array<Maybe<AnyContext>>>,\n  /** \n * Additional economic resource on the economic event when needed by the\n   * receiver. Used when a transfer or move, or sometimes other actions, requires\n   * explicitly identifying an economic resource on the receiving side.\n **/\n  toResourceInventoriedAs?: Maybe<EconomicResource>,\n  trace?: Maybe<Array<ProductionFlowItem>>,\n  track?: Maybe<Array<ProductionFlowItem>>,\n  /** References another economic event that implied this economic event, often based on a prior agreement. */\n  triggeredBy?: Maybe<EconomicEvent>,\n};\n\nexport type EconomicEventCreateParams = {\n  /** (`Action`) Relates an economic event to a verb, such as consume, produce, work, improve, etc. */\n  action: Scalars['ID'],\n  /** \n * Reference to an agreement between agents which specifies the rules or policies\n   * or calculations which govern this economic event.\n **/\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** (`SpatialThing`) The place where an economic event occurs.  Usually mappable. */\n  atLocation?: Maybe<Scalars['ID']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** The beginning of the economic event. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The end of the economic event. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** The date/time at which the economic event occurred. Can be used instead of beginning and end. */\n  hasPointInTime?: Maybe<Scalars['DateTime']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** (`Process`) Defines the process to which this event is an input. */\n  inputOf?: Maybe<Scalars['ID']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Process`) Defines the process for which this event is an output. */\n  outputOf?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent from whom the actual economic event is initiated. */\n  provider?: Maybe<Scalars['ID']>,\n  /** (`Agreement`) This economic event occurs as part of this agreement. */\n  realizationOf?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent whom the actual economic event is for. */\n  receiver?: Maybe<Scalars['ID']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** (`EconomicResource`) Economic resource involved in the economic event. */\n  resourceInventoriedAs?: Maybe<Scalars['ID']>,\n  /** \n * The amount and unit of the economic resource counted or inventoried. This is\n   * the quantity that could be used to increment or decrement a resource,\n   * depending on the type of resource and resource effect of action.\n **/\n  resourceQuantity?: Maybe<IMeasure>,\n  /** \n * Tags/Categories in a taxonomy, linked to resourceClassifiedAs:\n   * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  tags?: Maybe<Array<Scalars['ID']>>,\n  /** \n * (`EconomicResource`) Additional economic resource on the economic event when\n   * needed by the receiver. Used when a transfer or move, or sometimes other\n   * actions, requires explicitly identifying an economic resource on the receiving side.\n **/\n  toResourceInventoriedAs?: Maybe<Scalars['ID']>,\n  /** (`EconomicEvent`) References another economic event that implied this economic event, often based on a prior agreement. */\n  triggeredBy?: Maybe<Scalars['ID']>,\n};\n\n/** A page of Economic Events */\nexport type EconomicEventPage = {\n   __typename?: 'EconomicEventPage',\n  edges: Array<EconomicEvent>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type EconomicEventResponse = {\n   __typename?: 'EconomicEventResponse',\n  /** Details of the newly created event. */\n  economicEvent: EconomicEvent,\n  /** Details of any newly created `EconomicResource`, for events that create new resources. */\n  economicResource?: Maybe<EconomicResource>,\n};\n\nexport type EconomicEventUpdateParams = {\n  /** \n * Reference to an agreement between agents which specifies the rules or policies\n   * or calculations which govern this economic event.\n **/\n  agreedIn?: Maybe<Scalars['URI']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Agreement`) This economic event occurs as part of this agreement. */\n  realizationOf?: Maybe<Scalars['ID']>,\n  /** (`EconomicEvent`) References another economic event that implied this economic event, often based on a prior agreement. */\n  triggeredBy?: Maybe<Scalars['ID']>,\n};\n\n/** A resource which is useful to people or the ecosystem. */\nexport type EconomicResource = {\n   __typename?: 'EconomicResource',\n  /** \n * The current amount and unit of the economic resource for which the agent has\n   * primary rights and responsibilities, sometimes thought of as ownership. This\n   * can be either stored or derived from economic events affecting the resource.\n **/\n  accountingQuantity?: Maybe<Measure>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  classifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * The primary resource specification or definition of an existing or potential\n   * economic resource. A resource will have only one, as this specifies exactly\n   * what the resource is.\n **/\n  conformsTo: ResourceSpecification,\n  /** Used when a stock economic resource contains items also defined as economic resources. */\n  containedIn?: Maybe<EconomicResource>,\n  /** Used when a stock economic resource contains units also defined as economic resources. */\n  contains?: Maybe<Array<EconomicResource>>,\n  /** \n * The current place an economic resource is located. Could be at any level of\n   * granularity, from a town to an address to a warehouse location. Usually mappable.\n **/\n  currentLocation?: Maybe<SpatialThing>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the resource, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** \n * Lot or batch of an economic resource, used to track forward or backwards to\n   * all occurrences of resources of that lot. Note more than one resource can be\n   * of the same lot.\n **/\n  lot?: Maybe<ProductBatch>,\n  /** An informal or formal textual identifier for an item. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * The current amount and unit of the economic resource which is under direct\n   * control of the agent.  It may be more or less than the accounting quantity.\n   * This can be either stored or derived from economic events affecting the resource.\n **/\n  onhandQuantity?: Maybe<Measure>,\n  /** \n * The agent currently with primary rights and responsibilites for the economic\n   * resource. It is the agent that is associated with the accountingQuantity of\n   * the economic resource.\n **/\n  primaryAccountable?: Maybe<Agent>,\n  /** \n * References the ProcessSpecification of the last process the desired economic\n   * resource went through. Stage is used when the last process is important for\n   * finding proper resources, such as where the publishing process wants only\n   * documents that have gone through the editing process.\n **/\n  stage?: Maybe<ProcessSpecification>,\n  /** \n * The state of the desired economic resource (pass or fail), after coming out of\n   * a test or review process. Can be derived from the last event if a pass or fail event.\n **/\n  state?: Maybe<Action>,\n  /** \n * Tags/Categories in a taxonomy, linked to resourceClassifiedAs:\n   * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  tags?: Maybe<Array<Scalars['ID']>>,\n  trace?: Maybe<Array<EconomicEvent>>,\n  track?: Maybe<Array<EconomicEvent>>,\n  /** \n * Sometimes called serial number, used when each item must have a traceable\n   * identifier (like a computer). Could also be used for other unique tracking\n   * identifiers needed for resources.\n **/\n  trackingIdentifier?: Maybe<Scalars['String']>,\n  /** The unit used for use or work or cite actions for this resource. */\n  unitOfEffort?: Maybe<Unit>,\n};\n\n/** Input `EconomicResource` type used when sending events to setup initial resource recordings */\nexport type EconomicResourceCreateParams = {\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  conformsTo?: Maybe<Scalars['ID']>,\n  /** (`EconomicResource`) Used when a stock economic resource contains items also defined as economic resources. */\n  containedIn?: Maybe<Scalars['ID']>,\n  /** \n * (`SpatialThing`) The current place an economic resource is located.  Could be\n   * at any level of granularity, from a town to an address to a warehouse\n   * location.  Usually mappable.\n **/\n  currentLocation?: Maybe<Scalars['ID']>,\n  /** The uri to an image relevant to the resource, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** \n * (`ProductBatch`) Lot or batch of an economic resource, used to track forward\n   * or backwards to all occurrences of resources of that lot. Note more than one\n   * resource can be of the same lot.\n **/\n  lot?: Maybe<Scalars['ID']>,\n  /** An informal or formal textual identifier for an item. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * Tags/Categories in a taxonomy, linked to resourceClassifiedAs:\n   * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  tags?: Maybe<Array<Scalars['ID']>>,\n  /** \n * Sometimes called serial number, used when each item must have a traceable\n   * identifier (like a computer). Could also be used for other unique tracking\n   * identifiers needed for resources.\n **/\n  trackingIdentifier?: Maybe<Scalars['String']>,\n};\n\n/** A page of Economic Resources */\nexport type EconomicResourcePage = {\n   __typename?: 'EconomicResourcePage',\n  edges: Array<EconomicResource>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type EconomicResourceResponse = {\n   __typename?: 'EconomicResourceResponse',\n  economicResource: EconomicResource,\n};\n\nexport type EconomicResourceUpdateParams = {\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  classifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** (`EconomicResource`) Used when a stock economic resource contains items also defined as economic resources. */\n  containedIn?: Maybe<Scalars['ID']>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the resource, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Unit`) The unit used for use or work or cite actions for this resource. */\n  unitOfEffort?: Maybe<Scalars['ID']>,\n};\n\nexport type EventOrCommitment = Commitment | EconomicEvent;\n\n/** A featured piece of content */\nexport type Feature = {\n   __typename?: 'Feature',\n  /** A url for the feature, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The thing that is being featured */\n  context?: Maybe<AnyContext>,\n  /** When the feature was created */\n  createdAt: Scalars['String'],\n  /** The user who featured */\n  creator?: Maybe<User>,\n  /** An instance-local UUID identifying the feature */\n  id: Scalars['String'],\n  /** Whether the feature is local to the instance */\n  isLocal: Scalars['Boolean'],\n};\n\nexport type FeaturesPage = {\n   __typename?: 'FeaturesPage',\n  edges: Array<Feature>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** More detailed metadata parsed from a file. */\nexport type FileIntrinsics = {\n   __typename?: 'FileIntrinsics',\n  bitsPerPixel?: Maybe<Scalars['Int']>,\n  bitsPerSample?: Maybe<Scalars['Int']>,\n  blockAlign?: Maybe<Scalars['Int']>,\n  byteRate?: Maybe<Scalars['Int']>,\n  colorPlanes?: Maybe<Scalars['Int']>,\n  numColorPalette?: Maybe<Scalars['Int']>,\n  numFrames?: Maybe<Scalars['Int']>,\n  pageCount?: Maybe<Scalars['Int']>,\n};\n\n/** \n * Metadata associated with a file.\n * \n * None of the parameters are required and are filled depending on the\n * file type.\n **/\nexport type FileMetadata = {\n   __typename?: 'FileMetadata',\n  heightPx?: Maybe<Scalars['Int']>,\n  intrinsics?: Maybe<FileIntrinsics>,\n  numAudioChannels?: Maybe<Scalars['Int']>,\n  sampleRateHz?: Maybe<Scalars['Int']>,\n  widthPx?: Maybe<Scalars['Int']>,\n};\n\n/** A report about objectionable content */\nexport type Flag = {\n   __typename?: 'Flag',\n  /** A url for the flag, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The thing that is being flagged */\n  context: AnyContext,\n  /** When the flag was created */\n  createdAt: Scalars['String'],\n  /** The user who flagged */\n  creator?: Maybe<User>,\n  /** An instance-local UUID identifying the flag */\n  id: Scalars['String'],\n  /** Whether the flag is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Is the flag considered dealt with by the instance moderator? */\n  isResolved: Scalars['Boolean'],\n  /** The reason for flagging */\n  message: Scalars['String'],\n  /** When the flag was updated */\n  updatedAt: Scalars['String'],\n};\n\nexport type FlagsPage = {\n   __typename?: 'FlagsPage',\n  edges: Array<Flag>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** A record that a user follows something */\nexport type Follow = {\n   __typename?: 'Follow',\n  /** A url for the follow, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The thing that is being followed */\n  context: AnyContext,\n  /** When the follow was created */\n  createdAt: Scalars['String'],\n  /** The user who followed */\n  creator?: Maybe<User>,\n  /** An instance-local UUID identifying the user */\n  id: Scalars['String'],\n  /** Whether the follow is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the follow is public */\n  isPublic: Scalars['Boolean'],\n  /** When the follow was last updated */\n  updatedAt: Scalars['String'],\n};\n\nexport type FollowsPage = {\n   __typename?: 'FollowsPage',\n  edges: Array<Follow>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** \n * Represents many-to-many relationships between commitments and economic events\n * that fully or partially satisfy one or more commitments.\n **/\nexport type Fulfillment = {\n   __typename?: 'Fulfillment',\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<Measure>,\n  /** The economic event which completely or partially fulfills a commitment. */\n  fulfilledBy: EconomicEvent,\n  /** The commitment which is completely or partially fulfilled by an economic event. */\n  fulfills: Commitment,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<Measure>,\n};\n\nexport type FulfillmentCreateParams = {\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** (`EconomicEvent`) The economic event which completely or partially fulfills a commitment. */\n  fulfilledBy: Scalars['ID'],\n  /** (`Commitment`) The commitment which is completely or partially fulfilled by an economic event. */\n  fulfills: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n};\n\nexport type FulfillmentResponse = {\n   __typename?: 'FulfillmentResponse',\n  fulfillment?: Maybe<Fulfillment>,\n};\n\nexport type FulfillmentUpdateParams = {\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** (`EconomicEvent`) The economic event which completely or partially fulfills a commitment. */\n  fulfilledBy?: Maybe<Scalars['ID']>,\n  /** (`Commitment`) The commitment which is completely or partially fulfilled by an economic event. */\n  fulfills?: Maybe<Scalars['ID']>,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n};\n\nexport type GeolocationDistance = {\n  meters?: Maybe<Scalars['Int']>,\n};\n\nexport type GeolocationFilters = {\n  distance?: Maybe<GeolocationDistance>,\n  nearAddress?: Maybe<Scalars['String']>,\n  nearPoint?: Maybe<GeolocationPoint>,\n};\n\nexport type GeolocationPoint = {\n  lat?: Maybe<Scalars['Float']>,\n  long?: Maybe<Scalars['Float']>,\n};\n\n/** Mutation input structure for defining time durations. */\nexport type IDuration = {\n  /** A number representing the duration, will be paired with a unit. */\n  numericDuration: Scalars['Float'],\n  /** A unit of measure. */\n  unitType: TimeUnit,\n};\n\n/** Mutation input structure for defining measurements. Should be nulled if not present, rather than empty. */\nexport type IMeasure = {\n  /** A number representing the quantity, will be paired with a unit. */\n  hasNumericalValue: Scalars['Float'],\n  /** (`Unit`) A unit of measure. */\n  hasUnit: Scalars['ID'],\n};\n\nexport type Instance = {\n   __typename?: 'Instance',\n  description?: Maybe<Scalars['String']>,\n  /** A JSON document containing more info beyond the default fields */\n  extraInfo?: Maybe<Scalars['Json']>,\n  featuredCollections?: Maybe<FeaturesPage>,\n  featuredCommunities?: Maybe<FeaturesPage>,\n  hostname: Scalars['String'],\n  /** A list of public activity on the local instance, most recent first */\n  outbox?: Maybe<ActivitiesPage>,\n  uploadIconTypes: Array<Scalars['String']>,\n  uploadImageTypes: Array<Scalars['String']>,\n  uploadMaxBytes: Scalars['Int'],\n  uploadResourceTypes: Array<Scalars['String']>,\n};\n\n\nexport type InstanceOutboxArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n/** A planned economic flow which has not been committed to, which can lead to economic events (sometimes through commitments). */\nexport type Intent = {\n   __typename?: 'Intent',\n  /** Relates an intent to a verb, such as consume, produce, work, improve, etc. */\n  action: Action,\n  /** Reference to an agreement between agents which specifies the rules or policies or calculations which govern this intent. */\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** The place where an intent would occur. Usually mappable. */\n  atLocation?: Maybe<SpatialThing>,\n  /** The total quantity of the offered resource available. */\n  availableQuantity?: Maybe<Measure>,\n  canonicalUrl?: Maybe<Scalars['URI']>,\n  /** The intent can be safely deleted, has no dependent information. */\n  deletable?: Maybe<Scalars['Boolean']>,\n  /** The time something is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<Measure>,\n  /** \n * The intent is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The planned beginning of the intent. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the intent. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** The planned date/time for the intent. Can be used instead of beginning and end. */\n  hasPointInTime?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the intent, such as a photo.  */\n  image?: Maybe<Scalars['URI']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  /** Defines the process to which this intent is an input. */\n  inputOf?: Maybe<Process>,\n  /** An informal or formal textual identifier for an intent. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** Defines the process to which this intent is an output. */\n  outputOf?: Maybe<Process>,\n  /** The economic agent from whom the intent is initiated. This implies that the intent is an offer. */\n  provider?: Maybe<Agent>,\n  publishedIn?: Maybe<Array<ProposedIntent>>,\n  /** The economic agent whom the intent is for.  This implies that the intent is a request. */\n  receiver?: Maybe<Agent>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * The primary resource specification or definition of an existing or potential\n   * economic resource. A resource will have only one, as this specifies exactly\n   * what the resource is.\n **/\n  resourceConformsTo?: Maybe<ResourceSpecification>,\n  /** When a specific `EconomicResource` is known which can service the `Intent`, this defines that resource. */\n  resourceInventoriedAs?: Maybe<EconomicResource>,\n  /** \n * The amount and unit of the economic resource counted or inventoried. This is\n   * the quantity that could be used to increment or decrement a resource,\n   * depending on the type of resource and resource effect of action.\n **/\n  resourceQuantity?: Maybe<Measure>,\n  satisfiedBy?: Maybe<Array<Satisfaction>>,\n  /** \n * Tags/Categories in a taxonomy, linked to resourceClassifiedAs:\n   * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  tags?: Maybe<Array<Maybe<AnyContext>>>,\n};\n\nexport type IntentCreateParams = {\n  /** (`Action`) Relates an intent to a verb, such as consume, produce, work, improve, etc. */\n  action: Scalars['String'],\n  /** Reference to an agreement between agents which specifies the rules or policies or calculations which govern this intent. */\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** (`SpatialThing`) The place where an intent occurs. Usually mappable. */\n  atLocation?: Maybe<Scalars['ID']>,\n  /** The total quantity of the offered resource available. */\n  availableQuantity?: Maybe<IMeasure>,\n  /** The time something is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** \n * The intent is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The planned beginning of the intent. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the intent. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** The planned date/time for the intent. Can be used instead of beginning and end. */\n  hasPointInTime?: Maybe<Scalars['DateTime']>,\n  /** The uri to an image relevant to the intent, such as a photo. */\n  image?: Maybe<Scalars['URI']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** (`Process`) Defines the process to which this intent is an input. */\n  inputOf?: Maybe<Scalars['ID']>,\n  /** An informal or formal textual identifier for an intent. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Process`) Defines the process to which this intent is an output. */\n  outputOf?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent from whom the intent is initiated. This implies that the intent is an offer. */\n  provider?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent whom the intent is for.  This implies that the intent is a request. */\n  receiver?: Maybe<Scalars['ID']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** \n * (`EconomicResource`) When a specific `EconomicResource` is known which can\n   * service the `Intent`, this defines that resource.\n **/\n  resourceInventoriedAs?: Maybe<Scalars['ID']>,\n  /** \n * The amount and unit of the economic resource counted or inventoried. This is\n   * the quantity that could be used to increment or decrement a resource,\n   * depending on the type of resource and resource effect of action.\n **/\n  resourceQuantity?: Maybe<IMeasure>,\n  /** \n * Tags/Categories in a taxonomy, linked to resourceClassifiedAs:\n   * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  tags?: Maybe<Array<Scalars['ID']>>,\n};\n\nexport type IntentResponse = {\n   __typename?: 'IntentResponse',\n  intent: Intent,\n};\n\n/** A page of intents */\nexport type IntentsPage = {\n   __typename?: 'IntentsPage',\n  edges: Array<Intent>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type IntentUpdateParams = {\n  /** (`Action`) Relates an intent to a verb, such as consume, produce, work, improve, etc. */\n  action?: Maybe<Scalars['String']>,\n  /** Reference to an agreement between agents which specifies the rules or policies or calculations which govern this intent. */\n  agreedIn?: Maybe<Scalars['URI']>,\n  /** (`SpatialThing`) The place where an intent occurs. Usually mappable. */\n  atLocation?: Maybe<Scalars['ID']>,\n  /** The total quantity of the offered resource available. */\n  availableQuantity?: Maybe<IMeasure>,\n  /** The time something is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** \n * The intent is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The planned beginning of the intent. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the intent. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** The planned date/time for the intent. Can be used instead of beginning and end. */\n  hasPointInTime?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the intent, such as a photo. */\n  image?: Maybe<Scalars['URI']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** (`Process`) Defines the process to which this intent is an input. */\n  inputOf?: Maybe<Scalars['ID']>,\n  /** An informal or formal textual identifier for an intent. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Process`) Defines the process to which this intent is an output. */\n  outputOf?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent from whom the intent is initiated. This implies that the intent is an offer. */\n  provider?: Maybe<Scalars['ID']>,\n  /** (`Agent`) The economic agent whom the intent is for.  This implies that the intent is a request. */\n  receiver?: Maybe<Scalars['ID']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** \n * (`EconomicResource`) When a specific `EconomicResource` is known which can\n   * service the `Intent`, this defines that resource.\n **/\n  resourceInventoriedAs?: Maybe<Scalars['ID']>,\n  /** \n * The amount and unit of the economic resource counted or inventoried. This is\n   * the quantity that could be used to increment or decrement a resource,\n   * depending on the type of resource and resource effect of action.\n **/\n  resourceQuantity?: Maybe<IMeasure>,\n};\n\n\nexport type Language = {\n   __typename?: 'Language',\n  id?: Maybe<Scalars['String']>,\n  languageType?: Maybe<Scalars['String']>,\n  mainCountryId?: Maybe<Scalars['String']>,\n  mainName?: Maybe<Scalars['String']>,\n  nativeName?: Maybe<Scalars['String']>,\n  parentLanguageId?: Maybe<Scalars['String']>,\n  rtl?: Maybe<Scalars['Boolean']>,\n  speakersMil?: Maybe<Scalars['Float']>,\n  speakersNative?: Maybe<Scalars['Int']>,\n  speakersNativeTotal?: Maybe<Scalars['Int']>,\n  subName?: Maybe<Scalars['String']>,\n};\n\nexport type LanguagesPage = {\n   __typename?: 'LanguagesPage',\n  edges: Array<Language>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** A record that a user likes a thing */\nexport type Like = {\n   __typename?: 'Like',\n  /** A url for the like, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The thing that is liked */\n  context: AnyContext,\n  /** When the like was created */\n  createdAt: Scalars['String'],\n  /** The user who liked */\n  creator?: Maybe<User>,\n  /** An instance-local UUID identifying the like */\n  id: Scalars['String'],\n  /** Whether the like is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the like is public */\n  isPublic: Scalars['Boolean'],\n  /** When the like was last updated */\n  updatedAt: Scalars['String'],\n};\n\nexport type LikesPage = {\n   __typename?: 'LikesPage',\n  edges: Array<Like>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** The current user. Contains more information than just the `user` type */\nexport type Me = {\n   __typename?: 'Me',\n  /** The user's email */\n  email: Scalars['String'],\n  /** Has the user confirmed their account? */\n  isConfirmed: Scalars['Boolean'],\n  /** Is the user a witch or wizard? */\n  isInstanceAdmin: Scalars['Boolean'],\n  /** The public info */\n  user: User,\n  /** Would the user like to receive digest emails of updates? */\n  wantsEmailDigest: Scalars['Boolean'],\n  /** Does the user want notifications? Which don't work yet. */\n  wantsNotifications: Scalars['Boolean'],\n};\n\n/** \n * Semantic meaning for measurements: binds a quantity to its measurement unit.\n * See http://www.qudt.org/pages/QUDToverviewPage.html\n **/\nexport type Measure = {\n   __typename?: 'Measure',\n  /** Added for CommonsPub */\n  canonicalUrl?: Maybe<Scalars['URI']>,\n  /** A number representing the quantity, will be paired with a unit. */\n  hasNumericalValue: Scalars['Float'],\n  /** A unit of measure. */\n  hasUnit: Unit,\n  id: Scalars['ID'],\n};\n\nexport type MeasuresPage = {\n   __typename?: 'MeasuresPage',\n  edges?: Maybe<Array<Measure>>,\n  pageInfo?: Maybe<PageInfo>,\n  totalCount?: Maybe<Scalars['Int']>,\n};\n\n/** An organisation is an agent/actor that fronts several people/users */\nexport type Organisation = {\n   __typename?: 'Organisation',\n  /** A url for the organisation, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** The character associated with this organisation */\n  character?: Maybe<Character>,\n  /** The community the organisation belongs to */\n  context?: Maybe<Community>,\n  /** The user who created the organisation */\n  creator?: Maybe<User>,\n  /** A preferred username + the host domain */\n  displayUsername?: Maybe<Scalars['String']>,\n  /** A JSON document containing more info beyond the default fields */\n  extraInfo?: Maybe<Scalars['Json']>,\n  /** Flags users have made about the organisation, most recently created first */\n  flags?: Maybe<FlagsPage>,\n  /** Total number of followers, including those we can't see */\n  followerCount?: Maybe<Scalars['Int']>,\n  /** Subscriptions users have to the organisation */\n  followers?: Maybe<FollowsPage>,\n  /** An avatar url */\n  icon?: Maybe<Content>,\n  /** An instance-local UUID identifying the user */\n  id: Scalars['String'],\n  /** Another image url */\n  image?: Maybe<Content>,\n  /** Whether an instance admin has hidden the organisation */\n  isDisabled: Scalars['Boolean'],\n  /** Whether the organisation is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the organisation is public */\n  isPublic: Scalars['Boolean'],\n  /** Total number of likers, including those we can't see */\n  likerCount?: Maybe<Scalars['Int']>,\n  /** Likes users have made of the organisation */\n  likers?: Maybe<LikesPage>,\n  /** The current user's flag of the organisation, if any */\n  myFlag?: Maybe<Flag>,\n  /** The current user's follow of this organisation, if any */\n  myFollow?: Maybe<Follow>,\n  /** The current user's like of this organisation, if any */\n  myLike?: Maybe<Like>,\n  /** A name field */\n  name: Scalars['String'],\n  /** Activities on the organisation, most recent first */\n  outbox?: Maybe<ActivitiesPage>,\n  /** An instance-unique identifier shared with users and communities */\n  preferredUsername?: Maybe<Scalars['String']>,\n  /** The profile associated with this organisation */\n  profile?: Maybe<Profile>,\n  /** Possibly biographical information */\n  summary?: Maybe<Scalars['String']>,\n  /** \n * The threads created on the organisation, most recently created\n   * first. Does not include threads created on resources.\n **/\n  threads?: Maybe<ThreadsPage>,\n  /** When the organisation was last updated */\n  updatedAt: Scalars['String'],\n};\n\n\n/** An organisation is an agent/actor that fronts several people/users */\nexport type OrganisationFlagsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** An organisation is an agent/actor that fronts several people/users */\nexport type OrganisationFollowersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** An organisation is an agent/actor that fronts several people/users */\nexport type OrganisationLikersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** An organisation is an agent/actor that fronts several people/users */\nexport type OrganisationOutboxArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** An organisation is an agent/actor that fronts several people/users */\nexport type OrganisationThreadsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type OrganisationInput = {\n  name: Scalars['String'],\n  preferredUsername?: Maybe<Scalars['String']>,\n  summary?: Maybe<Scalars['String']>,\n};\n\nexport type OrganisationsPage = {\n   __typename?: 'OrganisationsPage',\n  edges: Array<Organisation>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type OrganisationUpdateInput = {\n  name: Scalars['String'],\n  summary?: Maybe<Scalars['String']>,\n};\n\n/** A formal or informal group, or legal organization. */\nexport type Organization = Agent & {\n   __typename?: 'Organization',\n  agentType?: Maybe<AgentType>,\n  canonicalUrl?: Maybe<Scalars['String']>,\n  commitments?: Maybe<Array<Commitment>>,\n  displayUsername?: Maybe<Scalars['String']>,\n  economicEvents?: Maybe<Array<EconomicEvent>>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the agent, such as a logo, avatar, photo, etc. */\n  image?: Maybe<Scalars['URI']>,\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  intents?: Maybe<Array<Intent>>,\n  inventoriedEconomicResources?: Maybe<Array<EconomicResource>>,\n  /** The name that this agent will be referred to by. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  plans?: Maybe<Array<Plan>>,\n  /** \n * The main place an agent is located, often an address where activities occur\n   * and mail can be sent. This is usually a mappable geographic location.  It also\n   * could be a website address, as in the case of agents who have no physical location.\n **/\n  primaryLocation?: Maybe<SpatialThing>,\n  processes?: Maybe<Array<Process>>,\n  proposals?: Maybe<Array<Proposal>>,\n  relationships?: Maybe<Array<AgentRelationship>>,\n  relationshipsAsObject?: Maybe<Array<AgentRelationship>>,\n  relationshipsAsSubject?: Maybe<Array<AgentRelationship>>,\n  roles?: Maybe<Array<AgentRelationshipRole>>,\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationCommitmentsArgs = {\n  filter?: Maybe<AgentCommitmentSearchParams>\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationEconomicEventsArgs = {\n  filter?: Maybe<AgentEventSearchParams>\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationIntentsArgs = {\n  filter?: Maybe<AgentIntentSearchParams>\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationInventoriedEconomicResourcesArgs = {\n  filter?: Maybe<AgentResourceSearchParams>\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationPlansArgs = {\n  filter?: Maybe<AgentPlanSearchParams>\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationProcessesArgs = {\n  filter?: Maybe<AgentProcessSearchParams>\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationRelationshipsArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationRelationshipsAsObjectArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\n\n/** A formal or informal group, or legal organization. */\nexport type OrganizationRelationshipsAsSubjectArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\nexport type OrganizationResponse = {\n   __typename?: 'OrganizationResponse',\n  agent: Organization,\n};\n\n/** Cursors for pagination */\nexport type PageInfo = {\n   __typename?: 'PageInfo',\n  endCursor?: Maybe<Array<Scalars['Cursor']>>,\n  hasNextPage?: Maybe<Scalars['Boolean']>,\n  hasPreviousPage?: Maybe<Scalars['Boolean']>,\n  startCursor?: Maybe<Array<Scalars['Cursor']>>,\n};\n\n/** A natural person. */\nexport type Person = Agent & {\n   __typename?: 'Person',\n  agentType?: Maybe<AgentType>,\n  canonicalUrl?: Maybe<Scalars['String']>,\n  commitments?: Maybe<Array<Commitment>>,\n  displayUsername?: Maybe<Scalars['String']>,\n  economicEvents?: Maybe<Array<EconomicEvent>>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the agent, such as a logo, avatar, photo, etc. */\n  image?: Maybe<Scalars['URI']>,\n  intents?: Maybe<Array<Intent>>,\n  inventoriedEconomicResources?: Maybe<Array<EconomicResource>>,\n  /** The name that this agent will be referred to by. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  plans?: Maybe<Array<Plan>>,\n  /** \n * The main place an agent is located, often an address where activities occur\n   * and mail can be sent. This is usually a mappable geographic location.  It also\n   * could be a website address, as in the case of agents who have no physical location.\n **/\n  primaryLocation?: Maybe<SpatialThing>,\n  processes?: Maybe<Array<Process>>,\n  proposals?: Maybe<Array<Proposal>>,\n  relationships?: Maybe<Array<AgentRelationship>>,\n  relationshipsAsObject?: Maybe<Array<AgentRelationship>>,\n  relationshipsAsSubject?: Maybe<Array<AgentRelationship>>,\n  roles?: Maybe<Array<AgentRelationshipRole>>,\n};\n\n\n/** A natural person. */\nexport type PersonCommitmentsArgs = {\n  filter?: Maybe<AgentCommitmentSearchParams>\n};\n\n\n/** A natural person. */\nexport type PersonEconomicEventsArgs = {\n  filter?: Maybe<AgentEventSearchParams>\n};\n\n\n/** A natural person. */\nexport type PersonIntentsArgs = {\n  filter?: Maybe<AgentIntentSearchParams>\n};\n\n\n/** A natural person. */\nexport type PersonInventoriedEconomicResourcesArgs = {\n  filter?: Maybe<AgentResourceSearchParams>\n};\n\n\n/** A natural person. */\nexport type PersonPlansArgs = {\n  filter?: Maybe<AgentPlanSearchParams>\n};\n\n\n/** A natural person. */\nexport type PersonProcessesArgs = {\n  filter?: Maybe<AgentProcessSearchParams>\n};\n\n\n/** A natural person. */\nexport type PersonRelationshipsArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\n\n/** A natural person. */\nexport type PersonRelationshipsAsObjectArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\n\n/** A natural person. */\nexport type PersonRelationshipsAsSubjectArgs = {\n  roleId?: Maybe<Scalars['ID']>\n};\n\nexport type PersonResponse = {\n   __typename?: 'PersonResponse',\n  agent: Person,\n};\n\n/** A logical collection of processes that constitute a body of planned work with defined deliverable(s). */\nexport type Plan = {\n   __typename?: 'Plan',\n  /** The time the plan was made. */\n  created?: Maybe<Scalars['DateTime']>,\n  /** The plan is able to be deleted or not. */\n  deletable?: Maybe<Scalars['Boolean']>,\n  /** The time the plan is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  independentDemands?: Maybe<Array<Commitment>>,\n  /** An informal or formal textual identifier for a plan. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  processes?: Maybe<Array<Process>>,\n  /** This plan refines a scenario, making it operational. */\n  refinementOf?: Maybe<Scenario>,\n};\n\n\n/** A logical collection of processes that constitute a body of planned work with defined deliverable(s). */\nexport type PlanProcessesArgs = {\n  filter?: Maybe<PlanProcessSearchParams>\n};\n\nexport type PlanCreateParams = {\n  /** The time the plan was made. */\n  created?: Maybe<Scalars['DateTime']>,\n  /** The time the plan is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  /** An informal or formal textual identifier for a plan. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Scenario`) This plan refines a scenario, making it operational. */\n  refinementOf?: Maybe<Scalars['ID']>,\n};\n\n/** Query parameters for reading `Process`es related to a `Plan` */\nexport type PlanProcessSearchParams = {\n  after?: Maybe<Scalars['DateTime']>,\n  before?: Maybe<Scalars['DateTime']>,\n  finished?: Maybe<Scalars['Boolean']>,\n  searchString?: Maybe<Scalars['String']>,\n};\n\nexport type PlanResponse = {\n   __typename?: 'PlanResponse',\n  plan?: Maybe<Plan>,\n};\n\nexport type PlanUpdateParams = {\n  /** The time the plan was made. */\n  created?: Maybe<Scalars['DateTime']>,\n  /** The time the plan is expected to be complete. */\n  due?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for a plan. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Scenario`) This plan refines a scenario, making it operational. */\n  refinementOf?: Maybe<Scalars['ID']>,\n};\n\n/** An activity that changes inputs into outputs.  It could transform or transport economic resource(s). */\nexport type Process = {\n   __typename?: 'Process',\n  /** The definition or specification for a process. */\n  basedOn?: Maybe<ProcessSpecification>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  classifiedAs?: Maybe<Array<Scalars['URI']>>,\n  committedInputs?: Maybe<Array<Commitment>>,\n  committedOutputs?: Maybe<Array<Commitment>>,\n  /** The process can be safely deleted, has no dependent information. */\n  deletable?: Maybe<Scalars['Boolean']>,\n  /** \n * The process is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The planned beginning of the process. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the process. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  inputs?: Maybe<Array<EconomicEvent>>,\n  intendedInputs?: Maybe<Array<Intent>>,\n  intendedOutputs?: Maybe<Array<Intent>>,\n  /** An informal or formal textual identifier for a process. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** The process with its inputs and outputs is part of the scenario. */\n  nestedIn?: Maybe<Scenario>,\n  nextProcesses?: Maybe<Array<Process>>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  outputs?: Maybe<Array<EconomicEvent>>,\n  /** The process with its inputs and outputs is part of the plan. */\n  plannedWithin?: Maybe<Plan>,\n  previousProcesses?: Maybe<Array<Process>>,\n  /** \n * Tags/Categories in a taxonomy, linked to resourceClassifiedAs:\n   * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  tags?: Maybe<Array<AnyContext>>,\n  trace?: Maybe<Array<EconomicEvent>>,\n  track?: Maybe<Array<EconomicEvent>>,\n  unplannedEconomicEvents?: Maybe<Array<EconomicEvent>>,\n  workingAgents?: Maybe<Array<Agent>>,\n};\n\n\n/** An activity that changes inputs into outputs.  It could transform or transport economic resource(s). */\nexport type ProcessCommittedInputsArgs = {\n  action?: Maybe<Scalars['ID']>\n};\n\n\n/** An activity that changes inputs into outputs.  It could transform or transport economic resource(s). */\nexport type ProcessCommittedOutputsArgs = {\n  action?: Maybe<Scalars['ID']>\n};\n\n\n/** An activity that changes inputs into outputs.  It could transform or transport economic resource(s). */\nexport type ProcessInputsArgs = {\n  action?: Maybe<Scalars['ID']>\n};\n\n\n/** An activity that changes inputs into outputs.  It could transform or transport economic resource(s). */\nexport type ProcessIntendedInputsArgs = {\n  action?: Maybe<Scalars['ID']>\n};\n\n\n/** An activity that changes inputs into outputs.  It could transform or transport economic resource(s). */\nexport type ProcessIntendedOutputsArgs = {\n  action?: Maybe<Scalars['ID']>\n};\n\n\n/** An activity that changes inputs into outputs.  It could transform or transport economic resource(s). */\nexport type ProcessOutputsArgs = {\n  action?: Maybe<Scalars['ID']>\n};\n\n\n/** An activity that changes inputs into outputs.  It could transform or transport economic resource(s). */\nexport type ProcessUnplannedEconomicEventsArgs = {\n  action?: Maybe<Scalars['ID']>\n};\n\nexport type ProcessCreateParams = {\n  /** (`ProcessSpecification`) The definition or specification for a process. */\n  basedOn?: Maybe<Scalars['ID']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  classifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * The process is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The planned beginning of the process. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the process. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** An informal or formal textual identifier for a process. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Plan`) The process with its inputs and outputs is part of the plan. */\n  plannedWithin?: Maybe<Scalars['ID']>,\n  /** \n * Tags/Categories in a taxonomy, linked to resourceClassifiedAs:\n   * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  tags?: Maybe<Array<Scalars['ID']>>,\n};\n\n/** A page of Processes */\nexport type ProcessPage = {\n   __typename?: 'ProcessPage',\n  edges: Array<Process>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type ProcessResponse = {\n   __typename?: 'ProcessResponse',\n  process?: Maybe<Process>,\n};\n\n/** Specifies the kind of process. */\nexport type ProcessSpecification = {\n   __typename?: 'ProcessSpecification',\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for the process. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type ProcessSpecificationCreateParams = {\n  /** An informal or formal textual identifier for the process. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type ProcessSpecificationResponse = {\n   __typename?: 'ProcessSpecificationResponse',\n  processSpecification?: Maybe<ProcessSpecification>,\n};\n\nexport type ProcessSpecificationUpdateParams = {\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for the process. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type ProcessUpdateParams = {\n  /** (`ProcessSpecification`) The definition or specification for a process. */\n  basedOn?: Maybe<Scalars['ID']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  classifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * The process is complete or not.  This is irrespective of if the original goal\n   * has been met, and indicates that no more will be done.\n **/\n  finished?: Maybe<Scalars['Boolean']>,\n  /** The planned beginning of the process. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The planned end of the process. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** An informal or formal textual identifier for a process. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Plan`) The process with its inputs and outputs is part of the plan. */\n  plannedWithin?: Maybe<Scalars['ID']>,\n};\n\n/** \n * A lot or batch, defining a resource produced at the same time in the same way.\n * From DataFoodConsortium vocabulary https://datafoodconsortium.gitbook.io/dfc-standard-documentation/.\n **/\nexport type ProductBatch = {\n   __typename?: 'ProductBatch',\n  /** The standard unique identifier of the batch. */\n  batchNumber: Scalars['String'],\n  /** Expiration date of the batch, commonly used for food. */\n  expiryDate?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Date the batch was produced.  Can be derived from the economic event of production. */\n  productionDate?: Maybe<Scalars['DateTime']>,\n};\n\nexport type ProductBatchCreateParams = {\n  /** The standard unique identifier of the batch. */\n  batchNumber: Scalars['String'],\n  /** Expiration date of the batch, commonly used for food. */\n  expiryDate?: Maybe<Scalars['DateTime']>,\n  /** Date the batch was produced.  Can be derived from the economic event of production. */\n  productionDate?: Maybe<Scalars['DateTime']>,\n};\n\nexport type ProductBatchResponse = {\n   __typename?: 'ProductBatchResponse',\n  productBatch: ProductBatch,\n};\n\nexport type ProductBatchUpdateParams = {\n  /** The standard unique identifier of the batch. */\n  batchNumber?: Maybe<Scalars['String']>,\n  /** Expiration date of the batch, commonly used for food. */\n  expiryDate?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Date the batch was produced.  Can be derived from the economic event of production. */\n  productionDate?: Maybe<Scalars['DateTime']>,\n};\n\nexport type ProductionFlowItem = EconomicResource | Process;\n\n/** \n * A profile is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type Profile = {\n   __typename?: 'Profile',\n  /** A url for the profile, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** When the profile was created */\n  createdAt: Scalars['String'],\n  /** The user who created the profile */\n  creator?: Maybe<User>,\n  /** A preferred username + the host domain */\n  displayUsername: Scalars['String'],\n  /** A JSON document containing more info beyond the default fields */\n  extraInfo?: Maybe<Scalars['Json']>,\n  /** Flags users have made about the profile, most recently created first */\n  flags?: Maybe<FlagsPage>,\n  /** An avatar or icon url */\n  icon?: Maybe<Content>,\n  /** \n * An instance-local UUID identifying the profile. Not to be confused with the\n   * associated thing's ID (available under profileistic.id)\n **/\n  id: Scalars['String'],\n  /** A background image url */\n  image?: Maybe<Content>,\n  /** Whether an instance admin has hidden the profile */\n  isDisabled: Scalars['Boolean'],\n  /** Whether the profile is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the profile is public */\n  isPublic: Scalars['Boolean'],\n  /** Total number of likers, including those we can't see */\n  likerCount?: Maybe<Scalars['Int']>,\n  /** Likes users have made of the profile */\n  likers?: Maybe<LikesPage>,\n  /** The current user's flag of the profile, if any */\n  myFlag?: Maybe<Flag>,\n  /** The current user's like of this profile, if any */\n  myLike?: Maybe<Like>,\n  /** A name field */\n  name: Scalars['String'],\n  /** An instance-unique identifier shared with users and communities */\n  preferredUsername: Scalars['String'],\n  /** Possibly biographical information */\n  summary?: Maybe<Scalars['String']>,\n  /** When the profile was last updated */\n  updatedAt: Scalars['String'],\n};\n\n\n/** \n * A profile is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type ProfileFlagsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** \n * A profile is anything (Person, Group, Organisation, Taxonomy Tag, Location,\n * Thread, what-have-you...) which has a feed which can be followed, and can be\n * tagged in other activities\n **/\nexport type ProfileLikersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type ProfileInput = {\n  name: Scalars['String'],\n  summary?: Maybe<Scalars['String']>,\n};\n\nexport type ProfilesPage = {\n   __typename?: 'ProfilesPage',\n  edges: Array<Profile>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** Published requests or offers, sometimes with what is expected in return. */\nexport type Proposal = {\n   __typename?: 'Proposal',\n  canonicalUrl?: Maybe<Scalars['URI']>,\n  /** The date and time the proposal was created. */\n  created?: Maybe<Scalars['DateTime']>,\n  creator?: Maybe<Agent>,\n  /** Location or area where the proposal is valid. */\n  eligibleLocation?: Maybe<SpatialThing>,\n  /** The beginning time of proposal publication. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The end time of proposal publication. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  /** An informal or formal textual identifier for a proposal. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** Which Agent(s) (if any were specified) was this proposed to? */\n  publishedTo?: Maybe<Array<ProposedTo>>,\n  /** Intent(s) published as part of to this proposal */\n  publishes?: Maybe<Array<ProposedIntent>>,\n  /** \n * This proposal contains unit based quantities, which can be multipied to create\n   * commitments; commonly seen in a price list or e-commerce.\n **/\n  unitBased?: Maybe<Scalars['Boolean']>,\n};\n\nexport type ProposalCreateParams = {\n  /** The date and time the proposal was created. */\n  created?: Maybe<Scalars['DateTime']>,\n  /** (`SpatialThing`) The location at which this proposal is eligible. */\n  eligibleLocation?: Maybe<Scalars['ID']>,\n  /** The beginning time of proposal publication. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The end time of proposal publication. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** An informal or formal textual identifier for a proposal. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * This proposal contains unit based quantities, which can be multipied to create\n   * commitments; commonly seen in a price list or e-commerce.\n **/\n  unitBased?: Maybe<Scalars['Boolean']>,\n};\n\nexport type ProposalResponse = {\n   __typename?: 'ProposalResponse',\n  proposal?: Maybe<Proposal>,\n};\n\n/** A page of proposals */\nexport type ProposalsPage = {\n   __typename?: 'ProposalsPage',\n  edges: Array<Proposal>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type ProposalUpdateParams = {\n  /** (`SpatialThing`) The location at which this proposal is eligible. */\n  eligibleLocation?: Maybe<Scalars['ID']>,\n  /** The beginning date/time of proposal publication. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The end time of proposal publication. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** An informal or formal textual identifier for a proposal. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * This proposal contains unit based quantities, which can be multipied to create\n   * commitments; commonly seen in a price list or e-commerce.\n **/\n  unitBased?: Maybe<Scalars['Boolean']>,\n};\n\n/** \n * Represents many-to-many relationships between Proposals and Intents, supporting\n * including intents in multiple proposals, as well as a proposal including\n * multiple intents.\n **/\nexport type ProposedIntent = {\n   __typename?: 'ProposedIntent',\n  id: Scalars['ID'],\n  /** The published proposal which this intent is part of. */\n  publishedIn: Proposal,\n  /** The intent which is part of this published proposal. */\n  publishes: Intent,\n  /** This is a reciprocal intent of this proposal, not primary. Not meant to be used for intent matching. */\n  reciprocal?: Maybe<Scalars['Boolean']>,\n};\n\nexport type ProposedIntentResponse = {\n   __typename?: 'ProposedIntentResponse',\n  proposedIntent?: Maybe<ProposedIntent>,\n};\n\n/** An agent to which the proposal is to be published.  A proposal can be published to many agents. */\nexport type ProposedTo = {\n   __typename?: 'ProposedTo',\n  id: Scalars['ID'],\n  /** The proposal that is published to a specific agent. */\n  proposed: Proposal,\n  /** The agent to which the proposal is published. */\n  proposedTo: Agent,\n};\n\nexport type ProposedToResponse = {\n   __typename?: 'ProposedToResponse',\n  proposedTo?: Maybe<ProposedTo>,\n};\n\n/** Specifies an exchange agreement as part of a recipe. */\nexport type RecipeExchange = {\n   __typename?: 'RecipeExchange',\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for a recipe exchange. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type RecipeExchangeCreateParams = {\n  /** An informal or formal textual identifier for a recipe exchange. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type RecipeExchangeResponse = {\n   __typename?: 'RecipeExchangeResponse',\n  recipeExchange?: Maybe<RecipeExchange>,\n};\n\nexport type RecipeExchangeUpdateParams = {\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for a recipe exchange. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\n/** The specification of a resource inflow to, or outflow from, a recipe process. */\nexport type RecipeFlow = {\n   __typename?: 'RecipeFlow',\n  /** Relates a process input or output to a verb, such as consume, produce, work, modify, etc. */\n  action: Action,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<Measure>,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The resource definition referenced by this flow in the recipe. */\n  recipeFlowResource?: Maybe<RecipeResource>,\n  /** Relates an input flow to its process in a recipe. */\n  recipeInputOf?: Maybe<RecipeProcess>,\n  /** Relates an output flow to its process in a recipe. */\n  recipeOutputOf?: Maybe<RecipeProcess>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<Measure>,\n};\n\nexport type RecipeFlowCreateParams = {\n  /** (`Action`) Relates a process input or output to a verb, such as consume, produce, work, modify, etc. */\n  action: Scalars['ID'],\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`RecipeExchange`) Relates a flow to its exchange agreement in a recipe. */\n  recipeClauseOf?: Maybe<Scalars['ID']>,\n  /** (`RecipeResource`) The resource definition referenced by this flow in the recipe. */\n  recipeFlowResource: Scalars['ID'],\n  /** (`RecipeProcess`) Relates an input flow to its process in a recipe. */\n  recipeInputOf?: Maybe<Scalars['ID']>,\n  /** (`RecipeProcess`) Relates an output flow to its process in a recipe. */\n  recipeOutputOf?: Maybe<Scalars['ID']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n  /** \n * (`ProcessSpecification`) References the ProcessSpecification of the last\n   * process the economic resource went through. Stage is used when the last\n   * process is important for finding proper resources, such as where the\n   * publishing process wants only documents that have gone through the editing process.\n **/\n  stage?: Maybe<Scalars['ID']>,\n  /** The state of the desired economic resource (pass or fail), after coming out of a test or review process. */\n  state?: Maybe<Scalars['String']>,\n};\n\nexport type RecipeFlowResponse = {\n   __typename?: 'RecipeFlowResponse',\n  recipeFlow?: Maybe<RecipeFlow>,\n};\n\nexport type RecipeFlowUpdateParams = {\n  /** (`Action`) Relates a process input or output to a verb, such as consume, produce, work, modify, etc. */\n  action?: Maybe<Scalars['ID']>,\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`RecipeResource`) The resource definition referenced by this flow in the recipe. */\n  recipeFlowResource?: Maybe<Scalars['ID']>,\n  /** (`RecipeProcess`) Relates an input flow to its process in a recipe. */\n  recipeInputOf?: Maybe<Scalars['ID']>,\n  /** (`RecipeProcess`) Relates an output flow to its process in a recipe. */\n  recipeOutputOf?: Maybe<Scalars['ID']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n  /** \n * (`ProcessSpecification`) References the ProcessSpecification of the last\n   * process the economic resource went through. Stage is used when the last\n   * process is important for finding proper resources, such as where the\n   * publishing process wants only documents that have gone through the editing process.\n **/\n  stage?: Maybe<Scalars['ID']>,\n  /** The state of the desired economic resource (pass or fail), after coming out of a test or review process. */\n  state?: Maybe<Scalars['String']>,\n};\n\n/** Specifies a process in a recipe for use in planning from recipe. */\nexport type RecipeProcess = {\n   __typename?: 'RecipeProcess',\n  /** The planned calendar duration of the process as defined for the recipe batch. */\n  hasDuration?: Maybe<Duration>,\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for a recipe process. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** References a concept in a common taxonomy or other classification scheme for purposes of categorization. */\n  processClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** The standard specification or definition of a process. */\n  processConformsTo: ProcessSpecification,\n};\n\nexport type RecipeProcessCreateParams = {\n  /** The planned calendar duration of the process as defined for the recipe batch. */\n  hasDuration?: Maybe<IDuration>,\n  /** An informal or formal textual identifier for a recipe process. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** References a concept in a common taxonomy or other classification scheme for purposes of categorization. */\n  processClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** (`ProcessSpecification`) The standard specification or definition of a process. */\n  processConformsTo: Scalars['ID'],\n};\n\nexport type RecipeProcessResponse = {\n   __typename?: 'RecipeProcessResponse',\n  recipeProcess?: Maybe<RecipeProcess>,\n};\n\nexport type RecipeProcessUpdateParams = {\n  /** The planned calendar duration of the process as defined for the recipe batch. */\n  hasDuration?: Maybe<IDuration>,\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for a recipe process. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** References a concept in a common taxonomy or other classification scheme for purposes of categorization. */\n  processClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** (`ProcessSpecification`) The standard specification or definition of a process. */\n  processConformsTo: Scalars['ID'],\n};\n\n/** Specifies the resource as part of a recipe, for use in planning from recipe. */\nexport type RecipeResource = {\n   __typename?: 'RecipeResource',\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the entity, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** An informal or formal textual identifier for a recipe resource. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * The primary resource specification or definition of an existing or potential\n   * economic resource. A resource will have only one, as this specifies exactly\n   * what the resource is.\n **/\n  resourceConformsTo?: Maybe<ResourceSpecification>,\n  /** \n * Defines if any resource of that type can be freely substituted for any other\n   * resource of that type when used, consumed, traded, etc.\n **/\n  substitutable?: Maybe<Scalars['Boolean']>,\n  /** The unit used for use action on this resource or work action in the recipe. */\n  unitOfEffort?: Maybe<Unit>,\n  /** The unit of inventory used for this resource in the recipe. */\n  unitOfResource?: Maybe<Unit>,\n};\n\nexport type RecipeResourceCreateParams = {\n  /** The uri to an image relevant to the entity, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** An informal or formal textual identifier for a recipe resource. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** \n * Defines if any resource of that type can be freely substituted for any other\n   * resource of that type when used, consumed, traded, etc.\n **/\n  substitutable?: Maybe<Scalars['Boolean']>,\n  /** (`Unit`) The unit used for use action on this resource or work action in the recipe. */\n  unitOfEffort?: Maybe<Scalars['ID']>,\n  /** (`Unit`) The unit of inventory used for this resource in the recipe. */\n  unitOfResource?: Maybe<Scalars['ID']>,\n};\n\nexport type RecipeResourceResponse = {\n   __typename?: 'RecipeResourceResponse',\n  recipeResource?: Maybe<RecipeResource>,\n};\n\nexport type RecipeResourceUpdateParams = {\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the entity, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** An informal or formal textual identifier for a recipe resource. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  /** \n * (`ResourceSpecification`) The primary resource specification or definition of\n   * an existing or potential economic resource. A resource will have only one, as\n   * this specifies exactly what the resource is.\n **/\n  resourceConformsTo?: Maybe<Scalars['ID']>,\n  /** \n * Defines if any resource of that type can be freely substituted for any other\n   * resource of that type when used, consumed, traded, etc.\n **/\n  substitutable?: Maybe<Scalars['Boolean']>,\n  /** (`Unit`) The unit used for use action on this resource or work action in the recipe. */\n  unitOfEffort?: Maybe<Scalars['ID']>,\n  /** (`Unit`) The unit of inventory used for this resource in the recipe. */\n  unitOfResource?: Maybe<Scalars['ID']>,\n};\n\nexport type RegisterEmailAccess = {\n   __typename?: 'RegisterEmailAccess',\n  createdAt: Scalars['String'],\n  email: Scalars['String'],\n  id: Scalars['String'],\n  updatedAt: Scalars['String'],\n};\n\nexport type RegisterEmailAccessesPage = {\n   __typename?: 'RegisterEmailAccessesPage',\n  edges: Array<RegisterEmailAccess>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type RegisterEmailDomainAccess = {\n   __typename?: 'RegisterEmailDomainAccess',\n  createdAt: Scalars['String'],\n  domain: Scalars['String'],\n  id: Scalars['String'],\n  updatedAt: Scalars['String'],\n};\n\nexport type RegisterEmailDomainAccessesPage = {\n   __typename?: 'RegisterEmailDomainAccessesPage',\n  edges: Array<RegisterEmailDomainAccess>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type RegistrationInput = {\n  email: Scalars['String'],\n  extraInfo?: Maybe<Scalars['Json']>,\n  location?: Maybe<Scalars['String']>,\n  name: Scalars['String'],\n  password: Scalars['String'],\n  preferredUsername: Scalars['String'],\n  summary?: Maybe<Scalars['String']>,\n  wantsEmailDigest: Scalars['Boolean'],\n  wantsNotifications: Scalars['Boolean'],\n  website?: Maybe<Scalars['String']>,\n};\n\nexport type Resource = {\n   __typename?: 'Resource',\n  /** What license is it available under? */\n  license?: Maybe<Scalars['String']>,\n  /** The HTML code of content that may be embeded */\n  embedCode?: Maybe<Scalars['String']>,\n  /** How can you access it? see https://www.w3.org/wiki/WebSchemas/Accessibility */\n  accessibilityFeature?: Maybe<Array<Maybe<Scalars['String']>>>,\n  /** A JSON document containing more info beyond the default fields */\n  extraInfo?: Maybe<Scalars['Json']>,\n  /** The collection this resource is a part of, if any */\n  collection?: Maybe<Collection>,\n  /** Whether the resource is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** An instance-local UUID identifying the resource */\n  id: Scalars['String'],\n  /** Resource's level */\n  level?: Maybe<Scalars['String']>,\n  /** Resource's subject */\n  subject?: Maybe<Scalars['String']>,\n  /** When the resource was last updated */\n  updatedAt: Scalars['String'],\n  /** Total number of likers, including those we can't see */\n  likerCount?: Maybe<Scalars['Int']>,\n  /** Can you use it without paying? */\n  freeAccess?: Maybe<Scalars['Boolean']>,\n  /** Whether the resource is public */\n  isPublic: Scalars['Boolean'],\n  /** The user who created the resource */\n  creator?: Maybe<User>,\n  /** The type of content that may be embeded */\n  embedType?: Maybe<Scalars['String']>,\n  /** The file type */\n  mimeType?: Maybe<Scalars['String']>,\n  /** A link to an external resource */\n  content?: Maybe<Content>,\n  /** Users who like the resource, most recently liked first */\n  likers?: Maybe<LikesPage>,\n  /** Whether an instance admin has hidden the resource */\n  isDisabled: Scalars['Boolean'],\n  /** Can you use this without needing an account somewhere? */\n  publicAccess?: Maybe<Scalars['Boolean']>,\n  /** The current user's flag of the resource, if any */\n  myFlag?: Maybe<Flag>,\n  /** The original resource author */\n  author?: Maybe<Scalars['String']>,\n  /** An avatar url */\n  icon?: Maybe<Content>,\n  /** The collection or other context this resource is in */\n  context?: Maybe<AnyContext>,\n  /** Description */\n  summary?: Maybe<Scalars['String']>,\n  /** Resource's language */\n  language?: Maybe<Scalars['String']>,\n  /** A url for the resource, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** Resource's type */\n  type?: Maybe<Scalars['String']>,\n  /** When the resource was created */\n  createdAt: Scalars['String'],\n  /** The current user's like of the resource, if any */\n  myLike?: Maybe<Like>,\n  /** A name field */\n  name: Scalars['String'],\n  /** Flags users have made about the resource, most recently created first */\n  flags?: Maybe<FlagsPage>,\n};\n\n\nexport type ResourceLikersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type ResourceFlagsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type ResourceInput = {\n  /** How can you access it? see https://www.w3.org/wiki/WebSchemas/Accessibility */\n  accessibilityFeature?: Maybe<Array<Maybe<Scalars['String']>>>,\n  author?: Maybe<Scalars['String']>,\n  /** The HTML code of content that may be embeded */\n  embedCode?: Maybe<Scalars['String']>,\n  /** The type of content that may be embeded */\n  embedType?: Maybe<Scalars['String']>,\n  extraInfo?: Maybe<Scalars['Json']>,\n  /** Can you use it without paying? */\n  freeAccess?: Maybe<Scalars['Boolean']>,\n  language?: Maybe<Scalars['String']>,\n  level?: Maybe<Scalars['String']>,\n  license?: Maybe<Scalars['String']>,\n  /** The file type */\n  mimeType?: Maybe<Scalars['String']>,\n  name: Scalars['String'],\n  /** Can you use this without needing an account somewhere? */\n  publicAccess?: Maybe<Scalars['Boolean']>,\n  subject?: Maybe<Scalars['String']>,\n  summary?: Maybe<Scalars['String']>,\n  type?: Maybe<Scalars['String']>,\n};\n\nexport type ResourcesPage = {\n   __typename?: 'ResourcesPage',\n  edges: Array<Resource>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** \n * Specification of a kind of resource. Could define a material item, service, digital item, currency account, etc.\n * Used instead of a classification when more information is needed, particularly for recipes.\n **/\nexport type ResourceSpecification = {\n   __typename?: 'ResourceSpecification',\n  conformingResources?: Maybe<Array<EconomicResource>>,\n  /** The default unit used for use or work. */\n  defaultUnitOfEffort?: Maybe<Unit>,\n  /** The default unit used for the resource itself. */\n  defaultUnitOfResource?: Maybe<Unit>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the entity, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** An informal or formal textual identifier for a type of resource. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n};\n\nexport type ResourceSpecificationCreateParams = {\n  /** (`Unit`) The default unit used for use or work. */\n  defaultUnitOfEffort?: Maybe<Scalars['ID']>,\n  /** (`Unit`) The default unit used for the resource itself. */\n  defaultUnitOfResource?: Maybe<Scalars['ID']>,\n  /** The uri to an image relevant to the entity, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** An informal or formal textual identifier for a type of resource. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n};\n\nexport type ResourceSpecificationResponse = {\n   __typename?: 'ResourceSpecificationResponse',\n  resourceSpecification?: Maybe<ResourceSpecification>,\n};\n\nexport type ResourceSpecificationUpdateParams = {\n  /** (`Unit`) The default unit used for use or work. */\n  defaultUnitOfEffort?: Maybe<Scalars['ID']>,\n  /** (`Unit`) The default unit used for the resource itself. */\n  defaultUnitOfResource?: Maybe<Scalars['ID']>,\n  id: Scalars['ID'],\n  /** The uri to an image relevant to the entity, such as a photo, diagram, etc. */\n  image?: Maybe<Scalars['URI']>,\n  /** An informal or formal textual identifier for a type of resource. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** \n * References one or more concepts in a common taxonomy or other classification\n   * scheme for purposes of categorization or grouping.\n **/\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n};\n\nexport type RootMutationType = {\n   __typename?: 'RootMutationType',\n  updateEconomicResource?: Maybe<EconomicResourceResponse>,\n  /** Erase record of a person and thus remove them from the collaboration space */\n  deletePerson?: Maybe<Scalars['Boolean']>,\n  /** Deletes my account! */\n  deleteSelf?: Maybe<Scalars['Boolean']>,\n  deleteRecipeFlow?: Maybe<Scalars['Boolean']>,\n  createAppreciation?: Maybe<AppreciationResponse>,\n  /** Reply to an existing comment in a thread */\n  createReply?: Maybe<Comment>,\n  /** Create a new Category */\n  createCategory?: Maybe<Category>,\n  createPlan?: Maybe<PlanResponse>,\n  updateEconomicEvent?: Maybe<EconomicEventResponse>,\n  /** Modify a comment */\n  updateComment?: Maybe<Comment>,\n  updateAgreement?: Maybe<AgreementResponse>,\n  createProductBatch?: Maybe<ProductBatchResponse>,\n  createIntent?: Maybe<IntentResponse>,\n  /** Creates a new offer for the logged in user, will ignore any provider specified. */\n  createOffer?: Maybe<IntentResponse>,\n  createProposal?: Maybe<ProposalResponse>,\n  createScenarioDefinition?: Maybe<ScenarioDefinitionResponse>,\n  updateAgentRelationshipRole?: Maybe<AgentRelationshipRoleResponse>,\n  createSpatialThing?: Maybe<SpatialThingResponse>,\n  updateProcess?: Maybe<ProcessResponse>,\n  createScenario?: Maybe<ScenarioResponse>,\n  /** Erase record of an organization and thus remove it from the collaboration space */\n  deleteOrganization?: Maybe<Scalars['Boolean']>,\n  /** Like a comment, collection, or resource returning the like */\n  createLike?: Maybe<Like>,\n  createClaim?: Maybe<ClaimResponse>,\n  createRecipeFlow?: Maybe<RecipeFlowResponse>,\n  /** Update a category */\n  updateCategory?: Maybe<Category>,\n  deleteRecipeProcess?: Maybe<Scalars['Boolean']>,\n  updateCommitment?: Maybe<CommitmentResponse>,\n  /** Reset password request */\n  resetPasswordRequest?: Maybe<Scalars['Boolean']>,\n  /** Deactivate a remote user, blocking further activities from it */\n  deactivateUser?: Maybe<User>,\n  /** Create a new thread, within an optional context */\n  createThread?: Maybe<Comment>,\n  createAgentRelationshipRole?: Maybe<AgentRelationshipRoleResponse>,\n  deleteClaim?: Maybe<Scalars['Boolean']>,\n  updateClaim?: Maybe<ClaimResponse>,\n  deleteRecipeResource?: Maybe<Scalars['Boolean']>,\n  createAgreement?: Maybe<AgreementResponse>,\n  /** Feature a community, or collection, returning the feature */\n  createFeature?: Maybe<Feature>,\n  /** \n * Tag a thing (using a Pointer) with one or more Taggables (or Categories, or\n   * even Pointers to anything that can become taggable)\n **/\n  tag?: Maybe<Scalars['Boolean']>,\n  /** Registers a new (human) person with the collaboration space */\n  createPerson?: Maybe<PersonResponse>,\n  /** Fetch metadata from webpage */\n  fetchWebMetadata?: Maybe<WebMetadata>,\n  deleteProposedTo?: Maybe<Scalars['Boolean']>,\n  deleteResourceSpecification?: Maybe<Scalars['Boolean']>,\n  deleteIntent?: Maybe<Scalars['Boolean']>,\n  /** Registers a new organization (group agent) with the collaboration space */\n  createOrganization?: Maybe<OrganizationResponse>,\n  createAgentRelationship?: Maybe<AgentRelationshipResponse>,\n  createRegisterEmailAccess: RegisterEmailAccess,\n  deleteScenario?: Maybe<Scalars['Boolean']>,\n  /** Create a character to represent something (which already exists, pass the ID passed as context) in feeds and federation */\n  characterise?: Maybe<Character>,\n  deleteProcess?: Maybe<Scalars['Boolean']>,\n  deleteAgentRelationshipRole?: Maybe<Scalars['Boolean']>,\n  /** Log in, works with both username and email */\n  createSession?: Maybe<AuthPayload>,\n  deleteSettlement?: Maybe<Scalars['Boolean']>,\n  updateAgentRelationship?: Maybe<AgentRelationshipResponse>,\n  updateResourceSpecification?: Maybe<ResourceSpecificationResponse>,\n  /** Create a resource */\n  createResource?: Maybe<Resource>,\n  createRecipeResource?: Maybe<RecipeResourceResponse>,\n  /** Delete more or less anything */\n  delete?: Maybe<AnyContext>,\n  createRegisterEmailDomainAccess: RegisterEmailDomainAccess,\n  /** Update a community */\n  updateCommunity?: Maybe<Community>,\n  updateRecipeFlow?: Maybe<RecipeFlowResponse>,\n  deleteAppreciation?: Maybe<Scalars['Boolean']>,\n  /** Create a user */\n  createUser?: Maybe<Me>,\n  /** Log out */\n  deleteSession?: Maybe<Scalars['Boolean']>,\n  createCommitment?: Maybe<CommitmentResponse>,\n  deleteRegisterEmailAccess?: Maybe<RegisterEmailAccess>,\n  updateIntent?: Maybe<IntentResponse>,\n  updateAppreciation?: Maybe<AppreciationResponse>,\n  updateSettlement?: Maybe<SettlementResponse>,\n  deleteUnit?: Maybe<Scalars['Boolean']>,\n  deleteEconomicEvent?: Maybe<Scalars['Boolean']>,\n  /** \n * Include an existing intent as part of a proposal.\n   * @param publishedIn the (`Proposal`) to include the intent in\n   * @param publishes the (`Intent`) to include as part of the proposal\n **/\n  proposeIntent?: Maybe<ProposedIntentResponse>,\n  updateProductBatch?: Maybe<ProductBatchResponse>,\n  createSettlement?: Maybe<SettlementResponse>,\n  updateRecipeProcess?: Maybe<RecipeProcessResponse>,\n  deleteCommitment?: Maybe<Scalars['Boolean']>,\n  createResourceSpecification?: Maybe<ResourceSpecificationResponse>,\n  createProcess?: Maybe<ProcessResponse>,\n  /** Create a Category to represents this taxonomy_tag in feeds and federation */\n  ingestTaxonomyTag?: Maybe<Taggable>,\n  deleteProposedIntent?: Maybe<Scalars['Boolean']>,\n  /** Sends an email invite, and adds the email to invite list for private instances */\n  sendInvite?: Maybe<Scalars['Boolean']>,\n  createRecipeExchange?: Maybe<RecipeExchangeResponse>,\n  /** Follow a community, collection or a user by their canonical url returning the follow */\n  createFollowByUrl?: Maybe<Follow>,\n  updateFulfillment?: Maybe<FulfillmentResponse>,\n  updateSatisfaction?: Maybe<SatisfactionResponse>,\n  /** Confirm email. Returns a login token. */\n  confirmEmail?: Maybe<AuthPayload>,\n  /** Update a profile */\n  updateProfile?: Maybe<Me>,\n  deleteProductBatch?: Maybe<Scalars['Boolean']>,\n  createSatisfaction?: Maybe<SatisfactionResponse>,\n  updateRecipeExchange?: Maybe<RecipeExchangeResponse>,\n  /** Reset password */\n  resetPassword?: Maybe<AuthPayload>,\n  updateProcessSpecification?: Maybe<ProcessSpecificationResponse>,\n  /** Create a collection */\n  createCollection?: Maybe<Collection>,\n  deleteAgreement?: Maybe<Scalars['Boolean']>,\n  deletePlan?: Maybe<Scalars['Boolean']>,\n  createUnit?: Maybe<UnitResponse>,\n  /** Update profile details */\n  updatePerson?: Maybe<PersonResponse>,\n  deleteProcessSpecification?: Maybe<Scalars['Boolean']>,\n  updateProposal?: Maybe<ProposalResponse>,\n  updateSpatialThing?: Maybe<SpatialThingResponse>,\n  createEconomicEvent?: Maybe<EconomicEventResponse>,\n  /** Update a resource */\n  updateResource?: Maybe<Resource>,\n  /** \n * Send a proposal to another agent.\n   * @param proposed the (`Proposal`) to send to an involved agent\n   * @param proposedTo the (`Agent`) to include in the proposal\n **/\n  proposeTo?: Maybe<ProposedToResponse>,\n  deleteScenarioDefinition?: Maybe<Scalars['Boolean']>,\n  /** Follow a community, collection or thread returning the follow */\n  createFollow?: Maybe<Follow>,\n  deleteEconomicResource?: Maybe<Scalars['Boolean']>,\n  deleteProposal?: Maybe<Scalars['Boolean']>,\n  /** Update a organisation */\n  updateOrganisation?: Maybe<Organisation>,\n  updateUnit?: Maybe<UnitResponse>,\n  deleteRecipeExchange?: Maybe<Scalars['Boolean']>,\n  updateRecipeResource?: Maybe<RecipeResourceResponse>,\n  createProcessSpecification?: Maybe<ProcessSpecificationResponse>,\n  /** Create a organisation */\n  createOrganisation?: Maybe<Organisation>,\n  /** Copy a resource */\n  copyResource?: Maybe<Resource>,\n  deleteSpatialThing?: Maybe<Scalars['Boolean']>,\n  /** Creates a new need for the logged in user, will ignore any receiver specified. */\n  createNeed?: Maybe<IntentResponse>,\n  /** Update a collection */\n  updateCollection?: Maybe<Collection>,\n  updateScenario?: Maybe<ScenarioResponse>,\n  /** Create a profile to represent something (which already exists, pass the ID passed as context) in feeds and federation */\n  addProfileTo?: Maybe<Profile>,\n  /** Flag a user, community, collection, resource or comment, returning the flag */\n  createFlag?: Maybe<Flag>,\n  createFulfillment?: Maybe<FulfillmentResponse>,\n  createRecipeProcess?: Maybe<RecipeProcessResponse>,\n  deleteFulfillment?: Maybe<Scalars['Boolean']>,\n  /** Update organization profile details */\n  updateOrganization?: Maybe<OrganizationResponse>,\n  updatePlan?: Maybe<PlanResponse>,\n  deleteRegisterEmailDomainAccess?: Maybe<RegisterEmailDomainAccess>,\n  /** Close a flag */\n  resolveFlag?: Maybe<Flag>,\n  updateScenarioDefinition?: Maybe<ScenarioDefinitionResponse>,\n  deleteAgentRelationship?: Maybe<Scalars['Boolean']>,\n  /** Create a Taggable out of something else. You can also directly use the tag() mutation with a pointer ID instead. */\n  makeTaggable?: Maybe<Taggable>,\n  /** Create a community */\n  createCommunity?: Maybe<Community>,\n  deleteSatisfaction?: Maybe<Scalars['Boolean']>,\n};\n\n\nexport type RootMutationTypeUpdateEconomicResourceArgs = {\n  resource: EconomicResourceUpdateParams\n};\n\n\nexport type RootMutationTypeDeletePersonArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeDeleteSelfArgs = {\n  iAmSure: Scalars['Boolean']\n};\n\n\nexport type RootMutationTypeDeleteRecipeFlowArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateAppreciationArgs = {\n  appreciation: AppreciationCreateParams\n};\n\n\nexport type RootMutationTypeCreateReplyArgs = {\n  comment: CommentInput,\n  inReplyToId: Scalars['String'],\n  threadId: Scalars['String']\n};\n\n\nexport type RootMutationTypeCreateCategoryArgs = {\n  category?: Maybe<CategoryInput>,\n  character?: Maybe<CharacterInput>,\n  profile?: Maybe<ProfileInput>\n};\n\n\nexport type RootMutationTypeCreatePlanArgs = {\n  plan: PlanCreateParams\n};\n\n\nexport type RootMutationTypeUpdateEconomicEventArgs = {\n  event: EconomicEventUpdateParams\n};\n\n\nexport type RootMutationTypeUpdateCommentArgs = {\n  comment: CommentInput,\n  commentId: Scalars['String']\n};\n\n\nexport type RootMutationTypeUpdateAgreementArgs = {\n  agreement?: Maybe<AgreementUpdateParams>\n};\n\n\nexport type RootMutationTypeCreateProductBatchArgs = {\n  productBatch: ProductBatchCreateParams\n};\n\n\nexport type RootMutationTypeCreateIntentArgs = {\n  intent?: Maybe<IntentCreateParams>\n};\n\n\nexport type RootMutationTypeCreateOfferArgs = {\n  intent?: Maybe<IntentCreateParams>\n};\n\n\nexport type RootMutationTypeCreateProposalArgs = {\n  proposal?: Maybe<ProposalCreateParams>\n};\n\n\nexport type RootMutationTypeCreateScenarioDefinitionArgs = {\n  plan: ScenarioDefinitionCreateParams\n};\n\n\nexport type RootMutationTypeUpdateAgentRelationshipRoleArgs = {\n  agentRelationshipRole?: Maybe<AgentRelationshipRoleUpdateParams>\n};\n\n\nexport type RootMutationTypeCreateSpatialThingArgs = {\n  inScopeOf?: Maybe<Scalars['ID']>,\n  spatialThing: SpatialThingCreateParams\n};\n\n\nexport type RootMutationTypeUpdateProcessArgs = {\n  process: ProcessUpdateParams\n};\n\n\nexport type RootMutationTypeCreateScenarioArgs = {\n  plan: ScenarioCreateParams\n};\n\n\nexport type RootMutationTypeDeleteOrganizationArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateLikeArgs = {\n  contextId: Scalars['String']\n};\n\n\nexport type RootMutationTypeCreateClaimArgs = {\n  claim: ClaimCreateParams\n};\n\n\nexport type RootMutationTypeCreateRecipeFlowArgs = {\n  recipeFlow?: Maybe<RecipeFlowCreateParams>\n};\n\n\nexport type RootMutationTypeUpdateCategoryArgs = {\n  category?: Maybe<CategoryInput>,\n  categoryId?: Maybe<Scalars['ID']>,\n  character?: Maybe<CharacterInput>,\n  profile?: Maybe<ProfileInput>\n};\n\n\nexport type RootMutationTypeDeleteRecipeProcessArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeUpdateCommitmentArgs = {\n  commitment?: Maybe<CommitmentUpdateParams>\n};\n\n\nexport type RootMutationTypeResetPasswordRequestArgs = {\n  email: Scalars['String']\n};\n\n\nexport type RootMutationTypeDeactivateUserArgs = {\n  id: Scalars['String']\n};\n\n\nexport type RootMutationTypeCreateThreadArgs = {\n  comment: CommentInput,\n  contextId?: Maybe<Scalars['String']>\n};\n\n\nexport type RootMutationTypeCreateAgentRelationshipRoleArgs = {\n  agentRelationshipRole?: Maybe<AgentRelationshipRoleCreateParams>\n};\n\n\nexport type RootMutationTypeDeleteClaimArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeUpdateClaimArgs = {\n  claim: ClaimUpdateParams\n};\n\n\nexport type RootMutationTypeDeleteRecipeResourceArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateAgreementArgs = {\n  agreement?: Maybe<AgreementCreateParams>\n};\n\n\nexport type RootMutationTypeCreateFeatureArgs = {\n  contextId: Scalars['String']\n};\n\n\nexport type RootMutationTypeTagArgs = {\n  taggables: Array<Maybe<Scalars['String']>>,\n  thing: Scalars['String']\n};\n\n\nexport type RootMutationTypeCreatePersonArgs = {\n  person: AgentCreateParams\n};\n\n\nexport type RootMutationTypeFetchWebMetadataArgs = {\n  url: Scalars['String']\n};\n\n\nexport type RootMutationTypeDeleteProposedToArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeDeleteResourceSpecificationArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeDeleteIntentArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateOrganizationArgs = {\n  organization: AgentCreateParams\n};\n\n\nexport type RootMutationTypeCreateAgentRelationshipArgs = {\n  relationship: AgentRelationshipCreateParams\n};\n\n\nexport type RootMutationTypeCreateRegisterEmailAccessArgs = {\n  email: Scalars['String']\n};\n\n\nexport type RootMutationTypeDeleteScenarioArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCharacteriseArgs = {\n  contextId: Scalars['String']\n};\n\n\nexport type RootMutationTypeDeleteProcessArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeDeleteAgentRelationshipRoleArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateSessionArgs = {\n  email?: Maybe<Scalars['String']>,\n  login?: Maybe<Scalars['String']>,\n  password: Scalars['String']\n};\n\n\nexport type RootMutationTypeDeleteSettlementArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeUpdateAgentRelationshipArgs = {\n  relationship: AgentRelationshipUpdateParams\n};\n\n\nexport type RootMutationTypeUpdateResourceSpecificationArgs = {\n  resourceSpecification?: Maybe<ResourceSpecificationUpdateParams>\n};\n\n\nexport type RootMutationTypeCreateResourceArgs = {\n  content: UploadInput,\n  contextId?: Maybe<Scalars['String']>,\n  icon?: Maybe<UploadInput>,\n  resource: ResourceInput\n};\n\n\nexport type RootMutationTypeCreateRecipeResourceArgs = {\n  recipeResource?: Maybe<RecipeResourceCreateParams>\n};\n\n\nexport type RootMutationTypeDeleteArgs = {\n  contextId: Scalars['String']\n};\n\n\nexport type RootMutationTypeCreateRegisterEmailDomainAccessArgs = {\n  domain: Scalars['String']\n};\n\n\nexport type RootMutationTypeUpdateCommunityArgs = {\n  community: CommunityUpdateInput,\n  communityId: Scalars['String'],\n  icon?: Maybe<UploadInput>,\n  image?: Maybe<UploadInput>\n};\n\n\nexport type RootMutationTypeUpdateRecipeFlowArgs = {\n  recipeFlow?: Maybe<RecipeFlowUpdateParams>\n};\n\n\nexport type RootMutationTypeDeleteAppreciationArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateUserArgs = {\n  icon?: Maybe<UploadInput>,\n  image?: Maybe<UploadInput>,\n  user: RegistrationInput\n};\n\n\nexport type RootMutationTypeCreateCommitmentArgs = {\n  commitment?: Maybe<CommitmentCreateParams>\n};\n\n\nexport type RootMutationTypeDeleteRegisterEmailAccessArgs = {\n  id: Scalars['String']\n};\n\n\nexport type RootMutationTypeUpdateIntentArgs = {\n  intent?: Maybe<IntentUpdateParams>\n};\n\n\nexport type RootMutationTypeUpdateAppreciationArgs = {\n  appreciation: AppreciationUpdateParams\n};\n\n\nexport type RootMutationTypeUpdateSettlementArgs = {\n  s0ettlement: SettlementUpdateParams\n};\n\n\nexport type RootMutationTypeDeleteUnitArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeDeleteEconomicEventArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeProposeIntentArgs = {\n  publishedIn: Scalars['ID'],\n  publishes: Scalars['ID'],\n  reciprocal?: Maybe<Scalars['Boolean']>\n};\n\n\nexport type RootMutationTypeUpdateProductBatchArgs = {\n  productBatch: ProductBatchUpdateParams\n};\n\n\nexport type RootMutationTypeCreateSettlementArgs = {\n  settlement: SettlementCreateParams\n};\n\n\nexport type RootMutationTypeUpdateRecipeProcessArgs = {\n  recipeProcess?: Maybe<RecipeProcessUpdateParams>\n};\n\n\nexport type RootMutationTypeDeleteCommitmentArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateResourceSpecificationArgs = {\n  resourceSpecification?: Maybe<ResourceSpecificationCreateParams>\n};\n\n\nexport type RootMutationTypeCreateProcessArgs = {\n  process: ProcessCreateParams\n};\n\n\nexport type RootMutationTypeIngestTaxonomyTagArgs = {\n  taxonomyTagId?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootMutationTypeDeleteProposedIntentArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeSendInviteArgs = {\n  email: Scalars['String']\n};\n\n\nexport type RootMutationTypeCreateRecipeExchangeArgs = {\n  recipeExchange?: Maybe<RecipeExchangeCreateParams>\n};\n\n\nexport type RootMutationTypeCreateFollowByUrlArgs = {\n  url: Scalars['String']\n};\n\n\nexport type RootMutationTypeUpdateFulfillmentArgs = {\n  fulfillment: FulfillmentUpdateParams\n};\n\n\nexport type RootMutationTypeUpdateSatisfactionArgs = {\n  satisfaction?: Maybe<SatisfactionUpdateParams>\n};\n\n\nexport type RootMutationTypeConfirmEmailArgs = {\n  token: Scalars['String']\n};\n\n\nexport type RootMutationTypeUpdateProfileArgs = {\n  icon?: Maybe<UploadInput>,\n  image?: Maybe<UploadInput>,\n  profile: UpdateProfileInput\n};\n\n\nexport type RootMutationTypeDeleteProductBatchArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateSatisfactionArgs = {\n  satisfaction?: Maybe<SatisfactionCreateParams>\n};\n\n\nexport type RootMutationTypeUpdateRecipeExchangeArgs = {\n  recipeExchange?: Maybe<RecipeExchangeUpdateParams>\n};\n\n\nexport type RootMutationTypeResetPasswordArgs = {\n  password: Scalars['String'],\n  token: Scalars['String']\n};\n\n\nexport type RootMutationTypeUpdateProcessSpecificationArgs = {\n  processSpecification?: Maybe<ProcessSpecificationUpdateParams>\n};\n\n\nexport type RootMutationTypeCreateCollectionArgs = {\n  collection: CollectionInput,\n  contextId?: Maybe<Scalars['String']>,\n  icon?: Maybe<UploadInput>\n};\n\n\nexport type RootMutationTypeDeleteAgreementArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeDeletePlanArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateUnitArgs = {\n  unit: UnitCreateParams\n};\n\n\nexport type RootMutationTypeUpdatePersonArgs = {\n  person: AgentUpdateParams\n};\n\n\nexport type RootMutationTypeDeleteProcessSpecificationArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeUpdateProposalArgs = {\n  proposal?: Maybe<ProposalUpdateParams>\n};\n\n\nexport type RootMutationTypeUpdateSpatialThingArgs = {\n  spatialThing: SpatialThingUpdateParams\n};\n\n\nexport type RootMutationTypeCreateEconomicEventArgs = {\n  event: EconomicEventCreateParams,\n  newInventoriedResource?: Maybe<EconomicResourceCreateParams>\n};\n\n\nexport type RootMutationTypeUpdateResourceArgs = {\n  content?: Maybe<UploadInput>,\n  icon?: Maybe<UploadInput>,\n  resource: ResourceInput,\n  resourceId: Scalars['String']\n};\n\n\nexport type RootMutationTypeProposeToArgs = {\n  proposed: Scalars['ID'],\n  proposedTo: Scalars['ID']\n};\n\n\nexport type RootMutationTypeDeleteScenarioDefinitionArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateFollowArgs = {\n  contextId: Scalars['String']\n};\n\n\nexport type RootMutationTypeDeleteEconomicResourceArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeDeleteProposalArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeUpdateOrganisationArgs = {\n  organisation: OrganisationUpdateInput,\n  organisationId: Scalars['String']\n};\n\n\nexport type RootMutationTypeUpdateUnitArgs = {\n  unit: UnitUpdateParams\n};\n\n\nexport type RootMutationTypeDeleteRecipeExchangeArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeUpdateRecipeResourceArgs = {\n  recipeResource?: Maybe<RecipeResourceUpdateParams>\n};\n\n\nexport type RootMutationTypeCreateProcessSpecificationArgs = {\n  processSpecification?: Maybe<ProcessSpecificationCreateParams>\n};\n\n\nexport type RootMutationTypeCreateOrganisationArgs = {\n  contextId?: Maybe<Scalars['String']>,\n  organisation: OrganisationInput\n};\n\n\nexport type RootMutationTypeCopyResourceArgs = {\n  contextId: Scalars['String'],\n  resourceId: Scalars['String']\n};\n\n\nexport type RootMutationTypeDeleteSpatialThingArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeCreateNeedArgs = {\n  intent?: Maybe<IntentCreateParams>\n};\n\n\nexport type RootMutationTypeUpdateCollectionArgs = {\n  collection: CollectionUpdateInput,\n  collectionId: Scalars['String'],\n  icon?: Maybe<UploadInput>\n};\n\n\nexport type RootMutationTypeUpdateScenarioArgs = {\n  plan: ScenarioUpdateParams\n};\n\n\nexport type RootMutationTypeAddProfileToArgs = {\n  contextId: Scalars['String']\n};\n\n\nexport type RootMutationTypeCreateFlagArgs = {\n  contextId: Scalars['String'],\n  message: Scalars['String']\n};\n\n\nexport type RootMutationTypeCreateFulfillmentArgs = {\n  fulfillment: FulfillmentCreateParams\n};\n\n\nexport type RootMutationTypeCreateRecipeProcessArgs = {\n  recipeProcess?: Maybe<RecipeProcessCreateParams>\n};\n\n\nexport type RootMutationTypeDeleteFulfillmentArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeUpdateOrganizationArgs = {\n  organization: AgentUpdateParams\n};\n\n\nexport type RootMutationTypeUpdatePlanArgs = {\n  plan: PlanUpdateParams\n};\n\n\nexport type RootMutationTypeDeleteRegisterEmailDomainAccessArgs = {\n  id: Scalars['String']\n};\n\n\nexport type RootMutationTypeResolveFlagArgs = {\n  flagId: Scalars['String']\n};\n\n\nexport type RootMutationTypeUpdateScenarioDefinitionArgs = {\n  plan: ScenarioDefinitionUpdateParams\n};\n\n\nexport type RootMutationTypeDeleteAgentRelationshipArgs = {\n  id: Scalars['ID']\n};\n\n\nexport type RootMutationTypeMakeTaggableArgs = {\n  contextId?: Maybe<Scalars['String']>\n};\n\n\nexport type RootMutationTypeCreateCommunityArgs = {\n  community: CommunityInput,\n  contextId?: Maybe<Scalars['String']>,\n  icon?: Maybe<UploadInput>,\n  image?: Maybe<UploadInput>\n};\n\n\nexport type RootMutationTypeDeleteSatisfactionArgs = {\n  id: Scalars['ID']\n};\n\nexport type RootQueryType = {\n   __typename?: 'RootQueryType',\n  agreements?: Maybe<Array<Agreement>>,\n  activity?: Maybe<Activity>,\n  units?: Maybe<Array<Unit>>,\n  measure?: Maybe<Measure>,\n  /** Get a taggable by ID  */\n  taggable?: Maybe<Taggable>,\n  claim?: Maybe<Claim>,\n  recipeFlows?: Maybe<Array<RecipeFlow>>,\n  /** Get list of categories we know about */\n  categories: CategoriesPage,\n  /** Get list of languages we know about */\n  languages: LanguagesPage,\n  /** Get list of profiles. You usually would query for a type associated with profile, rather than profiles directly. */\n  profiles: ProfilesPage,\n  /** Get paginated list of active needs (intents with no provider) */\n  needsPages: IntentsPage,\n  /** Find an agent (person or organization) by their ID */\n  agent?: Maybe<Agent>,\n  productBatches?: Maybe<Array<ProductBatch>>,\n  scenario?: Maybe<Scenario>,\n  /** Get paginated list of processes */\n  processesPages: ProcessPage,\n  economicEvents?: Maybe<Array<EconomicEvent>>,\n  /** Retrieve all possible kinds of associations that agents may have with one another in this collaboration space */\n  agentRelationshipRoles?: Maybe<Array<AgentRelationshipRole>>,\n  /** Get a collection by id */\n  collection?: Maybe<Collection>,\n  intent?: Maybe<Intent>,\n  /** Loads all people who have publicly registered with this collaboration space. */\n  people?: Maybe<Array<Person>>,\n  economicEvent?: Maybe<EconomicEvent>,\n  agreement?: Maybe<Agreement>,\n  /** Retrieve details of an agent relationship by its ID */\n  agentRelationship?: Maybe<AgentRelationship>,\n  satisfaction?: Maybe<Satisfaction>,\n  /** Get paginated list of intents */\n  intentsPages: IntentsPage,\n  /** TEMPORARY - get filtered but non-paginated list of proposals */\n  proposalsFiltered?: Maybe<Array<Maybe<Proposal>>>,\n  /** Get a comment by its id */\n  comment?: Maybe<Comment>,\n  /** Get paginated list of economic resources */\n  economicResourcesPages: EconomicResourcePage,\n  /** Get paginated list of active offers (intents with no receiver) */\n  offersPages: IntentsPage,\n  /** Get a user, by either username or ID */\n  user?: Maybe<User>,\n  recipeResources?: Maybe<Array<RecipeResource>>,\n  /** Get paginated list of proposals */\n  proposalsPages: ProposalsPage,\n  resourceSpecification?: Maybe<ResourceSpecification>,\n  spatialThingsPages: SpatialThingsPage,\n  intents?: Maybe<Array<Intent>>,\n  /** Find a person by their ID */\n  person?: Maybe<Person>,\n  scenarios?: Maybe<Array<Scenario>>,\n  proposals?: Maybe<Array<Proposal>>,\n  economicResources?: Maybe<Array<EconomicResource>>,\n  /** Retrieves a follow by id */\n  follow?: Maybe<Follow>,\n  /** TEMPORARY - get filtered but non-paginated list of intents */\n  intentsFiltered?: Maybe<Array<Maybe<Intent>>>,\n  /** Get list of taxonomy_tags we know about */\n  taxonomyTags: TaxonomyTagsPage,\n  /** Retrieve details of an agent relationship role by its ID */\n  agentRelationshipRole?: Maybe<AgentRelationshipRole>,\n  recipeExchange?: Maybe<RecipeExchange>,\n  /** Get paginated list of organizations */\n  organizationsPages: AgentsPage,\n  /** Get a organisation by id */\n  organisation?: Maybe<Organisation>,\n  scenarioDefinitions?: Maybe<Array<ScenarioDefinition>>,\n  /** Get list of known users */\n  users: UsersPage,\n  fulfillments?: Maybe<Array<Fulfillment>>,\n  plan?: Maybe<Plan>,\n  /** Get list of countries we know about */\n  countries: CountriesPages,\n  recipeProcesses?: Maybe<Array<RecipeProcess>>,\n  country?: Maybe<Country>,\n  /** Get list of communities, most followed first */\n  communities: CommunitiesPage,\n  processSpecifications?: Maybe<Array<ProcessSpecification>>,\n  /** Retrieve details of all the relationships between all agents registered in this collaboration space */\n  agentRelationships?: Maybe<Array<AgentRelationship>>,\n  resourceSpecifications?: Maybe<Array<ResourceSpecification>>,\n  /** Get a taxonomy_tag by ID  */\n  taxonomyTag?: Maybe<TaxonomyTag>,\n  /** Get a resource */\n  resource?: Maybe<Resource>,\n  commitment?: Maybe<Commitment>,\n  /** Get a character by id. You usually would query for a type associated with character, rather than characters directly. */\n  character?: Maybe<Character>,\n  /** Find an organization (group) agent by its ID */\n  organization?: Maybe<Organization>,\n  spatialThing?: Maybe<SpatialThing>,\n  spatialThings?: Maybe<Array<SpatialThing>>,\n  measuresPages: MeasuresPage,\n  /** Loads all agents publicly registered within this collaboration space */\n  agents?: Maybe<Array<Agent>>,\n  productBatch?: Maybe<ProductBatch>,\n  fulfillment?: Maybe<Fulfillment>,\n  processes?: Maybe<Array<Process>>,\n  /** Get my user */\n  me?: Maybe<Me>,\n  process?: Maybe<Process>,\n  processSpecification?: Maybe<ProcessSpecification>,\n  unitsPages: UnitsPage,\n  settlements?: Maybe<Array<Settlement>>,\n  measures?: Maybe<Array<Measure>>,\n  registerEmailDomainAccesses: RegisterEmailDomainAccessesPage,\n  proposal?: Maybe<Proposal>,\n  /** TEMPORARY - get filtered but non-paginated list of resources */\n  economicResourcesFiltered?: Maybe<Array<Maybe<EconomicResource>>>,\n  /** Loads details of the currently authenticated REA agent */\n  myAgent?: Maybe<Agent>,\n  /** Get list of collections, most recent activity first */\n  collections: CollectionsPage,\n  feature?: Maybe<Feature>,\n  claims?: Maybe<Array<Claim>>,\n  /** Get paginated list of economic events */\n  economicEventsPages: EconomicEventPage,\n  action?: Maybe<Action>,\n  /** Fetch a like by ID */\n  like?: Maybe<Like>,\n  /** Loads all organizations publicly registered within this collaboration space */\n  organizations?: Maybe<Array<Organization>>,\n  registerEmailAccesses: RegisterEmailAccessesPage,\n  commitments?: Maybe<Array<Commitment>>,\n  features?: Maybe<FeaturesPage>,\n  /** Get a thread */\n  thread?: Maybe<Thread>,\n  actions?: Maybe<Array<Action>>,\n  /** Get a profile by id. You usually would query for a type associated with profile, rather than profiles directly. */\n  profile?: Maybe<Profile>,\n  scenarioDefinition?: Maybe<ScenarioDefinition>,\n  /** Check if a user exists with a username */\n  usernameAvailable: Scalars['Boolean'],\n  satisfactions?: Maybe<Array<Satisfaction>>,\n  recipeResource?: Maybe<RecipeResource>,\n  plans?: Maybe<Array<Plan>>,\n  language?: Maybe<Language>,\n  /** Get a community */\n  community?: Maybe<Community>,\n  economicResource?: Maybe<EconomicResource>,\n  /** Get list of organisations, most recent activity first */\n  organisations: OrganisationsPage,\n  flag?: Maybe<Flag>,\n  /** Get a category by ID  */\n  category?: Maybe<Category>,\n  /** Get paginated list of people */\n  peoplePages: AgentsPage,\n  recipeProcess?: Maybe<RecipeProcess>,\n  settlement?: Maybe<Settlement>,\n  /** Get list of characters. You usually would query for a type associated with character, rather than characters directly. */\n  characters: CharactersPage,\n  economicEventsFiltered?: Maybe<Array<EconomicEvent>>,\n  flags?: Maybe<FlagsPage>,\n  unit?: Maybe<Unit>,\n  recipeExchanges?: Maybe<Array<RecipeExchange>>,\n  /** A logical object for the local instance */\n  instance?: Maybe<Instance>,\n  recipeFlow?: Maybe<RecipeFlow>,\n};\n\n\nexport type RootQueryTypeAgreementsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeActivityArgs = {\n  activityId: Scalars['String']\n};\n\n\nexport type RootQueryTypeUnitsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeMeasureArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeTaggableArgs = {\n  id?: Maybe<Scalars['String']>\n};\n\n\nexport type RootQueryTypeClaimArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeRecipeFlowsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeCategoriesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeLanguagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeProfilesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  facets?: Maybe<Array<Scalars['String']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeNeedsPagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeAgentArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeProductBatchesArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeScenarioArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeProcessesPagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeEconomicEventsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeAgentRelationshipRolesArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeCollectionArgs = {\n  collectionId: Scalars['String']\n};\n\n\nexport type RootQueryTypeIntentArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypePeopleArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeEconomicEventArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeAgreementArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeAgentRelationshipArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeSatisfactionArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeIntentsPagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeProposalsFilteredArgs = {\n  agent?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  atLocation?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  geolocation?: Maybe<GeolocationFilters>,\n  inScopeOf?: Maybe<Array<Maybe<Scalars['ID']>>>\n};\n\n\nexport type RootQueryTypeCommentArgs = {\n  commentId: Scalars['String']\n};\n\n\nexport type RootQueryTypeEconomicResourcesPagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeOffersPagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeUserArgs = {\n  userId?: Maybe<Scalars['String']>,\n  username?: Maybe<Scalars['String']>\n};\n\n\nexport type RootQueryTypeRecipeResourcesArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeProposalsPagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeResourceSpecificationArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeSpatialThingsPagesArgs = {\n  after?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  before?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeIntentsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypePersonArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeScenariosArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeProposalsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeEconomicResourcesArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeFollowArgs = {\n  followId: Scalars['String']\n};\n\n\nexport type RootQueryTypeIntentsFilteredArgs = {\n  action?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  agent?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  atLocation?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  geolocation?: Maybe<GeolocationFilters>,\n  inScopeOf?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  provider?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  receiver?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  tagIds?: Maybe<Array<Maybe<Scalars['ID']>>>\n};\n\n\nexport type RootQueryTypeTaxonomyTagsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeAgentRelationshipRoleArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeRecipeExchangeArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeOrganizationsPagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeOrganisationArgs = {\n  organisationId: Scalars['String']\n};\n\n\nexport type RootQueryTypeScenarioDefinitionsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeUsersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeFulfillmentsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypePlanArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeCountriesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeRecipeProcessesArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeCountryArgs = {\n  countryId: Scalars['String']\n};\n\n\nexport type RootQueryTypeCommunitiesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeProcessSpecificationsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeAgentRelationshipsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeResourceSpecificationsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeTaxonomyTagArgs = {\n  pointerId?: Maybe<Scalars['String']>,\n  tagId?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeResourceArgs = {\n  resourceId: Scalars['String']\n};\n\n\nexport type RootQueryTypeCommitmentArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeCharacterArgs = {\n  characterId: Scalars['String']\n};\n\n\nexport type RootQueryTypeOrganizationArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeSpatialThingArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeSpatialThingsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeMeasuresPagesArgs = {\n  after?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  before?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeAgentsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeProductBatchArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeFulfillmentArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeProcessesArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeProcessArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeProcessSpecificationArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeUnitsPagesArgs = {\n  after?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  before?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeSettlementsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeMeasuresArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeRegisterEmailDomainAccessesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeProposalArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeEconomicResourcesFilteredArgs = {\n  agent?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  currentLocation?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  geolocation?: Maybe<GeolocationFilters>,\n  inScopeOf?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  state?: Maybe<Array<Maybe<Scalars['ID']>>>,\n  tagIds?: Maybe<Array<Maybe<Scalars['ID']>>>\n};\n\n\nexport type RootQueryTypeCollectionsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeFeatureArgs = {\n  featureId: Scalars['String']\n};\n\n\nexport type RootQueryTypeClaimsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeEconomicEventsPagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeActionArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeLikeArgs = {\n  likeId: Scalars['String']\n};\n\n\nexport type RootQueryTypeOrganizationsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeRegisterEmailAccessesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeCommitmentsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeFeaturesArgs = {\n  after?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  before?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeThreadArgs = {\n  threadId: Scalars['String']\n};\n\n\nexport type RootQueryTypeProfileArgs = {\n  profileId: Scalars['String']\n};\n\n\nexport type RootQueryTypeScenarioDefinitionArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeUsernameAvailableArgs = {\n  username: Scalars['String']\n};\n\n\nexport type RootQueryTypeSatisfactionsArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeRecipeResourceArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypePlansArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeLanguageArgs = {\n  languageId: Scalars['String']\n};\n\n\nexport type RootQueryTypeCommunityArgs = {\n  communityId: Scalars['String']\n};\n\n\nexport type RootQueryTypeEconomicResourceArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeOrganisationsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeFlagArgs = {\n  flagId: Scalars['String']\n};\n\n\nexport type RootQueryTypeCategoryArgs = {\n  categoryId?: Maybe<Scalars['String']>\n};\n\n\nexport type RootQueryTypePeoplePagesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeRecipeProcessArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeSettlementArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeCharactersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  facets?: Maybe<Array<Scalars['String']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeEconomicEventsFilteredArgs = {\n  action?: Maybe<Scalars['ID']>,\n  endDate?: Maybe<Scalars['String']>,\n  providerId?: Maybe<Scalars['ID']>,\n  receiverId?: Maybe<Scalars['ID']>,\n  resourceClassifiedAs?: Maybe<Array<Scalars['URI']>>,\n  startDate?: Maybe<Scalars['String']>\n};\n\n\nexport type RootQueryTypeFlagsArgs = {\n  after?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  before?: Maybe<Array<Maybe<Scalars['Cursor']>>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\nexport type RootQueryTypeUnitArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeRecipeExchangesArgs = {\n  limit?: Maybe<Scalars['Int']>,\n  start?: Maybe<Scalars['ID']>\n};\n\n\nexport type RootQueryTypeRecipeFlowArgs = {\n  id?: Maybe<Scalars['ID']>\n};\n\n/** \n * Represents many-to-many relationships between intents and commitments or events\n * that partially or full satisfy one or more intents.\n **/\nexport type Satisfaction = {\n   __typename?: 'Satisfaction',\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<Measure>,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<Measure>,\n  /** A commitment or economic event fully or partially satisfying an intent. */\n  satisfiedBy: EventOrCommitment,\n  /** An intent satisfied fully or partially by an economic event or commitment. */\n  satisfies: Intent,\n};\n\nexport type SatisfactionCreateParams = {\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n  /** (`Commitment`|`EconomicEvent`) A commitment or economic event fully or partially satisfying an intent. */\n  satisfiedBy: Scalars['ID'],\n  /** (`Intent`) An intent satisfied fully or partially by an economic event or commitment. */\n  satisfies: Scalars['ID'],\n};\n\nexport type SatisfactionResponse = {\n   __typename?: 'SatisfactionResponse',\n  satisfaction?: Maybe<Satisfaction>,\n};\n\nexport type SatisfactionUpdateParams = {\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n  /** (`Commitment`|`EconomicEvent`) A commitment or economic event fully or partially satisfying an intent. */\n  satisfiedBy?: Maybe<Scalars['ID']>,\n  /** (`Intent`) An intent satisfied fully or partially by an economic event or commitment. */\n  satisfies?: Maybe<Scalars['ID']>,\n};\n\n/** An estimated or analytical logical collection of higher level processes used for budgeting, analysis, plan refinement, etc. */\nexport type Scenario = {\n   __typename?: 'Scenario',\n  /** The scenario definition for this scenario, for example yearly budget. */\n  definedAs?: Maybe<ScenarioDefinition>,\n  /** The beginning date/time of the scenario, often the beginning of an accounting period. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The ending date/time of the scenario, often the end of an accounting period. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<AccountingScope>>,\n  /** An informal or formal textual identifier for a scenario. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** This scenario refines another scenario, often as time moves closer or for more detail. */\n  refinementOf?: Maybe<Scenario>,\n};\n\nexport type ScenarioCreateParams = {\n  /** (`ScenarioDefinition`) The scenario definition for this scenario, for example yearly budget. */\n  definedAs: Scalars['ID'],\n  /** The beginning date/time of the scenario, often the beginning of an accounting period. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The ending date/time of the scenario, often the end of an accounting period. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** An informal or formal textual identifier for a scenario. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Scenario`) This scenario refines another scenario, often as time moves closer or for more detail. */\n  refinementOf?: Maybe<Scalars['ID']>,\n};\n\n/** The type definition of one or more scenarios, such as Yearly Budget. */\nexport type ScenarioDefinition = {\n   __typename?: 'ScenarioDefinition',\n  /** The duration of the scenario, often an accounting period. */\n  hasDuration?: Maybe<Duration>,\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for a scenario definition. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type ScenarioDefinitionCreateParams = {\n  /** The duration of the scenario, often an accounting period. */\n  hasDuration?: Maybe<IDuration>,\n  /** An informal or formal textual identifier for a scenario definition. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type ScenarioDefinitionResponse = {\n   __typename?: 'ScenarioDefinitionResponse',\n  scenarioDefinition?: Maybe<ScenarioDefinition>,\n};\n\nexport type ScenarioDefinitionUpdateParams = {\n  /** The duration of the scenario, often an accounting period. */\n  hasDuration?: Maybe<IDuration>,\n  id: Scalars['ID'],\n  /** An informal or formal textual identifier for a scenario definition. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type ScenarioResponse = {\n   __typename?: 'ScenarioResponse',\n  scenario?: Maybe<Scenario>,\n};\n\nexport type ScenarioUpdateParams = {\n  /** (`ScenarioDefinition`) The scenario definition for this scenario, for example yearly budget. */\n  definedAs: Scalars['ID'],\n  /** The beginning date/time of the scenario, often the beginning of an accounting period. */\n  hasBeginning?: Maybe<Scalars['DateTime']>,\n  /** The ending date/time of the scenario, often the end of an accounting period. */\n  hasEnd?: Maybe<Scalars['DateTime']>,\n  id: Scalars['ID'],\n  /** Grouping around something to create a boundary or context, used for documenting, accounting, planning. */\n  inScopeOf?: Maybe<Array<Scalars['ID']>>,\n  /** An informal or formal textual identifier for a scenario. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** (`Scenario`) This scenario refines another scenario, often as time moves closer or for more detail. */\n  refinementOf?: Maybe<Scalars['ID']>,\n};\n\n/** Represents many-to-many relationships between claim and economic events that fully or partially settle one or more claims. */\nexport type Settlement = {\n   __typename?: 'Settlement',\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<Measure>,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<Measure>,\n  /** The economic event fully or partially settling a claim. */\n  settledBy: EconomicEvent,\n  /** A claim which is fully or partially settled by an economic event. */\n  settles: Claim,\n};\n\nexport type SettlementCreateParams = {\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n  /** (`EconomicEvent`) The economic event fully or partially settling a claim. */\n  settledBy: Scalars['ID'],\n  /** (`Claim`) A claim which is fully or partially settled by an economic event. */\n  settles: Scalars['ID'],\n};\n\nexport type SettlementResponse = {\n   __typename?: 'SettlementResponse',\n  settlement?: Maybe<Settlement>,\n};\n\nexport type SettlementUpdateParams = {\n  /** \n * The amount and unit of the work or use or citation effort-based action. This\n   * is often a time duration, but also could be cycle counts or other measures of\n   * effort or usefulness.\n **/\n  effortQuantity?: Maybe<IMeasure>,\n  id: Scalars['ID'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n  /** The amount and unit of the economic resource counted or inventoried. */\n  resourceQuantity?: Maybe<IMeasure>,\n  /** (`EconomicEvent`) The economic event fully or partially settling a claim. */\n  settledBy?: Maybe<Scalars['ID']>,\n  /** (`Claim`) A claim which is fully or partially settled by an economic event. */\n  settles?: Maybe<Scalars['ID']>,\n};\n\n/** A physical mappable location. */\nexport type SpatialThing = {\n   __typename?: 'SpatialThing',\n  /** Altitude. */\n  alt?: Maybe<Scalars['Float']>,\n  canonicalUrl?: Maybe<Scalars['String']>,\n  displayUsername?: Maybe<Scalars['String']>,\n  geom?: Maybe<Scalars['Json']>,\n  id: Scalars['ID'],\n  inScopeOf?: Maybe<AnyContext>,\n  /** Latitude. */\n  lat?: Maybe<Scalars['Float']>,\n  /** Longitude. */\n  long?: Maybe<Scalars['Float']>,\n  /** An address that will be recognized as mappable by mapping software. */\n  mappableAddress?: Maybe<Scalars['String']>,\n  /** An informal or formal textual identifier for a location. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type SpatialThingCreateParams = {\n  /** Altitude. */\n  alt?: Maybe<Scalars['Float']>,\n  /** Latitude. */\n  lat?: Maybe<Scalars['Float']>,\n  /** Longitude. */\n  long?: Maybe<Scalars['Float']>,\n  /** An address that will be recognized as mappable by mapping software. */\n  mappableAddress?: Maybe<Scalars['String']>,\n  /** An informal or formal textual identifier for a location. Does not imply uniqueness. */\n  name: Scalars['String'],\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\nexport type SpatialThingResponse = {\n   __typename?: 'SpatialThingResponse',\n  spatialThing?: Maybe<SpatialThing>,\n};\n\nexport type SpatialThingsPage = {\n   __typename?: 'SpatialThingsPage',\n  edges?: Maybe<Array<Maybe<SpatialThing>>>,\n  pageInfo?: Maybe<PageInfo>,\n  totalCount?: Maybe<Scalars['Int']>,\n};\n\nexport type SpatialThingUpdateParams = {\n  /** Altitude. */\n  alt?: Maybe<Scalars['Float']>,\n  id: Scalars['ID'],\n  /** Latitude. */\n  lat?: Maybe<Scalars['Float']>,\n  /** Longitude. */\n  long?: Maybe<Scalars['Float']>,\n  /** An address that will be recognized as mappable by mapping software. */\n  mappableAddress?: Maybe<Scalars['String']>,\n  /** An informal or formal textual identifier for a location. Does not imply uniqueness. */\n  name?: Maybe<Scalars['String']>,\n  /** A textual description or comment. */\n  note?: Maybe<Scalars['String']>,\n};\n\n/** A taggable could be a category or hashtag or user or community or etc */\nexport type Taggable = {\n   __typename?: 'Taggable',\n  /** The taggable object, like a category or community */\n  context?: Maybe<AnyContext>,\n  facet?: Maybe<Scalars['String']>,\n  /** The numeric primary key of the taggable */\n  id?: Maybe<Scalars['String']>,\n  name?: Maybe<Scalars['String']>,\n  prefix?: Maybe<Scalars['String']>,\n  summary?: Maybe<Scalars['String']>,\n  /** Things that were tagged with this tag */\n  things?: Maybe<Array<Maybe<AnyContext>>>,\n};\n\nexport type TaxonomyTag = {\n   __typename?: 'TaxonomyTag',\n  /** The taggable Category that we can use in items, feeds and federation */\n  category?: Maybe<Category>,\n  /** List of child taxonomy_tag (in a tree-based taxonomy) */\n  childrenTaxonomyTags?: Maybe<Array<Maybe<TaxonomyTagsPage>>>,\n  /** The numeric primary key of the taxonomy_tag */\n  id?: Maybe<Scalars['Int']>,\n  name?: Maybe<Scalars['String']>,\n  /** The parent taxonomy_tag (in a tree-based taxonomy) */\n  parentTag?: Maybe<TaxonomyTag>,\n  /** The ULID/pointer ID of the taxonomy_tag. Only exists once the tag is used in the app. */\n  pointerId?: Maybe<Scalars['String']>,\n  summary?: Maybe<Scalars['String']>,\n};\n\nexport type TaxonomyTagsPage = {\n   __typename?: 'TaxonomyTagsPage',\n  edges: Array<TaxonomyTag>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** A thread is essentially a list of comments */\nexport type Thread = {\n   __typename?: 'Thread',\n  /** A url for the thread, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** Comments in the thread, most recently created first */\n  comments?: Maybe<CommentsPage>,\n  /** The object the thread is attached to */\n  context?: Maybe<AnyContext>,\n  /** When the thread was created */\n  createdAt: Scalars['String'],\n  /** Total number of followers, including those we can't see */\n  followerCount?: Maybe<Scalars['Int']>,\n  /** Users following the collection, most recently followed first */\n  followers?: Maybe<FollowsPage>,\n  /** An instance-local UUID identifying the thread */\n  id: Scalars['String'],\n  /** Whether an instance admin has hidden the thread */\n  isHidden: Scalars['Boolean'],\n  /** Whether the thread is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** Whether the thread is publically visible */\n  isPublic: Scalars['Boolean'],\n  /** The last time the thread or a comment on it was created or updated */\n  lastActivity: Scalars['String'],\n  /** The current user's follow of the community, if any */\n  myFollow?: Maybe<Follow>,\n  /** A name/title for the thread */\n  name?: Maybe<Scalars['String']>,\n  /** When the thread was last updated */\n  updatedAt: Scalars['String'],\n};\n\n\n/** A thread is essentially a list of comments */\nexport type ThreadCommentsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** A thread is essentially a list of comments */\nexport type ThreadFollowersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type ThreadsPage = {\n   __typename?: 'ThreadsPage',\n  edges: Array<Thread>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\n/** Defines the unit of time measured in a temporal `Duration`. */\nexport enum TimeUnit {\n  Day = 'day',\n  Hour = 'hour',\n  Minute = 'minute',\n  Month = 'month',\n  Second = 'second',\n  Week = 'week',\n  Year = 'year'\n}\n\n/** \n * Defines a unit of measurement, along with its display symbol.\n * From OM2 vocabulary.\n **/\nexport type Unit = {\n   __typename?: 'Unit',\n  /** Added for CommonsPub */\n  canonicalUrl?: Maybe<Scalars['URI']>,\n  id: Scalars['ID'],\n  inScopeOf?: Maybe<AnyContext>,\n  /** A human readable label for the unit, can be language specific. */\n  label: Scalars['String'],\n  /** A standard display symbol for a unit of measure. */\n  symbol: Scalars['String'],\n};\n\nexport type UnitCreateParams = {\n  inScopeOf?: Maybe<Scalars['ID']>,\n  /** A human readable label for the unit, can be language specific. */\n  label: Scalars['String'],\n  /** A standard display symbol for a unit of measure. */\n  symbol: Scalars['String'],\n};\n\nexport type UnitResponse = {\n   __typename?: 'UnitResponse',\n  unit?: Maybe<Unit>,\n};\n\nexport type UnitsPage = {\n   __typename?: 'UnitsPage',\n  edges?: Maybe<Array<Unit>>,\n  pageInfo?: Maybe<PageInfo>,\n  totalCount?: Maybe<Scalars['Int']>,\n};\n\nexport type UnitUpdateParams = {\n  /** The primary key of the unit to update. */\n  id: Scalars['ID'],\n  /** A human readable label for the unit, can be language specific. */\n  label?: Maybe<Scalars['String']>,\n  /** A standard display symbol for a unit of measure. */\n  symbol?: Maybe<Scalars['String']>,\n};\n\nexport type UpdateProfileInput = {\n  email?: Maybe<Scalars['String']>,\n  extraInfo?: Maybe<Scalars['Json']>,\n  location?: Maybe<Scalars['String']>,\n  name?: Maybe<Scalars['String']>,\n  summary?: Maybe<Scalars['String']>,\n  wantsEmailDigest?: Maybe<Scalars['Boolean']>,\n  wantsNotifications?: Maybe<Scalars['Boolean']>,\n  website?: Maybe<Scalars['String']>,\n};\n\n\nexport type UploadInput = {\n  upload?: Maybe<Scalars['Upload']>,\n  url?: Maybe<Scalars['String']>,\n};\n\n\n/** User profile information */\nexport type User = {\n   __typename?: 'User',\n  /** Free text description of user's location. See also geolocation. */\n  location?: Maybe<Scalars['String']>,\n  /** An instance-unique identifier shared with communities and collections */\n  preferredUsername: Scalars['String'],\n  /** A preferred username + the host domain */\n  displayUsername: Scalars['String'],\n  /** Total number of likes, including those we can't see */\n  likeCount?: Maybe<Scalars['Int']>,\n  /** The collections a user is following, most recently followed first */\n  collectionFollows?: Maybe<FollowsPage>,\n  /** A JSON document containing more info beyond the default fields */\n  extraInfo?: Maybe<Scalars['Json']>,\n  /** Whether the user is local to the instance */\n  isLocal: Scalars['Boolean'],\n  /** The likes a user has created */\n  likes?: Maybe<LikesPage>,\n  /** An instance-local ULID identifying the user */\n  id: Scalars['ID'],\n  /** A valid URL */\n  website?: Maybe<Scalars['String']>,\n  /** \n * Activities of others the user is following, most recently created\n   * first. Only available to the current user under `me`\n **/\n  inbox?: Maybe<ActivitiesPage>,\n  /** The current user's follow of this user, if any */\n  myFollow?: Maybe<Follow>,\n  /** When the user last updated their profile */\n  updatedAt: Scalars['String'],\n  /** Total number of likers, including those we can't see */\n  likerCount?: Maybe<Scalars['Int']>,\n  /** The last time the user did anything */\n  lastActivity?: Maybe<Scalars['String']>,\n  /** Total number of things the user follows, including privately */\n  followCount?: Maybe<Scalars['Int']>,\n  /** The users a user is following, most recently followed first */\n  userFollows?: Maybe<FollowsPage>,\n  /** Whether the user has a public profile */\n  isPublic: Scalars['Boolean'],\n  /** Subscriptions users have to the collection */\n  followers?: Maybe<FollowsPage>,\n  /** User's geo coordinates. See also location. */\n  geolocation?: Maybe<SpatialThing>,\n  /** The likes a user has from other people */\n  likers?: Maybe<LikesPage>,\n  /** Whether an instance admin has disabled the user's account */\n  isDisabled: Scalars['Boolean'],\n  /** The current user's flag of this user, if any */\n  myFlag?: Maybe<Flag>,\n  /** A header background image url */\n  image?: Maybe<Content>,\n  /** An avatar url */\n  icon?: Maybe<Content>,\n  /** Comments the user has made, most recently created first */\n  comments?: Maybe<CommentsPage>,\n  /** The communities a user is following, most recently followed first */\n  communityFollows?: Maybe<FollowsPage>,\n  /** Activities of the user, most recently created first */\n  outbox?: Maybe<ActivitiesPage>,\n  /** Subscriptions users have to the collection */\n  follows?: Maybe<FollowsPage>,\n  /** Possibly biographical information */\n  summary?: Maybe<Scalars['String']>,\n  /** Total number of followers, including private follows */\n  followerCount?: Maybe<Scalars['Int']>,\n  /** A url for the user, may be to a remote instance */\n  canonicalUrl?: Maybe<Scalars['String']>,\n  /** When the user signed up */\n  createdAt: Scalars['String'],\n  /** The current user's like of this user, if any */\n  myLike?: Maybe<Like>,\n  /** A name field */\n  name?: Maybe<Scalars['String']>,\n};\n\n\n/** User profile information */\nexport type UserCollectionFollowsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserLikesArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserInboxArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserUserFollowsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserFollowersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserLikersArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserCommentsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserCommunityFollowsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserOutboxArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\n\n/** User profile information */\nexport type UserFollowsArgs = {\n  after?: Maybe<Array<Scalars['Cursor']>>,\n  before?: Maybe<Array<Scalars['Cursor']>>,\n  limit?: Maybe<Scalars['Int']>\n};\n\nexport type UsersPage = {\n   __typename?: 'UsersPage',\n  edges: Array<User>,\n  pageInfo: PageInfo,\n  totalCount: Scalars['Int'],\n};\n\nexport type WebMetadata = {\n   __typename?: 'WebMetadata',\n  author?: Maybe<Scalars['String']>,\n  embedCode?: Maybe<Scalars['String']>,\n  embedType?: Maybe<Scalars['String']>,\n  image?: Maybe<Scalars['String']>,\n  language?: Maybe<Scalars['String']>,\n  mimeType?: Maybe<Scalars['String']>,\n  source?: Maybe<Scalars['String']>,\n  summary?: Maybe<Scalars['String']>,\n  title?: Maybe<Scalars['String']>,\n  url?: Maybe<Scalars['String']>,\n};\n\n\n      export interface IntrospectionResultData {\n        __schema: {\n          types: {\n            kind: string;\n            name: string;\n            possibleTypes: {\n              name: string;\n            }[];\n          }[];\n        };\n      }\n\n      const result: IntrospectionResultData = {\n  \"__schema\": {\n    \"types\": [\n      {\n        \"kind\": \"UNION\",\n        \"name\": \"AnyContext\",\n        \"possibleTypes\": [\n          {\n            \"name\": \"Category\"\n          },\n          {\n            \"name\": \"Collection\"\n          },\n          {\n            \"name\": \"Comment\"\n          },\n          {\n            \"name\": \"Community\"\n          },\n          {\n            \"name\": \"Flag\"\n          },\n          {\n            \"name\": \"Follow\"\n          },\n          {\n            \"name\": \"Intent\"\n          },\n          {\n            \"name\": \"Like\"\n          },\n          {\n            \"name\": \"Organisation\"\n          },\n          {\n            \"name\": \"Resource\"\n          },\n          {\n            \"name\": \"SpatialThing\"\n          },\n          {\n            \"name\": \"Taggable\"\n          },\n          {\n            \"name\": \"User\"\n          }\n        ]\n      },\n      {\n        \"kind\": \"UNION\",\n        \"name\": \"AccountingScope\",\n        \"possibleTypes\": [\n          {\n            \"name\": \"Category\"\n          },\n          {\n            \"name\": \"Collection\"\n          },\n          {\n            \"name\": \"Community\"\n          },\n          {\n            \"name\": \"Organisation\"\n          },\n          {\n            \"name\": \"Organization\"\n          },\n          {\n            \"name\": \"Person\"\n          },\n          {\n            \"name\": \"Taggable\"\n          },\n          {\n            \"name\": \"User\"\n          }\n        ]\n      },\n      {\n        \"kind\": \"INTERFACE\",\n        \"name\": \"Agent\",\n        \"possibleTypes\": [\n          {\n            \"name\": \"Organization\"\n          },\n          {\n            \"name\": \"Person\"\n          }\n        ]\n      },\n      {\n        \"kind\": \"UNION\",\n        \"name\": \"EventOrCommitment\",\n        \"possibleTypes\": [\n          {\n            \"name\": \"Commitment\"\n          },\n          {\n            \"name\": \"EconomicEvent\"\n          }\n        ]\n      },\n      {\n        \"kind\": \"UNION\",\n        \"name\": \"ProductionFlowItem\",\n        \"possibleTypes\": [\n          {\n            \"name\": \"EconomicResource\"\n          },\n          {\n            \"name\": \"Process\"\n          }\n        ]\n      }\n    ]\n  }\n};\n\n      export default result;\n    \n\n\nexport type ResolverTypeWrapper<T> = Promise<T> | T;\n\nexport type ResolverFn<TResult, TParent, TContext, TArgs> = (\n  parent: TParent,\n  args: TArgs,\n  context: TContext,\n  info: GraphQLResolveInfo\n) => Promise<TResult> | TResult;\n\n\nexport type StitchingResolver<TResult, TParent, TContext, TArgs> = {\n  fragment: string;\n  resolve: ResolverFn<TResult, TParent, TContext, TArgs>;\n};\n\nexport type Resolver<TResult, TParent = {}, TContext = {}, TArgs = {}> =\n  | ResolverFn<TResult, TParent, TContext, TArgs>\n  | StitchingResolver<TResult, TParent, TContext, TArgs>;\n\nexport type SubscriptionSubscribeFn<TResult, TParent, TContext, TArgs> = (\n  parent: TParent,\n  args: TArgs,\n  context: TContext,\n  info: GraphQLResolveInfo\n) => AsyncIterator<TResult> | Promise<AsyncIterator<TResult>>;\n\nexport type SubscriptionResolveFn<TResult, TParent, TContext, TArgs> = (\n  parent: TParent,\n  args: TArgs,\n  context: TContext,\n  info: GraphQLResolveInfo\n) => TResult | Promise<TResult>;\n\nexport interface SubscriptionSubscriberObject<TResult, TKey extends string, TParent, TContext, TArgs> {\n  subscribe: SubscriptionSubscribeFn<{ [key in TKey]: TResult }, TParent, TContext, TArgs>;\n  resolve?: SubscriptionResolveFn<TResult, { [key in TKey]: TResult }, TContext, TArgs>;\n}\n\nexport interface SubscriptionResolverObject<TResult, TParent, TContext, TArgs> {\n  subscribe: SubscriptionSubscribeFn<any, TParent, TContext, TArgs>;\n  resolve: SubscriptionResolveFn<TResult, any, TContext, TArgs>;\n}\n\nexport type SubscriptionObject<TResult, TKey extends string, TParent, TContext, TArgs> =\n  | SubscriptionSubscriberObject<TResult, TKey, TParent, TContext, TArgs>\n  | SubscriptionResolverObject<TResult, TParent, TContext, TArgs>;\n\nexport type SubscriptionResolver<TResult, TKey extends string, TParent = {}, TContext = {}, TArgs = {}> =\n  | ((...args: any[]) => SubscriptionObject<TResult, TKey, TParent, TContext, TArgs>)\n  | SubscriptionObject<TResult, TKey, TParent, TContext, TArgs>;\n\nexport type TypeResolveFn<TTypes, TParent = {}, TContext = {}> = (\n  parent: TParent,\n  context: TContext,\n  info: GraphQLResolveInfo\n) => Maybe<TTypes>;\n\nexport type NextResolverFn<T> = () => Promise<T>;\n\nexport type DirectiveResolverFn<TResult = {}, TParent = {}, TContext = {}, TArgs = {}> = (\n  next: NextResolverFn<TResult>,\n  parent: TParent,\n  args: TArgs,\n  context: TContext,\n  info: GraphQLResolveInfo\n) => TResult | Promise<TResult>;\n\n/** Mapping between all available schema types and the resolvers types */\nexport type ResolversTypes = {\n  RootQueryType: ResolverTypeWrapper<{}>,\n  Int: ResolverTypeWrapper<Scalars['Int']>,\n  ID: ResolverTypeWrapper<Scalars['ID']>,\n  Agreement: ResolverTypeWrapper<Agreement>,\n  Commitment: ResolverTypeWrapper<Omit<Commitment, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>> }>,\n  Action: ResolverTypeWrapper<Action>,\n  String: ResolverTypeWrapper<Scalars['String']>,\n  URI: ResolverTypeWrapper<Scalars['URI']>,\n  SpatialThing: ResolverTypeWrapper<Omit<SpatialThing, 'inScopeOf'> & { inScopeOf?: Maybe<ResolversTypes['AnyContext']> }>,\n  Float: ResolverTypeWrapper<Scalars['Float']>,\n  Json: ResolverTypeWrapper<Scalars['Json']>,\n  AnyContext: ResolversTypes['Category'] | ResolversTypes['Collection'] | ResolversTypes['Comment'] | ResolversTypes['Community'] | ResolversTypes['Flag'] | ResolversTypes['Follow'] | ResolversTypes['Intent'] | ResolversTypes['Like'] | ResolversTypes['Organisation'] | ResolversTypes['Resource'] | ResolversTypes['SpatialThing'] | ResolversTypes['Taggable'] | ResolversTypes['User'],\n  Category: ResolverTypeWrapper<Omit<Category, 'caretaker'> & { caretaker?: Maybe<ResolversTypes['AnyContext']> }>,\n  Character: ResolverTypeWrapper<Omit<Character, 'context'> & { context?: Maybe<ResolversTypes['AnyContext']> }>,\n  Cursor: ResolverTypeWrapper<Scalars['Cursor']>,\n  CollectionsPage: ResolverTypeWrapper<CollectionsPage>,\n  Collection: ResolverTypeWrapper<Omit<Collection, 'context'> & { context?: Maybe<ResolversTypes['AnyContext']> }>,\n  Community: ResolverTypeWrapper<Omit<Community, 'context'> & { context?: Maybe<ResolversTypes['AnyContext']> }>,\n  User: ResolverTypeWrapper<User>,\n  FollowsPage: ResolverTypeWrapper<FollowsPage>,\n  Follow: ResolverTypeWrapper<Omit<Follow, 'context'> & { context: ResolversTypes['AnyContext'] }>,\n  Boolean: ResolverTypeWrapper<Scalars['Boolean']>,\n  PageInfo: ResolverTypeWrapper<PageInfo>,\n  LikesPage: ResolverTypeWrapper<LikesPage>,\n  Like: ResolverTypeWrapper<Omit<Like, 'context'> & { context: ResolversTypes['AnyContext'] }>,\n  ActivitiesPage: ResolverTypeWrapper<ActivitiesPage>,\n  Activity: ResolverTypeWrapper<Omit<Activity, 'context'> & { context?: Maybe<ResolversTypes['AnyContext']> }>,\n  ActivityVerb: ActivityVerb,\n  Flag: ResolverTypeWrapper<Omit<Flag, 'context'> & { context: ResolversTypes['AnyContext'] }>,\n  Content: ResolverTypeWrapper<Content>,\n  FileMetadata: ResolverTypeWrapper<FileMetadata>,\n  FileIntrinsics: ResolverTypeWrapper<FileIntrinsics>,\n  ContentMirror: ResolverTypeWrapper<ContentMirror>,\n  ContentUpload: ResolverTypeWrapper<ContentUpload>,\n  CommentsPage: ResolverTypeWrapper<CommentsPage>,\n  Comment: ResolverTypeWrapper<Comment>,\n  FlagsPage: ResolverTypeWrapper<FlagsPage>,\n  Thread: ResolverTypeWrapper<Omit<Thread, 'context'> & { context?: Maybe<ResolversTypes['AnyContext']> }>,\n  ThreadsPage: ResolverTypeWrapper<ThreadsPage>,\n  ResourcesPage: ResolverTypeWrapper<ResourcesPage>,\n  Resource: ResolverTypeWrapper<Omit<Resource, 'context'> & { context?: Maybe<ResolversTypes['AnyContext']> }>,\n  CommunitiesPage: ResolverTypeWrapper<CommunitiesPage>,\n  OrganisationsPage: ResolverTypeWrapper<OrganisationsPage>,\n  Organisation: ResolverTypeWrapper<Organisation>,\n  Profile: ResolverTypeWrapper<Profile>,\n  CategoriesPage: ResolverTypeWrapper<CategoriesPage>,\n  Intent: ResolverTypeWrapper<Omit<Intent, 'inScopeOf' | 'tags'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>>, tags?: Maybe<Array<Maybe<ResolversTypes['AnyContext']>>> }>,\n  Measure: ResolverTypeWrapper<Measure>,\n  Unit: ResolverTypeWrapper<Omit<Unit, 'inScopeOf'> & { inScopeOf?: Maybe<ResolversTypes['AnyContext']> }>,\n  DateTime: ResolverTypeWrapper<Scalars['DateTime']>,\n  AccountingScope: ResolversTypes['Category'] | ResolversTypes['Collection'] | ResolversTypes['Community'] | ResolversTypes['Organisation'] | ResolversTypes['Organization'] | ResolversTypes['Person'] | ResolversTypes['Taggable'] | ResolversTypes['User'],\n  Organization: ResolverTypeWrapper<Omit<Organization, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>> }>,\n  Agent: ResolverTypeWrapper<Agent>,\n  AgentType: AgentType,\n  agentCommitmentSearchParams: AgentCommitmentSearchParams,\n  agentEventSearchParams: AgentEventSearchParams,\n  EconomicEvent: ResolverTypeWrapper<Omit<EconomicEvent, 'inScopeOf' | 'tags' | 'trace' | 'track'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>>, tags?: Maybe<Array<Maybe<ResolversTypes['AnyContext']>>>, trace?: Maybe<Array<ResolversTypes['ProductionFlowItem']>>, track?: Maybe<Array<ResolversTypes['ProductionFlowItem']>> }>,\n  Appreciation: ResolverTypeWrapper<Appreciation>,\n  Fulfillment: ResolverTypeWrapper<Fulfillment>,\n  Process: ResolverTypeWrapper<Omit<Process, 'inScopeOf' | 'tags'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>>, tags?: Maybe<Array<ResolversTypes['AnyContext']>> }>,\n  ProcessSpecification: ResolverTypeWrapper<ProcessSpecification>,\n  Scenario: ResolverTypeWrapper<Omit<Scenario, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>> }>,\n  ScenarioDefinition: ResolverTypeWrapper<ScenarioDefinition>,\n  Duration: ResolverTypeWrapper<Duration>,\n  TimeUnit: TimeUnit,\n  Plan: ResolverTypeWrapper<Omit<Plan, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>> }>,\n  planProcessSearchParams: PlanProcessSearchParams,\n  ResourceSpecification: ResolverTypeWrapper<ResourceSpecification>,\n  EconomicResource: ResolverTypeWrapper<EconomicResource>,\n  ProductBatch: ResolverTypeWrapper<ProductBatch>,\n  Satisfaction: ResolverTypeWrapper<Omit<Satisfaction, 'satisfiedBy'> & { satisfiedBy: ResolversTypes['EventOrCommitment'] }>,\n  EventOrCommitment: ResolversTypes['Commitment'] | ResolversTypes['EconomicEvent'],\n  ProductionFlowItem: ResolversTypes['EconomicResource'] | ResolversTypes['Process'],\n  agentIntentSearchParams: AgentIntentSearchParams,\n  agentResourceSearchParams: AgentResourceSearchParams,\n  agentPlanSearchParams: AgentPlanSearchParams,\n  agentProcessSearchParams: AgentProcessSearchParams,\n  Proposal: ResolverTypeWrapper<Omit<Proposal, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>> }>,\n  ProposedTo: ResolverTypeWrapper<ProposedTo>,\n  ProposedIntent: ResolverTypeWrapper<ProposedIntent>,\n  AgentRelationship: ResolverTypeWrapper<Omit<AgentRelationship, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>> }>,\n  AgentRelationshipRole: ResolverTypeWrapper<AgentRelationshipRole>,\n  Person: ResolverTypeWrapper<Person>,\n  Taggable: ResolverTypeWrapper<Omit<Taggable, 'context' | 'things'> & { context?: Maybe<ResolversTypes['AnyContext']>, things?: Maybe<Array<Maybe<ResolversTypes['AnyContext']>>> }>,\n  Claim: ResolverTypeWrapper<Omit<Claim, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversTypes['AccountingScope']>> }>,\n  RecipeFlow: ResolverTypeWrapper<RecipeFlow>,\n  RecipeResource: ResolverTypeWrapper<RecipeResource>,\n  RecipeProcess: ResolverTypeWrapper<RecipeProcess>,\n  LanguagesPage: ResolverTypeWrapper<LanguagesPage>,\n  Language: ResolverTypeWrapper<Language>,\n  ProfilesPage: ResolverTypeWrapper<ProfilesPage>,\n  IntentsPage: ResolverTypeWrapper<IntentsPage>,\n  ProcessPage: ResolverTypeWrapper<ProcessPage>,\n  GeolocationFilters: GeolocationFilters,\n  GeolocationDistance: GeolocationDistance,\n  GeolocationPoint: GeolocationPoint,\n  EconomicResourcePage: ResolverTypeWrapper<EconomicResourcePage>,\n  ProposalsPage: ResolverTypeWrapper<ProposalsPage>,\n  SpatialThingsPage: ResolverTypeWrapper<SpatialThingsPage>,\n  TaxonomyTagsPage: ResolverTypeWrapper<TaxonomyTagsPage>,\n  TaxonomyTag: ResolverTypeWrapper<TaxonomyTag>,\n  RecipeExchange: ResolverTypeWrapper<RecipeExchange>,\n  AgentsPage: ResolverTypeWrapper<AgentsPage>,\n  UsersPage: ResolverTypeWrapper<UsersPage>,\n  CountriesPages: ResolverTypeWrapper<CountriesPages>,\n  Country: ResolverTypeWrapper<Country>,\n  MeasuresPage: ResolverTypeWrapper<MeasuresPage>,\n  Me: ResolverTypeWrapper<Me>,\n  UnitsPage: ResolverTypeWrapper<UnitsPage>,\n  Settlement: ResolverTypeWrapper<Settlement>,\n  RegisterEmailDomainAccessesPage: ResolverTypeWrapper<RegisterEmailDomainAccessesPage>,\n  RegisterEmailDomainAccess: ResolverTypeWrapper<RegisterEmailDomainAccess>,\n  Feature: ResolverTypeWrapper<Omit<Feature, 'context'> & { context?: Maybe<ResolversTypes['AnyContext']> }>,\n  EconomicEventPage: ResolverTypeWrapper<EconomicEventPage>,\n  RegisterEmailAccessesPage: ResolverTypeWrapper<RegisterEmailAccessesPage>,\n  RegisterEmailAccess: ResolverTypeWrapper<RegisterEmailAccess>,\n  FeaturesPage: ResolverTypeWrapper<FeaturesPage>,\n  CharactersPage: ResolverTypeWrapper<CharactersPage>,\n  Instance: ResolverTypeWrapper<Instance>,\n  RootMutationType: ResolverTypeWrapper<{}>,\n  EconomicResourceUpdateParams: EconomicResourceUpdateParams,\n  EconomicResourceResponse: ResolverTypeWrapper<EconomicResourceResponse>,\n  AppreciationCreateParams: AppreciationCreateParams,\n  AppreciationResponse: ResolverTypeWrapper<AppreciationResponse>,\n  CommentInput: CommentInput,\n  CategoryInput: CategoryInput,\n  CharacterInput: CharacterInput,\n  ProfileInput: ProfileInput,\n  PlanCreateParams: PlanCreateParams,\n  PlanResponse: ResolverTypeWrapper<PlanResponse>,\n  EconomicEventUpdateParams: EconomicEventUpdateParams,\n  EconomicEventResponse: ResolverTypeWrapper<EconomicEventResponse>,\n  AgreementUpdateParams: AgreementUpdateParams,\n  AgreementResponse: ResolverTypeWrapper<AgreementResponse>,\n  ProductBatchCreateParams: ProductBatchCreateParams,\n  ProductBatchResponse: ResolverTypeWrapper<ProductBatchResponse>,\n  IntentCreateParams: IntentCreateParams,\n  IMeasure: IMeasure,\n  IntentResponse: ResolverTypeWrapper<IntentResponse>,\n  ProposalCreateParams: ProposalCreateParams,\n  ProposalResponse: ResolverTypeWrapper<ProposalResponse>,\n  ScenarioDefinitionCreateParams: ScenarioDefinitionCreateParams,\n  IDuration: IDuration,\n  ScenarioDefinitionResponse: ResolverTypeWrapper<ScenarioDefinitionResponse>,\n  AgentRelationshipRoleUpdateParams: AgentRelationshipRoleUpdateParams,\n  AgentRelationshipRoleResponse: ResolverTypeWrapper<AgentRelationshipRoleResponse>,\n  SpatialThingCreateParams: SpatialThingCreateParams,\n  SpatialThingResponse: ResolverTypeWrapper<SpatialThingResponse>,\n  ProcessUpdateParams: ProcessUpdateParams,\n  ProcessResponse: ResolverTypeWrapper<ProcessResponse>,\n  ScenarioCreateParams: ScenarioCreateParams,\n  ScenarioResponse: ResolverTypeWrapper<ScenarioResponse>,\n  ClaimCreateParams: ClaimCreateParams,\n  ClaimResponse: ResolverTypeWrapper<ClaimResponse>,\n  RecipeFlowCreateParams: RecipeFlowCreateParams,\n  RecipeFlowResponse: ResolverTypeWrapper<RecipeFlowResponse>,\n  CommitmentUpdateParams: CommitmentUpdateParams,\n  CommitmentResponse: ResolverTypeWrapper<CommitmentResponse>,\n  AgentRelationshipRoleCreateParams: AgentRelationshipRoleCreateParams,\n  ClaimUpdateParams: ClaimUpdateParams,\n  AgreementCreateParams: AgreementCreateParams,\n  AgentCreateParams: AgentCreateParams,\n  PersonResponse: ResolverTypeWrapper<PersonResponse>,\n  WebMetadata: ResolverTypeWrapper<WebMetadata>,\n  OrganizationResponse: ResolverTypeWrapper<OrganizationResponse>,\n  AgentRelationshipCreateParams: AgentRelationshipCreateParams,\n  AgentRelationshipResponse: ResolverTypeWrapper<AgentRelationshipResponse>,\n  AuthPayload: ResolverTypeWrapper<AuthPayload>,\n  AgentRelationshipUpdateParams: AgentRelationshipUpdateParams,\n  ResourceSpecificationUpdateParams: ResourceSpecificationUpdateParams,\n  ResourceSpecificationResponse: ResolverTypeWrapper<ResourceSpecificationResponse>,\n  UploadInput: UploadInput,\n  Upload: ResolverTypeWrapper<Scalars['Upload']>,\n  ResourceInput: ResourceInput,\n  RecipeResourceCreateParams: RecipeResourceCreateParams,\n  RecipeResourceResponse: ResolverTypeWrapper<RecipeResourceResponse>,\n  CommunityUpdateInput: CommunityUpdateInput,\n  RecipeFlowUpdateParams: RecipeFlowUpdateParams,\n  RegistrationInput: RegistrationInput,\n  CommitmentCreateParams: CommitmentCreateParams,\n  IntentUpdateParams: IntentUpdateParams,\n  AppreciationUpdateParams: AppreciationUpdateParams,\n  SettlementUpdateParams: SettlementUpdateParams,\n  SettlementResponse: ResolverTypeWrapper<SettlementResponse>,\n  ProposedIntentResponse: ResolverTypeWrapper<ProposedIntentResponse>,\n  ProductBatchUpdateParams: ProductBatchUpdateParams,\n  SettlementCreateParams: SettlementCreateParams,\n  RecipeProcessUpdateParams: RecipeProcessUpdateParams,\n  RecipeProcessResponse: ResolverTypeWrapper<RecipeProcessResponse>,\n  ResourceSpecificationCreateParams: ResourceSpecificationCreateParams,\n  ProcessCreateParams: ProcessCreateParams,\n  RecipeExchangeCreateParams: RecipeExchangeCreateParams,\n  RecipeExchangeResponse: ResolverTypeWrapper<RecipeExchangeResponse>,\n  FulfillmentUpdateParams: FulfillmentUpdateParams,\n  FulfillmentResponse: ResolverTypeWrapper<FulfillmentResponse>,\n  SatisfactionUpdateParams: SatisfactionUpdateParams,\n  SatisfactionResponse: ResolverTypeWrapper<SatisfactionResponse>,\n  UpdateProfileInput: UpdateProfileInput,\n  SatisfactionCreateParams: SatisfactionCreateParams,\n  RecipeExchangeUpdateParams: RecipeExchangeUpdateParams,\n  ProcessSpecificationUpdateParams: ProcessSpecificationUpdateParams,\n  ProcessSpecificationResponse: ResolverTypeWrapper<ProcessSpecificationResponse>,\n  CollectionInput: CollectionInput,\n  UnitCreateParams: UnitCreateParams,\n  UnitResponse: ResolverTypeWrapper<UnitResponse>,\n  AgentUpdateParams: AgentUpdateParams,\n  ProposalUpdateParams: ProposalUpdateParams,\n  SpatialThingUpdateParams: SpatialThingUpdateParams,\n  EconomicEventCreateParams: EconomicEventCreateParams,\n  EconomicResourceCreateParams: EconomicResourceCreateParams,\n  ProposedToResponse: ResolverTypeWrapper<ProposedToResponse>,\n  OrganisationUpdateInput: OrganisationUpdateInput,\n  UnitUpdateParams: UnitUpdateParams,\n  RecipeResourceUpdateParams: RecipeResourceUpdateParams,\n  ProcessSpecificationCreateParams: ProcessSpecificationCreateParams,\n  OrganisationInput: OrganisationInput,\n  CollectionUpdateInput: CollectionUpdateInput,\n  ScenarioUpdateParams: ScenarioUpdateParams,\n  FulfillmentCreateParams: FulfillmentCreateParams,\n  RecipeProcessCreateParams: RecipeProcessCreateParams,\n  PlanUpdateParams: PlanUpdateParams,\n  ScenarioDefinitionUpdateParams: ScenarioDefinitionUpdateParams,\n  CommunityInput: CommunityInput,\n};\n\n/** Mapping between all available schema types and the resolvers parents */\nexport type ResolversParentTypes = {\n  RootQueryType: {},\n  Int: Scalars['Int'],\n  ID: Scalars['ID'],\n  Agreement: Agreement,\n  Commitment: Omit<Commitment, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>> },\n  Action: Action,\n  String: Scalars['String'],\n  URI: Scalars['URI'],\n  SpatialThing: Omit<SpatialThing, 'inScopeOf'> & { inScopeOf?: Maybe<ResolversParentTypes['AnyContext']> },\n  Float: Scalars['Float'],\n  Json: Scalars['Json'],\n  AnyContext: ResolversParentTypes['Category'] | ResolversParentTypes['Collection'] | ResolversParentTypes['Comment'] | ResolversParentTypes['Community'] | ResolversParentTypes['Flag'] | ResolversParentTypes['Follow'] | ResolversParentTypes['Intent'] | ResolversParentTypes['Like'] | ResolversParentTypes['Organisation'] | ResolversParentTypes['Resource'] | ResolversParentTypes['SpatialThing'] | ResolversParentTypes['Taggable'] | ResolversParentTypes['User'],\n  Category: Omit<Category, 'caretaker'> & { caretaker?: Maybe<ResolversParentTypes['AnyContext']> },\n  Character: Omit<Character, 'context'> & { context?: Maybe<ResolversParentTypes['AnyContext']> },\n  Cursor: Scalars['Cursor'],\n  CollectionsPage: CollectionsPage,\n  Collection: Omit<Collection, 'context'> & { context?: Maybe<ResolversParentTypes['AnyContext']> },\n  Community: Omit<Community, 'context'> & { context?: Maybe<ResolversParentTypes['AnyContext']> },\n  User: User,\n  FollowsPage: FollowsPage,\n  Follow: Omit<Follow, 'context'> & { context: ResolversParentTypes['AnyContext'] },\n  Boolean: Scalars['Boolean'],\n  PageInfo: PageInfo,\n  LikesPage: LikesPage,\n  Like: Omit<Like, 'context'> & { context: ResolversParentTypes['AnyContext'] },\n  ActivitiesPage: ActivitiesPage,\n  Activity: Omit<Activity, 'context'> & { context?: Maybe<ResolversParentTypes['AnyContext']> },\n  ActivityVerb: ActivityVerb,\n  Flag: Omit<Flag, 'context'> & { context: ResolversParentTypes['AnyContext'] },\n  Content: Content,\n  FileMetadata: FileMetadata,\n  FileIntrinsics: FileIntrinsics,\n  ContentMirror: ContentMirror,\n  ContentUpload: ContentUpload,\n  CommentsPage: CommentsPage,\n  Comment: Comment,\n  FlagsPage: FlagsPage,\n  Thread: Omit<Thread, 'context'> & { context?: Maybe<ResolversParentTypes['AnyContext']> },\n  ThreadsPage: ThreadsPage,\n  ResourcesPage: ResourcesPage,\n  Resource: Omit<Resource, 'context'> & { context?: Maybe<ResolversParentTypes['AnyContext']> },\n  CommunitiesPage: CommunitiesPage,\n  OrganisationsPage: OrganisationsPage,\n  Organisation: Organisation,\n  Profile: Profile,\n  CategoriesPage: CategoriesPage,\n  Intent: Omit<Intent, 'inScopeOf' | 'tags'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>>, tags?: Maybe<Array<Maybe<ResolversParentTypes['AnyContext']>>> },\n  Measure: Measure,\n  Unit: Omit<Unit, 'inScopeOf'> & { inScopeOf?: Maybe<ResolversParentTypes['AnyContext']> },\n  DateTime: Scalars['DateTime'],\n  AccountingScope: ResolversParentTypes['Category'] | ResolversParentTypes['Collection'] | ResolversParentTypes['Community'] | ResolversParentTypes['Organisation'] | ResolversParentTypes['Organization'] | ResolversParentTypes['Person'] | ResolversParentTypes['Taggable'] | ResolversParentTypes['User'],\n  Organization: Omit<Organization, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>> },\n  Agent: Agent,\n  AgentType: AgentType,\n  agentCommitmentSearchParams: AgentCommitmentSearchParams,\n  agentEventSearchParams: AgentEventSearchParams,\n  EconomicEvent: Omit<EconomicEvent, 'inScopeOf' | 'tags' | 'trace' | 'track'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>>, tags?: Maybe<Array<Maybe<ResolversParentTypes['AnyContext']>>>, trace?: Maybe<Array<ResolversParentTypes['ProductionFlowItem']>>, track?: Maybe<Array<ResolversParentTypes['ProductionFlowItem']>> },\n  Appreciation: Appreciation,\n  Fulfillment: Fulfillment,\n  Process: Omit<Process, 'inScopeOf' | 'tags'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>>, tags?: Maybe<Array<ResolversParentTypes['AnyContext']>> },\n  ProcessSpecification: ProcessSpecification,\n  Scenario: Omit<Scenario, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>> },\n  ScenarioDefinition: ScenarioDefinition,\n  Duration: Duration,\n  TimeUnit: TimeUnit,\n  Plan: Omit<Plan, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>> },\n  planProcessSearchParams: PlanProcessSearchParams,\n  ResourceSpecification: ResourceSpecification,\n  EconomicResource: EconomicResource,\n  ProductBatch: ProductBatch,\n  Satisfaction: Omit<Satisfaction, 'satisfiedBy'> & { satisfiedBy: ResolversParentTypes['EventOrCommitment'] },\n  EventOrCommitment: ResolversParentTypes['Commitment'] | ResolversParentTypes['EconomicEvent'],\n  ProductionFlowItem: ResolversParentTypes['EconomicResource'] | ResolversParentTypes['Process'],\n  agentIntentSearchParams: AgentIntentSearchParams,\n  agentResourceSearchParams: AgentResourceSearchParams,\n  agentPlanSearchParams: AgentPlanSearchParams,\n  agentProcessSearchParams: AgentProcessSearchParams,\n  Proposal: Omit<Proposal, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>> },\n  ProposedTo: ProposedTo,\n  ProposedIntent: ProposedIntent,\n  AgentRelationship: Omit<AgentRelationship, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>> },\n  AgentRelationshipRole: AgentRelationshipRole,\n  Person: Person,\n  Taggable: Omit<Taggable, 'context' | 'things'> & { context?: Maybe<ResolversParentTypes['AnyContext']>, things?: Maybe<Array<Maybe<ResolversParentTypes['AnyContext']>>> },\n  Claim: Omit<Claim, 'inScopeOf'> & { inScopeOf?: Maybe<Array<ResolversParentTypes['AccountingScope']>> },\n  RecipeFlow: RecipeFlow,\n  RecipeResource: RecipeResource,\n  RecipeProcess: RecipeProcess,\n  LanguagesPage: LanguagesPage,\n  Language: Language,\n  ProfilesPage: ProfilesPage,\n  IntentsPage: IntentsPage,\n  ProcessPage: ProcessPage,\n  GeolocationFilters: GeolocationFilters,\n  GeolocationDistance: GeolocationDistance,\n  GeolocationPoint: GeolocationPoint,\n  EconomicResourcePage: EconomicResourcePage,\n  ProposalsPage: ProposalsPage,\n  SpatialThingsPage: SpatialThingsPage,\n  TaxonomyTagsPage: TaxonomyTagsPage,\n  TaxonomyTag: TaxonomyTag,\n  RecipeExchange: RecipeExchange,\n  AgentsPage: AgentsPage,\n  UsersPage: UsersPage,\n  CountriesPages: CountriesPages,\n  Country: Country,\n  MeasuresPage: MeasuresPage,\n  Me: Me,\n  UnitsPage: UnitsPage,\n  Settlement: Settlement,\n  RegisterEmailDomainAccessesPage: RegisterEmailDomainAccessesPage,\n  RegisterEmailDomainAccess: RegisterEmailDomainAccess,\n  Feature: Omit<Feature, 'context'> & { context?: Maybe<ResolversParentTypes['AnyContext']> },\n  EconomicEventPage: EconomicEventPage,\n  RegisterEmailAccessesPage: RegisterEmailAccessesPage,\n  RegisterEmailAccess: RegisterEmailAccess,\n  FeaturesPage: FeaturesPage,\n  CharactersPage: CharactersPage,\n  Instance: Instance,\n  RootMutationType: {},\n  EconomicResourceUpdateParams: EconomicResourceUpdateParams,\n  EconomicResourceResponse: EconomicResourceResponse,\n  AppreciationCreateParams: AppreciationCreateParams,\n  AppreciationResponse: AppreciationResponse,\n  CommentInput: CommentInput,\n  CategoryInput: CategoryInput,\n  CharacterInput: CharacterInput,\n  ProfileInput: ProfileInput,\n  PlanCreateParams: PlanCreateParams,\n  PlanResponse: PlanResponse,\n  EconomicEventUpdateParams: EconomicEventUpdateParams,\n  EconomicEventResponse: EconomicEventResponse,\n  AgreementUpdateParams: AgreementUpdateParams,\n  AgreementResponse: AgreementResponse,\n  ProductBatchCreateParams: ProductBatchCreateParams,\n  ProductBatchResponse: ProductBatchResponse,\n  IntentCreateParams: IntentCreateParams,\n  IMeasure: IMeasure,\n  IntentResponse: IntentResponse,\n  ProposalCreateParams: ProposalCreateParams,\n  ProposalResponse: ProposalResponse,\n  ScenarioDefinitionCreateParams: ScenarioDefinitionCreateParams,\n  IDuration: IDuration,\n  ScenarioDefinitionResponse: ScenarioDefinitionResponse,\n  AgentRelationshipRoleUpdateParams: AgentRelationshipRoleUpdateParams,\n  AgentRelationshipRoleResponse: AgentRelationshipRoleResponse,\n  SpatialThingCreateParams: SpatialThingCreateParams,\n  SpatialThingResponse: SpatialThingResponse,\n  ProcessUpdateParams: ProcessUpdateParams,\n  ProcessResponse: ProcessResponse,\n  ScenarioCreateParams: ScenarioCreateParams,\n  ScenarioResponse: ScenarioResponse,\n  ClaimCreateParams: ClaimCreateParams,\n  ClaimResponse: ClaimResponse,\n  RecipeFlowCreateParams: RecipeFlowCreateParams,\n  RecipeFlowResponse: RecipeFlowResponse,\n  CommitmentUpdateParams: CommitmentUpdateParams,\n  CommitmentResponse: CommitmentResponse,\n  AgentRelationshipRoleCreateParams: AgentRelationshipRoleCreateParams,\n  ClaimUpdateParams: ClaimUpdateParams,\n  AgreementCreateParams: AgreementCreateParams,\n  AgentCreateParams: AgentCreateParams,\n  PersonResponse: PersonResponse,\n  WebMetadata: WebMetadata,\n  OrganizationResponse: OrganizationResponse,\n  AgentRelationshipCreateParams: AgentRelationshipCreateParams,\n  AgentRelationshipResponse: AgentRelationshipResponse,\n  AuthPayload: AuthPayload,\n  AgentRelationshipUpdateParams: AgentRelationshipUpdateParams,\n  ResourceSpecificationUpdateParams: ResourceSpecificationUpdateParams,\n  ResourceSpecificationResponse: ResourceSpecificationResponse,\n  UploadInput: UploadInput,\n  Upload: Scalars['Upload'],\n  ResourceInput: ResourceInput,\n  RecipeResourceCreateParams: RecipeResourceCreateParams,\n  RecipeResourceResponse: RecipeResourceResponse,\n  CommunityUpdateInput: CommunityUpdateInput,\n  RecipeFlowUpdateParams: RecipeFlowUpdateParams,\n  RegistrationInput: RegistrationInput,\n  CommitmentCreateParams: CommitmentCreateParams,\n  IntentUpdateParams: IntentUpdateParams,\n  AppreciationUpdateParams: AppreciationUpdateParams,\n  SettlementUpdateParams: SettlementUpdateParams,\n  SettlementResponse: SettlementResponse,\n  ProposedIntentResponse: ProposedIntentResponse,\n  ProductBatchUpdateParams: ProductBatchUpdateParams,\n  SettlementCreateParams: SettlementCreateParams,\n  RecipeProcessUpdateParams: RecipeProcessUpdateParams,\n  RecipeProcessResponse: RecipeProcessResponse,\n  ResourceSpecificationCreateParams: ResourceSpecificationCreateParams,\n  ProcessCreateParams: ProcessCreateParams,\n  RecipeExchangeCreateParams: RecipeExchangeCreateParams,\n  RecipeExchangeResponse: RecipeExchangeResponse,\n  FulfillmentUpdateParams: FulfillmentUpdateParams,\n  FulfillmentResponse: FulfillmentResponse,\n  SatisfactionUpdateParams: SatisfactionUpdateParams,\n  SatisfactionResponse: SatisfactionResponse,\n  UpdateProfileInput: UpdateProfileInput,\n  SatisfactionCreateParams: SatisfactionCreateParams,\n  RecipeExchangeUpdateParams: RecipeExchangeUpdateParams,\n  ProcessSpecificationUpdateParams: ProcessSpecificationUpdateParams,\n  ProcessSpecificationResponse: ProcessSpecificationResponse,\n  CollectionInput: CollectionInput,\n  UnitCreateParams: UnitCreateParams,\n  UnitResponse: UnitResponse,\n  AgentUpdateParams: AgentUpdateParams,\n  ProposalUpdateParams: ProposalUpdateParams,\n  SpatialThingUpdateParams: SpatialThingUpdateParams,\n  EconomicEventCreateParams: EconomicEventCreateParams,\n  EconomicResourceCreateParams: EconomicResourceCreateParams,\n  ProposedToResponse: ProposedToResponse,\n  OrganisationUpdateInput: OrganisationUpdateInput,\n  UnitUpdateParams: UnitUpdateParams,\n  RecipeResourceUpdateParams: RecipeResourceUpdateParams,\n  ProcessSpecificationCreateParams: ProcessSpecificationCreateParams,\n  OrganisationInput: OrganisationInput,\n  CollectionUpdateInput: CollectionUpdateInput,\n  ScenarioUpdateParams: ScenarioUpdateParams,\n  FulfillmentCreateParams: FulfillmentCreateParams,\n  RecipeProcessCreateParams: RecipeProcessCreateParams,\n  PlanUpdateParams: PlanUpdateParams,\n  ScenarioDefinitionUpdateParams: ScenarioDefinitionUpdateParams,\n  CommunityInput: CommunityInput,\n};\n\nexport type AccountingScopeResolvers<ContextType = any, ParentType extends ResolversParentTypes['AccountingScope'] = ResolversParentTypes['AccountingScope']> = {\n  __resolveType: TypeResolveFn<'Category' | 'Collection' | 'Community' | 'Organisation' | 'Organization' | 'Person' | 'Taggable' | 'User', ParentType, ContextType>\n};\n\nexport type ActionResolvers<ContextType = any, ParentType extends ResolversParentTypes['Action'] = ResolversParentTypes['Action']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inputOutput?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  label?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  onhandEffect?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  pairsWith?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  resourceEffect?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type ActivitiesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['ActivitiesPage'] = ResolversParentTypes['ActivitiesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Activity']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type ActivityResolvers<ContextType = any, ParentType extends ResolversParentTypes['Activity'] = ResolversParentTypes['Activity']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  context?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  user?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  verb?: Resolver<ResolversTypes['ActivityVerb'], ParentType, ContextType>,\n};\n\nexport type AgentResolvers<ContextType = any, ParentType extends ResolversParentTypes['Agent'] = ResolversParentTypes['Agent']> = {\n  __resolveType: TypeResolveFn<'Organization' | 'Person', ParentType, ContextType>,\n  agentType?: Resolver<Maybe<ResolversTypes['AgentType']>, ParentType, ContextType>,\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  commitments?: Resolver<Maybe<Array<ResolversTypes['Commitment']>>, ParentType, ContextType, AgentCommitmentsArgs>,\n  displayUsername?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  economicEvents?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType, AgentEconomicEventsArgs>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  intents?: Resolver<Maybe<Array<ResolversTypes['Intent']>>, ParentType, ContextType, AgentIntentsArgs>,\n  inventoriedEconomicResources?: Resolver<Maybe<Array<ResolversTypes['EconomicResource']>>, ParentType, ContextType, AgentInventoriedEconomicResourcesArgs>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  plans?: Resolver<Maybe<Array<ResolversTypes['Plan']>>, ParentType, ContextType, AgentPlansArgs>,\n  primaryLocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  processes?: Resolver<Maybe<Array<ResolversTypes['Process']>>, ParentType, ContextType, AgentProcessesArgs>,\n  proposals?: Resolver<Maybe<Array<ResolversTypes['Proposal']>>, ParentType, ContextType>,\n  relationships?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, AgentRelationshipsArgs>,\n  relationshipsAsObject?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, AgentRelationshipsAsObjectArgs>,\n  relationshipsAsSubject?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, AgentRelationshipsAsSubjectArgs>,\n  roles?: Resolver<Maybe<Array<ResolversTypes['AgentRelationshipRole']>>, ParentType, ContextType>,\n};\n\nexport type AgentRelationshipResolvers<ContextType = any, ParentType extends ResolversParentTypes['AgentRelationship'] = ResolversParentTypes['AgentRelationship']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  object?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n  relationship?: Resolver<ResolversTypes['AgentRelationshipRole'], ParentType, ContextType>,\n  subject?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n};\n\nexport type AgentRelationshipResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['AgentRelationshipResponse'] = ResolversParentTypes['AgentRelationshipResponse']> = {\n  agentRelationship?: Resolver<ResolversTypes['AgentRelationship'], ParentType, ContextType>,\n};\n\nexport type AgentRelationshipRoleResolvers<ContextType = any, ParentType extends ResolversParentTypes['AgentRelationshipRole'] = ResolversParentTypes['AgentRelationshipRole']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inverseRoleLabel?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  roleLabel?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type AgentRelationshipRoleResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['AgentRelationshipRoleResponse'] = ResolversParentTypes['AgentRelationshipRoleResponse']> = {\n  agentRelationshipRole?: Resolver<Maybe<ResolversTypes['AgentRelationshipRole']>, ParentType, ContextType>,\n};\n\nexport type AgentsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['AgentsPage'] = ResolversParentTypes['AgentsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Agent']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type AgreementResolvers<ContextType = any, ParentType extends ResolversParentTypes['Agreement'] = ResolversParentTypes['Agreement']> = {\n  commitments?: Resolver<Maybe<Array<ResolversTypes['Commitment']>>, ParentType, ContextType>,\n  created?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  economicEvents?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  involvedAgents?: Resolver<Maybe<Array<ResolversTypes['Agent']>>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type AgreementResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['AgreementResponse'] = ResolversParentTypes['AgreementResponse']> = {\n  agreement?: Resolver<Maybe<ResolversTypes['Agreement']>, ParentType, ContextType>,\n};\n\nexport type AnyContextResolvers<ContextType = any, ParentType extends ResolversParentTypes['AnyContext'] = ResolversParentTypes['AnyContext']> = {\n  __resolveType: TypeResolveFn<'Category' | 'Collection' | 'Comment' | 'Community' | 'Flag' | 'Follow' | 'Intent' | 'Like' | 'Organisation' | 'Resource' | 'SpatialThing' | 'Taggable' | 'User', ParentType, ContextType>\n};\n\nexport type AppreciationResolvers<ContextType = any, ParentType extends ResolversParentTypes['Appreciation'] = ResolversParentTypes['Appreciation']> = {\n  appreciationOf?: Resolver<ResolversTypes['EconomicEvent'], ParentType, ContextType>,\n  appreciationWith?: Resolver<ResolversTypes['EconomicEvent'], ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type AppreciationResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['AppreciationResponse'] = ResolversParentTypes['AppreciationResponse']> = {\n  appreciation?: Resolver<Maybe<ResolversTypes['Appreciation']>, ParentType, ContextType>,\n};\n\nexport type AuthPayloadResolvers<ContextType = any, ParentType extends ResolversParentTypes['AuthPayload'] = ResolversParentTypes['AuthPayload']> = {\n  me?: Resolver<ResolversTypes['Me'], ParentType, ContextType>,\n  token?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type CategoriesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['CategoriesPage'] = ResolversParentTypes['CategoriesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Category']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type CategoryResolvers<ContextType = any, ParentType extends ResolversParentTypes['Category'] = ResolversParentTypes['Category']> = {\n  caretaker?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  character?: Resolver<Maybe<ResolversTypes['Character']>, ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  facet?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  id?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  parentCategory?: Resolver<Maybe<ResolversTypes['Category']>, ParentType, ContextType>,\n  parentCategoryId?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  prefix?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  profile?: Resolver<Maybe<ResolversTypes['Profile']>, ParentType, ContextType>,\n  subCategories?: Resolver<Maybe<Array<Maybe<ResolversTypes['CategoriesPage']>>>, ParentType, ContextType>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type CharacterResolvers<ContextType = any, ParentType extends ResolversParentTypes['Character'] = ResolversParentTypes['Character']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  collections?: Resolver<Maybe<ResolversTypes['CollectionsPage']>, ParentType, ContextType, CharacterCollectionsArgs>,\n  communities?: Resolver<Maybe<ResolversTypes['CommunitiesPage']>, ParentType, ContextType, CharacterCommunitiesArgs>,\n  context?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  displayUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  facet?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  followerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  followers?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, CharacterFollowersArgs>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isDisabled?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  lastActivity?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  myFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType>,\n  myFollow?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType>,\n  myLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType>,\n  organisations?: Resolver<Maybe<ResolversTypes['OrganisationsPage']>, ParentType, ContextType, CharacterOrganisationsArgs>,\n  outbox?: Resolver<Maybe<ResolversTypes['ActivitiesPage']>, ParentType, ContextType, CharacterOutboxArgs>,\n  preferredUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  resources?: Resolver<Maybe<ResolversTypes['ResourcesPage']>, ParentType, ContextType, CharacterResourcesArgs>,\n  threads?: Resolver<Maybe<ResolversTypes['ThreadsPage']>, ParentType, ContextType, CharacterThreadsArgs>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type CharactersPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['CharactersPage'] = ResolversParentTypes['CharactersPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Character']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type ClaimResolvers<ContextType = any, ParentType extends ResolversParentTypes['Claim'] = ResolversParentTypes['Claim']> = {\n  action?: Resolver<ResolversTypes['Action'], ParentType, ContextType>,\n  agreedIn?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  created?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  due?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  effortQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  finished?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  provider?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n  receiver?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n  resourceClassifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n  resourceConformsTo?: Resolver<Maybe<ResolversTypes['ResourceSpecification']>, ParentType, ContextType>,\n  resourceQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  triggeredBy?: Resolver<ResolversTypes['EconomicEvent'], ParentType, ContextType>,\n};\n\nexport type ClaimResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ClaimResponse'] = ResolversParentTypes['ClaimResponse']> = {\n  claim?: Resolver<Maybe<ResolversTypes['Claim']>, ParentType, ContextType>,\n};\n\nexport type CollectionResolvers<ContextType = any, ParentType extends ResolversParentTypes['Collection'] = ResolversParentTypes['Collection']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  community?: Resolver<Maybe<ResolversTypes['Community']>, ParentType, ContextType>,\n  context?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  displayUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  extraInfo?: Resolver<Maybe<ResolversTypes['Json']>, ParentType, ContextType>,\n  featureCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  flags?: Resolver<Maybe<ResolversTypes['FlagsPage']>, ParentType, ContextType, CollectionFlagsArgs>,\n  followerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  followers?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, CollectionFollowersArgs>,\n  icon?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isDisabled?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  lastActivity?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  likerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  likers?: Resolver<Maybe<ResolversTypes['LikesPage']>, ParentType, ContextType, CollectionLikersArgs>,\n  myFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType>,\n  myFollow?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType>,\n  myLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  outbox?: Resolver<Maybe<ResolversTypes['ActivitiesPage']>, ParentType, ContextType, CollectionOutboxArgs>,\n  preferredUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  resourceCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  resources?: Resolver<Maybe<ResolversTypes['ResourcesPage']>, ParentType, ContextType, CollectionResourcesArgs>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  threads?: Resolver<Maybe<ResolversTypes['ThreadsPage']>, ParentType, ContextType, CollectionThreadsArgs>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type CollectionsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['CollectionsPage'] = ResolversParentTypes['CollectionsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Collection']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type CommentResolvers<ContextType = any, ParentType extends ResolversParentTypes['Comment'] = ResolversParentTypes['Comment']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  content?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  flags?: Resolver<Maybe<ResolversTypes['FlagsPage']>, ParentType, ContextType, CommentFlagsArgs>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  inReplyTo?: Resolver<Maybe<ResolversTypes['Comment']>, ParentType, ContextType>,\n  isHidden?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  likerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  likers?: Resolver<Maybe<ResolversTypes['LikesPage']>, ParentType, ContextType, CommentLikersArgs>,\n  myFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType>,\n  myLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  thread?: Resolver<Maybe<ResolversTypes['Thread']>, ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type CommentsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['CommentsPage'] = ResolversParentTypes['CommentsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Comment']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type CommitmentResolvers<ContextType = any, ParentType extends ResolversParentTypes['Commitment'] = ResolversParentTypes['Commitment']> = {\n  action?: Resolver<ResolversTypes['Action'], ParentType, ContextType>,\n  agreedIn?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  atLocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  clauseOf?: Resolver<Maybe<ResolversTypes['Agreement']>, ParentType, ContextType>,\n  created?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  deletable?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  due?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  effortQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  finished?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  fulfilledBy?: Resolver<Maybe<Array<ResolversTypes['Fulfillment']>>, ParentType, ContextType>,\n  hasBeginning?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasEnd?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasPointInTime?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  independentDemandOf?: Resolver<Maybe<ResolversTypes['Plan']>, ParentType, ContextType>,\n  inputOf?: Resolver<Maybe<ResolversTypes['Process']>, ParentType, ContextType>,\n  involvedAgents?: Resolver<Maybe<Array<ResolversTypes['Agent']>>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  outputOf?: Resolver<Maybe<ResolversTypes['Process']>, ParentType, ContextType>,\n  provider?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n  receiver?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n  resourceClassifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n  resourceConformsTo?: Resolver<Maybe<ResolversTypes['ResourceSpecification']>, ParentType, ContextType>,\n  resourceInventoriedAs?: Resolver<Maybe<ResolversTypes['EconomicResource']>, ParentType, ContextType>,\n  resourceQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  satisfies?: Resolver<Maybe<Array<ResolversTypes['Satisfaction']>>, ParentType, ContextType>,\n};\n\nexport type CommitmentResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['CommitmentResponse'] = ResolversParentTypes['CommitmentResponse']> = {\n  commitment?: Resolver<Maybe<ResolversTypes['Commitment']>, ParentType, ContextType>,\n};\n\nexport type CommunitiesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['CommunitiesPage'] = ResolversParentTypes['CommunitiesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Community']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type CommunityResolvers<ContextType = any, ParentType extends ResolversParentTypes['Community'] = ResolversParentTypes['Community']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  collectionCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  collections?: Resolver<Maybe<ResolversTypes['CollectionsPage']>, ParentType, ContextType, CommunityCollectionsArgs>,\n  context?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  displayUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  extraInfo?: Resolver<Maybe<ResolversTypes['Json']>, ParentType, ContextType>,\n  featureCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  flags?: Resolver<Maybe<ResolversTypes['FlagsPage']>, ParentType, ContextType, CommunityFlagsArgs>,\n  followerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  followers?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, CommunityFollowersArgs>,\n  icon?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  isDisabled?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  lastActivity?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  likerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  likers?: Resolver<Maybe<ResolversTypes['LikesPage']>, ParentType, ContextType, CommunityLikersArgs>,\n  myFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType>,\n  myFollow?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType>,\n  myLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  outbox?: Resolver<Maybe<ResolversTypes['ActivitiesPage']>, ParentType, ContextType, CommunityOutboxArgs>,\n  preferredUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  threads?: Resolver<Maybe<ResolversTypes['ThreadsPage']>, ParentType, ContextType, CommunityThreadsArgs>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type ContentResolvers<ContextType = any, ParentType extends ResolversParentTypes['Content'] = ResolversParentTypes['Content']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  mediaType?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  metadata?: Resolver<Maybe<ResolversTypes['FileMetadata']>, ParentType, ContextType>,\n  mirror?: Resolver<Maybe<ResolversTypes['ContentMirror']>, ParentType, ContextType>,\n  upload?: Resolver<Maybe<ResolversTypes['ContentUpload']>, ParentType, ContextType>,\n  uploader?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  url?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type ContentMirrorResolvers<ContextType = any, ParentType extends ResolversParentTypes['ContentMirror'] = ResolversParentTypes['ContentMirror']> = {\n  url?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type ContentUploadResolvers<ContextType = any, ParentType extends ResolversParentTypes['ContentUpload'] = ResolversParentTypes['ContentUpload']> = {\n  path?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  size?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n};\n\nexport type CountriesPagesResolvers<ContextType = any, ParentType extends ResolversParentTypes['CountriesPages'] = ResolversParentTypes['CountriesPages']> = {\n  edges?: Resolver<Array<ResolversTypes['Country']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type CountryResolvers<ContextType = any, ParentType extends ResolversParentTypes['Country'] = ResolversParentTypes['Country']> = {\n  capital?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  continentId?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  currencyId?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  id?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  id3letter?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  idIso?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  languageMain?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  mainTz?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  nameEng?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  nameEngFormal?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  nameLocal?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  population?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  telPrefix?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  tld?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport interface CursorScalarConfig extends GraphQLScalarTypeConfig<ResolversTypes['Cursor'], any> {\n  name: 'Cursor'\n}\n\nexport interface DateTimeScalarConfig extends GraphQLScalarTypeConfig<ResolversTypes['DateTime'], any> {\n  name: 'DateTime'\n}\n\nexport type DurationResolvers<ContextType = any, ParentType extends ResolversParentTypes['Duration'] = ResolversParentTypes['Duration']> = {\n  numericDuration?: Resolver<ResolversTypes['Float'], ParentType, ContextType>,\n  unitType?: Resolver<ResolversTypes['TimeUnit'], ParentType, ContextType>,\n};\n\nexport type EconomicEventResolvers<ContextType = any, ParentType extends ResolversParentTypes['EconomicEvent'] = ResolversParentTypes['EconomicEvent']> = {\n  action?: Resolver<ResolversTypes['Action'], ParentType, ContextType>,\n  agreedIn?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  appreciatedBy?: Resolver<Maybe<Array<ResolversTypes['Appreciation']>>, ParentType, ContextType>,\n  appreciationOf?: Resolver<Maybe<Array<ResolversTypes['Appreciation']>>, ParentType, ContextType>,\n  atLocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  deletable?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  effortQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  fulfills?: Resolver<Maybe<Array<ResolversTypes['Fulfillment']>>, ParentType, ContextType>,\n  hasBeginning?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasEnd?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasPointInTime?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  inputOf?: Resolver<Maybe<ResolversTypes['Process']>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  outputOf?: Resolver<Maybe<ResolversTypes['Process']>, ParentType, ContextType>,\n  provider?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n  realizationOf?: Resolver<Maybe<ResolversTypes['Agreement']>, ParentType, ContextType>,\n  receiver?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n  resourceClassifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n  resourceConformsTo?: Resolver<Maybe<ResolversTypes['ResourceSpecification']>, ParentType, ContextType>,\n  resourceInventoriedAs?: Resolver<Maybe<ResolversTypes['EconomicResource']>, ParentType, ContextType>,\n  resourceQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  satisfies?: Resolver<Maybe<Array<ResolversTypes['Satisfaction']>>, ParentType, ContextType>,\n  tags?: Resolver<Maybe<Array<Maybe<ResolversTypes['AnyContext']>>>, ParentType, ContextType>,\n  toResourceInventoriedAs?: Resolver<Maybe<ResolversTypes['EconomicResource']>, ParentType, ContextType>,\n  trace?: Resolver<Maybe<Array<ResolversTypes['ProductionFlowItem']>>, ParentType, ContextType>,\n  track?: Resolver<Maybe<Array<ResolversTypes['ProductionFlowItem']>>, ParentType, ContextType>,\n  triggeredBy?: Resolver<Maybe<ResolversTypes['EconomicEvent']>, ParentType, ContextType>,\n};\n\nexport type EconomicEventPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['EconomicEventPage'] = ResolversParentTypes['EconomicEventPage']> = {\n  edges?: Resolver<Array<ResolversTypes['EconomicEvent']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type EconomicEventResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['EconomicEventResponse'] = ResolversParentTypes['EconomicEventResponse']> = {\n  economicEvent?: Resolver<ResolversTypes['EconomicEvent'], ParentType, ContextType>,\n  economicResource?: Resolver<Maybe<ResolversTypes['EconomicResource']>, ParentType, ContextType>,\n};\n\nexport type EconomicResourceResolvers<ContextType = any, ParentType extends ResolversParentTypes['EconomicResource'] = ResolversParentTypes['EconomicResource']> = {\n  accountingQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  classifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n  conformsTo?: Resolver<ResolversTypes['ResourceSpecification'], ParentType, ContextType>,\n  containedIn?: Resolver<Maybe<ResolversTypes['EconomicResource']>, ParentType, ContextType>,\n  contains?: Resolver<Maybe<Array<ResolversTypes['EconomicResource']>>, ParentType, ContextType>,\n  currentLocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  lot?: Resolver<Maybe<ResolversTypes['ProductBatch']>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  onhandQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  primaryAccountable?: Resolver<Maybe<ResolversTypes['Agent']>, ParentType, ContextType>,\n  stage?: Resolver<Maybe<ResolversTypes['ProcessSpecification']>, ParentType, ContextType>,\n  state?: Resolver<Maybe<ResolversTypes['Action']>, ParentType, ContextType>,\n  tags?: Resolver<Maybe<Array<ResolversTypes['ID']>>, ParentType, ContextType>,\n  trace?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType>,\n  track?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType>,\n  trackingIdentifier?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  unitOfEffort?: Resolver<Maybe<ResolversTypes['Unit']>, ParentType, ContextType>,\n};\n\nexport type EconomicResourcePageResolvers<ContextType = any, ParentType extends ResolversParentTypes['EconomicResourcePage'] = ResolversParentTypes['EconomicResourcePage']> = {\n  edges?: Resolver<Array<ResolversTypes['EconomicResource']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type EconomicResourceResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['EconomicResourceResponse'] = ResolversParentTypes['EconomicResourceResponse']> = {\n  economicResource?: Resolver<ResolversTypes['EconomicResource'], ParentType, ContextType>,\n};\n\nexport type EventOrCommitmentResolvers<ContextType = any, ParentType extends ResolversParentTypes['EventOrCommitment'] = ResolversParentTypes['EventOrCommitment']> = {\n  __resolveType: TypeResolveFn<'Commitment' | 'EconomicEvent', ParentType, ContextType>\n};\n\nexport type FeatureResolvers<ContextType = any, ParentType extends ResolversParentTypes['Feature'] = ResolversParentTypes['Feature']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  context?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n};\n\nexport type FeaturesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['FeaturesPage'] = ResolversParentTypes['FeaturesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Feature']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type FileIntrinsicsResolvers<ContextType = any, ParentType extends ResolversParentTypes['FileIntrinsics'] = ResolversParentTypes['FileIntrinsics']> = {\n  bitsPerPixel?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  bitsPerSample?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  blockAlign?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  byteRate?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  colorPlanes?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  numColorPalette?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  numFrames?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  pageCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n};\n\nexport type FileMetadataResolvers<ContextType = any, ParentType extends ResolversParentTypes['FileMetadata'] = ResolversParentTypes['FileMetadata']> = {\n  heightPx?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  intrinsics?: Resolver<Maybe<ResolversTypes['FileIntrinsics']>, ParentType, ContextType>,\n  numAudioChannels?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  sampleRateHz?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  widthPx?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n};\n\nexport type FlagResolvers<ContextType = any, ParentType extends ResolversParentTypes['Flag'] = ResolversParentTypes['Flag']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  context?: Resolver<ResolversTypes['AnyContext'], ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isResolved?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  message?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type FlagsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['FlagsPage'] = ResolversParentTypes['FlagsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Flag']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type FollowResolvers<ContextType = any, ParentType extends ResolversParentTypes['Follow'] = ResolversParentTypes['Follow']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  context?: Resolver<ResolversTypes['AnyContext'], ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type FollowsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['FollowsPage'] = ResolversParentTypes['FollowsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Follow']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type FulfillmentResolvers<ContextType = any, ParentType extends ResolversParentTypes['Fulfillment'] = ResolversParentTypes['Fulfillment']> = {\n  effortQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  fulfilledBy?: Resolver<ResolversTypes['EconomicEvent'], ParentType, ContextType>,\n  fulfills?: Resolver<ResolversTypes['Commitment'], ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  resourceQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n};\n\nexport type FulfillmentResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['FulfillmentResponse'] = ResolversParentTypes['FulfillmentResponse']> = {\n  fulfillment?: Resolver<Maybe<ResolversTypes['Fulfillment']>, ParentType, ContextType>,\n};\n\nexport type InstanceResolvers<ContextType = any, ParentType extends ResolversParentTypes['Instance'] = ResolversParentTypes['Instance']> = {\n  description?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  extraInfo?: Resolver<Maybe<ResolversTypes['Json']>, ParentType, ContextType>,\n  featuredCollections?: Resolver<Maybe<ResolversTypes['FeaturesPage']>, ParentType, ContextType>,\n  featuredCommunities?: Resolver<Maybe<ResolversTypes['FeaturesPage']>, ParentType, ContextType>,\n  hostname?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  outbox?: Resolver<Maybe<ResolversTypes['ActivitiesPage']>, ParentType, ContextType, InstanceOutboxArgs>,\n  uploadIconTypes?: Resolver<Array<ResolversTypes['String']>, ParentType, ContextType>,\n  uploadImageTypes?: Resolver<Array<ResolversTypes['String']>, ParentType, ContextType>,\n  uploadMaxBytes?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n  uploadResourceTypes?: Resolver<Array<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type IntentResolvers<ContextType = any, ParentType extends ResolversParentTypes['Intent'] = ResolversParentTypes['Intent']> = {\n  action?: Resolver<ResolversTypes['Action'], ParentType, ContextType>,\n  agreedIn?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  atLocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  availableQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  deletable?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  due?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  effortQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  finished?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  hasBeginning?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasEnd?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasPointInTime?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  inputOf?: Resolver<Maybe<ResolversTypes['Process']>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  outputOf?: Resolver<Maybe<ResolversTypes['Process']>, ParentType, ContextType>,\n  provider?: Resolver<Maybe<ResolversTypes['Agent']>, ParentType, ContextType>,\n  publishedIn?: Resolver<Maybe<Array<ResolversTypes['ProposedIntent']>>, ParentType, ContextType>,\n  receiver?: Resolver<Maybe<ResolversTypes['Agent']>, ParentType, ContextType>,\n  resourceClassifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n  resourceConformsTo?: Resolver<Maybe<ResolversTypes['ResourceSpecification']>, ParentType, ContextType>,\n  resourceInventoriedAs?: Resolver<Maybe<ResolversTypes['EconomicResource']>, ParentType, ContextType>,\n  resourceQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  satisfiedBy?: Resolver<Maybe<Array<ResolversTypes['Satisfaction']>>, ParentType, ContextType>,\n  tags?: Resolver<Maybe<Array<Maybe<ResolversTypes['AnyContext']>>>, ParentType, ContextType>,\n};\n\nexport type IntentResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['IntentResponse'] = ResolversParentTypes['IntentResponse']> = {\n  intent?: Resolver<ResolversTypes['Intent'], ParentType, ContextType>,\n};\n\nexport type IntentsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['IntentsPage'] = ResolversParentTypes['IntentsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Intent']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport interface JsonScalarConfig extends GraphQLScalarTypeConfig<ResolversTypes['Json'], any> {\n  name: 'Json'\n}\n\nexport type LanguageResolvers<ContextType = any, ParentType extends ResolversParentTypes['Language'] = ResolversParentTypes['Language']> = {\n  id?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  languageType?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  mainCountryId?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  mainName?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  nativeName?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  parentLanguageId?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  rtl?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  speakersMil?: Resolver<Maybe<ResolversTypes['Float']>, ParentType, ContextType>,\n  speakersNative?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  speakersNativeTotal?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  subName?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type LanguagesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['LanguagesPage'] = ResolversParentTypes['LanguagesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Language']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type LikeResolvers<ContextType = any, ParentType extends ResolversParentTypes['Like'] = ResolversParentTypes['Like']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  context?: Resolver<ResolversTypes['AnyContext'], ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type LikesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['LikesPage'] = ResolversParentTypes['LikesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Like']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type MeResolvers<ContextType = any, ParentType extends ResolversParentTypes['Me'] = ResolversParentTypes['Me']> = {\n  email?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isConfirmed?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isInstanceAdmin?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  user?: Resolver<ResolversTypes['User'], ParentType, ContextType>,\n  wantsEmailDigest?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  wantsNotifications?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n};\n\nexport type MeasureResolvers<ContextType = any, ParentType extends ResolversParentTypes['Measure'] = ResolversParentTypes['Measure']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  hasNumericalValue?: Resolver<ResolversTypes['Float'], ParentType, ContextType>,\n  hasUnit?: Resolver<ResolversTypes['Unit'], ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n};\n\nexport type MeasuresPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['MeasuresPage'] = ResolversParentTypes['MeasuresPage']> = {\n  edges?: Resolver<Maybe<Array<ResolversTypes['Measure']>>, ParentType, ContextType>,\n  pageInfo?: Resolver<Maybe<ResolversTypes['PageInfo']>, ParentType, ContextType>,\n  totalCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n};\n\nexport type OrganisationResolvers<ContextType = any, ParentType extends ResolversParentTypes['Organisation'] = ResolversParentTypes['Organisation']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  character?: Resolver<Maybe<ResolversTypes['Character']>, ParentType, ContextType>,\n  context?: Resolver<Maybe<ResolversTypes['Community']>, ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  displayUsername?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  extraInfo?: Resolver<Maybe<ResolversTypes['Json']>, ParentType, ContextType>,\n  flags?: Resolver<Maybe<ResolversTypes['FlagsPage']>, ParentType, ContextType, OrganisationFlagsArgs>,\n  followerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  followers?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, OrganisationFollowersArgs>,\n  icon?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  isDisabled?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  likerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  likers?: Resolver<Maybe<ResolversTypes['LikesPage']>, ParentType, ContextType, OrganisationLikersArgs>,\n  myFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType>,\n  myFollow?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType>,\n  myLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  outbox?: Resolver<Maybe<ResolversTypes['ActivitiesPage']>, ParentType, ContextType, OrganisationOutboxArgs>,\n  preferredUsername?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  profile?: Resolver<Maybe<ResolversTypes['Profile']>, ParentType, ContextType>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  threads?: Resolver<Maybe<ResolversTypes['ThreadsPage']>, ParentType, ContextType, OrganisationThreadsArgs>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type OrganisationsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['OrganisationsPage'] = ResolversParentTypes['OrganisationsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Organisation']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type OrganizationResolvers<ContextType = any, ParentType extends ResolversParentTypes['Organization'] = ResolversParentTypes['Organization']> = {\n  agentType?: Resolver<Maybe<ResolversTypes['AgentType']>, ParentType, ContextType>,\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  commitments?: Resolver<Maybe<Array<ResolversTypes['Commitment']>>, ParentType, ContextType, OrganizationCommitmentsArgs>,\n  displayUsername?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  economicEvents?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType, OrganizationEconomicEventsArgs>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  intents?: Resolver<Maybe<Array<ResolversTypes['Intent']>>, ParentType, ContextType, OrganizationIntentsArgs>,\n  inventoriedEconomicResources?: Resolver<Maybe<Array<ResolversTypes['EconomicResource']>>, ParentType, ContextType, OrganizationInventoriedEconomicResourcesArgs>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  plans?: Resolver<Maybe<Array<ResolversTypes['Plan']>>, ParentType, ContextType, OrganizationPlansArgs>,\n  primaryLocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  processes?: Resolver<Maybe<Array<ResolversTypes['Process']>>, ParentType, ContextType, OrganizationProcessesArgs>,\n  proposals?: Resolver<Maybe<Array<ResolversTypes['Proposal']>>, ParentType, ContextType>,\n  relationships?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, OrganizationRelationshipsArgs>,\n  relationshipsAsObject?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, OrganizationRelationshipsAsObjectArgs>,\n  relationshipsAsSubject?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, OrganizationRelationshipsAsSubjectArgs>,\n  roles?: Resolver<Maybe<Array<ResolversTypes['AgentRelationshipRole']>>, ParentType, ContextType>,\n};\n\nexport type OrganizationResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['OrganizationResponse'] = ResolversParentTypes['OrganizationResponse']> = {\n  agent?: Resolver<ResolversTypes['Organization'], ParentType, ContextType>,\n};\n\nexport type PageInfoResolvers<ContextType = any, ParentType extends ResolversParentTypes['PageInfo'] = ResolversParentTypes['PageInfo']> = {\n  endCursor?: Resolver<Maybe<Array<ResolversTypes['Cursor']>>, ParentType, ContextType>,\n  hasNextPage?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  hasPreviousPage?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  startCursor?: Resolver<Maybe<Array<ResolversTypes['Cursor']>>, ParentType, ContextType>,\n};\n\nexport type PersonResolvers<ContextType = any, ParentType extends ResolversParentTypes['Person'] = ResolversParentTypes['Person']> = {\n  agentType?: Resolver<Maybe<ResolversTypes['AgentType']>, ParentType, ContextType>,\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  commitments?: Resolver<Maybe<Array<ResolversTypes['Commitment']>>, ParentType, ContextType, PersonCommitmentsArgs>,\n  displayUsername?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  economicEvents?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType, PersonEconomicEventsArgs>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  intents?: Resolver<Maybe<Array<ResolversTypes['Intent']>>, ParentType, ContextType, PersonIntentsArgs>,\n  inventoriedEconomicResources?: Resolver<Maybe<Array<ResolversTypes['EconomicResource']>>, ParentType, ContextType, PersonInventoriedEconomicResourcesArgs>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  plans?: Resolver<Maybe<Array<ResolversTypes['Plan']>>, ParentType, ContextType, PersonPlansArgs>,\n  primaryLocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  processes?: Resolver<Maybe<Array<ResolversTypes['Process']>>, ParentType, ContextType, PersonProcessesArgs>,\n  proposals?: Resolver<Maybe<Array<ResolversTypes['Proposal']>>, ParentType, ContextType>,\n  relationships?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, PersonRelationshipsArgs>,\n  relationshipsAsObject?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, PersonRelationshipsAsObjectArgs>,\n  relationshipsAsSubject?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, PersonRelationshipsAsSubjectArgs>,\n  roles?: Resolver<Maybe<Array<ResolversTypes['AgentRelationshipRole']>>, ParentType, ContextType>,\n};\n\nexport type PersonResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['PersonResponse'] = ResolversParentTypes['PersonResponse']> = {\n  agent?: Resolver<ResolversTypes['Person'], ParentType, ContextType>,\n};\n\nexport type PlanResolvers<ContextType = any, ParentType extends ResolversParentTypes['Plan'] = ResolversParentTypes['Plan']> = {\n  created?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  deletable?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  due?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  independentDemands?: Resolver<Maybe<Array<ResolversTypes['Commitment']>>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  processes?: Resolver<Maybe<Array<ResolversTypes['Process']>>, ParentType, ContextType, PlanProcessesArgs>,\n  refinementOf?: Resolver<Maybe<ResolversTypes['Scenario']>, ParentType, ContextType>,\n};\n\nexport type PlanResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['PlanResponse'] = ResolversParentTypes['PlanResponse']> = {\n  plan?: Resolver<Maybe<ResolversTypes['Plan']>, ParentType, ContextType>,\n};\n\nexport type ProcessResolvers<ContextType = any, ParentType extends ResolversParentTypes['Process'] = ResolversParentTypes['Process']> = {\n  basedOn?: Resolver<Maybe<ResolversTypes['ProcessSpecification']>, ParentType, ContextType>,\n  classifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n  committedInputs?: Resolver<Maybe<Array<ResolversTypes['Commitment']>>, ParentType, ContextType, ProcessCommittedInputsArgs>,\n  committedOutputs?: Resolver<Maybe<Array<ResolversTypes['Commitment']>>, ParentType, ContextType, ProcessCommittedOutputsArgs>,\n  deletable?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  finished?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  hasBeginning?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasEnd?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  inputs?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType, ProcessInputsArgs>,\n  intendedInputs?: Resolver<Maybe<Array<ResolversTypes['Intent']>>, ParentType, ContextType, ProcessIntendedInputsArgs>,\n  intendedOutputs?: Resolver<Maybe<Array<ResolversTypes['Intent']>>, ParentType, ContextType, ProcessIntendedOutputsArgs>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  nestedIn?: Resolver<Maybe<ResolversTypes['Scenario']>, ParentType, ContextType>,\n  nextProcesses?: Resolver<Maybe<Array<ResolversTypes['Process']>>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  outputs?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType, ProcessOutputsArgs>,\n  plannedWithin?: Resolver<Maybe<ResolversTypes['Plan']>, ParentType, ContextType>,\n  previousProcesses?: Resolver<Maybe<Array<ResolversTypes['Process']>>, ParentType, ContextType>,\n  tags?: Resolver<Maybe<Array<ResolversTypes['AnyContext']>>, ParentType, ContextType>,\n  trace?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType>,\n  track?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType>,\n  unplannedEconomicEvents?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType, ProcessUnplannedEconomicEventsArgs>,\n  workingAgents?: Resolver<Maybe<Array<ResolversTypes['Agent']>>, ParentType, ContextType>,\n};\n\nexport type ProcessPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProcessPage'] = ResolversParentTypes['ProcessPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Process']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type ProcessResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProcessResponse'] = ResolversParentTypes['ProcessResponse']> = {\n  process?: Resolver<Maybe<ResolversTypes['Process']>, ParentType, ContextType>,\n};\n\nexport type ProcessSpecificationResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProcessSpecification'] = ResolversParentTypes['ProcessSpecification']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type ProcessSpecificationResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProcessSpecificationResponse'] = ResolversParentTypes['ProcessSpecificationResponse']> = {\n  processSpecification?: Resolver<Maybe<ResolversTypes['ProcessSpecification']>, ParentType, ContextType>,\n};\n\nexport type ProductBatchResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProductBatch'] = ResolversParentTypes['ProductBatch']> = {\n  batchNumber?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  expiryDate?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  productionDate?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n};\n\nexport type ProductBatchResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProductBatchResponse'] = ResolversParentTypes['ProductBatchResponse']> = {\n  productBatch?: Resolver<ResolversTypes['ProductBatch'], ParentType, ContextType>,\n};\n\nexport type ProductionFlowItemResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProductionFlowItem'] = ResolversParentTypes['ProductionFlowItem']> = {\n  __resolveType: TypeResolveFn<'EconomicResource' | 'Process', ParentType, ContextType>\n};\n\nexport type ProfileResolvers<ContextType = any, ParentType extends ResolversParentTypes['Profile'] = ResolversParentTypes['Profile']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  displayUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  extraInfo?: Resolver<Maybe<ResolversTypes['Json']>, ParentType, ContextType>,\n  flags?: Resolver<Maybe<ResolversTypes['FlagsPage']>, ParentType, ContextType, ProfileFlagsArgs>,\n  icon?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  isDisabled?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  likerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  likers?: Resolver<Maybe<ResolversTypes['LikesPage']>, ParentType, ContextType, ProfileLikersArgs>,\n  myFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType>,\n  myLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  preferredUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type ProfilesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProfilesPage'] = ResolversParentTypes['ProfilesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Profile']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type ProposalResolvers<ContextType = any, ParentType extends ResolversParentTypes['Proposal'] = ResolversParentTypes['Proposal']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  created?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['Agent']>, ParentType, ContextType>,\n  eligibleLocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  hasBeginning?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasEnd?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  publishedTo?: Resolver<Maybe<Array<ResolversTypes['ProposedTo']>>, ParentType, ContextType>,\n  publishes?: Resolver<Maybe<Array<ResolversTypes['ProposedIntent']>>, ParentType, ContextType>,\n  unitBased?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n};\n\nexport type ProposalResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProposalResponse'] = ResolversParentTypes['ProposalResponse']> = {\n  proposal?: Resolver<Maybe<ResolversTypes['Proposal']>, ParentType, ContextType>,\n};\n\nexport type ProposalsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProposalsPage'] = ResolversParentTypes['ProposalsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Proposal']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type ProposedIntentResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProposedIntent'] = ResolversParentTypes['ProposedIntent']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  publishedIn?: Resolver<ResolversTypes['Proposal'], ParentType, ContextType>,\n  publishes?: Resolver<ResolversTypes['Intent'], ParentType, ContextType>,\n  reciprocal?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n};\n\nexport type ProposedIntentResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProposedIntentResponse'] = ResolversParentTypes['ProposedIntentResponse']> = {\n  proposedIntent?: Resolver<Maybe<ResolversTypes['ProposedIntent']>, ParentType, ContextType>,\n};\n\nexport type ProposedToResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProposedTo'] = ResolversParentTypes['ProposedTo']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  proposed?: Resolver<ResolversTypes['Proposal'], ParentType, ContextType>,\n  proposedTo?: Resolver<ResolversTypes['Agent'], ParentType, ContextType>,\n};\n\nexport type ProposedToResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ProposedToResponse'] = ResolversParentTypes['ProposedToResponse']> = {\n  proposedTo?: Resolver<Maybe<ResolversTypes['ProposedTo']>, ParentType, ContextType>,\n};\n\nexport type RecipeExchangeResolvers<ContextType = any, ParentType extends ResolversParentTypes['RecipeExchange'] = ResolversParentTypes['RecipeExchange']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type RecipeExchangeResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['RecipeExchangeResponse'] = ResolversParentTypes['RecipeExchangeResponse']> = {\n  recipeExchange?: Resolver<Maybe<ResolversTypes['RecipeExchange']>, ParentType, ContextType>,\n};\n\nexport type RecipeFlowResolvers<ContextType = any, ParentType extends ResolversParentTypes['RecipeFlow'] = ResolversParentTypes['RecipeFlow']> = {\n  action?: Resolver<ResolversTypes['Action'], ParentType, ContextType>,\n  effortQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  recipeFlowResource?: Resolver<Maybe<ResolversTypes['RecipeResource']>, ParentType, ContextType>,\n  recipeInputOf?: Resolver<Maybe<ResolversTypes['RecipeProcess']>, ParentType, ContextType>,\n  recipeOutputOf?: Resolver<Maybe<ResolversTypes['RecipeProcess']>, ParentType, ContextType>,\n  resourceQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n};\n\nexport type RecipeFlowResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['RecipeFlowResponse'] = ResolversParentTypes['RecipeFlowResponse']> = {\n  recipeFlow?: Resolver<Maybe<ResolversTypes['RecipeFlow']>, ParentType, ContextType>,\n};\n\nexport type RecipeProcessResolvers<ContextType = any, ParentType extends ResolversParentTypes['RecipeProcess'] = ResolversParentTypes['RecipeProcess']> = {\n  hasDuration?: Resolver<Maybe<ResolversTypes['Duration']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  processClassifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n  processConformsTo?: Resolver<ResolversTypes['ProcessSpecification'], ParentType, ContextType>,\n};\n\nexport type RecipeProcessResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['RecipeProcessResponse'] = ResolversParentTypes['RecipeProcessResponse']> = {\n  recipeProcess?: Resolver<Maybe<ResolversTypes['RecipeProcess']>, ParentType, ContextType>,\n};\n\nexport type RecipeResourceResolvers<ContextType = any, ParentType extends ResolversParentTypes['RecipeResource'] = ResolversParentTypes['RecipeResource']> = {\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  resourceClassifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n  resourceConformsTo?: Resolver<Maybe<ResolversTypes['ResourceSpecification']>, ParentType, ContextType>,\n  substitutable?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  unitOfEffort?: Resolver<Maybe<ResolversTypes['Unit']>, ParentType, ContextType>,\n  unitOfResource?: Resolver<Maybe<ResolversTypes['Unit']>, ParentType, ContextType>,\n};\n\nexport type RecipeResourceResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['RecipeResourceResponse'] = ResolversParentTypes['RecipeResourceResponse']> = {\n  recipeResource?: Resolver<Maybe<ResolversTypes['RecipeResource']>, ParentType, ContextType>,\n};\n\nexport type RegisterEmailAccessResolvers<ContextType = any, ParentType extends ResolversParentTypes['RegisterEmailAccess'] = ResolversParentTypes['RegisterEmailAccess']> = {\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  email?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type RegisterEmailAccessesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['RegisterEmailAccessesPage'] = ResolversParentTypes['RegisterEmailAccessesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['RegisterEmailAccess']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type RegisterEmailDomainAccessResolvers<ContextType = any, ParentType extends ResolversParentTypes['RegisterEmailDomainAccess'] = ResolversParentTypes['RegisterEmailDomainAccess']> = {\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  domain?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type RegisterEmailDomainAccessesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['RegisterEmailDomainAccessesPage'] = ResolversParentTypes['RegisterEmailDomainAccessesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['RegisterEmailDomainAccess']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type ResourceResolvers<ContextType = any, ParentType extends ResolversParentTypes['Resource'] = ResolversParentTypes['Resource']> = {\n  license?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  embedCode?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  accessibilityFeature?: Resolver<Maybe<Array<Maybe<ResolversTypes['String']>>>, ParentType, ContextType>,\n  extraInfo?: Resolver<Maybe<ResolversTypes['Json']>, ParentType, ContextType>,\n  collection?: Resolver<Maybe<ResolversTypes['Collection']>, ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  level?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  subject?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  likerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  freeAccess?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  creator?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType>,\n  embedType?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  mimeType?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  content?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  likers?: Resolver<Maybe<ResolversTypes['LikesPage']>, ParentType, ContextType, ResourceLikersArgs>,\n  isDisabled?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  publicAccess?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  myFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType>,\n  author?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  icon?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  context?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  language?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  type?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  myLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  flags?: Resolver<Maybe<ResolversTypes['FlagsPage']>, ParentType, ContextType, ResourceFlagsArgs>,\n};\n\nexport type ResourcesPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['ResourcesPage'] = ResolversParentTypes['ResourcesPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Resource']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type ResourceSpecificationResolvers<ContextType = any, ParentType extends ResolversParentTypes['ResourceSpecification'] = ResolversParentTypes['ResourceSpecification']> = {\n  conformingResources?: Resolver<Maybe<Array<ResolversTypes['EconomicResource']>>, ParentType, ContextType>,\n  defaultUnitOfEffort?: Resolver<Maybe<ResolversTypes['Unit']>, ParentType, ContextType>,\n  defaultUnitOfResource?: Resolver<Maybe<ResolversTypes['Unit']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  resourceClassifiedAs?: Resolver<Maybe<Array<ResolversTypes['URI']>>, ParentType, ContextType>,\n};\n\nexport type ResourceSpecificationResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ResourceSpecificationResponse'] = ResolversParentTypes['ResourceSpecificationResponse']> = {\n  resourceSpecification?: Resolver<Maybe<ResolversTypes['ResourceSpecification']>, ParentType, ContextType>,\n};\n\nexport type RootMutationTypeResolvers<ContextType = any, ParentType extends ResolversParentTypes['RootMutationType'] = ResolversParentTypes['RootMutationType']> = {\n  updateEconomicResource?: Resolver<Maybe<ResolversTypes['EconomicResourceResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateEconomicResourceArgs, 'resource'>>,\n  deletePerson?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeletePersonArgs, 'id'>>,\n  deleteSelf?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteSelfArgs, 'iAmSure'>>,\n  deleteRecipeFlow?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteRecipeFlowArgs, 'id'>>,\n  createAppreciation?: Resolver<Maybe<ResolversTypes['AppreciationResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateAppreciationArgs, 'appreciation'>>,\n  createReply?: Resolver<Maybe<ResolversTypes['Comment']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateReplyArgs, 'comment' | 'inReplyToId' | 'threadId'>>,\n  createCategory?: Resolver<Maybe<ResolversTypes['Category']>, ParentType, ContextType, RootMutationTypeCreateCategoryArgs>,\n  createPlan?: Resolver<Maybe<ResolversTypes['PlanResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreatePlanArgs, 'plan'>>,\n  updateEconomicEvent?: Resolver<Maybe<ResolversTypes['EconomicEventResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateEconomicEventArgs, 'event'>>,\n  updateComment?: Resolver<Maybe<ResolversTypes['Comment']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateCommentArgs, 'comment' | 'commentId'>>,\n  updateAgreement?: Resolver<Maybe<ResolversTypes['AgreementResponse']>, ParentType, ContextType, RootMutationTypeUpdateAgreementArgs>,\n  createProductBatch?: Resolver<Maybe<ResolversTypes['ProductBatchResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateProductBatchArgs, 'productBatch'>>,\n  createIntent?: Resolver<Maybe<ResolversTypes['IntentResponse']>, ParentType, ContextType, RootMutationTypeCreateIntentArgs>,\n  createOffer?: Resolver<Maybe<ResolversTypes['IntentResponse']>, ParentType, ContextType, RootMutationTypeCreateOfferArgs>,\n  createProposal?: Resolver<Maybe<ResolversTypes['ProposalResponse']>, ParentType, ContextType, RootMutationTypeCreateProposalArgs>,\n  createScenarioDefinition?: Resolver<Maybe<ResolversTypes['ScenarioDefinitionResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateScenarioDefinitionArgs, 'plan'>>,\n  updateAgentRelationshipRole?: Resolver<Maybe<ResolversTypes['AgentRelationshipRoleResponse']>, ParentType, ContextType, RootMutationTypeUpdateAgentRelationshipRoleArgs>,\n  createSpatialThing?: Resolver<Maybe<ResolversTypes['SpatialThingResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateSpatialThingArgs, 'spatialThing'>>,\n  updateProcess?: Resolver<Maybe<ResolversTypes['ProcessResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateProcessArgs, 'process'>>,\n  createScenario?: Resolver<Maybe<ResolversTypes['ScenarioResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateScenarioArgs, 'plan'>>,\n  deleteOrganization?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteOrganizationArgs, 'id'>>,\n  createLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateLikeArgs, 'contextId'>>,\n  createClaim?: Resolver<Maybe<ResolversTypes['ClaimResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateClaimArgs, 'claim'>>,\n  createRecipeFlow?: Resolver<Maybe<ResolversTypes['RecipeFlowResponse']>, ParentType, ContextType, RootMutationTypeCreateRecipeFlowArgs>,\n  updateCategory?: Resolver<Maybe<ResolversTypes['Category']>, ParentType, ContextType, RootMutationTypeUpdateCategoryArgs>,\n  deleteRecipeProcess?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteRecipeProcessArgs, 'id'>>,\n  updateCommitment?: Resolver<Maybe<ResolversTypes['CommitmentResponse']>, ParentType, ContextType, RootMutationTypeUpdateCommitmentArgs>,\n  resetPasswordRequest?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeResetPasswordRequestArgs, 'email'>>,\n  deactivateUser?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType, RequireFields<RootMutationTypeDeactivateUserArgs, 'id'>>,\n  createThread?: Resolver<Maybe<ResolversTypes['Comment']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateThreadArgs, 'comment'>>,\n  createAgentRelationshipRole?: Resolver<Maybe<ResolversTypes['AgentRelationshipRoleResponse']>, ParentType, ContextType, RootMutationTypeCreateAgentRelationshipRoleArgs>,\n  deleteClaim?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteClaimArgs, 'id'>>,\n  updateClaim?: Resolver<Maybe<ResolversTypes['ClaimResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateClaimArgs, 'claim'>>,\n  deleteRecipeResource?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteRecipeResourceArgs, 'id'>>,\n  createAgreement?: Resolver<Maybe<ResolversTypes['AgreementResponse']>, ParentType, ContextType, RootMutationTypeCreateAgreementArgs>,\n  createFeature?: Resolver<Maybe<ResolversTypes['Feature']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateFeatureArgs, 'contextId'>>,\n  tag?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeTagArgs, 'taggables' | 'thing'>>,\n  createPerson?: Resolver<Maybe<ResolversTypes['PersonResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreatePersonArgs, 'person'>>,\n  fetchWebMetadata?: Resolver<Maybe<ResolversTypes['WebMetadata']>, ParentType, ContextType, RequireFields<RootMutationTypeFetchWebMetadataArgs, 'url'>>,\n  deleteProposedTo?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteProposedToArgs, 'id'>>,\n  deleteResourceSpecification?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteResourceSpecificationArgs, 'id'>>,\n  deleteIntent?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteIntentArgs, 'id'>>,\n  createOrganization?: Resolver<Maybe<ResolversTypes['OrganizationResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateOrganizationArgs, 'organization'>>,\n  createAgentRelationship?: Resolver<Maybe<ResolversTypes['AgentRelationshipResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateAgentRelationshipArgs, 'relationship'>>,\n  createRegisterEmailAccess?: Resolver<ResolversTypes['RegisterEmailAccess'], ParentType, ContextType, RequireFields<RootMutationTypeCreateRegisterEmailAccessArgs, 'email'>>,\n  deleteScenario?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteScenarioArgs, 'id'>>,\n  characterise?: Resolver<Maybe<ResolversTypes['Character']>, ParentType, ContextType, RequireFields<RootMutationTypeCharacteriseArgs, 'contextId'>>,\n  deleteProcess?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteProcessArgs, 'id'>>,\n  deleteAgentRelationshipRole?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteAgentRelationshipRoleArgs, 'id'>>,\n  createSession?: Resolver<Maybe<ResolversTypes['AuthPayload']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateSessionArgs, 'password'>>,\n  deleteSettlement?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteSettlementArgs, 'id'>>,\n  updateAgentRelationship?: Resolver<Maybe<ResolversTypes['AgentRelationshipResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateAgentRelationshipArgs, 'relationship'>>,\n  updateResourceSpecification?: Resolver<Maybe<ResolversTypes['ResourceSpecificationResponse']>, ParentType, ContextType, RootMutationTypeUpdateResourceSpecificationArgs>,\n  createResource?: Resolver<Maybe<ResolversTypes['Resource']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateResourceArgs, 'content' | 'resource'>>,\n  createRecipeResource?: Resolver<Maybe<ResolversTypes['RecipeResourceResponse']>, ParentType, ContextType, RootMutationTypeCreateRecipeResourceArgs>,\n  delete?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteArgs, 'contextId'>>,\n  createRegisterEmailDomainAccess?: Resolver<ResolversTypes['RegisterEmailDomainAccess'], ParentType, ContextType, RequireFields<RootMutationTypeCreateRegisterEmailDomainAccessArgs, 'domain'>>,\n  updateCommunity?: Resolver<Maybe<ResolversTypes['Community']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateCommunityArgs, 'community' | 'communityId'>>,\n  updateRecipeFlow?: Resolver<Maybe<ResolversTypes['RecipeFlowResponse']>, ParentType, ContextType, RootMutationTypeUpdateRecipeFlowArgs>,\n  deleteAppreciation?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteAppreciationArgs, 'id'>>,\n  createUser?: Resolver<Maybe<ResolversTypes['Me']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateUserArgs, 'user'>>,\n  deleteSession?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType>,\n  createCommitment?: Resolver<Maybe<ResolversTypes['CommitmentResponse']>, ParentType, ContextType, RootMutationTypeCreateCommitmentArgs>,\n  deleteRegisterEmailAccess?: Resolver<Maybe<ResolversTypes['RegisterEmailAccess']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteRegisterEmailAccessArgs, 'id'>>,\n  updateIntent?: Resolver<Maybe<ResolversTypes['IntentResponse']>, ParentType, ContextType, RootMutationTypeUpdateIntentArgs>,\n  updateAppreciation?: Resolver<Maybe<ResolversTypes['AppreciationResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateAppreciationArgs, 'appreciation'>>,\n  updateSettlement?: Resolver<Maybe<ResolversTypes['SettlementResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateSettlementArgs, 's0ettlement'>>,\n  deleteUnit?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteUnitArgs, 'id'>>,\n  deleteEconomicEvent?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteEconomicEventArgs, 'id'>>,\n  proposeIntent?: Resolver<Maybe<ResolversTypes['ProposedIntentResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeProposeIntentArgs, 'publishedIn' | 'publishes'>>,\n  updateProductBatch?: Resolver<Maybe<ResolversTypes['ProductBatchResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateProductBatchArgs, 'productBatch'>>,\n  createSettlement?: Resolver<Maybe<ResolversTypes['SettlementResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateSettlementArgs, 'settlement'>>,\n  updateRecipeProcess?: Resolver<Maybe<ResolversTypes['RecipeProcessResponse']>, ParentType, ContextType, RootMutationTypeUpdateRecipeProcessArgs>,\n  deleteCommitment?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteCommitmentArgs, 'id'>>,\n  createResourceSpecification?: Resolver<Maybe<ResolversTypes['ResourceSpecificationResponse']>, ParentType, ContextType, RootMutationTypeCreateResourceSpecificationArgs>,\n  createProcess?: Resolver<Maybe<ResolversTypes['ProcessResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateProcessArgs, 'process'>>,\n  ingestTaxonomyTag?: Resolver<Maybe<ResolversTypes['Taggable']>, ParentType, ContextType, RootMutationTypeIngestTaxonomyTagArgs>,\n  deleteProposedIntent?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteProposedIntentArgs, 'id'>>,\n  sendInvite?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeSendInviteArgs, 'email'>>,\n  createRecipeExchange?: Resolver<Maybe<ResolversTypes['RecipeExchangeResponse']>, ParentType, ContextType, RootMutationTypeCreateRecipeExchangeArgs>,\n  createFollowByUrl?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateFollowByUrlArgs, 'url'>>,\n  updateFulfillment?: Resolver<Maybe<ResolversTypes['FulfillmentResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateFulfillmentArgs, 'fulfillment'>>,\n  updateSatisfaction?: Resolver<Maybe<ResolversTypes['SatisfactionResponse']>, ParentType, ContextType, RootMutationTypeUpdateSatisfactionArgs>,\n  confirmEmail?: Resolver<Maybe<ResolversTypes['AuthPayload']>, ParentType, ContextType, RequireFields<RootMutationTypeConfirmEmailArgs, 'token'>>,\n  updateProfile?: Resolver<Maybe<ResolversTypes['Me']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateProfileArgs, 'profile'>>,\n  deleteProductBatch?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteProductBatchArgs, 'id'>>,\n  createSatisfaction?: Resolver<Maybe<ResolversTypes['SatisfactionResponse']>, ParentType, ContextType, RootMutationTypeCreateSatisfactionArgs>,\n  updateRecipeExchange?: Resolver<Maybe<ResolversTypes['RecipeExchangeResponse']>, ParentType, ContextType, RootMutationTypeUpdateRecipeExchangeArgs>,\n  resetPassword?: Resolver<Maybe<ResolversTypes['AuthPayload']>, ParentType, ContextType, RequireFields<RootMutationTypeResetPasswordArgs, 'password' | 'token'>>,\n  updateProcessSpecification?: Resolver<Maybe<ResolversTypes['ProcessSpecificationResponse']>, ParentType, ContextType, RootMutationTypeUpdateProcessSpecificationArgs>,\n  createCollection?: Resolver<Maybe<ResolversTypes['Collection']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateCollectionArgs, 'collection'>>,\n  deleteAgreement?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteAgreementArgs, 'id'>>,\n  deletePlan?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeletePlanArgs, 'id'>>,\n  createUnit?: Resolver<Maybe<ResolversTypes['UnitResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateUnitArgs, 'unit'>>,\n  updatePerson?: Resolver<Maybe<ResolversTypes['PersonResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdatePersonArgs, 'person'>>,\n  deleteProcessSpecification?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteProcessSpecificationArgs, 'id'>>,\n  updateProposal?: Resolver<Maybe<ResolversTypes['ProposalResponse']>, ParentType, ContextType, RootMutationTypeUpdateProposalArgs>,\n  updateSpatialThing?: Resolver<Maybe<ResolversTypes['SpatialThingResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateSpatialThingArgs, 'spatialThing'>>,\n  createEconomicEvent?: Resolver<Maybe<ResolversTypes['EconomicEventResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateEconomicEventArgs, 'event'>>,\n  updateResource?: Resolver<Maybe<ResolversTypes['Resource']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateResourceArgs, 'resource' | 'resourceId'>>,\n  proposeTo?: Resolver<Maybe<ResolversTypes['ProposedToResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeProposeToArgs, 'proposed' | 'proposedTo'>>,\n  deleteScenarioDefinition?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteScenarioDefinitionArgs, 'id'>>,\n  createFollow?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateFollowArgs, 'contextId'>>,\n  deleteEconomicResource?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteEconomicResourceArgs, 'id'>>,\n  deleteProposal?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteProposalArgs, 'id'>>,\n  updateOrganisation?: Resolver<Maybe<ResolversTypes['Organisation']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateOrganisationArgs, 'organisation' | 'organisationId'>>,\n  updateUnit?: Resolver<Maybe<ResolversTypes['UnitResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateUnitArgs, 'unit'>>,\n  deleteRecipeExchange?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteRecipeExchangeArgs, 'id'>>,\n  updateRecipeResource?: Resolver<Maybe<ResolversTypes['RecipeResourceResponse']>, ParentType, ContextType, RootMutationTypeUpdateRecipeResourceArgs>,\n  createProcessSpecification?: Resolver<Maybe<ResolversTypes['ProcessSpecificationResponse']>, ParentType, ContextType, RootMutationTypeCreateProcessSpecificationArgs>,\n  createOrganisation?: Resolver<Maybe<ResolversTypes['Organisation']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateOrganisationArgs, 'organisation'>>,\n  copyResource?: Resolver<Maybe<ResolversTypes['Resource']>, ParentType, ContextType, RequireFields<RootMutationTypeCopyResourceArgs, 'contextId' | 'resourceId'>>,\n  deleteSpatialThing?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteSpatialThingArgs, 'id'>>,\n  createNeed?: Resolver<Maybe<ResolversTypes['IntentResponse']>, ParentType, ContextType, RootMutationTypeCreateNeedArgs>,\n  updateCollection?: Resolver<Maybe<ResolversTypes['Collection']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateCollectionArgs, 'collection' | 'collectionId'>>,\n  updateScenario?: Resolver<Maybe<ResolversTypes['ScenarioResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateScenarioArgs, 'plan'>>,\n  addProfileTo?: Resolver<Maybe<ResolversTypes['Profile']>, ParentType, ContextType, RequireFields<RootMutationTypeAddProfileToArgs, 'contextId'>>,\n  createFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateFlagArgs, 'contextId' | 'message'>>,\n  createFulfillment?: Resolver<Maybe<ResolversTypes['FulfillmentResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateFulfillmentArgs, 'fulfillment'>>,\n  createRecipeProcess?: Resolver<Maybe<ResolversTypes['RecipeProcessResponse']>, ParentType, ContextType, RootMutationTypeCreateRecipeProcessArgs>,\n  deleteFulfillment?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteFulfillmentArgs, 'id'>>,\n  updateOrganization?: Resolver<Maybe<ResolversTypes['OrganizationResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateOrganizationArgs, 'organization'>>,\n  updatePlan?: Resolver<Maybe<ResolversTypes['PlanResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdatePlanArgs, 'plan'>>,\n  deleteRegisterEmailDomainAccess?: Resolver<Maybe<ResolversTypes['RegisterEmailDomainAccess']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteRegisterEmailDomainAccessArgs, 'id'>>,\n  resolveFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType, RequireFields<RootMutationTypeResolveFlagArgs, 'flagId'>>,\n  updateScenarioDefinition?: Resolver<Maybe<ResolversTypes['ScenarioDefinitionResponse']>, ParentType, ContextType, RequireFields<RootMutationTypeUpdateScenarioDefinitionArgs, 'plan'>>,\n  deleteAgentRelationship?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteAgentRelationshipArgs, 'id'>>,\n  makeTaggable?: Resolver<Maybe<ResolversTypes['Taggable']>, ParentType, ContextType, RootMutationTypeMakeTaggableArgs>,\n  createCommunity?: Resolver<Maybe<ResolversTypes['Community']>, ParentType, ContextType, RequireFields<RootMutationTypeCreateCommunityArgs, 'community'>>,\n  deleteSatisfaction?: Resolver<Maybe<ResolversTypes['Boolean']>, ParentType, ContextType, RequireFields<RootMutationTypeDeleteSatisfactionArgs, 'id'>>,\n};\n\nexport type RootQueryTypeResolvers<ContextType = any, ParentType extends ResolversParentTypes['RootQueryType'] = ResolversParentTypes['RootQueryType']> = {\n  agreements?: Resolver<Maybe<Array<ResolversTypes['Agreement']>>, ParentType, ContextType, RootQueryTypeAgreementsArgs>,\n  activity?: Resolver<Maybe<ResolversTypes['Activity']>, ParentType, ContextType, RequireFields<RootQueryTypeActivityArgs, 'activityId'>>,\n  units?: Resolver<Maybe<Array<ResolversTypes['Unit']>>, ParentType, ContextType, RootQueryTypeUnitsArgs>,\n  measure?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType, RootQueryTypeMeasureArgs>,\n  taggable?: Resolver<Maybe<ResolversTypes['Taggable']>, ParentType, ContextType, RootQueryTypeTaggableArgs>,\n  claim?: Resolver<Maybe<ResolversTypes['Claim']>, ParentType, ContextType, RootQueryTypeClaimArgs>,\n  recipeFlows?: Resolver<Maybe<Array<ResolversTypes['RecipeFlow']>>, ParentType, ContextType, RootQueryTypeRecipeFlowsArgs>,\n  categories?: Resolver<ResolversTypes['CategoriesPage'], ParentType, ContextType, RootQueryTypeCategoriesArgs>,\n  languages?: Resolver<ResolversTypes['LanguagesPage'], ParentType, ContextType, RootQueryTypeLanguagesArgs>,\n  profiles?: Resolver<ResolversTypes['ProfilesPage'], ParentType, ContextType, RootQueryTypeProfilesArgs>,\n  needsPages?: Resolver<ResolversTypes['IntentsPage'], ParentType, ContextType, RootQueryTypeNeedsPagesArgs>,\n  agent?: Resolver<Maybe<ResolversTypes['Agent']>, ParentType, ContextType, RootQueryTypeAgentArgs>,\n  productBatches?: Resolver<Maybe<Array<ResolversTypes['ProductBatch']>>, ParentType, ContextType, RootQueryTypeProductBatchesArgs>,\n  scenario?: Resolver<Maybe<ResolversTypes['Scenario']>, ParentType, ContextType, RootQueryTypeScenarioArgs>,\n  processesPages?: Resolver<ResolversTypes['ProcessPage'], ParentType, ContextType, RootQueryTypeProcessesPagesArgs>,\n  economicEvents?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType, RootQueryTypeEconomicEventsArgs>,\n  agentRelationshipRoles?: Resolver<Maybe<Array<ResolversTypes['AgentRelationshipRole']>>, ParentType, ContextType, RootQueryTypeAgentRelationshipRolesArgs>,\n  collection?: Resolver<Maybe<ResolversTypes['Collection']>, ParentType, ContextType, RequireFields<RootQueryTypeCollectionArgs, 'collectionId'>>,\n  intent?: Resolver<Maybe<ResolversTypes['Intent']>, ParentType, ContextType, RootQueryTypeIntentArgs>,\n  people?: Resolver<Maybe<Array<ResolversTypes['Person']>>, ParentType, ContextType, RootQueryTypePeopleArgs>,\n  economicEvent?: Resolver<Maybe<ResolversTypes['EconomicEvent']>, ParentType, ContextType, RootQueryTypeEconomicEventArgs>,\n  agreement?: Resolver<Maybe<ResolversTypes['Agreement']>, ParentType, ContextType, RootQueryTypeAgreementArgs>,\n  agentRelationship?: Resolver<Maybe<ResolversTypes['AgentRelationship']>, ParentType, ContextType, RootQueryTypeAgentRelationshipArgs>,\n  satisfaction?: Resolver<Maybe<ResolversTypes['Satisfaction']>, ParentType, ContextType, RootQueryTypeSatisfactionArgs>,\n  intentsPages?: Resolver<ResolversTypes['IntentsPage'], ParentType, ContextType, RootQueryTypeIntentsPagesArgs>,\n  proposalsFiltered?: Resolver<Maybe<Array<Maybe<ResolversTypes['Proposal']>>>, ParentType, ContextType, RootQueryTypeProposalsFilteredArgs>,\n  comment?: Resolver<Maybe<ResolversTypes['Comment']>, ParentType, ContextType, RequireFields<RootQueryTypeCommentArgs, 'commentId'>>,\n  economicResourcesPages?: Resolver<ResolversTypes['EconomicResourcePage'], ParentType, ContextType, RootQueryTypeEconomicResourcesPagesArgs>,\n  offersPages?: Resolver<ResolversTypes['IntentsPage'], ParentType, ContextType, RootQueryTypeOffersPagesArgs>,\n  user?: Resolver<Maybe<ResolversTypes['User']>, ParentType, ContextType, RootQueryTypeUserArgs>,\n  recipeResources?: Resolver<Maybe<Array<ResolversTypes['RecipeResource']>>, ParentType, ContextType, RootQueryTypeRecipeResourcesArgs>,\n  proposalsPages?: Resolver<ResolversTypes['ProposalsPage'], ParentType, ContextType, RootQueryTypeProposalsPagesArgs>,\n  resourceSpecification?: Resolver<Maybe<ResolversTypes['ResourceSpecification']>, ParentType, ContextType, RootQueryTypeResourceSpecificationArgs>,\n  spatialThingsPages?: Resolver<ResolversTypes['SpatialThingsPage'], ParentType, ContextType, RootQueryTypeSpatialThingsPagesArgs>,\n  intents?: Resolver<Maybe<Array<ResolversTypes['Intent']>>, ParentType, ContextType, RootQueryTypeIntentsArgs>,\n  person?: Resolver<Maybe<ResolversTypes['Person']>, ParentType, ContextType, RootQueryTypePersonArgs>,\n  scenarios?: Resolver<Maybe<Array<ResolversTypes['Scenario']>>, ParentType, ContextType, RootQueryTypeScenariosArgs>,\n  proposals?: Resolver<Maybe<Array<ResolversTypes['Proposal']>>, ParentType, ContextType, RootQueryTypeProposalsArgs>,\n  economicResources?: Resolver<Maybe<Array<ResolversTypes['EconomicResource']>>, ParentType, ContextType, RootQueryTypeEconomicResourcesArgs>,\n  follow?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType, RequireFields<RootQueryTypeFollowArgs, 'followId'>>,\n  intentsFiltered?: Resolver<Maybe<Array<Maybe<ResolversTypes['Intent']>>>, ParentType, ContextType, RootQueryTypeIntentsFilteredArgs>,\n  taxonomyTags?: Resolver<ResolversTypes['TaxonomyTagsPage'], ParentType, ContextType, RootQueryTypeTaxonomyTagsArgs>,\n  agentRelationshipRole?: Resolver<Maybe<ResolversTypes['AgentRelationshipRole']>, ParentType, ContextType, RootQueryTypeAgentRelationshipRoleArgs>,\n  recipeExchange?: Resolver<Maybe<ResolversTypes['RecipeExchange']>, ParentType, ContextType, RootQueryTypeRecipeExchangeArgs>,\n  organizationsPages?: Resolver<ResolversTypes['AgentsPage'], ParentType, ContextType, RootQueryTypeOrganizationsPagesArgs>,\n  organisation?: Resolver<Maybe<ResolversTypes['Organisation']>, ParentType, ContextType, RequireFields<RootQueryTypeOrganisationArgs, 'organisationId'>>,\n  scenarioDefinitions?: Resolver<Maybe<Array<ResolversTypes['ScenarioDefinition']>>, ParentType, ContextType, RootQueryTypeScenarioDefinitionsArgs>,\n  users?: Resolver<ResolversTypes['UsersPage'], ParentType, ContextType, RootQueryTypeUsersArgs>,\n  fulfillments?: Resolver<Maybe<Array<ResolversTypes['Fulfillment']>>, ParentType, ContextType, RootQueryTypeFulfillmentsArgs>,\n  plan?: Resolver<Maybe<ResolversTypes['Plan']>, ParentType, ContextType, RootQueryTypePlanArgs>,\n  countries?: Resolver<ResolversTypes['CountriesPages'], ParentType, ContextType, RootQueryTypeCountriesArgs>,\n  recipeProcesses?: Resolver<Maybe<Array<ResolversTypes['RecipeProcess']>>, ParentType, ContextType, RootQueryTypeRecipeProcessesArgs>,\n  country?: Resolver<Maybe<ResolversTypes['Country']>, ParentType, ContextType, RequireFields<RootQueryTypeCountryArgs, 'countryId'>>,\n  communities?: Resolver<ResolversTypes['CommunitiesPage'], ParentType, ContextType, RootQueryTypeCommunitiesArgs>,\n  processSpecifications?: Resolver<Maybe<Array<ResolversTypes['ProcessSpecification']>>, ParentType, ContextType, RootQueryTypeProcessSpecificationsArgs>,\n  agentRelationships?: Resolver<Maybe<Array<ResolversTypes['AgentRelationship']>>, ParentType, ContextType, RootQueryTypeAgentRelationshipsArgs>,\n  resourceSpecifications?: Resolver<Maybe<Array<ResolversTypes['ResourceSpecification']>>, ParentType, ContextType, RootQueryTypeResourceSpecificationsArgs>,\n  taxonomyTag?: Resolver<Maybe<ResolversTypes['TaxonomyTag']>, ParentType, ContextType, RootQueryTypeTaxonomyTagArgs>,\n  resource?: Resolver<Maybe<ResolversTypes['Resource']>, ParentType, ContextType, RequireFields<RootQueryTypeResourceArgs, 'resourceId'>>,\n  commitment?: Resolver<Maybe<ResolversTypes['Commitment']>, ParentType, ContextType, RootQueryTypeCommitmentArgs>,\n  character?: Resolver<Maybe<ResolversTypes['Character']>, ParentType, ContextType, RequireFields<RootQueryTypeCharacterArgs, 'characterId'>>,\n  organization?: Resolver<Maybe<ResolversTypes['Organization']>, ParentType, ContextType, RootQueryTypeOrganizationArgs>,\n  spatialThing?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType, RootQueryTypeSpatialThingArgs>,\n  spatialThings?: Resolver<Maybe<Array<ResolversTypes['SpatialThing']>>, ParentType, ContextType, RootQueryTypeSpatialThingsArgs>,\n  measuresPages?: Resolver<ResolversTypes['MeasuresPage'], ParentType, ContextType, RootQueryTypeMeasuresPagesArgs>,\n  agents?: Resolver<Maybe<Array<ResolversTypes['Agent']>>, ParentType, ContextType, RootQueryTypeAgentsArgs>,\n  productBatch?: Resolver<Maybe<ResolversTypes['ProductBatch']>, ParentType, ContextType, RootQueryTypeProductBatchArgs>,\n  fulfillment?: Resolver<Maybe<ResolversTypes['Fulfillment']>, ParentType, ContextType, RootQueryTypeFulfillmentArgs>,\n  processes?: Resolver<Maybe<Array<ResolversTypes['Process']>>, ParentType, ContextType, RootQueryTypeProcessesArgs>,\n  me?: Resolver<Maybe<ResolversTypes['Me']>, ParentType, ContextType>,\n  process?: Resolver<Maybe<ResolversTypes['Process']>, ParentType, ContextType, RootQueryTypeProcessArgs>,\n  processSpecification?: Resolver<Maybe<ResolversTypes['ProcessSpecification']>, ParentType, ContextType, RootQueryTypeProcessSpecificationArgs>,\n  unitsPages?: Resolver<ResolversTypes['UnitsPage'], ParentType, ContextType, RootQueryTypeUnitsPagesArgs>,\n  settlements?: Resolver<Maybe<Array<ResolversTypes['Settlement']>>, ParentType, ContextType, RootQueryTypeSettlementsArgs>,\n  measures?: Resolver<Maybe<Array<ResolversTypes['Measure']>>, ParentType, ContextType, RootQueryTypeMeasuresArgs>,\n  registerEmailDomainAccesses?: Resolver<ResolversTypes['RegisterEmailDomainAccessesPage'], ParentType, ContextType, RootQueryTypeRegisterEmailDomainAccessesArgs>,\n  proposal?: Resolver<Maybe<ResolversTypes['Proposal']>, ParentType, ContextType, RootQueryTypeProposalArgs>,\n  economicResourcesFiltered?: Resolver<Maybe<Array<Maybe<ResolversTypes['EconomicResource']>>>, ParentType, ContextType, RootQueryTypeEconomicResourcesFilteredArgs>,\n  myAgent?: Resolver<Maybe<ResolversTypes['Agent']>, ParentType, ContextType>,\n  collections?: Resolver<ResolversTypes['CollectionsPage'], ParentType, ContextType, RootQueryTypeCollectionsArgs>,\n  feature?: Resolver<Maybe<ResolversTypes['Feature']>, ParentType, ContextType, RequireFields<RootQueryTypeFeatureArgs, 'featureId'>>,\n  claims?: Resolver<Maybe<Array<ResolversTypes['Claim']>>, ParentType, ContextType, RootQueryTypeClaimsArgs>,\n  economicEventsPages?: Resolver<ResolversTypes['EconomicEventPage'], ParentType, ContextType, RootQueryTypeEconomicEventsPagesArgs>,\n  action?: Resolver<Maybe<ResolversTypes['Action']>, ParentType, ContextType, RootQueryTypeActionArgs>,\n  like?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType, RequireFields<RootQueryTypeLikeArgs, 'likeId'>>,\n  organizations?: Resolver<Maybe<Array<ResolversTypes['Organization']>>, ParentType, ContextType, RootQueryTypeOrganizationsArgs>,\n  registerEmailAccesses?: Resolver<ResolversTypes['RegisterEmailAccessesPage'], ParentType, ContextType, RootQueryTypeRegisterEmailAccessesArgs>,\n  commitments?: Resolver<Maybe<Array<ResolversTypes['Commitment']>>, ParentType, ContextType, RootQueryTypeCommitmentsArgs>,\n  features?: Resolver<Maybe<ResolversTypes['FeaturesPage']>, ParentType, ContextType, RootQueryTypeFeaturesArgs>,\n  thread?: Resolver<Maybe<ResolversTypes['Thread']>, ParentType, ContextType, RequireFields<RootQueryTypeThreadArgs, 'threadId'>>,\n  actions?: Resolver<Maybe<Array<ResolversTypes['Action']>>, ParentType, ContextType>,\n  profile?: Resolver<Maybe<ResolversTypes['Profile']>, ParentType, ContextType, RequireFields<RootQueryTypeProfileArgs, 'profileId'>>,\n  scenarioDefinition?: Resolver<Maybe<ResolversTypes['ScenarioDefinition']>, ParentType, ContextType, RootQueryTypeScenarioDefinitionArgs>,\n  usernameAvailable?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType, RequireFields<RootQueryTypeUsernameAvailableArgs, 'username'>>,\n  satisfactions?: Resolver<Maybe<Array<ResolversTypes['Satisfaction']>>, ParentType, ContextType, RootQueryTypeSatisfactionsArgs>,\n  recipeResource?: Resolver<Maybe<ResolversTypes['RecipeResource']>, ParentType, ContextType, RootQueryTypeRecipeResourceArgs>,\n  plans?: Resolver<Maybe<Array<ResolversTypes['Plan']>>, ParentType, ContextType, RootQueryTypePlansArgs>,\n  language?: Resolver<Maybe<ResolversTypes['Language']>, ParentType, ContextType, RequireFields<RootQueryTypeLanguageArgs, 'languageId'>>,\n  community?: Resolver<Maybe<ResolversTypes['Community']>, ParentType, ContextType, RequireFields<RootQueryTypeCommunityArgs, 'communityId'>>,\n  economicResource?: Resolver<Maybe<ResolversTypes['EconomicResource']>, ParentType, ContextType, RootQueryTypeEconomicResourceArgs>,\n  organisations?: Resolver<ResolversTypes['OrganisationsPage'], ParentType, ContextType, RootQueryTypeOrganisationsArgs>,\n  flag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType, RequireFields<RootQueryTypeFlagArgs, 'flagId'>>,\n  category?: Resolver<Maybe<ResolversTypes['Category']>, ParentType, ContextType, RootQueryTypeCategoryArgs>,\n  peoplePages?: Resolver<ResolversTypes['AgentsPage'], ParentType, ContextType, RootQueryTypePeoplePagesArgs>,\n  recipeProcess?: Resolver<Maybe<ResolversTypes['RecipeProcess']>, ParentType, ContextType, RootQueryTypeRecipeProcessArgs>,\n  settlement?: Resolver<Maybe<ResolversTypes['Settlement']>, ParentType, ContextType, RootQueryTypeSettlementArgs>,\n  characters?: Resolver<ResolversTypes['CharactersPage'], ParentType, ContextType, RootQueryTypeCharactersArgs>,\n  economicEventsFiltered?: Resolver<Maybe<Array<ResolversTypes['EconomicEvent']>>, ParentType, ContextType, RootQueryTypeEconomicEventsFilteredArgs>,\n  flags?: Resolver<Maybe<ResolversTypes['FlagsPage']>, ParentType, ContextType, RootQueryTypeFlagsArgs>,\n  unit?: Resolver<Maybe<ResolversTypes['Unit']>, ParentType, ContextType, RootQueryTypeUnitArgs>,\n  recipeExchanges?: Resolver<Maybe<Array<ResolversTypes['RecipeExchange']>>, ParentType, ContextType, RootQueryTypeRecipeExchangesArgs>,\n  instance?: Resolver<Maybe<ResolversTypes['Instance']>, ParentType, ContextType>,\n  recipeFlow?: Resolver<Maybe<ResolversTypes['RecipeFlow']>, ParentType, ContextType, RootQueryTypeRecipeFlowArgs>,\n};\n\nexport type SatisfactionResolvers<ContextType = any, ParentType extends ResolversParentTypes['Satisfaction'] = ResolversParentTypes['Satisfaction']> = {\n  effortQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  resourceQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  satisfiedBy?: Resolver<ResolversTypes['EventOrCommitment'], ParentType, ContextType>,\n  satisfies?: Resolver<ResolversTypes['Intent'], ParentType, ContextType>,\n};\n\nexport type SatisfactionResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['SatisfactionResponse'] = ResolversParentTypes['SatisfactionResponse']> = {\n  satisfaction?: Resolver<Maybe<ResolversTypes['Satisfaction']>, ParentType, ContextType>,\n};\n\nexport type ScenarioResolvers<ContextType = any, ParentType extends ResolversParentTypes['Scenario'] = ResolversParentTypes['Scenario']> = {\n  definedAs?: Resolver<Maybe<ResolversTypes['ScenarioDefinition']>, ParentType, ContextType>,\n  hasBeginning?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  hasEnd?: Resolver<Maybe<ResolversTypes['DateTime']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<Array<ResolversTypes['AccountingScope']>>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  refinementOf?: Resolver<Maybe<ResolversTypes['Scenario']>, ParentType, ContextType>,\n};\n\nexport type ScenarioDefinitionResolvers<ContextType = any, ParentType extends ResolversParentTypes['ScenarioDefinition'] = ResolversParentTypes['ScenarioDefinition']> = {\n  hasDuration?: Resolver<Maybe<ResolversTypes['Duration']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type ScenarioDefinitionResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ScenarioDefinitionResponse'] = ResolversParentTypes['ScenarioDefinitionResponse']> = {\n  scenarioDefinition?: Resolver<Maybe<ResolversTypes['ScenarioDefinition']>, ParentType, ContextType>,\n};\n\nexport type ScenarioResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['ScenarioResponse'] = ResolversParentTypes['ScenarioResponse']> = {\n  scenario?: Resolver<Maybe<ResolversTypes['Scenario']>, ParentType, ContextType>,\n};\n\nexport type SettlementResolvers<ContextType = any, ParentType extends ResolversParentTypes['Settlement'] = ResolversParentTypes['Settlement']> = {\n  effortQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  resourceQuantity?: Resolver<Maybe<ResolversTypes['Measure']>, ParentType, ContextType>,\n  settledBy?: Resolver<ResolversTypes['EconomicEvent'], ParentType, ContextType>,\n  settles?: Resolver<ResolversTypes['Claim'], ParentType, ContextType>,\n};\n\nexport type SettlementResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['SettlementResponse'] = ResolversParentTypes['SettlementResponse']> = {\n  settlement?: Resolver<Maybe<ResolversTypes['Settlement']>, ParentType, ContextType>,\n};\n\nexport type SpatialThingResolvers<ContextType = any, ParentType extends ResolversParentTypes['SpatialThing'] = ResolversParentTypes['SpatialThing']> = {\n  alt?: Resolver<Maybe<ResolversTypes['Float']>, ParentType, ContextType>,\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  displayUsername?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  geom?: Resolver<Maybe<ResolversTypes['Json']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  lat?: Resolver<Maybe<ResolversTypes['Float']>, ParentType, ContextType>,\n  long?: Resolver<Maybe<ResolversTypes['Float']>, ParentType, ContextType>,\n  mappableAddress?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  name?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  note?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type SpatialThingResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['SpatialThingResponse'] = ResolversParentTypes['SpatialThingResponse']> = {\n  spatialThing?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n};\n\nexport type SpatialThingsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['SpatialThingsPage'] = ResolversParentTypes['SpatialThingsPage']> = {\n  edges?: Resolver<Maybe<Array<Maybe<ResolversTypes['SpatialThing']>>>, ParentType, ContextType>,\n  pageInfo?: Resolver<Maybe<ResolversTypes['PageInfo']>, ParentType, ContextType>,\n  totalCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n};\n\nexport type TaggableResolvers<ContextType = any, ParentType extends ResolversParentTypes['Taggable'] = ResolversParentTypes['Taggable']> = {\n  context?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  facet?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  id?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  prefix?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  things?: Resolver<Maybe<Array<Maybe<ResolversTypes['AnyContext']>>>, ParentType, ContextType>,\n};\n\nexport type TaxonomyTagResolvers<ContextType = any, ParentType extends ResolversParentTypes['TaxonomyTag'] = ResolversParentTypes['TaxonomyTag']> = {\n  category?: Resolver<Maybe<ResolversTypes['Category']>, ParentType, ContextType>,\n  childrenTaxonomyTags?: Resolver<Maybe<Array<Maybe<ResolversTypes['TaxonomyTagsPage']>>>, ParentType, ContextType>,\n  id?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  parentTag?: Resolver<Maybe<ResolversTypes['TaxonomyTag']>, ParentType, ContextType>,\n  pointerId?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type TaxonomyTagsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['TaxonomyTagsPage'] = ResolversParentTypes['TaxonomyTagsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['TaxonomyTag']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type ThreadResolvers<ContextType = any, ParentType extends ResolversParentTypes['Thread'] = ResolversParentTypes['Thread']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  comments?: Resolver<Maybe<ResolversTypes['CommentsPage']>, ParentType, ContextType, ThreadCommentsArgs>,\n  context?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  followerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  followers?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, ThreadFollowersArgs>,\n  id?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  isHidden?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  lastActivity?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  myFollow?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type ThreadsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['ThreadsPage'] = ResolversParentTypes['ThreadsPage']> = {\n  edges?: Resolver<Array<ResolversTypes['Thread']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type UnitResolvers<ContextType = any, ParentType extends ResolversParentTypes['Unit'] = ResolversParentTypes['Unit']> = {\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['URI']>, ParentType, ContextType>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  inScopeOf?: Resolver<Maybe<ResolversTypes['AnyContext']>, ParentType, ContextType>,\n  label?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  symbol?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n};\n\nexport type UnitResponseResolvers<ContextType = any, ParentType extends ResolversParentTypes['UnitResponse'] = ResolversParentTypes['UnitResponse']> = {\n  unit?: Resolver<Maybe<ResolversTypes['Unit']>, ParentType, ContextType>,\n};\n\nexport type UnitsPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['UnitsPage'] = ResolversParentTypes['UnitsPage']> = {\n  edges?: Resolver<Maybe<Array<ResolversTypes['Unit']>>, ParentType, ContextType>,\n  pageInfo?: Resolver<Maybe<ResolversTypes['PageInfo']>, ParentType, ContextType>,\n  totalCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n};\n\nexport interface UploadScalarConfig extends GraphQLScalarTypeConfig<ResolversTypes['Upload'], any> {\n  name: 'Upload'\n}\n\nexport interface UriScalarConfig extends GraphQLScalarTypeConfig<ResolversTypes['URI'], any> {\n  name: 'URI'\n}\n\nexport type UserResolvers<ContextType = any, ParentType extends ResolversParentTypes['User'] = ResolversParentTypes['User']> = {\n  location?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  preferredUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  displayUsername?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  likeCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  collectionFollows?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, UserCollectionFollowsArgs>,\n  extraInfo?: Resolver<Maybe<ResolversTypes['Json']>, ParentType, ContextType>,\n  isLocal?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  likes?: Resolver<Maybe<ResolversTypes['LikesPage']>, ParentType, ContextType, UserLikesArgs>,\n  id?: Resolver<ResolversTypes['ID'], ParentType, ContextType>,\n  website?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  inbox?: Resolver<Maybe<ResolversTypes['ActivitiesPage']>, ParentType, ContextType, UserInboxArgs>,\n  myFollow?: Resolver<Maybe<ResolversTypes['Follow']>, ParentType, ContextType>,\n  updatedAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  likerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  lastActivity?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  followCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  userFollows?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, UserUserFollowsArgs>,\n  isPublic?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  followers?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, UserFollowersArgs>,\n  geolocation?: Resolver<Maybe<ResolversTypes['SpatialThing']>, ParentType, ContextType>,\n  likers?: Resolver<Maybe<ResolversTypes['LikesPage']>, ParentType, ContextType, UserLikersArgs>,\n  isDisabled?: Resolver<ResolversTypes['Boolean'], ParentType, ContextType>,\n  myFlag?: Resolver<Maybe<ResolversTypes['Flag']>, ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  icon?: Resolver<Maybe<ResolversTypes['Content']>, ParentType, ContextType>,\n  comments?: Resolver<Maybe<ResolversTypes['CommentsPage']>, ParentType, ContextType, UserCommentsArgs>,\n  communityFollows?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, UserCommunityFollowsArgs>,\n  outbox?: Resolver<Maybe<ResolversTypes['ActivitiesPage']>, ParentType, ContextType, UserOutboxArgs>,\n  follows?: Resolver<Maybe<ResolversTypes['FollowsPage']>, ParentType, ContextType, UserFollowsArgs>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  followerCount?: Resolver<Maybe<ResolversTypes['Int']>, ParentType, ContextType>,\n  canonicalUrl?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  createdAt?: Resolver<ResolversTypes['String'], ParentType, ContextType>,\n  myLike?: Resolver<Maybe<ResolversTypes['Like']>, ParentType, ContextType>,\n  name?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type UsersPageResolvers<ContextType = any, ParentType extends ResolversParentTypes['UsersPage'] = ResolversParentTypes['UsersPage']> = {\n  edges?: Resolver<Array<ResolversTypes['User']>, ParentType, ContextType>,\n  pageInfo?: Resolver<ResolversTypes['PageInfo'], ParentType, ContextType>,\n  totalCount?: Resolver<ResolversTypes['Int'], ParentType, ContextType>,\n};\n\nexport type WebMetadataResolvers<ContextType = any, ParentType extends ResolversParentTypes['WebMetadata'] = ResolversParentTypes['WebMetadata']> = {\n  author?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  embedCode?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  embedType?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  image?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  language?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  mimeType?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  source?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  summary?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  title?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n  url?: Resolver<Maybe<ResolversTypes['String']>, ParentType, ContextType>,\n};\n\nexport type Resolvers<ContextType = any> = {\n  AccountingScope?: AccountingScopeResolvers,\n  Action?: ActionResolvers<ContextType>,\n  ActivitiesPage?: ActivitiesPageResolvers<ContextType>,\n  Activity?: ActivityResolvers<ContextType>,\n  Agent?: AgentResolvers,\n  AgentRelationship?: AgentRelationshipResolvers<ContextType>,\n  AgentRelationshipResponse?: AgentRelationshipResponseResolvers<ContextType>,\n  AgentRelationshipRole?: AgentRelationshipRoleResolvers<ContextType>,\n  AgentRelationshipRoleResponse?: AgentRelationshipRoleResponseResolvers<ContextType>,\n  AgentsPage?: AgentsPageResolvers<ContextType>,\n  Agreement?: AgreementResolvers<ContextType>,\n  AgreementResponse?: AgreementResponseResolvers<ContextType>,\n  AnyContext?: AnyContextResolvers,\n  Appreciation?: AppreciationResolvers<ContextType>,\n  AppreciationResponse?: AppreciationResponseResolvers<ContextType>,\n  AuthPayload?: AuthPayloadResolvers<ContextType>,\n  CategoriesPage?: CategoriesPageResolvers<ContextType>,\n  Category?: CategoryResolvers<ContextType>,\n  Character?: CharacterResolvers<ContextType>,\n  CharactersPage?: CharactersPageResolvers<ContextType>,\n  Claim?: ClaimResolvers<ContextType>,\n  ClaimResponse?: ClaimResponseResolvers<ContextType>,\n  Collection?: CollectionResolvers<ContextType>,\n  CollectionsPage?: CollectionsPageResolvers<ContextType>,\n  Comment?: CommentResolvers<ContextType>,\n  CommentsPage?: CommentsPageResolvers<ContextType>,\n  Commitment?: CommitmentResolvers<ContextType>,\n  CommitmentResponse?: CommitmentResponseResolvers<ContextType>,\n  CommunitiesPage?: CommunitiesPageResolvers<ContextType>,\n  Community?: CommunityResolvers<ContextType>,\n  Content?: ContentResolvers<ContextType>,\n  ContentMirror?: ContentMirrorResolvers<ContextType>,\n  ContentUpload?: ContentUploadResolvers<ContextType>,\n  CountriesPages?: CountriesPagesResolvers<ContextType>,\n  Country?: CountryResolvers<ContextType>,\n  Cursor?: GraphQLScalarType,\n  DateTime?: GraphQLScalarType,\n  Duration?: DurationResolvers<ContextType>,\n  EconomicEvent?: EconomicEventResolvers<ContextType>,\n  EconomicEventPage?: EconomicEventPageResolvers<ContextType>,\n  EconomicEventResponse?: EconomicEventResponseResolvers<ContextType>,\n  EconomicResource?: EconomicResourceResolvers<ContextType>,\n  EconomicResourcePage?: EconomicResourcePageResolvers<ContextType>,\n  EconomicResourceResponse?: EconomicResourceResponseResolvers<ContextType>,\n  EventOrCommitment?: EventOrCommitmentResolvers,\n  Feature?: FeatureResolvers<ContextType>,\n  FeaturesPage?: FeaturesPageResolvers<ContextType>,\n  FileIntrinsics?: FileIntrinsicsResolvers<ContextType>,\n  FileMetadata?: FileMetadataResolvers<ContextType>,\n  Flag?: FlagResolvers<ContextType>,\n  FlagsPage?: FlagsPageResolvers<ContextType>,\n  Follow?: FollowResolvers<ContextType>,\n  FollowsPage?: FollowsPageResolvers<ContextType>,\n  Fulfillment?: FulfillmentResolvers<ContextType>,\n  FulfillmentResponse?: FulfillmentResponseResolvers<ContextType>,\n  Instance?: InstanceResolvers<ContextType>,\n  Intent?: IntentResolvers<ContextType>,\n  IntentResponse?: IntentResponseResolvers<ContextType>,\n  IntentsPage?: IntentsPageResolvers<ContextType>,\n  Json?: GraphQLScalarType,\n  Language?: LanguageResolvers<ContextType>,\n  LanguagesPage?: LanguagesPageResolvers<ContextType>,\n  Like?: LikeResolvers<ContextType>,\n  LikesPage?: LikesPageResolvers<ContextType>,\n  Me?: MeResolvers<ContextType>,\n  Measure?: MeasureResolvers<ContextType>,\n  MeasuresPage?: MeasuresPageResolvers<ContextType>,\n  Organisation?: OrganisationResolvers<ContextType>,\n  OrganisationsPage?: OrganisationsPageResolvers<ContextType>,\n  Organization?: OrganizationResolvers<ContextType>,\n  OrganizationResponse?: OrganizationResponseResolvers<ContextType>,\n  PageInfo?: PageInfoResolvers<ContextType>,\n  Person?: PersonResolvers<ContextType>,\n  PersonResponse?: PersonResponseResolvers<ContextType>,\n  Plan?: PlanResolvers<ContextType>,\n  PlanResponse?: PlanResponseResolvers<ContextType>,\n  Process?: ProcessResolvers<ContextType>,\n  ProcessPage?: ProcessPageResolvers<ContextType>,\n  ProcessResponse?: ProcessResponseResolvers<ContextType>,\n  ProcessSpecification?: ProcessSpecificationResolvers<ContextType>,\n  ProcessSpecificationResponse?: ProcessSpecificationResponseResolvers<ContextType>,\n  ProductBatch?: ProductBatchResolvers<ContextType>,\n  ProductBatchResponse?: ProductBatchResponseResolvers<ContextType>,\n  ProductionFlowItem?: ProductionFlowItemResolvers,\n  Profile?: ProfileResolvers<ContextType>,\n  ProfilesPage?: ProfilesPageResolvers<ContextType>,\n  Proposal?: ProposalResolvers<ContextType>,\n  ProposalResponse?: ProposalResponseResolvers<ContextType>,\n  ProposalsPage?: ProposalsPageResolvers<ContextType>,\n  ProposedIntent?: ProposedIntentResolvers<ContextType>,\n  ProposedIntentResponse?: ProposedIntentResponseResolvers<ContextType>,\n  ProposedTo?: ProposedToResolvers<ContextType>,\n  ProposedToResponse?: ProposedToResponseResolvers<ContextType>,\n  RecipeExchange?: RecipeExchangeResolvers<ContextType>,\n  RecipeExchangeResponse?: RecipeExchangeResponseResolvers<ContextType>,\n  RecipeFlow?: RecipeFlowResolvers<ContextType>,\n  RecipeFlowResponse?: RecipeFlowResponseResolvers<ContextType>,\n  RecipeProcess?: RecipeProcessResolvers<ContextType>,\n  RecipeProcessResponse?: RecipeProcessResponseResolvers<ContextType>,\n  RecipeResource?: RecipeResourceResolvers<ContextType>,\n  RecipeResourceResponse?: RecipeResourceResponseResolvers<ContextType>,\n  RegisterEmailAccess?: RegisterEmailAccessResolvers<ContextType>,\n  RegisterEmailAccessesPage?: RegisterEmailAccessesPageResolvers<ContextType>,\n  RegisterEmailDomainAccess?: RegisterEmailDomainAccessResolvers<ContextType>,\n  RegisterEmailDomainAccessesPage?: RegisterEmailDomainAccessesPageResolvers<ContextType>,\n  Resource?: ResourceResolvers<ContextType>,\n  ResourcesPage?: ResourcesPageResolvers<ContextType>,\n  ResourceSpecification?: ResourceSpecificationResolvers<ContextType>,\n  ResourceSpecificationResponse?: ResourceSpecificationResponseResolvers<ContextType>,\n  RootMutationType?: RootMutationTypeResolvers<ContextType>,\n  RootQueryType?: RootQueryTypeResolvers<ContextType>,\n  Satisfaction?: SatisfactionResolvers<ContextType>,\n  SatisfactionResponse?: SatisfactionResponseResolvers<ContextType>,\n  Scenario?: ScenarioResolvers<ContextType>,\n  ScenarioDefinition?: ScenarioDefinitionResolvers<ContextType>,\n  ScenarioDefinitionResponse?: ScenarioDefinitionResponseResolvers<ContextType>,\n  ScenarioResponse?: ScenarioResponseResolvers<ContextType>,\n  Settlement?: SettlementResolvers<ContextType>,\n  SettlementResponse?: SettlementResponseResolvers<ContextType>,\n  SpatialThing?: SpatialThingResolvers<ContextType>,\n  SpatialThingResponse?: SpatialThingResponseResolvers<ContextType>,\n  SpatialThingsPage?: SpatialThingsPageResolvers<ContextType>,\n  Taggable?: TaggableResolvers<ContextType>,\n  TaxonomyTag?: TaxonomyTagResolvers<ContextType>,\n  TaxonomyTagsPage?: TaxonomyTagsPageResolvers<ContextType>,\n  Thread?: ThreadResolvers<ContextType>,\n  ThreadsPage?: ThreadsPageResolvers<ContextType>,\n  Unit?: UnitResolvers<ContextType>,\n  UnitResponse?: UnitResponseResolvers<ContextType>,\n  UnitsPage?: UnitsPageResolvers<ContextType>,\n  Upload?: GraphQLScalarType,\n  URI?: GraphQLScalarType,\n  User?: UserResolvers<ContextType>,\n  UsersPage?: UsersPageResolvers<ContextType>,\n  WebMetadata?: WebMetadataResolvers<ContextType>,\n};\n\n\n/**\n * @deprecated\n * Use \"Resolvers\" root object instead. If you wish to get \"IResolvers\", add \"typesPrefix: I\" to your config.\n*/\nexport type IResolvers<ContextType = any> = Resolvers<ContextType>;\n","export const PHOENIX_SOCKET_ENDPOINT = process.env.REACT_APP_PHOENIX_SOCKET_ENDPOINT;\nexport const GRAPHQL_ENDPOINT = process.env.REACT_APP_GRAPHQL_ENDPOINT;\nexport const NODE_ENV = process.env.NODE_ENV;\nexport const PUBLIC_URL = process.env.PUBLIC_URL;\nexport const SENTRY_KEY = process.env.REACT_APP_SENTRY_API_KEY;\nexport const DEFAULT_PAGE_SIZE = parseInt(`${process.env.REACT_APP_DEFAULT_PAGE_SIZE}`) || 15;\n\nexport const APP_NAME = 'WeLoop';\nexport const INSTANCE_DESCRIPTION = 'Federated economic network for Reflow pilots';\nexport const INVITE_ONLY_TEXT =\n  process.env.REACT_APP_INVITE_ONLY_TEXT ||\n  'Please note, signups on this instance are currently invite-only.';\nexport const INSTANCE_TAGLINE = 'Co-creating circular and regenerative resource flows in cities';\nexport const INSTANCE_PROMPT =\n  \"You don't need to sign up to preview what people are sharing and discussing publicly.\";\nexport const prompt_signin = 'Sign in';\nexport const my_timeline = 'My Timeline';\nexport const instance_bg_img =\n  'https://reflowproject.eu/wp-content/uploads/2019/08/reflow-cocreation-1.png';\nexport const logo_large_url =\n  'https://raw.githubusercontent.com/reflow-project/weloop/main/src/static/img/weloop_logo_1200x512.png';\nexport const logo_small_url =\n  'https://raw.githubusercontent.com/reflow-project/weloop/main/src/static/img/weloop_logo_128x128-01.png';\n\nexport const terms_markdown_text = {\n  // replace the text as needed\n  terms_users: 'This is a test instance. Your data is not secure or private.',\n  terms_cookies: 'This site uses cookies.',\n  terms_indexing:\n    'Information you post on this site may be publicly available and will be copied onto other servers in the federated network.'\n};\n\nexport const terms_markdown_urls = {\n  // replace the URLs as needed, or enable/disable to use `terms_markdown_text` instead\n  enabled: false,\n  terms_users: '',\n  terms_cookies: '',\n  terms_indexing: ''\n};\n\nexport const terms_privacy = {\n  // replace the URLs as needed, or enable/disable to use `text_markdown` instead\n  enabled: true,\n  // replace the URL with that of your instance's privacy policy (in markdown format)\n  url_markdown: 'https://reflowproject.eu/privacy-policy',\n  // replace the text as needed (in markdown format as well)\n  text_markdown:\n    'This site uses cookies and follows GDPR rules. Contact the instance operators if you want your data exported or deleted.'\n};\n\nexport const related_urls = {\n  // replace the URLs as needed\n  project_homepage: 'https://weloop.reflowproject.eu',\n  code: 'https://github.com/reflow-project/weloop/',\n  feedback: 'https://github.com/reflow-project/weloop/issues'\n};\n\nexport const IS_DEV = NODE_ENV === 'development';\n\nexport type LocaleDef = { code: string; desc: string; rtl: boolean };\n\nexport const locales: LocaleDef[] = [\n  { code: 'en_GB', desc: 'English, British', rtl: false },\n  { code: 'en_US', desc: 'English, USA', rtl: false },\n  { code: 'es_MX', desc: 'Espaol, Mjico', rtl: false },\n  { code: 'es_ES', desc: 'Espaol, Espaa', rtl: false },\n  { code: 'fr_FR', desc: 'Franais, France', rtl: false },\n  { code: 'eu', desc: 'Euskara', rtl: false },\n  { code: 'ar_SA', desc: ',   ', rtl: true }\n];\n\nexport const languages = {\n  en_GB: 'English, British',\n  en_US: 'English, USA',\n  es_MX: 'Espaol, Mjico',\n  es_ES: 'Espaol, Espaa',\n  fr_FR: 'Franais, France',\n  eu: 'Euskara',\n  ar_SA: ',   '\n};\nexport type LocaleKey = keyof typeof languages;\n// export const locales = Object.keys(languages) as LocaleKey[];\n\nconst mothershipAppId = process.env.REACT_APP_MOTHERSHIP_API_ID;\nconst mothershipApiKey = process.env.REACT_APP_MOTHERSHIP_API_KEY;\nconst mothershipEnv = process.env.REACT_APP_MOTHERSHIP_ENV;\n\nexport const mothershipCreds =\n  mothershipAppId && mothershipApiKey\n    ? {\n        appId: mothershipAppId,\n        apiKey: mothershipApiKey,\n        indexName: mothershipEnv\n      }\n    : null;\n\nexport const searchDisabled = !mothershipAppId || !mothershipApiKey;\nexport const USERNAME_REGEX = /^[a-zA-Z][a-zA-Z0-9-]{2,}$/;\nexport const EMAIL_REGEX = /^.+@.+\\..+$/;\nexport const DOMAIN_REGEX = /^.+\\..+$/;\n\nexport const max_file_size = '10MB';\n\nexport const accepted_file_types =\n  '.pdf, .rtf, .docx, .doc, .odt, .ott, .xls, .xlsx, .ods, .ots, .csv, .ppt, .pps, .pptx, .odp, .otp, .odg, .otg, .odc, .ogg, .mp3, .flac, .m4a, .wav, .mp4, .mkv, .flv, .avi, .gif, .jpg, .jpeg, .png, .svg, .webm, .eps, .tex, .mbz';\n\n// these licenses must match the icons (in the same order) configured in the UploadResource UI module\n// please use standard identifiers from https://spdx.org/licenses/preview/ in order to preserve interoperability\nexport const accepted_license_types = ['CC0-1.0', 'CC-BY-4.0', 'CC-BY-SA-4.0'];\n\nexport const nord = {\n  // Main\n  app: '#2E3440',\n  appInverse: '#3B4252',\n  primary: '#BF616A',\n  secondary: '#D08770',\n  tertiary: '#EBCB8B',\n\n  // Status\n  positive: '#2db783',\n  negative: '#ff5a5f',\n  warning: '#ffebb3',\n\n  // Monochrome\n  lightest: '#333333',\n  lighter: '#444444',\n  light: '#666666',\n  mediumlight: '#999999',\n  medium: '#D1D3D8',\n  mediumdark: '#EEEEEE',\n  dark: '#F3F3F3',\n  darker: '#F8F8F8',\n  darkest: '#FFFFFF',\n  border: '1px solid #2E3440'\n};\n\nexport const colors = {\n  // Reflow\n  app: 'rgb(245, 246, 247)',\n  appInverse: '#fff',\n  primary: '#05244F',\n  secondary: '#02e379',\n  tertiary: '#D1D3D8',\n\n  // Status\n  positive: '#2db783',\n  negative: '#ff5a5f',\n  warning: '#ffebb3',\n\n  // Monochrome\n  lightest: '#FFFFFF',\n  lighter: '#F8F8F8',\n  light: '#F3F3F3',\n  mediumlight: '#EEEEEE',\n  medium: '#D1D3D8',\n  mediumdark: '#999999',\n  dark: '#666666',\n  darker: '#444444',\n  darkest: '#333333',\n  border: '1px solid #F3F3F3'\n};\n\nexport const typography = {\n  type: {\n    primary: '\"Barlow\", \"Open Sans\", sans-serif'\n  },\n  size: {\n    s1: '12px',\n    s2: '14px',\n    s3: '16px',\n    m1: '20px',\n    m2: '24px',\n    m3: '28px',\n    l1: '32px',\n    l2: '40px',\n    l3: '48px',\n    code: '90px'\n  }\n};\n\n/* log ENV if DEV */\nIS_DEV &&\n  console.log(`-environment-\n${Object.keys(process.env)\n  .map(key => `${key}=${process.env[key]}`)\n  .join('\\n')}\n-------------\n`);\n/***/\n","const { GraphQLError } = require('graphql');\n// FORKED FROM: https://github.com/jaydenseric/apollo-upload-client\n\nconst { ApolloLink, Observable } = require('apollo-link');\nconst {\n  selectURI,\n  selectHttpOptionsAndBody,\n  fallbackHttpConfig,\n  serializeFetchParameter,\n  createSignalIfSupported,\n  parseAndCheckHttpResponse\n} = require('apollo-link-http-common');\nconst { extractFiles } = require('extract-files');\n\n/**\n * A React Native [`File`](https://developer.mozilla.org/docs/web/api/file)\n * substitute.\n *\n * Be aware that inspecting network requests with Chrome dev tools interferes\n * with the React Native `FormData` implementation, causing network errors.\n * @kind typedef\n * @name ReactNativeFileSubstitute\n * @type {object}\n * @see [`extract-files` docs](https://github.com/jaydenseric/extract-files#type-reactnativefilesubstitute).\n * @see [React Native `FormData` polyfill source](https://github.com/facebook/react-native/blob/v0.45.1/Libraries/Network/FormData.js#L34).\n * @prop {string} uri Filesystem path.\n * @prop {string} [name] File name.\n * @prop {string} [type] File content type. Some environments (particularly Android) require a valid MIME type; Expo `ImageResult.type` is unreliable as it can be just `image`.\n * @example <caption>A camera roll file.</caption>\n * ```js\n * {\n *   uri: uriFromCameraRoll,\n *   name: 'a.jpg',\n *   type: 'image/jpeg'\n * }\n * ```\n */\n\n/**\n * Used to mark a\n * [React Native `File` substitute]{@link ReactNativeFileSubstitute}.\n * Its too risky to assume all objects with `uri`, `type` and `name` properties\n * are files to extract. Re-exported from [`extract-files`](https://npm.im/extract-files)\n * for convenience.\n * @kind class\n * @name ReactNativeFile\n * @param {ReactNativeFileSubstitute} file A React Native [`File`](https://developer.mozilla.org/docs/web/api/file) substitute.\n * @example <caption>A React Native file that can be used in query or mutation variables.</caption>\n * ```js\n * const { ReactNativeFile } = require('apollo-upload-client')\n *\n * const file = new ReactNativeFile({\n *   uri: uriFromCameraRoll,\n *   name: 'a.jpg',\n *   type: 'image/jpeg'\n * })\n * ```\n */\n\n/**\n * GraphQL request `fetch` options.\n * @kind typedef\n * @name FetchOptions\n * @type {object}\n * @see [Polyfillable fetch options](https://github.github.io/fetch#options).\n * @prop {object} headers HTTP request headers.\n * @prop {string} [credentials] Authentication credentials mode.\n */\n\nconst setPath = (map, path, value) => {\n  const parts = path.trim().split('.');\n  let i;\n  for (i = 0; i < parts.length - 1; i++) {\n    map = map[parts[i]];\n  }\n  map[parts[i]] = value;\n};\n\n/**\n * Creates a terminating [Apollo Link](https://apollographql.com/docs/link)\n * capable of file uploads. Options match [`createHttpLink`](https://apollographql.com/docs/link/links/http#options).\n * @see [GraphQL multipart request spec](https://github.com/jaydenseric/graphql-multipart-request-spec).\n * @see [apollo-link on GitHub](https://github.com/apollographql/apollo-link).\n * @kind function\n * @name createUploadLink\n * @param {object} options Options.\n * @param {string} [options.uri=/graphql] GraphQL endpoint URI.\n * @param {Function} [options.fetch] [`fetch`](https://fetch.spec.whatwg.org) implementation to use, defaulting to the `fetch` global.\n * @param {FetchOptions} [options.fetchOptions] `fetch` options; overridden by upload requirements.\n * @param {string} [options.credentials] Overrides `options.fetchOptions.credentials`.\n * @param {object} [options.headers] Merges with and overrides `options.fetchOptions.headers`.\n * @param {boolean} [options.includeExtensions=false] Toggles sending `extensions` fields to the GraphQL server.\n * @returns {ApolloLink} A terminating [Apollo Link](https://apollographql.com/docs/link) capable of file uploads.\n * @example <caption>A basic Apollo Client setup.</caption>\n * ```js\n * const { ApolloClient } = require('apollo-client')\n * const { InMemoryCache } = require('apollo-cache-inmemory')\n * const { createUploadLink } = require('apollo-upload-client')\n *\n * const client = new ApolloClient({\n *   cache: new InMemoryCache(),\n *   link: createUploadLink()\n * })\n * ```\n */\nexport const createUploadLink = ({\n  uri: fetchUri = '/graphql',\n  fetch: linkFetch = fetch,\n  fetchOptions,\n  credentials,\n  headers,\n  includeExtensions\n} = {}) => {\n  const linkConfig = {\n    http: { includeExtensions },\n    options: fetchOptions,\n    credentials,\n    headers\n  };\n\n  return new ApolloLink(operation => {\n    const uri = selectURI(operation, fetchUri);\n    const context = operation.getContext();\n\n    // Apollo Engine client awareness:\n    // https://apollographql.com/docs/platform/client-awareness\n\n    const {\n      // From Apollo Client config.\n      clientAwareness: { name, version } = {},\n      headers\n    } = context;\n\n    const contextConfig = {\n      http: context.http,\n      options: context.fetchOptions,\n      credentials: context.credentials,\n      headers: {\n        // Client awareness headers are context overridable.\n        ...(name && { 'apollographql-client-name': name }),\n        ...(version && { 'apollographql-client-version': version }),\n        ...headers\n      }\n    };\n\n    const { options, body } = selectHttpOptionsAndBody(\n      operation,\n      fallbackHttpConfig,\n      linkConfig,\n      contextConfig\n    );\n\n    const { clone, files } = extractFiles(body);\n\n    if (files.size) {\n      // Automatically set by fetch when the body is a FormData instance.\n      delete options.headers['content-type'];\n\n      // GraphQL multipart request spec:\n      // https://github.com/jaydenseric/graphql-multipart-request-spec\n\n      const form = new FormData();\n      form.append('operationName', clone.operationName);\n      form.append('query', clone.query);\n\n      // update paths in variables\n      let i = 0;\n      files.forEach(paths => {\n        paths.forEach(path => setPath(clone, path, String(++i)));\n      });\n      form.append('variables', JSON.stringify(clone.variables));\n\n      // actually add files to form\n      i = 0;\n      files.forEach((paths, file) => {\n        form.append(++i, file, file.name);\n      });\n\n      options.body = form;\n    } else options.body = serializeFetchParameter(clone, 'Payload');\n\n    return new Observable(observer => {\n      // If no abort controller signal was provided in fetch options, and the\n      // environment supports the AbortController interface, create and use a\n      // default abort controller.\n      let abortController;\n      if (!options.signal) {\n        const { controller } = createSignalIfSupported();\n        if (controller) {\n          abortController = controller;\n          options.signal = abortController.signal;\n        }\n      }\n\n      linkFetch(uri, options)\n        .then(response => {\n          // Forward the response on the context.\n          operation.setContext({ response });\n          return response;\n        })\n        .then(parseAndCheckHttpResponse(operation))\n        .then(result => {\n          observer.next(result);\n          observer.complete();\n        })\n        .catch(error => {\n          if (error.name === 'AbortError')\n            // Fetch was aborted.\n            return;\n\n          if (error.result && error.result.errors && error.result.data)\n            // There is a GraphQL result to forward.\n            observer.next(error.result);\n\n          observer.next({ errors: [new GraphQLError(String(error))] });\n        });\n\n      // Cleanup function.\n      return () => {\n        if (abortController)\n          // Abort fetch.\n          abortController.abort();\n      };\n    });\n  });\n};\n","import * as AbsintheSocket from '@absinthe/socket';\nimport { createAbsintheSocketLink } from '@absinthe/socket-apollo-link';\nimport { hasSubscription } from '@jumpn/utils-graphql';\nimport {\n  defaultDataIdFromObject,\n  InMemoryCache,\n  IntrospectionFragmentMatcher\n} from 'apollo-cache-inmemory';\nimport { ApolloClient } from 'apollo-client';\nimport { ApolloLink, FetchResult, Observable } from 'apollo-link';\nimport { setContext } from 'apollo-link-context';\nimport { onError } from 'apollo-link-error';\n// import { createHttpLink } from 'apollo-link-http';\nimport apolloLogger from 'apollo-link-logger';\nimport {\n  AnonConfirmEmailMutationName,\n  AnonLoginMutationName,\n  AnonResetPasswordMutationName,\n  AnonResetPasswordRequestMutationName,\n  AnonSignUpMutationName\n} from '../fe/session/anon.generated';\nimport { MeLogoutMutationName } from 'fe/session/me.generated';\nimport { GraphQLError } from 'graphql';\nimport HttpStatus from 'http-status-codes';\nimport { Socket as PhoenixSocket } from 'phoenix';\nimport { RootMutationType, RootQueryType } from '../graphql/types.generated';\nimport { GRAPHQL_ENDPOINT, IS_DEV, PHOENIX_SOCKET_ENDPOINT } from '../mn-constants';\nimport { getOpType } from '../util/apollo/operation';\nimport { KVStore } from '../util/keyvaluestore/types';\nimport { createUploadLink } from './uploadLink.js';\nimport introspectionQueryResultData from 'graphql/types.generated';\n\nexport type MutationName = keyof RootMutationType;\nexport type QueryName = keyof RootQueryType;\nexport type OperationName = QueryName | MutationName;\n\ninterface Cfg {\n  localKVStore: KVStore;\n  appLinks: ApolloLink[];\n}\n\nconst AUTH_TOKEN_KEY = 'AUTH_TOKEN';\n\nexport default async function initialise({ localKVStore, appLinks }: Cfg) {\n  let authToken = localKVStore.get(AUTH_TOKEN_KEY);\n\n  const fragmentMatcher = new IntrospectionFragmentMatcher({\n    introspectionQueryResultData\n  });\n\n  const cache = new InMemoryCache({\n    fragmentMatcher,\n    cacheRedirects: {\n      Query: {\n        activity: (_, args, { getCacheKey }) =>\n          getCacheKey({ __typename: 'Activity', id: args.activityId }),\n        collection: (_, args, { getCacheKey }) =>\n          getCacheKey({ __typename: 'Collection', id: args.collectionId }),\n        community: (_, args, { getCacheKey }) =>\n          getCacheKey({ __typename: 'Community', id: args.communityId }),\n        comment: (_, args, { getCacheKey }) =>\n          getCacheKey({ __typename: 'Comment', id: args.commentId }),\n        user: (_, args, { getCacheKey }) => getCacheKey({ __typename: 'User', id: args.userId }),\n        thread: (_, args, { getCacheKey }) =>\n          getCacheKey({ __typename: 'Thread', id: args.threadId }),\n        resource: (_, args, { getCacheKey }) =>\n          getCacheKey({ __typename: 'Resource', id: args.resourceId })\n      }\n    },\n    dataIdFromObject: obj => {\n      switch (obj.__typename) {\n        case 'User': {\n          //@ts-ignore\n          const id: string = 'userId' in obj ? obj.userId : obj.id;\n          return id;\n        }\n        //   case 'Me': return (obj as Me).email\n        default:\n          return defaultDataIdFromObject(obj); // fall back to default handling\n      }\n    }\n  });\n\n  const setToken = (token?: string | null | undefined) => {\n    if (!token) {\n      delToken();\n    } else {\n      authToken = token;\n      localKVStore.set(AUTH_TOKEN_KEY, token);\n    }\n  };\n\n  const delToken = () => {\n    authToken = undefined;\n    localKVStore.del(AUTH_TOKEN_KEY);\n  };\n\n  const setTokenLink = new ApolloLink((operation, nextLink) => {\n    const { operationName } = operation;\n\n    if (operationName === MeLogoutMutationName) {\n      delToken();\n    }\n\n    return nextLink(operation).map(resp => {\n      if (\n        operationName === AnonLoginMutationName ||\n        operationName === AnonResetPasswordMutationName ||\n        operationName === AnonConfirmEmailMutationName\n      ) {\n        setToken(\n          resp.data?.createSession?.token ||\n            resp.data?.confirmEmail?.token ||\n            resp.data?.resetPassword?.token\n        );\n      }\n      return resp;\n    });\n  });\n\n  /**\n   * This context link is used to assign the necessary Authorization header\n   * to all HTTP requests to the GraphQL backend. In the case that the user\n   * is authenticated it sets their access token as the value, otherwise null.\n   */\n  const authLink = setContext((_, { headers }) => {\n    // return the headers to the context so httpLink can read them\n    return {\n      headers: {\n        ...headers,\n        authorization: authToken ? `Bearer ${authToken}` : null\n      }\n    };\n  });\n\n  const errorLink = onError(errorResponse => {\n    const { operation, response, graphQLErrors, networkError } = errorResponse;\n    console.error(`errorLink on operation`, errorResponse);\n\n    if (networkError) {\n      // NETWORK ERROR\n      const message =\n        'statusCode' in networkError\n          ? HttpStatus.getStatusText(networkError.statusCode)\n          : networkError.message;\n      return Observable.of<FetchResult>({\n        errors: [new GraphQLError(`network error:${message}`)]\n      });\n    } else if (graphQLErrors) {\n      // GRAPHQL ERROR\n      const unexpectedError = graphQLErrors.find(\n        err =>\n          /Failed to fetch/gi.test(err.message) ||\n          /JSON.parse/gi.test(err.message) ||\n          /ServerParseError/gi.test(err.message)\n      );\n      return Observable.of<FetchResult>({\n        errors: unexpectedError ? [new GraphQLError(`Unexpected error`)] : graphQLErrors\n      });\n    } else if (response?.errors) {\n      // RESPONSE ERROR\n      return Observable.of<FetchResult>({\n        data: response.data,\n        errors: response.errors\n      });\n    } else {\n      // UNKNOWN ERROR\n      const respStr = JSON.stringify(response, null, 2);\n      const message = `unknown error:\\noperation:${operation}\\nresponse:${respStr}`;\n      return Observable.of<FetchResult>({\n        errors: [new GraphQLError(message)]\n      });\n    }\n  });\n\n  const clientAwarenessHeadersLinkForNonApollo3Server = setContext((_, ctx) => {\n    const { headers } = ctx;\n    return {\n      ...ctx,\n      clientAwareness: undefined,\n      headers: {\n        ...headers\n      }\n    };\n  });\n\n  const ALLOWED_ANONYMOUS_MUTATIONS = [\n    AnonSignUpMutationName,\n    AnonLoginMutationName,\n    AnonConfirmEmailMutationName,\n    AnonResetPasswordMutationName,\n    AnonResetPasswordRequestMutationName\n  ];\n  const alertBlockMutationsForAnonymousLink = new ApolloLink((operation, nextLink) => {\n    if (!authToken) {\n      const optype = getOpType(operation);\n      if (\n        optype === 'mutation' &&\n        //@ts-ignore\n        !ALLOWED_ANONYMOUS_MUTATIONS.includes(operation.operationName)\n      ) {\n        return Observable.of<FetchResult>({\n          errors: [new GraphQLError('You should log in for performing this operation!')]\n        });\n      }\n    }\n\n    return nextLink(operation);\n  });\n  // used for graphql query and mutations\n  const httpLink = ApolloLink.from(\n    [\n      IS_DEV ? apolloLogger : null,\n      ...appLinks,\n      alertBlockMutationsForAnonymousLink,\n      errorLink,\n      authLink,\n      clientAwarenessHeadersLinkForNonApollo3Server,\n      setTokenLink,\n      createUploadLink({ uri: GRAPHQL_ENDPOINT!! })\n    ].filter(Boolean)\n  );\n\n  // used for graphql subscriptions\n  const absintheSocket = createAbsintheSocketLink(\n    AbsintheSocket.create(new PhoenixSocket(PHOENIX_SOCKET_ENDPOINT))\n  );\n  // if the operation is a subscription then use\n  // the absintheSocket otherwise use the httpLink\n  const link = ApolloLink.split(\n    operation => hasSubscription(operation.query),\n    absintheSocket,\n    httpLink\n  );\n\n  const client = new ApolloClient({\n    cache,\n    link,\n    defaultOptions: {\n      watchQuery: {\n        fetchPolicy: 'cache-first',\n        errorPolicy: 'ignore'\n      },\n      query: {\n        fetchPolicy: 'cache-first',\n        errorPolicy: 'all'\n      },\n      mutate: {\n        errorPolicy: 'all'\n      }\n    }\n  });\n  return {\n    client\n  };\n}\n","import { MoodleThemeInterface } from './styled';\nimport { colors, typography } from 'mn-constants';\n\n// Global style variables\nexport const theme: MoodleThemeInterface = {\n  breakpoints: ['40em', '52em', '64em'],\n  // fontSizes: ['12px', '14px', '16px', '20px', '24px', '28px', '32px', '48px'],\n  colors: {\n    // Main\n    app: colors.app,\n    appInverse: colors.appInverse,\n    primary: colors.primary,\n    secondary: colors.secondary,\n    tertiary: colors.tertiary,\n\n    // Status\n    positive: colors.positive,\n    negative: colors.negative,\n    warning: colors.warning,\n\n    // Monochrome\n    lightest: colors.lightest,\n    lighter: colors.lighter,\n    light: colors.light,\n    mediumlight: colors.mediumlight,\n    medium: colors.medium,\n    mediumdark: colors.mediumdark,\n    dark: colors.dark,\n    darker: colors.darker,\n    darkest: colors.darkest,\n\n    border: colors.border\n  },\n  variants: {\n    negative: {\n      bg: colors.negative,\n      color: colors.light\n    },\n    positive: {\n      bg: colors.positive,\n      color: colors.light\n    },\n    warning: {\n      bg: colors.warning,\n      color: colors.darker\n    },\n    avatar: {\n      borderRadius: '100% !important'\n    }\n  },\n  text: {\n    subhead: {\n      fontFamily: typography.type.primary,\n      fontSize: typography.size.s3,\n      color: colors.dark,\n      textTransform: 'capitalize',\n      letterSpacing: '0.5px',\n      fontWeight: '600'\n    },\n    suptitle: {\n      fontFamily: typography.type.primary,\n      fontSize: typography.size.s1,\n      color: colors.dark,\n      textTransform: 'uppercase',\n      letterSpacing: '1px',\n      fontWeight: '700'\n    },\n    link: {\n      fontFamily: typography.type.primary,\n      fontSize: typography.size.s2,\n      color: colors.dark,\n      letterSpacing: '.5px',\n      fontWeight: '600'\n    },\n    text: {\n      fontFamily: typography.type.primary,\n      fontSize: typography.size.s2,\n      color: colors.dark,\n      letterSpacing: '.5px',\n      fontWeight: '500'\n    },\n    heading: {\n      fontFamily: typography.type.primary,\n      fontSize: typography.size.m3,\n      color: colors.dark,\n      letterSpacing: '1px',\n      fontWeight: '800'\n    }\n  },\n  buttons: {\n    primary: {\n      fontWeight: '600',\n      height: '40px',\n      px: 4,\n      backgroundColor: colors.primary,\n      borderRadius: '4px',\n      fontSize: typography.size.s2,\n      cursor: 'pointer',\n      textTransform: 'uppercase',\n      letterSpacing: '1px'\n    },\n    danger: {\n      fontWeight: '600',\n      height: '40px',\n      px: 4,\n      backgroundColor: colors.negative,\n      color: colors.lighter,\n      borderRadius: '4px',\n      fontSize: typography.size.s2,\n      cursor: 'pointer',\n      textTransform: 'uppercase',\n      letterSpacing: '1px'\n    },\n    outline: {\n      fontWeight: '600',\n      height: '40px',\n      px: 4,\n      backgroundColor: 'transparent',\n      borderRadius: '4px',\n      fontSize: typography.size.s2,\n      cursor: 'pointer',\n      textTransform: 'uppercase',\n      letterSpacing: '1px',\n      color: colors.dark,\n      border: `1px solid ${colors.primary}`\n    }\n  },\n  space: ['0px', '4px', '8px', '16px', '32px', '64px', '128px', '256px'],\n  fontFamily: typography.type.primary\n};\n","import React, { FC } from 'react';\nimport { moodlenet } from 'ui/themes';\nimport { ThemeProvider as StyledTheme } from 'styled-components';\nimport { MoodleThemeInterface } from 'ui/themes/styled';\n\nconst ThemeProvider: FC<{ theme?: MoodleThemeInterface | undefined }> = ({\n  children,\n  theme = moodlenet\n}) => {\n  return <StyledTheme theme={theme}>{children}</StyledTheme>;\n};\n\nexport default ThemeProvider;\n","import * as styledComponents from 'styled-components';\n\nexport interface MoodleThemeInterface {\n  breakpoints: string[];\n  colors: {\n    app: string;\n    appInverse: string;\n    primary: string;\n    secondary: string;\n    tertiary: string;\n    positive: string;\n    negative: string;\n    warning: string;\n    lightest: string;\n    lighter: string;\n    light: string;\n    mediumlight: string;\n    medium: string;\n    mediumdark: string;\n    dark: string;\n    darker: string;\n    darkest: string;\n\n    border: string;\n  };\n  text: {\n    subhead: {\n      fontFamily: string;\n      fontSize: string;\n      color: string;\n      textTransform: string;\n      letterSpacing: string;\n      fontWeight: string;\n    };\n    suptitle: {\n      fontFamily: string;\n      fontSize: string;\n      color: string;\n      textTransform: string;\n      letterSpacing: string;\n      fontWeight: string;\n    };\n    link: {\n      fontFamily: string;\n      fontSize: string;\n      color: string;\n      letterSpacing: string;\n      fontWeight: string;\n    };\n    text: {\n      fontFamily: string;\n      fontSize: string;\n      color: string;\n      letterSpacing: string;\n      fontWeight: string;\n    };\n    heading: {\n      fontFamily: string;\n      fontSize: string;\n      color: string;\n      letterSpacing: string;\n      fontWeight: string;\n    };\n  };\n  variants: {\n    negative: {\n      bg: string;\n      color: string;\n    };\n    positive: {\n      bg: string;\n      color: string;\n    };\n    warning: {\n      bg: string;\n      color: string;\n    };\n    avatar: {\n      borderRadius: string;\n    };\n  };\n  buttons: {\n    primary: {\n      fontWeight: string;\n      borderRadius: string;\n      height: string;\n      px: number;\n      fontSize: string;\n      backgroundColor: string;\n      cursor: string;\n      textTransform: string;\n      letterSpacing: string;\n    };\n    danger: {\n      fontWeight: string;\n      borderRadius: string;\n      height: string;\n      color: string;\n      px: number;\n      fontSize: string;\n      backgroundColor: string;\n      cursor: string;\n      textTransform: string;\n      letterSpacing: string;\n    };\n\n    outline: {\n      fontWeight: string;\n      borderRadius: string;\n      height: string;\n      px: number;\n      fontSize: string;\n      backgroundColor: string;\n      cursor: string;\n      color: string;\n      textTransform: string;\n      letterSpacing: string;\n      border: string;\n    };\n  };\n  space: string[];\n  fontFamily: string;\n}\n\nexport interface StyledThemeInterface {\n  theme: MoodleThemeInterface;\n}\n\nconst {\n  default: styled,\n  css,\n  createGlobalStyle,\n  keyframes,\n  ThemeProvider,\n  withTheme\n} = styledComponents;\n\nexport { css, createGlobalStyle, keyframes, ThemeProvider, withTheme };\n\nexport default styled;\n","import React from 'react';\nimport styled from 'ui/themes/styled';\n// import { Link } from 'react-router-dom';\nimport { Flex, Text } from 'rebass/styled-components';\n// import Avatar from 'ui/elements/Avatar';\n\nexport const Header: React.FC<{ name: string }> = ({ name }) => {\n  return (\n    <HeaderWrapper>\n      <Left>\n        <SupText ml={2} variant=\"suptitle\">\n          {name}\n        </SupText>\n      </Left>\n    </HeaderWrapper>\n  );\n};\n\nconst Left = styled(Flex)`\n  flex: auto;\n  align-items: center;\n`;\n\nconst SupText = styled(Text)`\n  color: ${props => props.theme.colors.darker};\n  text-transform: capitalize;\n`;\n\nconst HeaderWrapper = styled(Flex)`\n  border-bottom: ${props => props.theme.colors.border};\n  height: 50px;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 8px;\n  background: ${props => props.theme.colors.appInverse};\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  a {\n    display: flex;\n    flex: 1;\n    text-decoration: none;\n  }\n`;\n","import styled from '../../themes/styled';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { typography } from 'mn-constants';\n\nexport const WrapperPanel = styled(Flex)`\n  width: 240px;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0 0 0 8px;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  position: relative;\n  z-index: 0;\n  font-family: ${props => props.theme.fontFamily};\n  &.extra {\n    width: 100%;\n  }\n  ${media.lessThan('1095px')`\n  width: 290px;\n`};\n  ${media.lessThan('1005px')`\n   display: none;\n  `};\n`;\n\nexport const PanelInner = styled(Flex)`\n  position: sticky;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  z-index: 0;\n`;\n\nexport const Panel = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  position: relative;\n  z-index: 0;\n  margin-bottom: 8px !important;\n`;\n\nexport const PanelTitle = styled(Text)`\n  text-transform: capitalize;\n  border-bottom: ${props => props.theme.colors.border};\n  padding: 16px;\n  color: ${props => props.theme.colors.darker};\n  font-size: ${typography.size.s1};\n  font-weight: 600;\n`;\n\nexport const Nav = styled(Box)`\n  padding: 16px;\n`;\n\nexport const NavItem = styled(Text)`\ncolor: ${props => props.theme.colors.dark}\nfont-size: ${typography.size.s2};\na {\n  color: ${props => props.theme.colors.dark}\n  text-decoration: none;\n}\n  `;\n","import * as React from 'react';\nimport styled from 'ui/themes/styled';\nimport { Box } from 'rebass/styled-components';\nimport './loader.css';\nconst Bounce = styled(Box)<{ color: string }>`\n  background-color: ${props =>\n    props.color === 'primary' ? '#ffffffeb' : props.theme.colors.primary};\n`;\n\n/**\n * Loader spinner component.\n * @param props {Object} props of the loader\n * @constructor\n */\nfunction Loader({ ...props }) {\n  return (\n    <div className=\"spinner\" {...props}>\n      <Bounce color={props.variant} className=\"bounce1\" />\n      <Bounce color={props.variant} className=\"bounce2\" />\n      <Bounce color={props.variant} className=\"bounce3\" />\n    </div>\n  );\n}\n\nexport default Loader;\n","import React, { FC } from 'react';\nimport styled from 'ui/themes/styled';\nimport Loader from '../Loader';\nimport { darken, lighten, transitions } from 'polished';\nimport { Button } from 'rebass/styled-components';\nimport { ButtonProps } from 'rebass';\nimport media from 'styled-media-query';\n\nconst WrapperButton = styled(Button)<{\n  variant: string;\n  isIcon: boolean;\n  disabled: boolean;\n}>`\n  ${transitions('background, 0.2s')};\n  width: ${props => (props.isIcon === true ? '40px' : 'auto')};\n  border-radius: ${props => (props.isIcon === true ? '100%' : '4px')};\n  padding: ${props => (props.isIcon === true ? '0px' : 'auto')};\n  opacity: ${props => (props.disabled === true ? '0.7' : '1')};\n  cursor: ${props => (props.disabled === true ? 'default' : 'pointer')};\n  background:  ${props => props.variant === 'warning' && props.theme.colors.negative};\n  ${media.lessThan('medium')`\n    padding:  10px;\n  `};\n  &.show-more {\n    width: auto;\n    padding: 3px 8px;\n    background: transparent;\n    color: ${props => props.theme.colors.primary};\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    ${transitions('background, 0.2s')}\n    \n    svg {\n      stroke: ${props => props.theme.colors.primary};\n      margin-right: 10px;\n    }\n    \n    &:hover {\n        background: #f3f3f3;\n      }\n  }\n  &:hover && not:['disabled\\'] {\n    background: ${props => {\n      switch (props.variant) {\n        case 'primary': {\n          return darken('0.1', props.theme.colors.primary);\n        }\n        case 'danger': {\n          return lighten('0.1', props.theme.colors.primary);\n        }\n        default: {\n          lighten('0.3', props.theme.colors.primary);\n        }\n      }\n    }}\n  }\n}}\n`;\n\nexport interface Props extends ButtonProps {\n  isSubmitting?: boolean;\n  variant?: string;\n  isDisabled?: boolean;\n  isIcon?: boolean;\n  className?: string;\n  fullWidth?: boolean;\n}\n\nconst MNButton: FC<Props> = props => (\n  //@ts-ignore\n  <WrapperButton\n    {...props}\n    width={props.fullWidth ? '100%' : props.width || ''}\n    className={props.variant === 'show-more' ? 'show-more' : ''}\n    isSubmitting={props.isSubmitting}\n    disabled={props.isDisabled}\n    isIcon={props.isIcon}\n    variant={props.variant}\n  >\n    {props.isSubmitting ? <Loader variant={props.variant} /> : props.children}\n  </WrapperButton>\n);\n\nexport default MNButton;\n","import React from 'react';\nimport styled from 'ui/themes/styled';\nimport { Box } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport { Trans } from '@lingui/macro';\nimport { FormikHook } from 'ui/@types/types';\n\nexport interface Props {\n  LoadMoreFormik: FormikHook;\n}\n\nexport const LoadMore: React.FC<Props> = props => {\n  return (\n    <Wrapper p={2}>\n      <Button\n        isSubmitting={props.LoadMoreFormik.isSubmitting}\n        isDisabled={props.LoadMoreFormik.isSubmitting}\n        onClick={props.LoadMoreFormik.submitForm}\n        variant=\"outline\"\n      >\n        <Trans>Load more</Trans>\n      </Button>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  button {\n    width: 100%;\n  }\n`;\n","import styled from 'ui/themes/styled';\nimport { Box, Flex } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { NavLink } from 'react-router-dom';\n\nexport const List = styled(Box)`\n  > div:last-of-type {\n    border-bottom: none;\n  }\n`;\n\nexport const MainContainer = styled(Flex)`\n  align-items: stretch;\n  flex-grow: 1;\n  flex-direction: row;\n  width: 100%;\n`;\n\nexport const HomeBox = styled(Flex)`\n  width: 600px;\n  align-items: flex-start;\n  flex-shrink: 1;\n  flex-grow: 1;\n  flex-basis: auto;\n  flex-direction: column;\n  margin: 0;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  position: relative;\n  z-index: 0;\n`;\n\nexport const WrapperCont = styled(Flex)`\n  width: 100%;\n  height: 100%;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  display: flex;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  position: relative;\n  z-index: 0;\n  margin-bottom: 80px;\n`;\n\nexport const Wrapper = styled(Flex)`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  position: relative;\n  ${media.lessThan('medium')`\n       padding-bottom: 75px;\n  `};\n\n  & ul {\n    display: block;\n\n    & li {\n      display: inline-block;\n\n      & h5 {\n        font-weight: 500;\n      }\n    }\n  }\n\n  & h4 {\n    margin: 0;\n    font-weight: 400 !important;\n    color: #151b26;\n    line-height: 40px;\n  }\n`;\n\nexport const MenuItem = styled(NavLink)`\n  width: auto;\n  overflow: hidden;\n  text-align: center;\n\n  ${media.lessThan('medium')`\n      flex-basis: 44px;\n      overflow: hidden;\n      transition: flex-basis 0.3s ease;\n  `};\n\n  &.active {\n    ${media.lessThan('medium')`\n      flex-basis: 36%;\n      overflow: hidden;\n      transition: flex-basis 0.3s ease;\n  `};\n\n  }\n\n  .text-holder {\n    display: block;\n    ${media.lessThan('medium')`\n      display: none\n  `};\n  }\n\n  .icon-holder {\n    display: none;\n\n    ${media.lessThan('medium')`\n      display: flex;\n  `}\n  }\n\n  &.active .icon-holder {\n    ${media.lessThan('medium')`\n      display: none;\n  `};\n  }\n\n  &.active .text-holder {\n    ${media.lessThan('medium')`\n      display: block;\n  `};\n`;\n\nexport const MenuList = styled(Flex)`\n  border-bottom: ${props => props.theme.colors.border};\n  border-top: ${props => props.theme.colors.border};\n  height: 60px;\n  padding: 12px 8px;\n  background: ${props => props.theme.colors.appInverse};\n\n  ${media.lessThan('medium')`\n      justify-content: space-between;\n      align-item: center;\n      flex-wrap: nowrap;\n  `};\n}\n\na {\n  font-weight: 600;\n  text-decoration: none;\n  margin-right: 8px;\n  color: ${props => props.theme.colors.darker};\n  letterspacing: 1px;\n  padding: 0 8px;\n  line-height: 34px;\n  white-space: nowrap;\n\n  ${media.lessThan('medium')`\n       padding: 0;\n  `};\n\n  &.active,\n  &:hover {\n    color: ${props => props.theme.colors.lighter};\n    background: ${props => props.theme.colors.primary};\n    border-radius: 4px;\n  }\n}\n`;\n\nexport const ObjectsList = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n\n  &.replies > div {\n    margin-bottom: 0;\n    border-bottom: ${props => props.theme.colors.border};\n  }\n\n  > div {\n    &:last-of-type {\n      margin-bottom: 4px;\n      border-bottom: 0;\n    }\n  }\n`;\n\nexport const BottomBordered = styled(Box)`\n  border-bottom: ${props => props.theme.colors.border};\n`;\n\nexport const CollectionsWrapper = styled(Box)`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: 16px;\n  row-gap: 16px;\n  margin: 16px;\n  margin-bottom: 24px !important;\n`;\n\nexport const ButtonIcon = styled(Box)`\n  width: 34px;\n  height: 34px;\n  border-radius: 50%;\n  background: ${props => props.theme.colors.lighter};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    stroke: ${props => props.theme.colors.primary};\n  }\n\n  &:focus {\n    background: ${props => props.theme.colors.primary};\n\n    svg {\n      stroke: ${props => props.theme.colors.lighter};\n    }\n  }\n`;\n","import * as React from 'react';\nimport { FormikHook } from 'ui/@types/types';\nimport { Header } from 'ui/modules/Header';\nimport { WrapperPanel } from 'ui/elements/Panel';\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport {\n  Wrapper,\n  WrapperCont,\n  MainContainer,\n  HomeBox,\n  ObjectsList,\n  CollectionsWrapper\n} from 'ui/elements/Layout';\nimport { ReactElement } from 'react';\n\nexport interface Props {\n  CollectionsBoxes: ReactElement;\n  LoadMoreFormik: FormikHook;\n}\n\nexport const AllCollections: React.FC<Props> = ({ CollectionsBoxes, LoadMoreFormik }) => {\n  return (\n    <>\n      <MainContainer>\n        <HomeBox>\n          <WrapperCont>\n            <Wrapper>\n              <Header name=\"All Collections\" />\n              <ObjectsList>\n                <CollectionsWrapper>{CollectionsBoxes}</CollectionsWrapper>\n              </ObjectsList>\n              {LoadMoreFormik && <LoadMore LoadMoreFormik={LoadMoreFormik} />}\n            </Wrapper>\n          </WrapperCont>\n        </HomeBox>\n        <WrapperPanel />\n      </MainContainer>\n    </>\n  );\n};\n","import * as Types from '../../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type CommunityPreviewFragment = (\n  { __typename: 'Community' }\n  & Pick<Types.Community, 'id' | 'summary' | 'collectionCount' | 'followerCount'>\n  & { myFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  )>, threads: Types.Maybe<(\n    { __typename: 'ThreadsPage' }\n    & Pick<Types.ThreadsPage, 'totalCount'>\n  )> }\n  & CommunityInfoFragment\n);\n\nexport type CommunityInfoFragment = (\n  { __typename: 'Community' }\n  & Pick<Types.Community, 'id' | 'name' | 'isLocal' | 'canonicalUrl' | 'displayUsername' | 'preferredUsername'>\n  & { creator: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n  )>, icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, myFollow: Types.Maybe<(\n    { __typename: 'Follow' }\n    & Pick<Types.Follow, 'id'>\n  )> }\n);\n\nexport const CommunityInfoFragmentDoc = gql`\n    fragment CommunityInfo on Community {\n  id\n  name\n  creator {\n    id\n  }\n  icon {\n    id\n    url\n  }\n  isLocal\n  myFollow {\n    id\n  }\n  canonicalUrl\n  displayUsername\n  preferredUsername\n}\n    `;\nexport const CommunityPreviewFragmentDoc = gql`\n    fragment CommunityPreview on Community {\n  ...CommunityInfo\n  id\n  summary\n  myFlag {\n    id\n  }\n  collectionCount\n  followerCount\n  threads {\n    totalCount\n  }\n}\n    ${CommunityInfoFragmentDoc}`;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { CommunityInfoFragment } from '../community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityInfoFragmentDoc } from '../community/CommunityPreview.generated';\n\n\nexport type CollectionPreviewFragment = (\n  { __typename: 'Collection' }\n  & Pick<Types.Collection, 'id' | 'isLocal' | 'canonicalUrl' | 'name' | 'summary' | 'resourceCount' | 'displayUsername' | 'preferredUsername'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, myFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  )>, myFollow: Types.Maybe<(\n    { __typename: 'Follow' }\n    & Pick<Types.Follow, 'id'>\n  )>, community: Types.Maybe<(\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id'>\n    & CommunityInfoFragment\n  )> }\n);\n\nexport const CollectionPreviewFragmentDoc = gql`\n    fragment CollectionPreview on Collection {\n  id\n  icon {\n    id\n    url\n  }\n  isLocal\n  canonicalUrl\n  name\n  summary\n  resourceCount\n  displayUsername\n  myFlag {\n    id\n  }\n  myFollow {\n    id\n  }\n  preferredUsername\n  community {\n    id\n    ...CommunityInfo\n  }\n}\n    ${CommunityInfoFragmentDoc}`;\n","import * as Types from '../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type FullPageInfoFragment = (\n  { __typename: 'PageInfo' }\n  & Pick<Types.PageInfo, 'endCursor' | 'hasNextPage' | 'hasPreviousPage' | 'startCursor'>\n);\n\nexport const FullPageInfoFragmentDoc = gql`\n    fragment FullPageInfo on PageInfo {\n  endCursor\n  hasNextPage\n  hasPreviousPage\n  startCursor\n}\n    `;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport { CollectionPreviewFragment } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport gql from 'graphql-tag';\nimport { CollectionPreviewFragmentDoc } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type AllCollectionsQueryVariables = {\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type AllCollectionsQuery = (\n  { __typename: 'RootQueryType' }\n  & { collections: (\n    { __typename: 'CollectionsPage' }\n    & Pick<Types.CollectionsPage, 'totalCount'>\n    & { edges: Array<(\n      { __typename: 'Collection' }\n      & CollectionPreviewFragment\n    )>, pageInfo: (\n      { __typename: 'PageInfo' }\n      & FullPageInfoFragment\n    ) }\n  ) }\n);\n\n\nexport const AllCollectionsDocument = gql`\n    query allCollections($limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  collections(limit: $limit, before: $before, after: $after) @connection(key: \"allCollections\") {\n    edges {\n      ...CollectionPreview\n    }\n    totalCount\n    pageInfo {\n      ...FullPageInfo\n    }\n  }\n}\n    ${CollectionPreviewFragmentDoc}\n${FullPageInfoFragmentDoc}`;\n\n/**\n * __useAllCollectionsQuery__\n *\n * To run a query within a React component, call `useAllCollectionsQuery` and pass it any options that fit your needs.\n * When your component renders, `useAllCollectionsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useAllCollectionsQuery({\n *   variables: {\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useAllCollectionsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<AllCollectionsQuery, AllCollectionsQueryVariables>) {\n        return ApolloReactHooks.useQuery<AllCollectionsQuery, AllCollectionsQueryVariables>(AllCollectionsDocument, baseOptions);\n      }\nexport function useAllCollectionsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<AllCollectionsQuery, AllCollectionsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<AllCollectionsQuery, AllCollectionsQueryVariables>(AllCollectionsDocument, baseOptions);\n        }\nexport type AllCollectionsQueryHookResult = ReturnType<typeof useAllCollectionsQuery>;\nexport type AllCollectionsLazyQueryHookResult = ReturnType<typeof useAllCollectionsLazyQuery>;\nexport type AllCollectionsQueryResult = ApolloReactCommon.QueryResult<AllCollectionsQuery, AllCollectionsQueryVariables>;\n\n\nexport interface AllCollectionsQueryOperation {\n  operationName: 'allCollections'\n  result: AllCollectionsQuery\n  variables: AllCollectionsQueryVariables\n  type: 'query'\n}\nexport const AllCollectionsQueryName:AllCollectionsQueryOperation['operationName'] = 'allCollections'\n\nexport const AllCollectionsQueryRefetch = (\n  variables:AllCollectionsQueryVariables, \n  context?:any\n)=>({\n  query:AllCollectionsDocument,\n  variables,\n  context\n})\n      \n","import Maybe from 'graphql/tsutils/Maybe';\nimport { PageInfo } from 'graphql/types.generated';\nimport { useMemo, useCallback } from 'react';\nimport { useFormik } from 'formik';\nimport { FormikHook } from 'ui/@types/types';\n\ninterface Page<EdgeType> {\n  edges: EdgeType[];\n  pageInfo: PageInfo;\n  totalCount: number;\n}\ninterface NextPageCursor {\n  after: PageInfo['endCursor'];\n  before: undefined;\n}\ninterface PreviousPageCursor {\n  before: PageInfo['startCursor'];\n  after: undefined;\n}\ntype PageUpdater<EdgeType> = (_: { prev: Page<EdgeType>; fetched: Page<EdgeType> }) => any; //Page<EdgeType>;\n\ntype Fetch<EdgeType, Cursor extends FellowPageCursor> = (\n  _: (\n    | {\n        cursor: NextPageCursor;\n        isNext: true;\n      }\n    | {\n        cursor: PreviousPageCursor;\n        isNext: false;\n      }\n  ) & {\n    update: PageUpdater<EdgeType>;\n  }\n) => Promise<unknown>;\n\ntype FellowPageCursor = NextPageCursor | PreviousPageCursor;\ntype BaseMngPage<Ready extends boolean> = {\n  ready: Ready;\n};\ninterface MngPageInitialized<EdgeType> extends Page<EdgeType>, BaseMngPage<true> {\n  next(): Promise<unknown>;\n  previous(): Promise<unknown>;\n}\ninterface MngPageUninitialized<EdgeType> extends BaseMngPage<false> {\n  edges: EdgeType[];\n}\n\nexport type MngPage<EdgeType> = MngPageUninitialized<EdgeType> | MngPageInitialized<EdgeType>;\n\nexport type FormikPaging = [FormikHook | null, FormikHook | null];\nexport const useFormikPaging = <EdgeType>(page: MngPage<EdgeType>): FormikPaging => {\n  const nextPageFormik = useFormik({\n    initialValues: {},\n    onSubmit: useCallback(() => (page?.ready ? page.next() : undefined), [page])\n  });\n  const previousPageFormik = useFormik({\n    initialValues: {},\n    onSubmit: useCallback(() => (page?.ready ? page.previous() : undefined), [page])\n  });\n  return useMemo(\n    () => [\n      page.ready && page.pageInfo.hasNextPage ? nextPageFormik : null,\n      page.ready && page.pageInfo.hasPreviousPage ? previousPageFormik : null\n    ],\n    [nextPageFormik, previousPageFormik, page]\n  );\n};\n\nexport const usePage = <EdgeType>(\n  gqlPage: Maybe<Page<EdgeType>>,\n  fetch: Fetch<EdgeType, NextPageCursor> // = () => Promise.resolve()\n): MngPage<EdgeType> & { formiks: FormikPaging } => {\n  const page = useMemo<MngPage<EdgeType>>(() => mngPage(gqlPage, fetch), [gqlPage, fetch]);\n  const formiks = useFormikPaging(page);\n  return useMemo(\n    () => ({\n      ...page,\n      formiks\n    }),\n    [formiks, page]\n  );\n};\n\nexport const mngPage = <EdgeType>(\n  page: Maybe<Page<EdgeType>>,\n  fetch: Fetch<EdgeType, NextPageCursor> = () => Promise.resolve()\n): MngPage<EdgeType> => {\n  if (!page) {\n    return {\n      ready: false,\n      edges: []\n    };\n  }\n  const next: MngPageInitialized<EdgeType>['next'] = async () =>\n    page.pageInfo.hasNextPage &&\n    fetch({\n      cursor: {\n        after: page.pageInfo.endCursor,\n        before: undefined\n      },\n      update: updatePageNext,\n      isNext: true\n    });\n\n  const previous: MngPageInitialized<EdgeType>['previous'] = async () =>\n    page.pageInfo.hasPreviousPage &&\n    fetch({\n      cursor: {\n        before: page.pageInfo.startCursor,\n        after: undefined\n      },\n      update: updatePagePrev,\n      isNext: false\n    });\n\n  const pageMng: MngPage<EdgeType> = {\n    ...page,\n    next,\n    previous,\n    ready: !!page\n  };\n  return pageMng;\n};\n\nconst updatePageNext = <EdgeType>({\n  fetched,\n  prev\n}: {\n  fetched: Page<EdgeType>;\n  prev: Page<EdgeType>;\n}) => {\n  return {\n    ...fetched,\n    edges: prev.edges.concat(fetched.edges),\n    totalCount: fetched.totalCount,\n    pageInfo: {\n      ...prev.pageInfo,\n      endCursor: fetched.pageInfo.endCursor,\n      hasNextPage: fetched.pageInfo.hasNextPage\n    }\n  };\n};\nconst updatePagePrev = <EdgeType>({\n  fetched,\n  prev\n}: {\n  fetched: Page<EdgeType>;\n  prev: Page<EdgeType>;\n}) => {\n  return {\n    ...fetched,\n    edges: fetched.edges.concat(prev.edges),\n    totalCount: fetched.totalCount,\n    pageInfo: {\n      ...prev.pageInfo,\n      startCursor: fetched.pageInfo.startCursor,\n      hasPreviousPage: fetched.pageInfo.hasPreviousPage\n    }\n  };\n};\n","import { useAllCollectionsQuery } from './useAllCollections.generated';\nimport { useMemo } from 'react';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useAllCollections = () => {\n  const allCollectionsQ = useAllCollectionsQuery({\n    variables: { limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const allCollectionsPage = usePage(\n    allCollectionsQ.data?.collections,\n    ({ cursor, update }) => {\n      return allCollectionsQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.collections && prev.collections\n            ? {\n                ...fetchMoreResult,\n                collections: update({\n                  prev: prev.collections,\n                  fetched: fetchMoreResult.collections\n                })\n              }\n            : prev;\n        }\n      });\n    }\n  );\n  return useMemo(() => {\n    return {\n      allCollectionsPage\n    };\n  }, [allCollectionsPage]);\n};\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'ui/themes/styled';\n\nexport interface SimpleLink {\n  external: boolean;\n  url: string;\n}\nexport interface Props {\n  link: SimpleLink;\n}\nexport const SimpleLink: FC<Props> = ({ link, children }) => {\n  return link.external ? (\n    <a href={link.url} rel=\"noopener noreferrer\" target=\"_blank\">\n      {children}\n    </a>\n  ) : (\n    <SLink to={link.url}>{children}</SLink>\n  );\n};\n\nconst SLink = styled(Link)`\n  text-decoration: none;\n`;\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Archive } from 'react-feather';\nimport { Box, Flex, Heading, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\n// import Avatar from 'ui/elements/Avatar';\nimport { SimpleLink } from 'ui/helpers/SimpleLink';\nimport styled from 'ui/themes/styled';\nimport { typography } from 'mn-constants';\nimport { darken, ellipsis } from 'polished';\nimport media from 'styled-media-query';\n\nexport interface Props {\n  link: SimpleLink;\n  icon: string;\n  name: string;\n  summary: string;\n  displayUsername: string;\n  totalResources: number | null;\n  isFollowing: boolean;\n  toggleFollowFormik: FormikHook;\n  hideActions?: boolean;\n  isSearch?: boolean;\n}\n\nexport const Collection: React.FC<Props> = ({\n  link,\n  icon,\n  name,\n  summary,\n  displayUsername,\n  totalResources,\n  isFollowing,\n  toggleFollowFormik,\n  hideActions,\n  isSearch\n}) => {\n  return (\n    <CollectionWrapper>\n      {isSearch && (\n        <Search variant=\"text\">\n          <Trans>Collection</Trans>\n        </Search>\n      )}\n      <WrapperLink link={link}>\n        <Previews>\n          <Big src={icon} />\n          {/* <Smalls>\n        <Small>a</Small>\n        <Small>b</Small>\n        <Small>c</Small>\n      </Smalls> */}\n        </Previews>\n        <Info>\n          <Title>{name}</Title>\n          <Meta>\n            <TotResources variant=\"text\">\n              {totalResources || 0} <Trans>Resources</Trans>\n            </TotResources>\n            <Action>\n              {hideActions ? null : (\n                <ActionItem\n                  bordered\n                  isFollowing={isFollowing ? true : false}\n                  onClick={(e: React.MouseEvent) => {\n                    e.preventDefault();\n                    toggleFollowFormik.submitForm();\n                  }}\n                >\n                  <ActionText ml={1} variant={'suptitle'} sx={{ textTransform: 'capitalize' }}>\n                    {isFollowing ? <Trans>Following </Trans> : <Trans>follow</Trans>}\n                  </ActionText>\n                </ActionItem>\n              )}\n            </Action>\n          </Meta>\n        </Info>\n      </WrapperLink>\n    </CollectionWrapper>\n  );\n};\n\nexport const Search = styled(Text)`\n  padding: 8px;\n  background-color: ${props => props.theme.colors.appInverse};\n  font-weight: 700;\n  text-transform: uppercase;\n  color: ${props => props.theme.colors.dark};\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n`;\n\nconst Meta = styled(Flex)`\n  color: ${props => props.theme.colors.mediumdark};\n  align-items: center;\n  position: relative;\n  z-index: 99999999;\n`;\n\nconst Title = styled(Heading)`\n  color: ${props => props.theme.colors.darker};\n  text-decoration: none;\n  word-break: break-all;\n  margin-top: 4px;\n  font-size: ${typography.size.m1};\n  ${ellipsis('250px')};\n`;\n\nconst CollectionWrapper = styled(Box)`\n  max-width: 300px;\n  position: relative;\n  box-shadow: 0px 2px 4px 0px #0000001f;\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid #ececec;\n\n  ${media.lessThan('medium')`    \n            max-width: unset;\n        `};\n`;\nconst Previews = styled(Box)`\n  display: grid;\n  grid-template-rows: 150px;\n  grid-template-areas: 'big big big';\n  column-gap: 4px;\n  row-gap: 4px;\n`;\nconst Big = styled(Box)<{ src?: string }>`\n  height: 150px;\n  background: ${props => props.theme.colors.medium};\n  border-radius: 4px;\n  grid-area: big;\n\n  background-image: url(\"${props => props.src}\");\n  background-size: cover;\n  background-position: center center;\n`;\n// const Smalls = styled(Box)`\n// grid-area: small;\n// display: grid;\n// grid-template-columns: 1fr 1fr 1fr;\n// column-gap: 4px;\n// `\n// const Small = styled(Box)`\n//   background: ${props => props.theme.colors.medium};\n//   border-radius: 4px;\n//   `\nconst Info = styled(Box)`\n  margin: 8px;\n`;\nconst TotResources = styled(Text)`\n  flex: 1;\n`;\nconst Action = styled(Box)``;\n\nconst ActionText = styled(Text)`\n  color: ${props => props.theme.colors.darker};\n  font-weight: 600;\n`;\n\nexport const tempCollection: React.FC<Props> = ({\n  link,\n  icon,\n  name,\n  summary,\n  displayUsername,\n  totalResources,\n  isFollowing,\n  toggleFollowFormik,\n  hideActions\n}) => {\n  return (\n    <Bordered mb={1}>\n      <WrapperLink link={link}>\n        <AvatarCollection src={icon} />\n        <Infos ml={3}>\n          <Flex>\n            <Box flex={1}>\n              <Title>{name}</Title>\n              {/* <C>+{displayUsername}</Username> */}\n            </Box>\n          </Flex>\n          <Summary variant=\"text\" mt={1} mb={2}>\n            {summary && summary.length > 140\n              ? summary.replace(/^([\\s\\S]{140}[^\\s]*)[\\s\\S]*/, '$1...')\n              : summary}\n          </Summary>\n          <MetaWrapper mt={2} alignItems=\"center\">\n            <Archive size={18} />\n            <Text ml={2} variant=\"suptitle\">\n              {totalResources || 0} <Trans>Resources</Trans>\n            </Text>\n          </MetaWrapper>\n\n          <Meta mt={2}>\n            {hideActions ? null : (\n              <ActionItem\n                bordered\n                isFollowing={isFollowing ? true : false}\n                onClick={toggleFollowFormik.submitForm}\n              >\n                <Text variant={'suptitle'} sx={{ textTransform: 'capitalize' }}>\n                  {isFollowing ? <Trans>Unfollow </Trans> : <Trans>follow</Trans>}\n                </Text>\n              </ActionItem>\n            )}\n          </Meta>\n        </Infos>\n      </WrapperLink>\n    </Bordered>\n  );\n};\n\nconst WrapperLink = styled(SimpleLink)`\n  // color: red;\n  // a {\n  //   position: absolute;\n  //   top: 0;\n  //   left: 0;\n  //   right: 0;\n  //   bottom: 0;\n  //   z-index: 1;\n  // }\n`;\n\nconst MetaWrapper = styled(Flex)`\n  color: ${props => props.theme.colors.dark};\n  svg {\n    margin: 0;\n  }\n`;\n\nconst Summary = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n`;\nconst AvatarCollection = styled(Box)<{ src?: string }>`\n  border-radius: 4px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  min-width: 48px;\n  height: 48px;\n  padding: 15%;\n  background-color: transparent;\n  background-image: url(\"${props => props.src}\");\n  background-size: cover;\n  background-position: center center;\n`;\n\nconst ActionItem = styled(Flex)<{ isFollowing?: boolean; bordered?: boolean }>`\n  align-items: center;\n\n  color: ${props =>\n    props.isFollowing ? props.theme.colors.lighter : props.theme.colors.mediumdark};\n  div {\n    color: ${props => (props.isFollowing ? props.theme.colors.lighter : props.theme.colors.darker)};\n  }\n  cursor: pointer;\n  background: ${props => (props.isFollowing ? props.theme.colors.primary : 'transparent')};\n  border: 1px solid ${props => (props.isFollowing ? props.theme.colors.primary : 'transparent')};\n  border: 1px solid ${props => (props.bordered ? props.theme.colors.primary : 'transparent')};\n  border-radius: 4px;\n  padding: 2px 8px;\n  text-align: center;\n  font-size: ${typography.size.s1};\n\n  a {\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n  }\n  &:hover {\n    background: ${props =>\n      props.isFollowing ? props.theme.colors.mediumdark : props.theme.colors.primary};\n    border-color: ${props =>\n      props.isFollowing ? props.theme.colors.mediumdark : props.theme.colors.primary};\n    div {\n      color: ${props => props.theme.colors.lightest};\n    }\n  }\n`;\n\n// const ActionIcon = styled(Box)`\n//   width: 30px;\n//   height: 30px;\n//   border-radius: 99999px;\n//   display: inline-flex;\n//   align-items: center;\n//   align-content: center;\n//   text-align: center;\n//   margin-left: -8px;\n//   svg {\n//     margin: 0 auto;\n//   }\n// `;\n\n// const TitleLink = styled(SimpleLink)`\n//   text-decoration: none;\n//   color: ${props => props.theme.colors.darker};\n//   background: red;\n//   > a {\n//     text-decoration: none;\n//   }\n// `;\n\n// const Meta = styled(Flex)`\n//   color: ${props => props.theme.colors.medium};\n//   position: absolute;\n//   z-index: 2;\n//   bottom: 0;\n//   left: 0;\n// `;\n\n// const Username = styled(Text)`\n//   color: ${props => props.theme.colors.mediumdark};\n//   flex: 1;\n//   text-transform: lowercase;\n// `;\n\nconst Bordered = styled(Flex)`\n  border-radius: 4px;\n  border: ${props => props.theme.colors.border};\n  background: ${props => props.theme.colors.appInverse};\n  text-decoration: none;\n  position: relative;\n  &:hover {\n    background: ${props => darken('0.05', props.theme.colors.appInverse)};\n  }\n  * {\n    text-decoration: none !important;\n    &:hover {\n      text-decoration: none !important;\n    }\n  }\n`;\n\nconst Infos = styled(Box)`\n  flex: 1;\n  position: relative;\n  div {\n    text-decoration: none;\n  }\n`;\n// const Title = styled(Heading)`\n//   color: ${props => props.theme.colors.darker};\n//   text-decoration: none;\n//   word-break: break-all;\n//   margin-top: 8px;\n//   ${ellipsis('380px')};\n// `;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CollectionPreviewFragment } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CollectionPreviewFragmentDoc } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type MyCollectionFollowsQueryVariables = {};\n\n\nexport type MyCollectionFollowsQuery = (\n  { __typename: 'RootQueryType' }\n  & { me: Types.Maybe<(\n    { __typename: 'Me' }\n    & MyCollectionFollowsDataFragment\n  )> }\n);\n\nexport type MyCollectionFollowsDataFragment = (\n  { __typename: 'Me' }\n  & { user: (\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & { collectionFollows: Types.Maybe<(\n      { __typename: 'FollowsPage' }\n      & Pick<Types.FollowsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n        & { context: { __typename: 'Category' } | (\n          { __typename: 'Collection' }\n          & MyFollowedCollectionDataFragment\n        ) | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' } }\n      )> }\n    )> }\n  ) }\n);\n\nexport type MyFollowedCollectionDataFragment = (\n  { __typename: 'Collection' }\n  & CollectionPreviewFragment\n);\n\nexport const MyFollowedCollectionDataFragmentDoc = gql`\n    fragment MyFollowedCollectionData on Collection {\n  ...CollectionPreview\n}\n    ${CollectionPreviewFragmentDoc}`;\nexport const MyCollectionFollowsDataFragmentDoc = gql`\n    fragment MyCollectionFollowsData on Me {\n  user {\n    id\n    collectionFollows {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        id\n        context {\n          ... on Collection {\n            ...MyFollowedCollectionData\n          }\n        }\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${MyFollowedCollectionDataFragmentDoc}`;\nexport const MyCollectionFollowsDocument = gql`\n    query myCollectionFollows {\n  me @connection(key: \"myCollectionFollows\") {\n    ...MyCollectionFollowsData\n  }\n}\n    ${MyCollectionFollowsDataFragmentDoc}`;\n\n/**\n * __useMyCollectionFollowsQuery__\n *\n * To run a query within a React component, call `useMyCollectionFollowsQuery` and pass it any options that fit your needs.\n * When your component renders, `useMyCollectionFollowsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useMyCollectionFollowsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useMyCollectionFollowsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<MyCollectionFollowsQuery, MyCollectionFollowsQueryVariables>) {\n        return ApolloReactHooks.useQuery<MyCollectionFollowsQuery, MyCollectionFollowsQueryVariables>(MyCollectionFollowsDocument, baseOptions);\n      }\nexport function useMyCollectionFollowsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<MyCollectionFollowsQuery, MyCollectionFollowsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<MyCollectionFollowsQuery, MyCollectionFollowsQueryVariables>(MyCollectionFollowsDocument, baseOptions);\n        }\nexport type MyCollectionFollowsQueryHookResult = ReturnType<typeof useMyCollectionFollowsQuery>;\nexport type MyCollectionFollowsLazyQueryHookResult = ReturnType<typeof useMyCollectionFollowsLazyQuery>;\nexport type MyCollectionFollowsQueryResult = ApolloReactCommon.QueryResult<MyCollectionFollowsQuery, MyCollectionFollowsQueryVariables>;\n\n\nexport interface MyCollectionFollowsQueryOperation {\n  operationName: 'myCollectionFollows'\n  result: MyCollectionFollowsQuery\n  variables: MyCollectionFollowsQueryVariables\n  type: 'query'\n}\nexport const MyCollectionFollowsQueryName:MyCollectionFollowsQueryOperation['operationName'] = 'myCollectionFollows'\n\nexport const MyCollectionFollowsQueryRefetch = (\n  variables:MyCollectionFollowsQueryVariables, \n  context?:any\n)=>({\n  query:MyCollectionFollowsDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommunityPreviewFragment } from '../../../HOC/modules/previews/community/CommunityPreview.generated';\nimport { SidebarFollowedCommunityFragment } from '../../../HOC/modules/Sidebar/Sidebar.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { SidebarFollowedCommunityFragmentDoc } from '../../../HOC/modules/Sidebar/Sidebar.generated';\nimport { CommunityPreviewFragmentDoc } from '../../../HOC/modules/previews/community/CommunityPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\n\nexport type MyCommunityFollowsQueryVariables = {\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type MyCommunityFollowsQuery = (\n  { __typename: 'RootQueryType' }\n  & { me: Types.Maybe<(\n    { __typename: 'Me' }\n    & MyCommunityFollowsDataFragment\n  )> }\n);\n\nexport type MyCommunityFollowsDataFragment = (\n  { __typename: 'Me' }\n  & { user: (\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & { communityFollows: Types.Maybe<(\n      { __typename: 'FollowsPage' }\n      & Pick<Types.FollowsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n        & { context: { __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | (\n          { __typename: 'Community' }\n          & MyFollowedCommunityDataFragment\n        ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' } }\n      )> }\n    )> }\n  ) }\n);\n\nexport type MyFollowedCommunityDataFragment = (\n  { __typename: 'Community' }\n  & SidebarFollowedCommunityFragment\n  & CommunityPreviewFragment\n);\n\nexport const MyFollowedCommunityDataFragmentDoc = gql`\n    fragment MyFollowedCommunityData on Community {\n  ...SidebarFollowedCommunity\n  ...CommunityPreview\n}\n    ${SidebarFollowedCommunityFragmentDoc}\n${CommunityPreviewFragmentDoc}`;\nexport const MyCommunityFollowsDataFragmentDoc = gql`\n    fragment MyCommunityFollowsData on Me {\n  user {\n    id\n    communityFollows(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        id\n        context {\n          ... on Community {\n            ...MyFollowedCommunityData\n          }\n        }\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${MyFollowedCommunityDataFragmentDoc}`;\nexport const MyCommunityFollowsDocument = gql`\n    query myCommunityFollows($limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  me @connection(key: \"myCommunityFollows\") {\n    ...MyCommunityFollowsData\n  }\n}\n    ${MyCommunityFollowsDataFragmentDoc}`;\n\n/**\n * __useMyCommunityFollowsQuery__\n *\n * To run a query within a React component, call `useMyCommunityFollowsQuery` and pass it any options that fit your needs.\n * When your component renders, `useMyCommunityFollowsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useMyCommunityFollowsQuery({\n *   variables: {\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useMyCommunityFollowsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<MyCommunityFollowsQuery, MyCommunityFollowsQueryVariables>) {\n        return ApolloReactHooks.useQuery<MyCommunityFollowsQuery, MyCommunityFollowsQueryVariables>(MyCommunityFollowsDocument, baseOptions);\n      }\nexport function useMyCommunityFollowsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<MyCommunityFollowsQuery, MyCommunityFollowsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<MyCommunityFollowsQuery, MyCommunityFollowsQueryVariables>(MyCommunityFollowsDocument, baseOptions);\n        }\nexport type MyCommunityFollowsQueryHookResult = ReturnType<typeof useMyCommunityFollowsQuery>;\nexport type MyCommunityFollowsLazyQueryHookResult = ReturnType<typeof useMyCommunityFollowsLazyQuery>;\nexport type MyCommunityFollowsQueryResult = ApolloReactCommon.QueryResult<MyCommunityFollowsQuery, MyCommunityFollowsQueryVariables>;\n\n\nexport interface MyCommunityFollowsQueryOperation {\n  operationName: 'myCommunityFollows'\n  result: MyCommunityFollowsQuery\n  variables: MyCommunityFollowsQueryVariables\n  type: 'query'\n}\nexport const MyCommunityFollowsQueryName:MyCommunityFollowsQueryOperation['operationName'] = 'myCommunityFollows'\n\nexport const MyCommunityFollowsQueryRefetch = (\n  variables:MyCommunityFollowsQueryVariables, \n  context?:any\n)=>({\n  query:MyCommunityFollowsDocument,\n  variables,\n  context\n})\n      \n","export const OPTIMISTIC_ID_STRING = '#';\nexport const isOptimisticId = (_: any) => _ === OPTIMISTIC_ID_STRING;\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type FollowMutationVariables = {\n  contextId: Types.Scalars['String']\n};\n\n\nexport type FollowMutation = (\n  { __typename: 'RootMutationType' }\n  & { createFollow: Types.Maybe<(\n    { __typename: 'Follow' }\n    & { context: { __typename: 'Category' } | (\n      { __typename: 'Collection' }\n      & Pick<Types.Collection, 'id' | 'followerCount'>\n      & { myFollow: Types.Maybe<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n      )> }\n    ) | { __typename: 'Comment' } | (\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id' | 'followerCount'>\n      & { myFollow: Types.Maybe<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n      )> }\n    ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n      { __typename: 'User' }\n      & Pick<Types.User, 'followerCount'>\n      & { userId: Types.User['id'] }\n      & { myFollow: Types.Maybe<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n      )> }\n    ) }\n  )> }\n);\n\nexport type UnfollowMutationVariables = {\n  contextId: Types.Scalars['String']\n};\n\n\nexport type UnfollowMutation = (\n  { __typename: 'RootMutationType' }\n  & { delete: Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | (\n    { __typename: 'Follow' }\n    & { context: { __typename: 'Category' } | (\n      { __typename: 'Collection' }\n      & Pick<Types.Collection, 'id' | 'followerCount'>\n      & { myFollow: Types.Maybe<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n      )> }\n    ) | { __typename: 'Comment' } | (\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id' | 'followerCount'>\n      & { myFollow: Types.Maybe<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n      )> }\n    ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n      { __typename: 'User' }\n      & Pick<Types.User, 'followerCount'>\n      & { userId: Types.User['id'] }\n      & { myFollow: Types.Maybe<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n      )> }\n    ) }\n  ) | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\n\nexport const FollowDocument = gql`\n    mutation follow($contextId: String!) {\n  createFollow(contextId: $contextId) {\n    context {\n      ... on Collection {\n        id\n        myFollow {\n          id\n        }\n        followerCount\n      }\n      ... on Community {\n        id\n        myFollow {\n          id\n        }\n        followerCount\n      }\n      ... on User {\n        userId: id\n        myFollow {\n          id\n        }\n        followerCount\n      }\n    }\n  }\n}\n    `;\nexport type FollowMutationFn = ApolloReactCommon.MutationFunction<FollowMutation, FollowMutationVariables>;\n\n/**\n * __useFollowMutation__\n *\n * To run a mutation, you first call `useFollowMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useFollowMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [followMutation, { data, loading, error }] = useFollowMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *   },\n * });\n */\nexport function useFollowMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<FollowMutation, FollowMutationVariables>) {\n        return ApolloReactHooks.useMutation<FollowMutation, FollowMutationVariables>(FollowDocument, baseOptions);\n      }\nexport type FollowMutationHookResult = ReturnType<typeof useFollowMutation>;\nexport type FollowMutationResult = ApolloReactCommon.MutationResult<FollowMutation>;\nexport type FollowMutationOptions = ApolloReactCommon.BaseMutationOptions<FollowMutation, FollowMutationVariables>;\nexport const UnfollowDocument = gql`\n    mutation unfollow($contextId: String!) {\n  delete(contextId: $contextId) {\n    ... on Follow {\n      context {\n        ... on Collection {\n          id\n          myFollow {\n            id\n          }\n          followerCount\n        }\n        ... on Community {\n          id\n          myFollow {\n            id\n          }\n          followerCount\n        }\n        ... on User {\n          userId: id\n          myFollow {\n            id\n          }\n          followerCount\n        }\n      }\n    }\n  }\n}\n    `;\nexport type UnfollowMutationFn = ApolloReactCommon.MutationFunction<UnfollowMutation, UnfollowMutationVariables>;\n\n/**\n * __useUnfollowMutation__\n *\n * To run a mutation, you first call `useUnfollowMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUnfollowMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [unfollowMutation, { data, loading, error }] = useUnfollowMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *   },\n * });\n */\nexport function useUnfollowMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<UnfollowMutation, UnfollowMutationVariables>) {\n        return ApolloReactHooks.useMutation<UnfollowMutation, UnfollowMutationVariables>(UnfollowDocument, baseOptions);\n      }\nexport type UnfollowMutationHookResult = ReturnType<typeof useUnfollowMutation>;\nexport type UnfollowMutationResult = ApolloReactCommon.MutationResult<UnfollowMutation>;\nexport type UnfollowMutationOptions = ApolloReactCommon.BaseMutationOptions<UnfollowMutation, UnfollowMutationVariables>;\n\n\nexport interface FollowMutationOperation {\n  operationName: 'follow'\n  result: FollowMutation\n  variables: FollowMutationVariables\n  type: 'mutation'\n}\nexport const FollowMutationName:FollowMutationOperation['operationName'] = 'follow'\n\nexport const FollowMutationRefetch = (\n  variables:FollowMutationVariables, \n  context?:any\n)=>({\n  query:FollowDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface UnfollowMutationOperation {\n  operationName: 'unfollow'\n  result: UnfollowMutation\n  variables: UnfollowMutationVariables\n  type: 'mutation'\n}\nexport const UnfollowMutationName:UnfollowMutationOperation['operationName'] = 'unfollow'\n\nexport const UnfollowMutationRefetch = (\n  variables:UnfollowMutationVariables, \n  context?:any\n)=>({\n  query:UnfollowDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type UserPreviewFragment = (\n  { __typename: 'User' }\n  & Pick<Types.User, 'displayUsername' | 'summary' | 'canonicalUrl'>\n  & { userId: Types.User['id'], userName: Types.User['name'] }\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, image: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, myFollow: Types.Maybe<(\n    { __typename: 'Follow' }\n    & Pick<Types.Follow, 'id'>\n  )>, myFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  )> }\n);\n\nexport const UserPreviewFragmentDoc = gql`\n    fragment UserPreview on User {\n  icon {\n    id\n    url\n  }\n  image {\n    id\n    url\n  }\n  userId: id\n  userName: name\n  displayUsername\n  summary\n  canonicalUrl\n  myFollow {\n    id\n  }\n  myFlag {\n    id\n  }\n}\n    `;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { UserPreviewFragment } from '../../../../HOC/modules/previews/user/UserPreview.generated';\nimport { FullPageInfoFragment } from '../../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../../@fragments/misc.generated';\nimport { UserPreviewFragmentDoc } from '../../../../HOC/modules/previews/user/UserPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type CollectionFollowersQueryVariables = {\n  collectionId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type CollectionFollowersQuery = (\n  { __typename: 'RootQueryType' }\n  & { collection: Types.Maybe<(\n    { __typename: 'Collection' }\n    & Pick<Types.Collection, 'id'>\n    & { followers: Types.Maybe<(\n      { __typename: 'FollowsPage' }\n      & Pick<Types.FollowsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n        & { creator: Types.Maybe<(\n          { __typename: 'User' }\n          & CollectionFollowerFragment\n        )> }\n      )> }\n    )> }\n  )> }\n);\n\nexport type CollectionFollowerFragment = (\n  { __typename: 'User' }\n  & UserPreviewFragment\n);\n\nexport const CollectionFollowerFragmentDoc = gql`\n    fragment CollectionFollower on User {\n  ...UserPreview\n}\n    ${UserPreviewFragmentDoc}`;\nexport const CollectionFollowersDocument = gql`\n    query collectionFollowers($collectionId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  collection(collectionId: $collectionId) @connection(key: \"collectionFollowers\", filter: [\"collectionId\"]) {\n    id\n    followers(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        id\n        creator {\n          ...CollectionFollower\n        }\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CollectionFollowerFragmentDoc}`;\n\n/**\n * __useCollectionFollowersQuery__\n *\n * To run a query within a React component, call `useCollectionFollowersQuery` and pass it any options that fit your needs.\n * When your component renders, `useCollectionFollowersQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCollectionFollowersQuery({\n *   variables: {\n *      collectionId: // value for 'collectionId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useCollectionFollowersQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CollectionFollowersQuery, CollectionFollowersQueryVariables>) {\n        return ApolloReactHooks.useQuery<CollectionFollowersQuery, CollectionFollowersQueryVariables>(CollectionFollowersDocument, baseOptions);\n      }\nexport function useCollectionFollowersLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CollectionFollowersQuery, CollectionFollowersQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CollectionFollowersQuery, CollectionFollowersQueryVariables>(CollectionFollowersDocument, baseOptions);\n        }\nexport type CollectionFollowersQueryHookResult = ReturnType<typeof useCollectionFollowersQuery>;\nexport type CollectionFollowersLazyQueryHookResult = ReturnType<typeof useCollectionFollowersLazyQuery>;\nexport type CollectionFollowersQueryResult = ApolloReactCommon.QueryResult<CollectionFollowersQuery, CollectionFollowersQueryVariables>;\n\n\nexport interface CollectionFollowersQueryOperation {\n  operationName: 'collectionFollowers'\n  result: CollectionFollowersQuery\n  variables: CollectionFollowersQueryVariables\n  type: 'query'\n}\nexport const CollectionFollowersQueryName:CollectionFollowersQueryOperation['operationName'] = 'collectionFollowers'\n\nexport const CollectionFollowersQueryRefetch = (\n  variables:CollectionFollowersQueryVariables, \n  context?:any\n)=>({\n  query:CollectionFollowersDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../../graphql/types.generated';\n\nimport { UserPreviewFragment } from '../../../../HOC/modules/previews/user/UserPreview.generated';\nimport { FullPageInfoFragment } from '../../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../../@fragments/misc.generated';\nimport { UserPreviewFragmentDoc } from '../../../../HOC/modules/previews/user/UserPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type CommunityFollowersQueryVariables = {\n  communityId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type CommunityFollowersQuery = (\n  { __typename: 'RootQueryType' }\n  & { community: Types.Maybe<(\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id'>\n    & { followers: Types.Maybe<(\n      { __typename: 'FollowsPage' }\n      & Pick<Types.FollowsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n        & { creator: Types.Maybe<(\n          { __typename: 'User' }\n          & CommunityFollowerFragment\n        )> }\n      )> }\n    )> }\n  )> }\n);\n\nexport type CommunityFollowerFragment = (\n  { __typename: 'User' }\n  & UserPreviewFragment\n);\n\nexport const CommunityFollowerFragmentDoc = gql`\n    fragment CommunityFollower on User {\n  ...UserPreview\n}\n    ${UserPreviewFragmentDoc}`;\nexport const CommunityFollowersDocument = gql`\n    query communityFollowers($communityId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  community(communityId: $communityId) @connection(key: \"communityFollowers\", filter: [\"communityId\"]) {\n    id\n    followers(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        id\n        creator {\n          ...CommunityFollower\n        }\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CommunityFollowerFragmentDoc}`;\n\n/**\n * __useCommunityFollowersQuery__\n *\n * To run a query within a React component, call `useCommunityFollowersQuery` and pass it any options that fit your needs.\n * When your component renders, `useCommunityFollowersQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCommunityFollowersQuery({\n *   variables: {\n *      communityId: // value for 'communityId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useCommunityFollowersQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CommunityFollowersQuery, CommunityFollowersQueryVariables>) {\n        return ApolloReactHooks.useQuery<CommunityFollowersQuery, CommunityFollowersQueryVariables>(CommunityFollowersDocument, baseOptions);\n      }\nexport function useCommunityFollowersLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CommunityFollowersQuery, CommunityFollowersQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CommunityFollowersQuery, CommunityFollowersQueryVariables>(CommunityFollowersDocument, baseOptions);\n        }\nexport type CommunityFollowersQueryHookResult = ReturnType<typeof useCommunityFollowersQuery>;\nexport type CommunityFollowersLazyQueryHookResult = ReturnType<typeof useCommunityFollowersLazyQuery>;\nexport type CommunityFollowersQueryResult = ApolloReactCommon.QueryResult<CommunityFollowersQuery, CommunityFollowersQueryVariables>;\n\n\nexport interface CommunityFollowersQueryOperation {\n  operationName: 'communityFollowers'\n  result: CommunityFollowersQuery\n  variables: CommunityFollowersQueryVariables\n  type: 'query'\n}\nexport const CommunityFollowersQueryName:CommunityFollowersQueryOperation['operationName'] = 'communityFollowers'\n\nexport const CommunityFollowersQueryRefetch = (\n  variables:CommunityFollowersQueryVariables, \n  context?:any\n)=>({\n  query:CommunityFollowersDocument,\n  variables,\n  context\n})\n      \n","import Maybe from 'graphql/tsutils/Maybe';\n\nexport type WithExtraInfo<\n  GQLType extends Maybe<{ extraInfo?: any }>,\n  ExtraInfoType\n> = GQLType extends undefined | null\n  ? GQLType\n  : Omit<GQLType, 'extraInfo'> & { extraInfo?: Maybe<ExtraInfoType> };\nexport const withEncodedExtraInfo = <GQLType extends { extraInfo?: any }>(\n  gqlObj: GQLType,\n  olderGqlObj: Maybe<GQLType>\n): GQLType & { extraInfo?: string } => {\n  const newExtraInfo = gqlObj.extraInfo;\n  const isSomeNewExtraInfo = !!newExtraInfo;\n  if (!isSomeNewExtraInfo) {\n    return {\n      ...gqlObj,\n      extraInfo: void 0\n    };\n  }\n\n  const olderExtraInfo = olderGqlObj?.extraInfo;\n  const mergedExtraInfo = JSON.stringify({\n    ...olderExtraInfo,\n    ...gqlObj.extraInfo\n  });\n\n  return {\n    ...gqlObj,\n    extraInfo: mergedExtraInfo\n  };\n};\n","export type UrlString = string; //& { readonly _: unique symbol };\nexport const URL_REGEX = /[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;\nexport const isUrlString = (_: any): _ is UrlString => 'string' === typeof _ && URL_REGEX.test(_);\n","import { UploadInput } from 'graphql/types.generated';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { UrlString, isUrlString } from 'fe/lib/helpers/data';\n\nexport const getMaybeUploadInput = (\n  maybeFileOrString: Maybe<File | string>,\n  currentUploadUrl: Maybe<string>\n): UploadInput | undefined =>\n  !maybeFileOrString ||\n  (isUrlString(maybeFileOrString) && maybeFileOrString === currentUploadUrl)\n    ? void 0\n    : maybeFileOrString instanceof File || isUrlString(maybeFileOrString)\n    ? getUploadInput(maybeFileOrString)\n    : void 0;\n\nexport const getUploadInput = (fileOrString: File | UrlString): UploadInput =>\n  isUrlString(fileOrString) ? { url: fileOrString } : { upload: fileOrString };\n","import { withEncodedExtraInfo, WithExtraInfo } from 'fe/lib/extraInfo/extraInfo';\nimport { mnCtx } from 'fe/lib/graphql/ctx';\nimport { LMSPrefs } from 'fe/lib/moodleLMS/LMSintegration';\nimport { getMaybeUploadInput } from 'fe/mutation/upload/getUploadInput';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { UpdateProfileInput } from 'graphql/types.generated';\nimport { useCallback, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport * as GQL from './me.generated';\n\ntype UserProfileExtraInfo = {\n  LMS?: LMSPrefs;\n};\n\nexport type UpdateProfileInputWithEI = WithExtraInfo<UpdateProfileInput, UserProfileExtraInfo>;\n\nexport interface UpdateProfile {\n  profile: UpdateProfileInputWithEI;\n  icon?: Maybe<File | string>;\n  image?: Maybe<File | string>;\n}\nexport const useMe = () => {\n  const meQ = GQL.useMeQuery({ context: mnCtx({ noShowError: true }) });\n  const [logoutMut, logoutStatus] = GQL.useMeLogoutMutation();\n  const [updateProfileMutation, updateProfileMutationStatus] = GQL.useMeUpdateMyProfileMutation();\n\n  const { push } = useHistory();\n  const me = meQ.data?.me;\n  const loading = meQ.loading;\n  const isAdmin = !!me?.isInstanceAdmin;\n  const logout = useCallback(async () => {\n    if (logoutStatus.loading || !me?.user) {\n      return;\n    }\n    return logoutMut({\n      update: proxy => {\n        proxy.writeQuery<GQL.MeQuery>({\n          data: {\n            __typename: 'RootQueryType',\n            me: null\n          },\n          query: GQL.MeDocument\n        });\n      }\n    }).finally(() => push('/login'));\n  }, [logoutStatus.loading, me, logoutMut, push]);\n\n  const updateProfile = useCallback(\n    async ({ icon, image, profile }: UpdateProfile) => {\n      if (updateProfileMutationStatus.loading || !me?.user) {\n        return;\n      }\n      return updateProfileMutation({\n        variables: {\n          profile: withEncodedExtraInfo(profile, me.user),\n          icon: getMaybeUploadInput(icon, me.user.icon?.url),\n          image: getMaybeUploadInput(image, me.user.image?.url)\n        },\n        context: mnCtx({ ctx: 'Profile update' })\n      });\n    },\n    [updateProfileMutation, me, updateProfileMutationStatus]\n  );\n\n  return useMemo(() => {\n    return {\n      me,\n      isAdmin,\n      logout,\n      loading,\n      updateProfile\n    };\n  }, [me, isAdmin, logout, loading, updateProfile]);\n};\n","import { KVStore, CreateKVStore } from './types';\n\ntype Type = 'session' | 'local';\nexport const SESSION: Type = 'session';\nexport const LOCAL: Type = 'local';\nexport const createLocalSessionKVStorage = (type: Type): CreateKVStore => (\n  prefix = ''\n): KVStore => {\n  const storage = type === 'local' ? localStorage : sessionStorage;\n  const pkey = (key: string) => `${prefix}${key}`;\n  const get: KVStore['get'] = key => parse(storage.getItem(pkey(key)), type, pkey(key));\n  const set: KVStore['set'] = (key, val) => storage.setItem(pkey(key), serialize(val));\n  const del: KVStore['del'] = key => {\n    const val = get(pkey(key));\n    storage.removeItem(pkey(key));\n    return val;\n  };\n  return {\n    get,\n    set,\n    del\n  };\n};\n\nconst parse = (str: string | null, type: Type, key: string): any => {\n  if (str === null) {\n    return null;\n  }\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    console.warn(`KVStore[${type}]#parse: could not parse ${str} at key [${key}]`);\n    return null;\n  }\n};\nconst serialize = (val: any) => JSON.stringify(val);\n","import { Settings } from 'luxon';\nimport { Catalog, Catalogs, I18n, setupI18n } from '@lingui/core';\nimport { I18nProvider } from '@lingui/react';\nimport React, { createContext, useEffect, useMemo, useState, useCallback } from 'react';\nimport { IS_DEV, LocaleDef, locales as available } from '../../mn-constants';\nimport { createLocalSessionKVStorage, LOCAL } from 'util/keyvaluestore/localSessionStorage';\nconst LOCALIZATION_STORE = 'LOCALIZATION';\nconst LOCALE_KEY = '#locale';\nconst kvstore = createLocalSessionKVStorage(LOCAL)(LOCALIZATION_STORE);\nexport type LocaleContextT = {\n  current: LocaleDef;\n  i18n: I18n;\n  available: LocaleDef[];\n  set(locale: LocaleDef): void;\n};\nconst getStoredLocaleCode = (): string | null => kvstore.get(LOCALE_KEY);\nconst setStoredLocaleCode = (localeCode: string): void => kvstore.set(LOCALE_KEY, localeCode);\n\nconst savedLangCode = getStoredLocaleCode();\nconst defaultLocale =\n  (savedLangCode && available.find(locale => locale.code === savedLangCode)) || available[0];\n\nexport const i18n = setupI18n({\n  locales: available.map(locale => locale.code)\n});\nexport const LocaleContext = createContext<LocaleContextT>({\n  current: defaultLocale,\n  i18n,\n  available,\n  set: () => void 0\n});\nexport const ProvideLocalizationCtx: React.FC = ({ children }) => {\n  const [current, setCurrent] = useState(defaultLocale);\n  const [catalogs, setCatalogs] = useState<Catalogs>({});\n  useEffect(() => {\n    setHTMLDirection(current.rtl);\n    if (catalogs[current.code]) {\n      return;\n    }\n    loadCatalog(current.code)\n      .then(cat => setCatalogs({ ...catalogs, [current.code]: cat }))\n      .catch(err => console.error(`Error loading Locale: ${current.code}`, err));\n  }, [catalogs, current]);\n\n  const set = useCallback(\n    (locale: LocaleDef) => {\n      setCurrent(locale);\n      const { code } = locale;\n      Settings.defaultLocale = code.split('_')[0];\n      setStoredLocaleCode(code);\n    },\n    [setCurrent]\n  );\n\n  const localeContextValue = useMemo<LocaleContextT>(\n    () => ({\n      current,\n      available,\n      i18n,\n      set\n    }),\n    [current, set]\n  );\n\n  return (\n    <I18nProvider i18n={i18n} language={current.code} catalogs={catalogs}>\n      <LocaleContext.Provider value={localeContextValue}>{children}</LocaleContext.Provider>\n    </I18nProvider>\n  );\n};\n\nconst loadCatalog = async (localeCode: string): Promise<Catalog> => {\n  if (IS_DEV) {\n    return import(\n      /* webpackMode: \"lazy\", webpackChunkName: \"i18n-[index]\" */\n      `@lingui/loader!../../locales/${localeCode}/messages.po`\n    );\n  } else {\n    return import(\n      /* webpackMode: \"lazy\", webpackChunkName: \"i18n-[index]\" */\n      `../../locales/${localeCode}/messages.js`\n    );\n  }\n};\n\nconst setHTMLDirection = (RTL: boolean) => {\n  const htmlEl = document.querySelector('html');\n  if (htmlEl) {\n    const dir = RTL ? 'rtl' : 'ltr';\n    htmlEl.style.direction = dir;\n    htmlEl.classList.remove('--rtl', '--ltr');\n    htmlEl.classList.add(`--${dir}`);\n  }\n};\n","import React, { FC } from 'react';\nimport styled from 'ui/themes/styled';\nimport { INSTANCE_TAGLINE } from 'mn-constants'; // + instance_bg_img\nimport { GRAPHQL_ENDPOINT } from 'mn-constants';\nimport { Link } from 'react-router-dom';\nimport { LocaleContext } from 'context/global/localizationCtx';\nimport { logo_large_url } from 'mn-constants';\nexport interface Props {\n  isHome?: boolean;\n}\n\nconst LogoContainer: FC<Props> = props => {\n  const { i18n } = React.useContext(LocaleContext);\n\n  return (\n    <Header>\n      {props.isHome ? (\n        <Logo />\n      ) : (\n        <Link to=\"/\">\n          <Logo />\n        </Link>\n      )}\n      <Tagline>{i18n._(INSTANCE_TAGLINE)}</Tagline>\n      <Tagline>{GRAPHQL_ENDPOINT}</Tagline>\n    </Header>\n  );\n};\n\nexport default LogoContainer;\n\nconst Header = styled.div`\n  grid-area: header;\n  text-align: center;\n`;\n\nconst Logo = styled.div`\n  background: url(\"${logo_large_url}\");\n  width: 300px;\n  display: inline-block;\n  height: 100px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n`;\n\nconst Tagline = styled.h5`\n  margin-top: 8px;\n  margin-bottom: 40px;\n  color: #000000a1;\n  font-weight: 500;\n`;\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input } from '@rebass/forms';\nimport { LocaleContext } from 'context/global/localizationCtx';\nimport { instance_bg_img, INSTANCE_DESCRIPTION, INSTANCE_PROMPT } from 'mn-constants'; // + instance_bg_img\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Box, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { FormikHook } from 'ui/@types/types';\nimport Button from 'ui/elements/Button';\nimport LogoContainer from 'ui/elements/Logo';\nimport { Panel, WrapperPanel } from 'ui/elements/Panel';\nimport styled from 'ui/themes/styled';\n\nlet tt = {\n  login: i18nMark('Sign in'),\n  placeholders: {\n    email: i18nMark('Enter your email'),\n    password: i18nMark('Enter your password')\n  }\n};\n\nexport interface Props {\n  formik: FormikHook<LoginFormValues>;\n}\n\nexport interface LoginFormValues {\n  email: string;\n  password: string;\n}\n\nexport const Login: React.FC<Props> = ({ formik }) => {\n  const { i18n } = React.useContext(LocaleContext);\n\n  return (\n    <>\n      <Container>\n        <LoginWrapper>\n          <LogoContainer isHome={true} />\n          <FormWrapper>\n            <FormLogin>\n              <LoginForm>\n                <Box p={3}>\n                  <form onSubmit={formik.handleSubmit}>\n                    <Input\n                      placeholder={tt.placeholders.email}\n                      name=\"email\"\n                      value={formik.values.email}\n                      onChange={formik.handleChange}\n                    />\n                    <Spacer />\n                    <Input\n                      type=\"password\"\n                      placeholder={tt.placeholders.password}\n                      name=\"password\"\n                      value={formik.values.password}\n                      onChange={formik.handleChange}\n                    />\n                    <Button\n                      mt={3}\n                      variant=\"primary\"\n                      isSubmitting={formik.isSubmitting}\n                      isDisabled={formik.isSubmitting}\n                      type=\"submit\"\n                      style={{ width: '100%' }}\n                      // onClick={formik.submitForm}\n                    >\n                      <Trans>Sign in</Trans>\n                    </Button>\n                  </form>\n                </Box>\n              </LoginForm>\n              <ResetPass variant=\"text\" my={3} mt={2}>\n                <Link to=\"/reset\">\n                  <Trans>Trouble logging in?</Trans>\n                </Link>\n              </ResetPass>\n            </FormLogin>\n            <Or>\n              <Trans>Or</Trans>\n            </Or>\n            <Browse mt={3} p={3}>\n              <Text variant=\"heading\">\n                <Trans>Browse this instance</Trans>\n              </Text>\n              <Text variant=\"text\" mt={2}>\n                {i18n._(INSTANCE_PROMPT)}\n              </Text>\n              <Link to={'/discover'}>\n                <Button mt={3} variant=\"outline\">\n                  <Trans>Browse</Trans>\n                </Button>\n              </Link>\n            </Browse>\n          </FormWrapper>\n          <Right>\n            <Link to=\"signup\">\n              <Button\n                mb={2}\n                style={{ width: '100%', height: '50px' }}\n                variant=\"outline\"\n                // onClick={this.props.handleSignup}\n              >\n                <Trans>Sign up</Trans>\n              </Button>\n            </Link>\n            <WrapperPanel className=\"extra\">\n              <Panel>\n                <Background />\n                <Infos p={3}>\n                  <Info>\n                    <Text variant=\"suptitle\">\n                      <Trans>Instance description</Trans>\n                    </Text>\n                    <Text mt={2} variant=\"text\">\n                      {INSTANCE_DESCRIPTION}\n                    </Text>\n                  </Info>\n                </Infos>\n              </Panel>\n            </WrapperPanel>\n          </Right>\n        </LoginWrapper>\n      </Container>\n    </>\n  );\n};\n\nexport default Login;\n\nconst Background = styled(Box)`\n  background: url(\"${instance_bg_img}\");\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  padding: 50%;\n  width: 400px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n`;\n\nconst Infos = styled(Box)``;\n\nconst Info = styled(Box)``;\n\nconst LoginWrapper = styled.div`\n  display: grid;\n  grid-column-gap: 16px;\n  grid-template-columns: 1fr 1fr;\n  grid-template-areas: 'header header' 'form image' 'footer footer';\n  ${media.lessThan('medium')`\n    grid-template-columns: 1fr;\n    grid-template-areas: 'header' 'image' 'form' 'footer';\n    padding: 16px\n  `};\n`;\n\nconst Container = styled.div`\n  margin: 0 auto;\n  max-width: 900px;\n  margin-top: 60px;\n  padding-bottom: 50px;\n`;\n\nconst FormWrapper = styled.div`\n  grid-area: form;\n`;\n\nconst FormLogin = styled.div`\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n  height: inherit;\n  border: 1px solid #dddfe2;\n  text-align: left;\n  height: fit-content;\n`;\n\nconst Right = styled(Box)`\n  .extra {\n    width: 100%;\n    margin-left: 0px;\n  }\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n`;\n\nconst Browse = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  a {\n    text-decoration: none;\n    color: ${props => props.theme.colors.mediumdark};\n    button {\n      color: ${props => props.theme.colors.mediumdark} !important;\n    }\n  }\n`;\n\nconst Or = styled.div`\n  position: relative;\n  color: rgba(0, 0, 0, 0.5);\n  text-align: center;\n  margin-top: 24px;\n  &:before {\n    position: absolute;\n    content: '';\n    width: calc(50% - 24px);\n    left: 0;\n    top: 8px;\n    height: 1px;\n    display: block;\n    background: rgba(0, 0, 0, 0.45);\n  }\n  &:after {\n    position: absolute;\n    content: '';\n    width: calc(50% - 24px);\n    right: 0;\n    top: 8px;\n    height: 1px;\n    display: block;\n    background: rgba(0, 0, 0, 0.45);\n  }\n`;\n\nconst ResetPass = styled(Text)`\n  text-align: center;\n  text-decoration: underline;\n  cursor: pointer;\n  a {\n    color: inherit;\n  }\n`;\n\nconst LoginForm = styled.div`\n  margin: 0;\n  margin-bottom: 16px;\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: transparent;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n`;\n\nconst Spacer = styled.div`\n  width: 10px;\n  height: 10px;\n`;\n","import { DataProxy } from 'apollo-cache';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { RegistrationInput } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport { useApolloClient } from 'react-apollo';\nimport * as GQL from './anon.generated';\nimport { MeDocument, MeQuery, UseMeDataFragment } from './me.generated';\nimport { mnCtx } from 'fe/lib/graphql/ctx';\n\nexport const useAnon = () => {\n  const client = useApolloClient();\n  const [loginMut, loginStatus] = GQL.useAnonLoginMutation();\n  const [resetPwdMut, resetPwdStatus] = GQL.useAnonResetPasswordMutation();\n  const [confirmEmailMut, confirmEmailStatus] = GQL.useAnonConfirmEmailMutation();\n  const [signUpMut, signUpStatus] = GQL.useAnonSignUpMutation();\n  //  const [usernameAvailableQ, usernameAvailableStatus] = GQL.useAnonUsernameAvailableLazyQuery();\n  const [resetPwdReqMut, resetPwdReqStatus] = GQL.useAnonResetPasswordRequestMutation();\n  return useMemo(() => {\n    const resetPwd = ({ password, token }: { token: string; password: string }) => {\n      if (resetPwdStatus.loading) {\n        return;\n      }\n      return resetPwdMut({\n        variables: { password, token },\n        update: (proxy, resp) => updateMe(proxy, resp.data?.resetPassword?.me)\n      });\n    };\n\n    const confirmEmail = (token: string) => {\n      if (confirmEmailStatus.loading) {\n        return;\n      }\n      return confirmEmailMut({\n        variables: { token },\n        update: (proxy, resp) => updateMe(proxy, resp.data?.confirmEmail?.me)\n      });\n    };\n\n    const signUp = (registration: RegistrationInput) => {\n      if (signUpStatus.loading) {\n        return;\n      }\n      return signUpMut({\n        variables: { registration },\n        update: (proxy, resp) => updateMe(proxy, resp.data?.createUser)\n      });\n    };\n\n    const resetPwdReq = (email: string) => {\n      if (resetPwdReqStatus.loading) {\n        return;\n      }\n      return resetPwdReqMut({\n        variables: { email }\n      });\n    };\n\n    const login = (email: string, password: string) => {\n      if (loginStatus.loading) {\n        return;\n      }\n      return loginMut({\n        variables: { email, password },\n        context: mnCtx({ ctx: 'Login' }),\n        update: (proxy, resp) => updateMe(proxy, resp.data?.createSession?.me)\n      });\n    };\n    const usernameAvailable = (username: string) => {\n      return client\n        .query<GQL.AnonUsernameAvailableQuery, GQL.AnonUsernameAvailableQueryVariables>({\n          query: GQL.AnonUsernameAvailableDocument,\n          variables: { username }\n        })\n        .then(_ => _.data.usernameAvailable);\n    };\n\n    return {\n      login,\n      loginStatus,\n\n      resetPwdReq,\n      resetPwdReqStatus,\n\n      confirmEmail,\n      confirmEmailStatus,\n\n      signUp,\n      signUpStatus,\n\n      resetPwd,\n      resetPwdStatus,\n\n      usernameAvailable\n    };\n  }, [\n    signUpStatus,\n    signUpMut,\n    confirmEmailMut,\n    confirmEmailStatus,\n    loginMut,\n    loginStatus,\n    resetPwdMut,\n    resetPwdStatus,\n    resetPwdReqMut,\n    resetPwdReqStatus,\n    client\n  ]);\n};\n\nconst updateMe = (proxy: DataProxy, me: Maybe<UseMeDataFragment>) => {\n  proxy.writeQuery<MeQuery>({\n    query: MeDocument,\n    data: {\n      __typename: 'RootQueryType',\n      me: me\n        ? {\n            __typename: 'Me' as 'Me',\n            ...me,\n            user: {\n              __typename: 'User' as 'User',\n              ...me.user\n            }\n          }\n        : null\n    }\n  });\n};\n","import { APP_NAME } from 'mn-constants';\nimport React, { createContext, useContext, useMemo, useState, useCallback, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { LocaleContext } from './localizationCtx';\nimport { MessageDescriptor } from '@lingui/core';\n\ntype SubTitleDescOrFalse = MessageDescriptor | false;\ntype SubTitle = string | undefined;\nexport interface PageCtx {\n  setTitle(subTitle: SubTitleDescOrFalse, values?: any): void;\n}\nexport const PageCtx = createContext<PageCtx>({ setTitle: _ => _ });\nexport const ProvidePageCtx: React.FC = ({ children }) => {\n  const { i18n } = useContext(LocaleContext);\n  const [subTitle, setSubTitle] = useState<SubTitle>();\n  const setTitle = useCallback<PageCtx['setTitle']>(\n    (subTitleToSet, values) => {\n      const nextSubTitle = subTitleToSet === false ? void 0 : i18n._({ ...subTitleToSet, values });\n      if (nextSubTitle === subTitle) {\n        return;\n      }\n      setSubTitle(nextSubTitle);\n    },\n    [i18n, subTitle]\n  );\n\n  const ctx = useMemo<PageCtx>(\n    () => ({\n      setTitle\n    }),\n    [setTitle]\n  );\n  const title = subTitle ? `${APP_NAME} - ${subTitle}` : APP_NAME;\n  //console.table({ title, subTitle });\n  return (\n    <PageCtx.Provider value={ctx}>\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n    </PageCtx.Provider>\n  );\n};\n\nexport const usePageTitle = (subTitle: SubTitleDescOrFalse, values?: any) => {\n  const { setTitle } = useContext(PageCtx);\n  // https://reactjs.org/blog/2020/02/26/react-v16.13.0.html#warnings-for-some-updates-during-render\n  useEffect(() => {\n    setTitle(subTitle, values);\n  }, [setTitle, subTitle, values]);\n};\n","import { useFormik } from 'formik';\nimport React, { FC } from 'react';\nimport Login, { LoginFormValues } from 'ui/pages/login';\nimport * as Yup from 'yup';\nimport { useAnon } from 'fe/session/useAnon';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n\nexport const validationSchema: Yup.ObjectSchema<LoginFormValues> = Yup.object<LoginFormValues>({\n  email: Yup.string()\n    .max(50)\n    .required(),\n  password: Yup.string()\n    .max(50)\n    .required()\n});\nexport interface Props {}\n\nconst loginPageTitle = t`Login`;\n\nexport const LoginPageHOC: FC<Props> = () => {\n  usePageTitle(loginPageTitle);\n  const { login } = useAnon();\n  const formik = useFormik<LoginFormValues>({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    enableReinitialize: true,\n    onSubmit: ({ email, password }) => login(email, password),\n    validationSchema\n  });\n  return <Login formik={formik} />;\n};\n","import React, { createContext, FC, useMemo, useReducer } from 'react';\n\nexport interface SideBarContext {\n  isOpen: boolean;\n  toggleOpen(): unknown;\n}\nexport const SideBarContext = createContext<SideBarContext>({\n  isOpen: true,\n  toggleOpen: () => true\n});\nexport const ProvideSideBarContext: FC = ({ children }) => {\n  const [isOpen, toggleOpen] = useReducer(is => !is, true);\n  const ctx = useMemo<SideBarContext>(\n    () => ({\n      isOpen,\n      toggleOpen\n    }),\n    [isOpen, toggleOpen]\n  );\n  return <SideBarContext.Provider value={ctx}>{children}</SideBarContext.Provider>;\n};\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { CommunityInfoFragment } from '../community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityInfoFragmentDoc } from '../community/CommunityPreview.generated';\n\n\nexport type ResourcePreviewFragment = (\n  { __typename: 'Resource' }\n  & Pick<Types.Resource, 'id' | 'name' | 'summary' | 'canonicalUrl' | 'license'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, payload: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'mediaType' | 'url'>\n    & { mirror: Types.Maybe<(\n      { __typename: 'ContentMirror' }\n      & Pick<Types.ContentMirror, 'url'>\n    )>, upload: Types.Maybe<(\n      { __typename: 'ContentUpload' }\n      & Pick<Types.ContentUpload, 'size'>\n    )> }\n  )>, myLike: Types.Maybe<(\n    { __typename: 'Like' }\n    & Pick<Types.Like, 'id'>\n  )>, myFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  )>, likers: Types.Maybe<(\n    { __typename: 'LikesPage' }\n    & Pick<Types.LikesPage, 'totalCount'>\n  )>, collection: Types.Maybe<(\n    { __typename: 'Collection' }\n    & Pick<Types.Collection, 'id' | 'name' | 'preferredUsername' | 'canonicalUrl' | 'summary'>\n    & { icon: Types.Maybe<(\n      { __typename: 'Content' }\n      & Pick<Types.Content, 'id' | 'url'>\n    )>, community: Types.Maybe<(\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id'>\n      & CommunityInfoFragment\n    )> }\n  )> }\n);\n\nexport const ResourcePreviewFragmentDoc = gql`\n    fragment ResourcePreview on Resource {\n  id\n  icon {\n    id\n    url\n  }\n  name\n  summary\n  canonicalUrl\n  payload: content {\n    id\n    mediaType\n    mirror {\n      url\n    }\n    upload {\n      size\n    }\n    url\n  }\n  myLike {\n    id\n  }\n  myFlag {\n    id\n  }\n  likers {\n    totalCount\n  }\n  collection {\n    id\n    name\n    preferredUsername\n    canonicalUrl\n    icon {\n      id\n      url\n    }\n    summary\n    community {\n      id\n      ...CommunityInfo\n    }\n  }\n  license\n}\n    ${CommunityInfoFragmentDoc}`;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { CommunityPreviewFragment } from '../community/CommunityPreview.generated';\nimport { ResourcePreviewFragment } from '../resource/ResourcePreview.generated';\nimport { CollectionPreviewFragment } from '../collection/CollectionPreview.generated';\nimport { CommunityInfoFragment } from '../community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityInfoFragmentDoc } from '../community/CommunityPreview.generated';\nimport { CollectionPreviewFragmentDoc } from '../collection/CollectionPreview.generated';\nimport { ResourcePreviewFragmentDoc } from '../resource/ResourcePreview.generated';\nimport { CommunityPreviewFragmentDoc } from '../community/CommunityPreview.generated';\n\n\n\n\n\nexport type CommentPreviewFragment = (\n  { __typename: 'Comment' }\n  & Pick<Types.Comment, 'id' | 'likerCount'>\n  & { inReplyTo: Types.Maybe<(\n    { __typename: 'Comment' }\n    & CommentPreviewBaseFragment\n  )>, myLike: Types.Maybe<(\n    { __typename: 'Like' }\n    & Pick<Types.Like, 'id'>\n  )>, myFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  )>, thread: Types.Maybe<(\n    { __typename: 'Thread' }\n    & Pick<Types.Thread, 'id'>\n    & { comments: Types.Maybe<(\n      { __typename: 'CommentsPage' }\n      & { edges: Array<(\n        { __typename: 'Comment' }\n        & CommentPreviewBaseFragment\n      )> }\n    )>, context: Types.Maybe<{ __typename: 'Category' } | (\n      { __typename: 'Collection' }\n      & Pick<Types.Collection, 'id'>\n      & { community: Types.Maybe<(\n        { __typename: 'Community' }\n        & Pick<Types.Community, 'id'>\n        & CommunityInfoFragment\n      )> }\n    ) | { __typename: 'Comment' } | (\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id'>\n      & CommunityInfoFragment\n    ) | (\n      { __typename: 'Flag' }\n      & Pick<Types.Flag, 'id'>\n    ) | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | (\n      { __typename: 'Resource' }\n      & Pick<Types.Resource, 'id'>\n      & { collection: Types.Maybe<(\n        { __typename: 'Collection' }\n        & Pick<Types.Collection, 'id'>\n        & { community: Types.Maybe<(\n          { __typename: 'Community' }\n          & Pick<Types.Community, 'id'>\n          & CommunityInfoFragment\n        )> }\n      )> }\n    ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n  )> }\n  & CommentPreviewBaseFragment\n);\n\nexport type CommentPreviewBaseFragment = (\n  { __typename: 'Comment' }\n  & Pick<Types.Comment, 'id' | 'isLocal' | 'content' | 'canonicalUrl' | 'createdAt'>\n  & { creator: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'canonicalUrl'>\n    & { userId: Types.User['id'], userName: Types.User['name'] }\n    & { icon: Types.Maybe<(\n      { __typename: 'Content' }\n      & Pick<Types.Content, 'id' | 'url'>\n    )>, image: Types.Maybe<(\n      { __typename: 'Content' }\n      & Pick<Types.Content, 'id' | 'url'>\n    )> }\n  )> }\n);\n\nexport type CommentPreviewThreadFragment = (\n  { __typename: 'Thread' }\n  & Pick<Types.Thread, 'id' | 'isLocal' | 'canonicalUrl'>\n  & { context: Types.Maybe<{ __typename: 'Category' } | (\n    { __typename: 'Collection' }\n    & CollectionPreviewFragment\n  ) | { __typename: 'Comment' } | (\n    { __typename: 'Community' }\n    & CommunityPreviewFragment\n  ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | (\n    { __typename: 'Resource' }\n    & ResourcePreviewFragment\n  ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\nexport const CommentPreviewBaseFragmentDoc = gql`\n    fragment CommentPreviewBase on Comment {\n  id\n  isLocal\n  content\n  canonicalUrl\n  createdAt\n  creator {\n    icon {\n      id\n      url\n    }\n    image {\n      id\n      url\n    }\n    userId: id\n    userName: name\n    canonicalUrl\n  }\n}\n    `;\nexport const CommentPreviewFragmentDoc = gql`\n    fragment CommentPreview on Comment {\n  ...CommentPreviewBase\n  id\n  inReplyTo {\n    ...CommentPreviewBase\n  }\n  likerCount\n  myLike {\n    id\n  }\n  myFlag {\n    id\n  }\n  thread {\n    id\n    comments(limit: 1) {\n      edges {\n        ...CommentPreviewBase\n      }\n    }\n    context {\n      ... on Flag {\n        id\n      }\n      ... on Community {\n        id\n        ...CommunityInfo\n      }\n      ... on Collection {\n        id\n        community {\n          id\n          ...CommunityInfo\n        }\n      }\n      ... on Resource {\n        id\n        collection {\n          id\n          community {\n            id\n            ...CommunityInfo\n          }\n        }\n      }\n    }\n  }\n}\n    ${CommentPreviewBaseFragmentDoc}\n${CommunityInfoFragmentDoc}`;\nexport const CommentPreviewThreadFragmentDoc = gql`\n    fragment CommentPreviewThread on Thread {\n  id\n  isLocal\n  canonicalUrl\n  context {\n    ... on Collection {\n      ...CollectionPreview\n    }\n    ... on Resource {\n      ...ResourcePreview\n    }\n    ... on Community {\n      ...CommunityPreview\n    }\n  }\n}\n    ${CollectionPreviewFragmentDoc}\n${ResourcePreviewFragmentDoc}\n${CommunityPreviewFragmentDoc}`;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { CommentPreviewFragment } from '../comment/CommentPreview.generated';\nimport { ResourcePreviewFragment } from '../resource/ResourcePreview.generated';\nimport { CollectionPreviewFragment } from '../collection/CollectionPreview.generated';\nimport { CommunityPreviewFragment } from '../community/CommunityPreview.generated';\nimport { UserPreviewFragment } from '../user/UserPreview.generated';\nimport gql from 'graphql-tag';\nimport { UserPreviewFragmentDoc } from '../user/UserPreview.generated';\nimport { CommunityPreviewFragmentDoc } from '../community/CommunityPreview.generated';\nimport { CollectionPreviewFragmentDoc } from '../collection/CollectionPreview.generated';\nimport { ResourcePreviewFragmentDoc } from '../resource/ResourcePreview.generated';\nimport { CommentPreviewFragmentDoc } from '../comment/CommentPreview.generated';\n\n\n\n\n\n\nexport type FlagPreviewFragment = (\n  { __typename: 'Flag' }\n  & Pick<Types.Flag, 'id' | 'message' | 'isResolved' | 'createdAt'>\n  & { creator: Types.Maybe<(\n    { __typename: 'User' }\n    & UserPreviewFragment\n  )>, context: { __typename: 'Category' } | (\n    { __typename: 'Collection' }\n    & CollectionPreviewFragment\n  ) | (\n    { __typename: 'Comment' }\n    & CommentPreviewFragment\n  ) | (\n    { __typename: 'Community' }\n    & CommunityPreviewFragment\n  ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | (\n    { __typename: 'Resource' }\n    & ResourcePreviewFragment\n  ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n    { __typename: 'User' }\n    & UserPreviewFragment\n  ) }\n);\n\nexport const FlagPreviewFragmentDoc = gql`\n    fragment FlagPreview on Flag {\n  id\n  message\n  isResolved\n  creator {\n    ...UserPreview\n  }\n  createdAt\n  context {\n    ... on Community {\n      ...CommunityPreview\n    }\n    ... on Collection {\n      ...CollectionPreview\n    }\n    ... on Resource {\n      ...ResourcePreview\n    }\n    ... on User {\n      ...UserPreview\n    }\n    ... on Comment {\n      ...CommentPreview\n    }\n  }\n}\n    ${UserPreviewFragmentDoc}\n${CommunityPreviewFragmentDoc}\n${CollectionPreviewFragmentDoc}\n${ResourcePreviewFragmentDoc}\n${CommentPreviewFragmentDoc}`;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { CommentPreviewFragment } from '../comment/CommentPreview.generated';\nimport { UserPreviewFragment } from '../user/UserPreview.generated';\nimport { ResourcePreviewFragment } from '../resource/ResourcePreview.generated';\nimport { CollectionPreviewFragment } from '../collection/CollectionPreview.generated';\nimport { CommunityPreviewFragment } from '../community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPreviewFragmentDoc } from '../community/CommunityPreview.generated';\nimport { CollectionPreviewFragmentDoc } from '../collection/CollectionPreview.generated';\nimport { ResourcePreviewFragmentDoc } from '../resource/ResourcePreview.generated';\nimport { UserPreviewFragmentDoc } from '../user/UserPreview.generated';\nimport { CommentPreviewFragmentDoc } from '../comment/CommentPreview.generated';\n\n\n\n\n\n\nexport type LikePreviewFragment = (\n  { __typename: 'Like' }\n  & Pick<Types.Like, 'id' | 'createdAt'>\n  & { context: { __typename: 'Category' } | (\n    { __typename: 'Collection' }\n    & CollectionPreviewFragment\n  ) | (\n    { __typename: 'Comment' }\n    & CommentPreviewFragment\n  ) | (\n    { __typename: 'Community' }\n    & CommunityPreviewFragment\n  ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | (\n    { __typename: 'Resource' }\n    & ResourcePreviewFragment\n  ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n    { __typename: 'User' }\n    & UserPreviewFragment\n  ) }\n);\n\nexport const LikePreviewFragmentDoc = gql`\n    fragment LikePreview on Like {\n  id\n  createdAt\n  context {\n    ... on Community {\n      ...CommunityPreview\n    }\n    ... on Collection {\n      ...CollectionPreview\n    }\n    ... on Resource {\n      ...ResourcePreview\n    }\n    ... on User {\n      ...UserPreview\n    }\n    ... on Comment {\n      ...CommentPreview\n    }\n  }\n}\n    ${CommunityPreviewFragmentDoc}\n${CollectionPreviewFragmentDoc}\n${ResourcePreviewFragmentDoc}\n${UserPreviewFragmentDoc}\n${CommentPreviewFragmentDoc}`;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { UserPreviewFragment } from '../user/UserPreview.generated';\nimport { CollectionPreviewFragment } from '../collection/CollectionPreview.generated';\nimport { CommunityPreviewFragment } from '../community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPreviewFragmentDoc } from '../community/CommunityPreview.generated';\nimport { CollectionPreviewFragmentDoc } from '../collection/CollectionPreview.generated';\nimport { UserPreviewFragmentDoc } from '../user/UserPreview.generated';\n\n\n\n\nexport type FollowPreviewFragment = (\n  { __typename: 'Follow' }\n  & Pick<Types.Follow, 'id'>\n  & { context: { __typename: 'Category' } | (\n    { __typename: 'Collection' }\n    & CollectionPreviewFragment\n  ) | { __typename: 'Comment' } | (\n    { __typename: 'Community' }\n    & CommunityPreviewFragment\n  ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n    { __typename: 'User' }\n    & UserPreviewFragment\n  ) }\n);\n\nexport const FollowPreviewFragmentDoc = gql`\n    fragment FollowPreview on Follow {\n  id\n  context {\n    ... on Community {\n      ...CommunityPreview\n    }\n    ... on Collection {\n      ...CollectionPreview\n    }\n    ... on User {\n      ...UserPreview\n    }\n  }\n}\n    ${CommunityPreviewFragmentDoc}\n${CollectionPreviewFragmentDoc}\n${UserPreviewFragmentDoc}`;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { FollowPreviewFragment } from '../follow/FollowPreview.generated';\nimport { LikePreviewFragment } from '../like/LikePreview.generated';\nimport { FlagPreviewFragment } from '../flag/FlagPreview.generated';\nimport { CommentPreviewFragment } from '../comment/CommentPreview.generated';\nimport { UserPreviewFragment } from '../user/UserPreview.generated';\nimport { ResourcePreviewFragment } from '../resource/ResourcePreview.generated';\nimport { CollectionPreviewFragment } from '../collection/CollectionPreview.generated';\nimport { CommunityPreviewFragment } from '../community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPreviewFragmentDoc } from '../community/CommunityPreview.generated';\nimport { CollectionPreviewFragmentDoc } from '../collection/CollectionPreview.generated';\nimport { ResourcePreviewFragmentDoc } from '../resource/ResourcePreview.generated';\nimport { UserPreviewFragmentDoc } from '../user/UserPreview.generated';\nimport { CommentPreviewFragmentDoc } from '../comment/CommentPreview.generated';\nimport { FlagPreviewFragmentDoc } from '../flag/FlagPreview.generated';\nimport { LikePreviewFragmentDoc } from '../like/LikePreview.generated';\nimport { FollowPreviewFragmentDoc } from '../follow/FollowPreview.generated';\n\n\n\n\n\n\n\n\n\nexport type ActivityPreviewFragment = (\n  { __typename: 'Activity' }\n  & Pick<Types.Activity, 'id' | 'verb' | 'createdAt'>\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'canonicalUrl'>\n    & { userId: Types.User['id'], userName: Types.User['name'] }\n    & { icon: Types.Maybe<(\n      { __typename: 'Content' }\n      & Pick<Types.Content, 'id' | 'url'>\n    )>, image: Types.Maybe<(\n      { __typename: 'Content' }\n      & Pick<Types.Content, 'id' | 'url'>\n    )> }\n  )>, context: Types.Maybe<{ __typename: 'Category' } | (\n    { __typename: 'Collection' }\n    & CollectionPreviewFragment\n  ) | (\n    { __typename: 'Comment' }\n    & CommentPreviewFragment\n  ) | (\n    { __typename: 'Community' }\n    & CommunityPreviewFragment\n  ) | (\n    { __typename: 'Flag' }\n    & FlagPreviewFragment\n  ) | (\n    { __typename: 'Follow' }\n    & FollowPreviewFragment\n  ) | { __typename: 'Intent' } | (\n    { __typename: 'Like' }\n    & LikePreviewFragment\n  ) | { __typename: 'Organisation' } | (\n    { __typename: 'Resource' }\n    & ResourcePreviewFragment\n  ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n    { __typename: 'User' }\n    & UserPreviewFragment\n  )> }\n);\n\nexport const ActivityPreviewFragmentDoc = gql`\n    fragment ActivityPreview on Activity {\n  id\n  verb\n  createdAt\n  user {\n    icon {\n      id\n      url\n    }\n    image {\n      id\n      url\n    }\n    userId: id\n    userName: name\n    canonicalUrl\n  }\n  context {\n    ... on Community {\n      ...CommunityPreview\n    }\n    ... on Collection {\n      ...CollectionPreview\n    }\n    ... on Resource {\n      ...ResourcePreview\n    }\n    ... on User {\n      ...UserPreview\n    }\n    ... on Comment {\n      ...CommentPreview\n    }\n    ... on Flag {\n      ...FlagPreview\n    }\n    ... on Like {\n      ...LikePreview\n    }\n    ... on Follow {\n      ...FollowPreview\n    }\n  }\n}\n    ${CommunityPreviewFragmentDoc}\n${CollectionPreviewFragmentDoc}\n${ResourcePreviewFragmentDoc}\n${UserPreviewFragmentDoc}\n${CommentPreviewFragmentDoc}\n${FlagPreviewFragmentDoc}\n${LikePreviewFragmentDoc}\n${FollowPreviewFragmentDoc}`;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { ActivityPreviewFragment } from '../../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport { FullPageInfoFragment } from '../../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../../@fragments/misc.generated';\nimport { ActivityPreviewFragmentDoc } from '../../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type InstanceOutboxActivitiesQueryVariables = {\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  limit?: Types.Maybe<Types.Scalars['Int']>\n};\n\n\nexport type InstanceOutboxActivitiesQuery = (\n  { __typename: 'RootQueryType' }\n  & { instance: Types.Maybe<(\n    { __typename: 'Instance' }\n    & { outbox: Types.Maybe<(\n      { __typename: 'ActivitiesPage' }\n      & Pick<Types.ActivitiesPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Activity' }\n        & InstanceOutboxActivityFragment\n      )> }\n    )> }\n  )> }\n);\n\nexport type InstanceOutboxActivityFragment = (\n  { __typename: 'Activity' }\n  & ActivityPreviewFragment\n);\n\nexport const InstanceOutboxActivityFragmentDoc = gql`\n    fragment InstanceOutboxActivity on Activity {\n  ...ActivityPreview\n}\n    ${ActivityPreviewFragmentDoc}`;\nexport const InstanceOutboxActivitiesDocument = gql`\n    query instanceOutboxActivities($after: [Cursor!], $before: [Cursor!], $limit: Int) {\n  instance @connection(key: \"instanceOutboxActivities\") {\n    outbox(after: $after, before: $before, limit: $limit) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...InstanceOutboxActivity\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${InstanceOutboxActivityFragmentDoc}`;\n\n/**\n * __useInstanceOutboxActivitiesQuery__\n *\n * To run a query within a React component, call `useInstanceOutboxActivitiesQuery` and pass it any options that fit your needs.\n * When your component renders, `useInstanceOutboxActivitiesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useInstanceOutboxActivitiesQuery({\n *   variables: {\n *      after: // value for 'after'\n *      before: // value for 'before'\n *      limit: // value for 'limit'\n *   },\n * });\n */\nexport function useInstanceOutboxActivitiesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<InstanceOutboxActivitiesQuery, InstanceOutboxActivitiesQueryVariables>) {\n        return ApolloReactHooks.useQuery<InstanceOutboxActivitiesQuery, InstanceOutboxActivitiesQueryVariables>(InstanceOutboxActivitiesDocument, baseOptions);\n      }\nexport function useInstanceOutboxActivitiesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<InstanceOutboxActivitiesQuery, InstanceOutboxActivitiesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<InstanceOutboxActivitiesQuery, InstanceOutboxActivitiesQueryVariables>(InstanceOutboxActivitiesDocument, baseOptions);\n        }\nexport type InstanceOutboxActivitiesQueryHookResult = ReturnType<typeof useInstanceOutboxActivitiesQuery>;\nexport type InstanceOutboxActivitiesLazyQueryHookResult = ReturnType<typeof useInstanceOutboxActivitiesLazyQuery>;\nexport type InstanceOutboxActivitiesQueryResult = ApolloReactCommon.QueryResult<InstanceOutboxActivitiesQuery, InstanceOutboxActivitiesQueryVariables>;\n\n\nexport interface InstanceOutboxActivitiesQueryOperation {\n  operationName: 'instanceOutboxActivities'\n  result: InstanceOutboxActivitiesQuery\n  variables: InstanceOutboxActivitiesQueryVariables\n  type: 'query'\n}\nexport const InstanceOutboxActivitiesQueryName:InstanceOutboxActivitiesQueryOperation['operationName'] = 'instanceOutboxActivities'\n\nexport const InstanceOutboxActivitiesQueryRefetch = (\n  variables:InstanceOutboxActivitiesQueryVariables, \n  context?:any\n)=>({\n  query:InstanceOutboxActivitiesDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport { CommunityPreviewFragment } from '../../../HOC/modules/previews/community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPreviewFragmentDoc } from '../../../HOC/modules/previews/community/CommunityPreview.generated';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type AllCommunitiesQueryVariables = {\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type AllCommunitiesQuery = (\n  { __typename: 'RootQueryType' }\n  & { communities: (\n    { __typename: 'CommunitiesPage' }\n    & Pick<Types.CommunitiesPage, 'totalCount'>\n    & { edges: Array<(\n      { __typename: 'Community' }\n      & CommunityPreviewFragment\n    )>, pageInfo: (\n      { __typename: 'PageInfo' }\n      & FullPageInfoFragment\n    ) }\n  ) }\n);\n\n\nexport const AllCommunitiesDocument = gql`\n    query allCommunities($limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  communities(limit: $limit, before: $before, after: $after) @connection(key: \"allCommunities\") {\n    edges {\n      ...CommunityPreview\n    }\n    totalCount\n    pageInfo {\n      ...FullPageInfo\n    }\n  }\n}\n    ${CommunityPreviewFragmentDoc}\n${FullPageInfoFragmentDoc}`;\n\n/**\n * __useAllCommunitiesQuery__\n *\n * To run a query within a React component, call `useAllCommunitiesQuery` and pass it any options that fit your needs.\n * When your component renders, `useAllCommunitiesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useAllCommunitiesQuery({\n *   variables: {\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useAllCommunitiesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<AllCommunitiesQuery, AllCommunitiesQueryVariables>) {\n        return ApolloReactHooks.useQuery<AllCommunitiesQuery, AllCommunitiesQueryVariables>(AllCommunitiesDocument, baseOptions);\n      }\nexport function useAllCommunitiesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<AllCommunitiesQuery, AllCommunitiesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<AllCommunitiesQuery, AllCommunitiesQueryVariables>(AllCommunitiesDocument, baseOptions);\n        }\nexport type AllCommunitiesQueryHookResult = ReturnType<typeof useAllCommunitiesQuery>;\nexport type AllCommunitiesLazyQueryHookResult = ReturnType<typeof useAllCommunitiesLazyQuery>;\nexport type AllCommunitiesQueryResult = ApolloReactCommon.QueryResult<AllCommunitiesQuery, AllCommunitiesQueryVariables>;\n\n\nexport interface AllCommunitiesQueryOperation {\n  operationName: 'allCommunities'\n  result: AllCommunitiesQuery\n  variables: AllCommunitiesQueryVariables\n  type: 'query'\n}\nexport const AllCommunitiesQueryName:AllCommunitiesQueryOperation['operationName'] = 'allCommunities'\n\nexport const AllCommunitiesQueryRefetch = (\n  variables:AllCommunitiesQueryVariables, \n  context?:any\n)=>({\n  query:AllCommunitiesDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type HeroCommunityDataFragment = (\n  { __typename: 'Community' }\n  & Pick<Types.Community, 'id' | 'displayUsername' | 'name' | 'summary' | 'followerCount'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, myFollow: Types.Maybe<(\n    { __typename: 'Follow' }\n    & Pick<Types.Follow, 'id'>\n  )>, myFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  )>, creator: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n  )> }\n);\n\nexport type HeroCommunityMeDataFragment = (\n  { __typename: 'Me' }\n  & { user: (\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n  ) }\n);\n\nexport const HeroCommunityDataFragmentDoc = gql`\n    fragment HeroCommunityData on Community {\n  id\n  displayUsername\n  name\n  summary\n  icon {\n    id\n    url\n  }\n  followerCount\n  myFollow {\n    id\n  }\n  myFlag {\n    id\n  }\n  creator {\n    id\n  }\n}\n    `;\nexport const HeroCommunityMeDataFragmentDoc = gql`\n    fragment HeroCommunityMeData on Me {\n  user {\n    id\n  }\n}\n    `;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { FlagPreviewFragment } from '../flag/FlagPreview.generated';\nimport { ResourcePreviewFragment } from '../resource/ResourcePreview.generated';\nimport { CollectionPreviewFragment } from '../collection/CollectionPreview.generated';\nimport { CommunityPreviewFragment } from '../community/CommunityPreview.generated';\nimport { CommentPreviewFragment } from '../comment/CommentPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPreviewFragmentDoc } from '../community/CommunityPreview.generated';\nimport { CollectionPreviewFragmentDoc } from '../collection/CollectionPreview.generated';\nimport { ResourcePreviewFragmentDoc } from '../resource/ResourcePreview.generated';\nimport { FlagPreviewFragmentDoc } from '../flag/FlagPreview.generated';\nimport { CommentPreviewFragmentDoc } from '../comment/CommentPreview.generated';\n\nexport type ThreadPreviewFragment = { __typename: 'Thread' } & Pick<\n    Types.Thread,\n    'id' | 'lastActivity' | 'createdAt'\n    > & {\n    context: Types.Maybe<\n        | { __typename: 'Category' }\n        | ({ __typename: 'Collection' } & CollectionPreviewFragment)\n        | { __typename: 'Comment' }\n        | ({ __typename: 'Community' } & CommunityPreviewFragment)\n        | ({ __typename: 'Flag' } & FlagPreviewFragment)\n        | { __typename: 'Follow' }\n        | { __typename: 'Intent' }\n        | { __typename: 'Like' }\n        | { __typename: 'Organisation' }\n        | ({ __typename: 'Resource' } & ResourcePreviewFragment)\n        | { __typename: 'SpatialThing' }\n        | { __typename: 'Taggable' }\n        | { __typename: 'User' }\n        >;\n    comments: Types.Maybe<\n        { __typename: 'CommentsPage' } & Pick<Types.CommentsPage, 'totalCount'> & {\n        edges: Array<{ __typename: 'Comment' } & CommentPreviewFragment>;\n    }\n        >;\n};\n\nexport const ThreadPreviewFragmentDoc = gql`\n    fragment ThreadPreview on Thread {\n        id\n        lastActivity\n        createdAt\n        context {\n            ... on Community {\n                ...CommunityPreview\n            }\n            ... on Collection {\n                ...CollectionPreview\n            }\n            ... on Resource {\n                ...ResourcePreview\n            }\n            ... on Flag {\n                ...FlagPreview\n            }\n        }\n        comments(limit: 1) {\n            totalCount\n            edges {\n                ... on Comment {\n                    ...CommentPreview\n                }\n            }\n        }\n    }\n    ${CommunityPreviewFragmentDoc}\n    ${CollectionPreviewFragmentDoc}\n    ${ResourcePreviewFragmentDoc}\n    ${FlagPreviewFragmentDoc}\n    ${CommentPreviewFragmentDoc}\n`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { ActivityPreviewFragment } from '../../modules/previews/activity/ActivityPreview.generated';\nimport { ThreadPreviewFragment } from '../../modules/previews/thread/ThreadPreview.generated';\nimport { CollectionPreviewFragment } from '../../modules/previews/collection/CollectionPreview.generated';\nimport { HeroCommunityDataFragment } from '../../modules/HeroCommunity/HeroCommunity.generated';\nimport gql from 'graphql-tag';\nimport { HeroCommunityDataFragmentDoc } from '../../modules/HeroCommunity/HeroCommunity.generated';\nimport { ThreadPreviewFragmentDoc } from '../../modules/previews/thread/ThreadPreview.generated';\nimport { CollectionPreviewFragmentDoc } from '../../modules/previews/collection/CollectionPreview.generated';\nimport { ActivityPreviewFragmentDoc } from '../../modules/previews/activity/ActivityPreview.generated';\n\nexport type CommunityPageDataFragment = { __typename: 'Community' } & Pick<\n    Types.Community,\n    'id'\n    > & {\n    myFollow: Types.Maybe<{ __typename: 'Follow' } & Pick<Types.Follow, 'id'>>;\n} & HeroCommunityDataFragment;\n\nexport type CommunityPageThreadFragment = { __typename: 'Thread' } & Pick<Types.Thread, 'id'> &\n    ThreadPreviewFragment;\n\nexport type CommunityPageCollectionBaseFragment = { __typename: 'Collection' } & Pick<\n    Types.Collection,\n    'id'\n    > &\n    CollectionPreviewFragment;\n\nexport type CommunityPageActivityBaseFragment = { __typename: 'Activity' } & Pick<\n    Types.Activity,\n    'id'\n    > &\n    ActivityPreviewFragment;\n\nexport const CommunityPageDataFragmentDoc = gql`\n    fragment CommunityPageData on Community {\n        id\n        myFollow {\n            id\n        }\n        ...HeroCommunityData\n    }\n    ${HeroCommunityDataFragmentDoc}\n`;\nexport const CommunityPageThreadFragmentDoc = gql`\n    fragment CommunityPageThread on Thread {\n        id\n        ...ThreadPreview\n    }\n    ${ThreadPreviewFragmentDoc}\n`;\nexport const CommunityPageCollectionBaseFragmentDoc = gql`\n    fragment CommunityPageCollectionBase on Collection {\n        id\n        ...CollectionPreview\n    }\n    ${CollectionPreviewFragmentDoc}\n`;\nexport const CommunityPageActivityBaseFragmentDoc = gql`\n    fragment CommunityPageActivityBase on Activity {\n        id\n        ...ActivityPreview\n    }\n    ${ActivityPreviewFragmentDoc}\n`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommunityPageDataFragment } from '../../../HOC/pages/community/CommunityPage.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPageDataFragmentDoc } from '../../../HOC/pages/community/CommunityPage.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type CreateCommunityMutationVariables = {\n  community: Types.CommunityInput,\n  icon?: Types.Maybe<Types.UploadInput>\n};\n\n\nexport type CreateCommunityMutation = (\n  { __typename: 'RootMutationType' }\n  & { createCommunity: Types.Maybe<(\n    { __typename: 'Community' }\n    & CommunityPageDataFragment\n  )> }\n);\n\n\nexport const CreateCommunityDocument = gql`\n    mutation createCommunity($community: CommunityInput!, $icon: UploadInput) {\n  createCommunity(community: $community, icon: $icon) {\n    ...CommunityPageData\n  }\n}\n    ${CommunityPageDataFragmentDoc}`;\nexport type CreateCommunityMutationFn = ApolloReactCommon.MutationFunction<CreateCommunityMutation, CreateCommunityMutationVariables>;\n\n/**\n * __useCreateCommunityMutation__\n *\n * To run a mutation, you first call `useCreateCommunityMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateCommunityMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createCommunityMutation, { data, loading, error }] = useCreateCommunityMutation({\n *   variables: {\n *      community: // value for 'community'\n *      icon: // value for 'icon'\n *   },\n * });\n */\nexport function useCreateCommunityMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateCommunityMutation, CreateCommunityMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateCommunityMutation, CreateCommunityMutationVariables>(CreateCommunityDocument, baseOptions);\n      }\nexport type CreateCommunityMutationHookResult = ReturnType<typeof useCreateCommunityMutation>;\nexport type CreateCommunityMutationResult = ApolloReactCommon.MutationResult<CreateCommunityMutation>;\nexport type CreateCommunityMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateCommunityMutation, CreateCommunityMutationVariables>;\n\n\nexport interface CreateCommunityMutationOperation {\n  operationName: 'createCommunity'\n  result: CreateCommunityMutation\n  variables: CreateCommunityMutationVariables\n  type: 'mutation'\n}\nexport const CreateCommunityMutationName:CreateCommunityMutationOperation['operationName'] = 'createCommunity'\n\nexport const CreateCommunityMutationRefetch = (\n  variables:CreateCommunityMutationVariables, \n  context?:any\n)=>({\n  query:CreateCommunityDocument,\n  variables,\n  context\n})\n      \n","import { InstanceOutboxActivitiesQueryRefetch } from 'fe/activities/outbox/instance/useInstanceOutboxActivities.generated';\nimport { getMaybeUploadInput } from 'fe/mutation/upload/getUploadInput';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { CommunityInput } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\nimport { AllCommunitiesQueryRefetch } from '../all/useAllCommunities.generated';\nimport { MyCommunityFollowsQueryRefetch } from '../myFollowed/myFollowedCommunities.generated';\nimport { useCreateCommunityMutation } from './useCreateCommunity.generated';\n\nexport interface CreateCommunity {\n  community: CommunityInput;\n  icon: Maybe<File | string>;\n}\nexport const useCreateCommunity = () => {\n  const [createMut, createMutStatus] = useCreateCommunityMutation();\n\n  const create = useCallOrNotifyMustLogin(\n    async ({ community, icon }: CreateCommunity) => {\n      if (createMutStatus.loading) {\n        return;\n      }\n\n      return createMut({\n        variables: {\n          icon: getMaybeUploadInput(icon, null),\n          community: {\n            name: community.name,\n            summary: community.summary,\n            preferredUsername: community.preferredUsername\n          }\n        },\n        refetchQueries: [\n          MyCommunityFollowsQueryRefetch({}),\n          InstanceOutboxActivitiesQueryRefetch({ limit: DEFAULT_PAGE_SIZE }),\n          AllCommunitiesQueryRefetch({ limit: DEFAULT_PAGE_SIZE })\n        ]\n      });\n    },\n    [createMutStatus, createMut]\n  );\n  return useMemo(() => {\n    return {\n      create\n    };\n  }, [create]);\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { Image, File } from 'react-feather';\nimport { Box, Flex } from 'rebass/styled-components';\n// import { UploadCloud } from 'react-feather';\n// import { Trans } from '@lingui/macro';\nimport styled from 'ui/themes/styled';\n// import { useInstanceInfoQuery } from 'fe/instance/info/useInstanceInfo.generated';\n// import { Trans } from '@lingui/macro';\n// import Alert from 'ui/elements/Alert';\n// import { AlertWrapper } from '../Modal';\n\ninterface Props {\n  initialUrl: string | undefined | null;\n  onFileSelect(file: File | undefined): unknown;\n  uploadType?: 'resource' | string;\n  filePattern?: FilePattern;\n}\n\ntype FilePattern = 'image/*' | '*';\n\nconst DropzoneArea: React.FC<Props> = ({ initialUrl, uploadType, onFileSelect, filePattern }) => {\n  const [fileUrl, setFileUrl] = useState<undefined | null | string>();\n  // const { data: instanceInfoData } = useInstanceInfoQuery();\n  // const uploadMaxBytes = instanceInfoData?.instance?.uploadMaxBytes || 0;\n\n  const [currentFile, setCurrentFile] = useState<{\n    file: File;\n    localUrl: string;\n  }>();\n\n  useEffect(\n    () => () => {\n      fileUrl && URL.revokeObjectURL(fileUrl);\n    },\n    [fileUrl]\n  );\n\n  useEffect(() => {\n    setFileUrl(initialUrl);\n  }, [initialUrl]);\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n    // rejectedFiles,\n    // acceptedFiles\n  } = useDropzone({\n    accept: filePattern,\n    // maxSize: uploadMaxBytes,\n    onDrop: acceptedFiles => {\n      const file = acceptedFiles[0];\n      if (!file) {\n        onFileSelect(void 0);\n        setCurrentFile(void 0);\n        return;\n      }\n      onFileSelect(file);\n      setCurrentFile({ file, localUrl: URL.createObjectURL(file) });\n    }\n  });\n\n  return (\n    <>\n      <Box sx={{ height: '100%' }} {...getRootProps({ className: 'dropzone' })}>\n        <InfoContainer className={isDragActive ? 'active' : 'none'}>\n          {!currentFile && uploadType === 'resource' ? (\n            <Thumb className=\"thumb\">\n              <WrapperIcon>\n                <File size={30} strokeWidth={1} color={'rgba(250,250,250, .5)'} />\n              </WrapperIcon>\n            </Thumb>\n          ) : null}\n          {uploadType !== 'resource' ? (\n            <Thumb className=\"thumb\">\n              <WrapperIcon>\n                <Image size={30} strokeWidth={1} color={'rgba(250,250,250, .5)'} />\n              </WrapperIcon>\n              <Img\n                style={{\n                  backgroundImage: `url(\"${currentFile ? currentFile.localUrl : fileUrl}\")`\n                }}\n              />\n            </Thumb>\n          ) : null}\n          {!currentFile ? null : uploadType === 'resource' ? (\n            currentFile.file.type.indexOf('image') === -1 ? (\n              // <WrapperFile>\n              <FileThumb>\n                <File size={20} />\n                {currentFile && <FileName>{currentFile.file.name}</FileName>}\n              </FileThumb>\n            ) : (\n              // </WrapperFile>\n              <WrapperFile>\n                <Thumb>\n                  <WrapperIcon>\n                    <Image size={30} strokeWidth={1} color={'rgba(250,250,250, .5)'} />\n                  </WrapperIcon>\n                  <Img\n                    style={{\n                      backgroundImage: `url(\"${currentFile.localUrl}\")`\n                    }}\n                  />\n                </Thumb>\n                <FileName>{currentFile && currentFile.file.name}</FileName>\n              </WrapperFile>\n            )\n          ) : null}\n\n          <input {...getInputProps()} />\n\n          {/* <UploadCloud size={30} strokeWidth={1} />\n          {isDragActive ? (\n            <Info>\n              <Trans>Drop the file here ...</Trans>\n            </Info>\n          ) : (\n            <Info>\n              <Trans>Drag 'n' drop a file here, or click to select file</Trans>\n            </Info>\n          )} */}\n          {/* rejectedFile ? (\n            <AlertWrapper>\n              <Alert variant=\"negative\">\n                <Trans>\n                  File {rejectedFile.name} too big, can't exceed{' '}\n                  {Math.floor(uploadMaxBytes / 1024 / 1024)}MB\n                </Trans>\n              </Alert>\n            </AlertWrapper>\n          ) : null */}\n        </InfoContainer>\n      </Box>\n    </>\n  );\n};\n\nexport default DropzoneArea;\n\nconst InfoContainer = styled.div`\n  background: ${props => props.theme.colors.lighter};\n  border-radius: 4px;\n  text-align: center;\n  cursor: pointer;\n  box-sizing: border-box;\n  height: inherit;\n  margin: 0px;\n  &.active {\n    border: 1px dashed ${props => props.theme.colors.primary};\n  }\n  .;\n`;\n\nconst FileName = styled.p`\n  margin-bottom: 0px;\n  margin-top: 5px;\n  font-weight: bold;\n  text-align: center;\n  font-style: italic;\n`;\n\nconst WrapperIcon = styled(Flex)`\n  width: 40px;\n  height: 40px;\n  align-items: center;\n  border-radius: 100px;\n  position: absolute;\n  left: 50%;\n  margin-left: -20px;\n  top: 50%;\n  margin-top: -20px;\n  z-index: 9;\n`;\n\nconst WrapperFile = styled.div`\n  padding: 20px 10px;\n  border-radius: 4px;\n`;\n\nconst FileThumb = styled.div`\n  padding: 20px 10px;\n  border-radius: 4px;\n  background: rgba(0, 0, 0, 0.3);\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst Thumb = styled.div`\n  width: 100%;\n  box-sizing: border-box;\n  position: relative;\n  height: 140px;\n  &:after {\n    position: absolute;\n    content: '';\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-radius: 4px;\n    display: block;\n    background: rgba(0, 0, 0, 0.3);\n  }\n  &:hover {\n    &:after {\n      background: rgba(0, 0, 0, 0.1);\n    }\n  }\n  svg {\n    width: 40px;\n  }\n`;\n\nconst Img = styled(Box)`\n    display: block;\n    border-radius: 4px;\n    height: inherit;\n    background-size: cover;\n}\n`;\n","import * as React from 'react';\nimport { Box } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\n\nconst Wrapper = styled(Box)`\n  border-radius: 4px;\n  line-height: 26px;\n  padding: 8px 16px;\n  min-height: 58px;\n  font-family: ${props => props.theme.fontFamily};\n  font-weight: 600;\n`;\nconst Alert: React.FC<{ variant: string }> = ({ variant, children }) => (\n  <Wrapper variant={variant || 'info'}>{children}</Wrapper>\n);\n\nexport default Alert;\n","import { clearFix } from 'polished';\nimport React, { useCallback } from 'react';\nimport ReactDOM from 'react-dom';\n// import Icons from 'ui/atoms/icons.tsx'\nimport styled from 'ui/themes/styled';\nimport { Box } from 'rebass/styled-components';\nimport { X } from 'react-feather';\nimport media from 'styled-media-query';\nconst Background = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(51, 60, 69, 0.95);\n  z-index: 9999999999999;\n  height: 100%;\n  justify-content: center;\n  overflow: auto;\n  cursor: pointer;\n`;\n\nexport const AlertWrapper = styled.div`\n  margin-top: 4px;\n  z-index: 99999;\n  position: relative;\n`;\n\nconst Dialog = styled.div`\n  width: 700px;\n  box-shadow: 0 2px 8px 3px rgba(0, 0, 0, 0.3);\n  z-index: 9999999999;\n  background-color: #ffffff;\n  padding: 0;\n  margin: 40px auto;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  margin-left: -350px;\n  border-radius: 3px;\n  outline: none;\n  transform: translateY(-50%);\n\n  ${media.lessThan('medium')`\n    width: auto;\n    left: 8px;\n    right: 8px;\n    margin: 0;\n  `};\n`;\n\nconst Action = styled.div`\n  ${clearFix()};\n  position: relative;\n`;\n\nconst Close = styled(Box)`\n  position: absolute;\n  right: -10px;\n  top: -10px;\n  cursor: pointer;\n  background: ${props => props.theme.colors.primary};\n  width: 24px;\n  height: 24px;\n  border-radius: 40px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  z-index: 999999999;\n`;\n\nconst Content = styled.div`\n  ${clearFix()};\n  font-family: ${props => props.theme.fontFamily};\n`;\nexport const Container = styled.div`\n  font-family: ${props => props.theme.fontFamily};\n  min-height: 300px;\n  overflow-y: auto;\n  max-height: 96vh;\n  padding-bottom: 20px;\n`;\n\nexport const Actions = styled(Box)`\n  ${clearFix()};\n  padding: 0 16px;\n  & button {\n    float: right;\n  }\n`;\n\nexport const ActionsSimple = styled(Actions)`\n  ${clearFix()};\n  padding: 20px 0;\n`;\n\nexport const CounterChars = styled.div`\n  position: absolute;\n  top: 2px;\n  right: 8px;\n  text-transform: uppercase;\n  text-align: center;\n  background: #d0d9db;\n  padding: 2px 10px;\n  border-radius: 12px;\n  font-weight: 600;\n  color: #fff;\n  letter-spacing: 1px;\n`;\n\nexport const ContainerForm = styled.div`\n  flex: 1;\n  ${clearFix()};\n  padding-top: 13px;\n  position: relative;\n  input {\n    height: 40px;\n    background: white;\n    border-radius: 2px;\n    border: ${props => props.theme.colors.border};\n  }\n  textarea {\n    padding-top: 16px;\n    line-height: 20px;\n    background: white;\n    border-radius: 2px;\n    border: ${props => props.theme.colors.border};\n    font-family: ${props => props.theme.fontFamily};\n  }\n`;\n\nexport const Header = styled.div`\n  padding: 0 16px;\n  padding-top: 16px;\n  // border-bottom: 1px solid ${props => props.theme.colors.lighter};\n  & h5 {\n    text-align: center !important;\n    margin: 0 !important;\n  }\n`;\n\nexport const Row = styled.div<{ big?: boolean }>`\n  ${clearFix()};\n  border-bottom: 1px solid ${props => props.theme.colors.lighter};\n  height: ${props => (props.big ? '180px' : 'auto')};\n  display: flex;\n  padding: 20px;\n  & textarea {\n    height: 120px;\n  }\n  & label {\n    width: 200px;\n    line-height: 40px;\n    ${media.lessThan('medium')`\n    width: 100%;\n  `};\n  }\n\n  ${media.lessThan('medium')`\n    display: block;\n\n  `};\n`;\n\nclass Portal extends React.Component {\n  static el = (() => {\n    const _el = document.createElement('div');\n    _el.setAttribute('id', 'modalPortal');\n    _el.style.display = 'none';\n    document.body.appendChild(_el);\n    return _el;\n  })();\n  componentDidMount() {\n    Portal.el.style.display = 'block';\n  }\n\n  componentWillUnmount() {\n    Portal.el.style.display = 'none';\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, Portal.el);\n  }\n}\n\ninterface Props {\n  closeModal: () => void;\n}\n\nconst Modal: React.FC<Props> = ({ closeModal, children }) => {\n  const handleCloseModal = useCallback(() => closeModal(), [closeModal]);\n  return (\n    <Portal>\n      <Background onClick={handleCloseModal} />\n      <Dialog>\n        <Action>\n          <Close onClick={handleCloseModal}>\n            <X color=\"#fff\" size={16} />\n          </Close>\n        </Action>\n        <Content>{children}</Content>\n      </Dialog>\n    </Portal>\n  );\n};\n\nexport default Modal;\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input, Textarea } from '@rebass/forms';\nimport { FormikHook } from 'ui/@types/types';\nimport * as React from 'react';\nimport Button from 'ui/elements/Button';\nimport { clearFix } from 'polished';\nimport media from 'styled-media-query';\nimport styled from 'ui/themes/styled';\nimport { Flex, Text, Box, Heading } from 'rebass/styled-components';\nimport DropzoneArea from 'ui/modules/DropzoneModal';\nimport Alert from 'ui/elements/Alert';\nimport {\n  Actions,\n  AlertWrapper,\n  Container,\n  ContainerForm,\n  CounterChars,\n  Header\n} from 'ui/modules/Modal';\n\nconst tt = {\n  placeholders: {\n    name: i18nMark('Choose a name for the community'),\n    summary: i18nMark(\n      'Please describe who might be interested in this community and what kind of collections it is likely to contain...'\n    ),\n    icon: i18nMark('Enter the URL of an image to represent the community')\n  }\n};\n\nexport interface Props {\n  cancel(): any;\n  formik: FormikHook<CreateCommunityFormValues>;\n}\n\nexport interface CreateCommunityFormValues {\n  name: string;\n  summary: string;\n  icon: File | string | undefined;\n}\n\nexport const CreateCommunityPanel: React.FC<Props> = ({ cancel, formik }) => {\n  const onIconFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, icon: file }),\n    [formik]\n  );\n  const initialIconUrl = 'string' === typeof formik.values.icon ? formik.values.icon : '';\n  return (\n    <Container>\n      <form onSubmit={formik.handleSubmit}>\n        <Header>\n          <Heading m={2}>\n            <Trans>Create a new community</Trans>\n          </Heading>\n        </Header>\n        <Hero>\n          <Box sx={{ width: '120px', height: '120px' }}>\n            <DropzoneArea\n              initialUrl={initialIconUrl}\n              onFileSelect={onIconFileSelected}\n              filePattern=\"image/*\"\n            />\n          </Box>\n          {/* <Background style={{ backgroundImage: `url(\"${c.icon}\")` }} /> */}\n          <HeroInfo>\n            <Title fontWeight={'bold'}>\n              <CollectionContainerForm>\n                <Input\n                  placeholder={tt.placeholders.name}\n                  disabled={formik.isSubmitting}\n                  name=\"name\"\n                  value={formik.values.name}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{60 - formik.values.name.length}</CounterChars>\n                {formik.errors.name && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.name}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Title>\n\n            <Description mt={2}>\n              <CollectionContainerForm>\n                <Textarea\n                  placeholder={tt.placeholders.summary}\n                  disabled={formik.isSubmitting}\n                  name=\"summary\"\n                  value={formik.values.summary}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{500 - formik.values.summary.length}</CounterChars>\n                {formik.errors.summary && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.summary}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Description>\n          </HeroInfo>\n        </Hero>\n\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n            // onClick={formik.submitForm}\n          >\n            <Trans>Save</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={cancel}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n    </Container>\n  );\n};\n\nconst CollectionContainerForm = styled(ContainerForm)`\n  input {\n    background: #fbfbfb;\n    border: 0;\n    font-weight: 700;\n  }\n\n  textarea {\n    background: #fbfbfb;\n    border-radius: 2px;\n    border: 0;\n    height: 120px;\n    resize: none;\n  }\n`;\n\nconst Title = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst Description = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst HeroInfo = styled.div`\n  flex: 1;\n  margin-left: 16px;\n  position: relative;\n  ${clearFix()};\n  & h2 {\n    margin: 0;\n    line-height: 32px !important;\n    color: ${props => props.theme.colors.mediumdark};\n    ${media.lessThan('medium')`\n      margin-top: 8px;\n    `};\n  }\n  & p {\n    margin: 0;\n    color: rgba(0, 0, 0, 0.8);\n    margin-top: 8px;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n  .--rtl & {\n    margin-right: 16px;\n    margin-left: 0px;\n  }\n`;\n\nconst Hero = styled(Flex)`\n  width: 100%;\n  position: relative;\n  padding: 16px;\n  ${media.lessThan('medium')`\n  text-align: center;\n  display: block;\n`};\n`;\n","import { isUrlString } from 'fe/lib/helpers/data';\nimport { Schema } from 'yup';\n\nexport const TestUrlOrFile: Parameters<Schema<File | string>['test']> = ([\n  'imageurl',\n  'need a file or an url',\n  (val: File | string) => {\n    return !val\n      ? true\n      : typeof val === 'string'\n      ? isUrlString(val)\n      : val instanceof File;\n  }\n] as any) as Parameters<Schema<any>['test']>;\n","import { useCreateCommunity } from 'fe/community/create/useCreateCommunity';\nimport { useFormik } from 'formik';\nimport React, { FC } from 'react';\nimport { useHistory } from 'react-router';\nimport {\n  CreateCommunityFormValues,\n  CreateCommunityPanel\n} from 'ui/modules/CreateCommunityPanel';\nimport * as Yup from 'yup';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\n\nexport const validationSchema: Yup.ObjectSchema<CreateCommunityFormValues> = Yup.object<\n  CreateCommunityFormValues\n>({\n  name: Yup.string()\n    .min(2)\n    .max(60)\n    .required(),\n  summary: Yup.string().max(500),\n  icon: Yup.mixed<File | string>().test(...TestUrlOrFile)\n});\nexport interface Props {\n  done(): any;\n}\nexport const CreateCommunityPanelHOC: FC<Props> = ({ done }: Props) => {\n  const history = useHistory();\n  const { create } = useCreateCommunity();\n  const formik = useFormik<CreateCommunityFormValues>({\n    enableReinitialize: true,\n    validationSchema,\n    initialValues: {\n      name: '',\n      summary: '',\n      icon: ''\n    },\n    onSubmit: vals => {\n      return create({\n        community: {\n          preferredUsername: vals.name.split(' ').join('_'),\n          name: vals.name,\n          summary: vals.summary\n        },\n        icon: vals.icon\n      }).then(res => {\n        done();\n        res?.data?.createCommunity?.id &&\n          history.push(`/communities/${res.data.createCommunity.id}`);\n      });\n    }\n  });\n  return <CreateCommunityPanel cancel={done} formik={formik} />;\n};\n","import React, { FC } from 'react';\nimport { SearchBox as ISDSearchBox } from 'react-instantsearch-dom';\nimport { searchDisabled } from 'mn-constants';\n\nexport const SearchBox: FC = () => {\n  return searchDisabled ? null : <ISDSearchBox />;\n};\n","import * as React from 'react';\nimport styled from 'ui/themes/styled';\nimport { Box } from 'rebass/styled-components';\n\nconst sizes = {\n  default: '48px',\n  s: '32px',\n  m: '140px',\n  l: '200px'\n};\n\ntype Sizes = keyof typeof sizes;\n\nconst Wrapper = styled(Box)<{ bg?: string; size: Sizes }>`\n  font-family: ${props => props.theme.fontFamily};\n  border-radius: 4px;\n  height: ${props => sizes[props.size]};\n  min-width: ${props => sizes[props.size]};\n  background-color: ${props => (props.bg ? 'transparent' : props.theme.colors.light)};\n  background-image: url(\"${props => props.bg}\");\n  background-size: cover;\n  background-position: center center;\n  span {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    line-height: normal;\n    font-weight: 700;\n    ${props => props.theme.colors.mediumdark};\n  }\n`;\n\nconst Avatar: React.FC<{\n  src?: string;\n  initials?: string;\n  variant?: string;\n  size?: Sizes;\n}> = ({ size = 'default', src, initials, variant }) => (\n  <Wrapper size={size} bg={src}>\n    {initials && !src ? <span>{initials.substr(0, 2).toUpperCase()}</span> : null}\n  </Wrapper>\n);\n\nexport default Avatar;\n","import OutsideClickHandler from 'react-outside-click-handler';\nimport React, { FC } from 'react';\nimport { Box, Flex } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\n// import {  Flag, Upload, Copy } from 'react-feather';\n\ninterface Props {\n  close(): unknown;\n  orientation: string;\n}\nexport const Dropdown: FC<Props> = ({ orientation, close, children }) => (\n  <OutsideClickHandler onOutsideClick={close}>\n    <Wrapper className=\"dropdown\" orientation={orientation}>\n      {children}\n    </Wrapper>\n  </OutsideClickHandler>\n);\n\nconst Wrapper = styled(Box)<{ orientation: string }>`\n  text-align: left;\n  background: ${props => props.theme.colors.appInverse};\n  min-width: 210px;\n  display: block;\n  border-radius: 6px;\n  box-shadow: rgba(101, 119, 134, 0.2) 0 0 15px, rgba(101, 119, 134, 0.15) 0 0 3px 1px;\n  position: absolute;\n  top: ${props => (props.orientation === 'top' ? '8px' : 'auto')};\n  bottom: ${props => (props.orientation === 'bottom' ? '4px' : 'auto')};\n  left: auto;\n  right: ${props => (props.orientation === 'bottom' ? '0px' : '10px')};\n  z-index: 4050;\n`;\nexport const DropdownItem = styled(Flex)`\n  align-items: center;\n  cursor: pointer;\n  padding: 16px;\n  min-width: 100%;\n  width: max-content;\n  flex: 1;\n  &:first-of-type {\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n  }\n  &:hover {\n    div {\n      color: ${props => props.theme.colors.mediumdark} !important;\n    }\n    background: ${props => props.theme.colors.light} !important;\n  }\n`;\n","import * as React from 'react';\nimport {\n  Settings,\n  User,\n  Power,\n  Users,\n  Star,\n  Code,\n  Activity,\n  Package,\n  Plus,\n  PlusSquare\n} from 'react-feather';\nimport styled from '../../themes/styled';\nimport { Trans } from '@lingui/macro';\nimport { useHistory } from 'react-router';\nimport { Text, Flex } from 'rebass/styled-components';\nimport { Dropdown } from '../Dropdown';\n\nconst List = styled.div<{ lined?: boolean }>`\n  padding: 8px;\n  border-bottom: ${props => (props.lined ? '1px solid #dadada' : null)};\n`;\nconst Item = styled(Flex)`\n  line-height: 50px;\n  height: 50px;\n  cursor: pointer;\n  align-items: center;\n  & span {\n    display: inline-block;\n    margin-right: 8px;\n    .--rtl & {\n      margin-right: 0px;\n      margin-left: 8px;\n    }\n    & svg {\n      vertical-align: sub;\n    }\n  }\n  & a {\n    color: inherit !important;\n    text-decoration: none;\n  }\n  &:hover {\n    color: ${props => props.theme.colors.primary};\n  }\n`;\n\nconst ItemButton = styled(Item)`\n  border: 1px solid ${props => props.theme.colors.medium};\n  border-radius: 4px;\n  height: 34px;\n  &:hover {\n    background: ${props => props.theme.colors.light};\n  }\n  div {\n    letter-spacing: 0;\n  }\n`;\n\nexport interface Props {\n  logout(): void;\n  toggleDropdown: any;\n  userLink: string;\n  isAdmin: boolean;\n}\n\nexport const DropdownSidebar: React.FC<Props> = ({ logout, userLink, toggleDropdown, isAdmin }) => {\n  const { push } = useHistory();\n  return (\n    <Dropdown orientation={'top'} close={toggleDropdown}>\n      <List lined>\n        <Item variant=\"link\" onClick={() => push(userLink)}>\n          <span>\n            <User size={16} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>My Profile</Trans>\n          </Text>\n        </Item>\n        <Item>\n          <Text variant=\"text\">\n            <a href={`${userLink}/communities`}>\n              <span>\n                <Users size={16} color={'#333'} />\n              </span>\n              <Trans>My Communities</Trans>\n            </a>\n          </Text>\n        </Item>\n        <Item>\n          <Text variant=\"text\">\n            <a href={`${userLink}/inventory`}>\n              <span>\n                <Package size={16} color={'#333'} />\n              </span>\n              <Trans>My Inventory</Trans>\n            </a>\n          </Text>\n        </Item>\n        <Item>\n          <Text variant=\"text\">\n            <a href={`${userLink}`}>\n              <span>\n                <Activity size={16} color={'#333'} />\n              </span>\n              <Trans>My Activity</Trans>\n            </a>\n          </Text>\n        </Item>\n        <Item>\n          <Text variant=\"text\">\n            <a href={`${userLink}/starred`}>\n              <span>\n                <Star size={16} color={'#333'} />\n              </span>\n              <Trans>My favorites</Trans>\n            </a>\n          </Text>\n        </Item>\n      </List>\n      <List>\n        <Item variant=\"link\" onClick={() => push('/settings')}>\n          <span>\n            <Settings size={16} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>Settings</Trans>\n          </Text>\n        </Item>\n        {isAdmin && (\n          <ItemButton variant=\"link\" onClick={() => push('/settings/instance')}>\n            <Text variant=\"text\" sx={{ flex: 1, textAlign: 'center' }}>\n              <Trans>Admin dashboard</Trans>\n            </Text>\n          </ItemButton>\n        )}\n        <Item variant=\"link\">\n          <Text variant=\"text\">\n            <a href=\"/terms\" target=\"_blank\">\n              <span>\n                <Code size={16} />\n              </span>\n              <Trans>Code of Conduct</Trans>\n            </a>\n          </Text>\n        </Item>\n        <Item variant=\"link\" onClick={logout}>\n          <span>\n            <Power size={16} strokeWidth={1} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>Sign out</Trans>\n          </Text>\n        </Item>\n      </List>\n    </Dropdown>\n  );\n};\n\ntype TCreateDropdown = {\n  toggleDropdown: () => void;\n  createCommunity: any;\n  createIntent: () => void;\n  createResource: () => void;\n};\n\nexport const CreateDropdown: React.FC<TCreateDropdown> = ({\n  toggleDropdown,\n  createCommunity,\n  createIntent,\n  createResource\n}) => {\n  return (\n    <Dropdown orientation={'top'} close={toggleDropdown}>\n      <List lined>\n        <Item variant=\"link\" onClick={() => createCommunity()}>\n          <span>\n            <Users size={16} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>New Community</Trans>\n          </Text>\n        </Item>\n        <Item variant=\"link\" onClick={() => createIntent()}>\n          <span>\n            <PlusSquare size={16} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>Create a new intent</Trans>\n          </Text>\n        </Item>\n        <Item variant=\"link\" onClick={() => createResource()}>\n          <span>\n            <Plus size={16} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>Create a new resource</Trans>\n          </Text>\n        </Item>\n      </List>\n    </Dropdown>\n  );\n};\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { ActivityPreviewFragment } from '../../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport { FullPageInfoFragment } from '../../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../../@fragments/misc.generated';\nimport { ActivityPreviewFragmentDoc } from '../../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type CommunityOutboxActivitiesQueryVariables = {\n  communityId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type CommunityOutboxActivitiesQuery = (\n  { __typename: 'RootQueryType' }\n  & { community: Types.Maybe<(\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id'>\n    & { outbox: Types.Maybe<(\n      { __typename: 'ActivitiesPage' }\n      & Pick<Types.ActivitiesPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Activity' }\n        & CommunityOutboxActivityFragment\n      )> }\n    )> }\n  )> }\n);\n\nexport type CommunityOutboxActivityFragment = (\n  { __typename: 'Activity' }\n  & ActivityPreviewFragment\n);\n\nexport const CommunityOutboxActivityFragmentDoc = gql`\n    fragment CommunityOutboxActivity on Activity {\n  ...ActivityPreview\n}\n    ${ActivityPreviewFragmentDoc}`;\nexport const CommunityOutboxActivitiesDocument = gql`\n    query communityOutboxActivities($communityId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  community(communityId: $communityId) @connection(key: \"communityOutboxActivities\", filter: [\"communityId\"]) {\n    id\n    outbox(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...CommunityOutboxActivity\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CommunityOutboxActivityFragmentDoc}`;\n\n/**\n * __useCommunityOutboxActivitiesQuery__\n *\n * To run a query within a React component, call `useCommunityOutboxActivitiesQuery` and pass it any options that fit your needs.\n * When your component renders, `useCommunityOutboxActivitiesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCommunityOutboxActivitiesQuery({\n *   variables: {\n *      communityId: // value for 'communityId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useCommunityOutboxActivitiesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CommunityOutboxActivitiesQuery, CommunityOutboxActivitiesQueryVariables>) {\n        return ApolloReactHooks.useQuery<CommunityOutboxActivitiesQuery, CommunityOutboxActivitiesQueryVariables>(CommunityOutboxActivitiesDocument, baseOptions);\n      }\nexport function useCommunityOutboxActivitiesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CommunityOutboxActivitiesQuery, CommunityOutboxActivitiesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CommunityOutboxActivitiesQuery, CommunityOutboxActivitiesQueryVariables>(CommunityOutboxActivitiesDocument, baseOptions);\n        }\nexport type CommunityOutboxActivitiesQueryHookResult = ReturnType<typeof useCommunityOutboxActivitiesQuery>;\nexport type CommunityOutboxActivitiesLazyQueryHookResult = ReturnType<typeof useCommunityOutboxActivitiesLazyQuery>;\nexport type CommunityOutboxActivitiesQueryResult = ApolloReactCommon.QueryResult<CommunityOutboxActivitiesQuery, CommunityOutboxActivitiesQueryVariables>;\n\n\nexport interface CommunityOutboxActivitiesQueryOperation {\n  operationName: 'communityOutboxActivities'\n  result: CommunityOutboxActivitiesQuery\n  variables: CommunityOutboxActivitiesQueryVariables\n  type: 'query'\n}\nexport const CommunityOutboxActivitiesQueryName:CommunityOutboxActivitiesQueryOperation['operationName'] = 'communityOutboxActivities'\n\nexport const CommunityOutboxActivitiesQueryRefetch = (\n  variables:CommunityOutboxActivitiesQueryVariables, \n  context?:any\n)=>({\n  query:CommunityOutboxActivitiesDocument,\n  variables,\n  context\n})\n      \n","import { Community } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useCommunityOutboxActivities.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useCommunityOutboxActivities = (communityId: Community['id']) => {\n  const communityQ = GQL.useCommunityOutboxActivitiesQuery({\n    variables: { communityId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const activitiesPage = usePage(\n    communityQ.data?.community?.outbox,\n    ({ cursor, update }) => {\n      return communityQ.fetchMore({\n        variables: { ...cursor, communityId, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.community?.outbox && prev.community?.outbox\n            ? {\n                ...fetchMoreResult,\n                community: {\n                  ...fetchMoreResult.community,\n                  outbox: update({\n                    prev: prev.community.outbox,\n                    fetched: fetchMoreResult.community.outbox\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n  return useMemo(\n    () => ({\n      activitiesPage\n    }),\n    [activitiesPage]\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommunityPageCollectionBaseFragment } from '../../../HOC/pages/community/CommunityPage.generated';\nimport { CollectionPreviewFragment } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CollectionPreviewFragmentDoc } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport { CommunityPageCollectionBaseFragmentDoc } from '../../../HOC/pages/community/CommunityPage.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\n\nexport type CommunityCollectionsQueryVariables = {\n  communityId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type CommunityCollectionsQuery = (\n  { __typename: 'RootQueryType' }\n  & { community: Types.Maybe<(\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id'>\n    & { collections: Types.Maybe<(\n      { __typename: 'CollectionsPage' }\n      & Pick<Types.CollectionsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Collection' }\n        & CommunityCollectionFragment\n      )> }\n    )> }\n  )> }\n);\n\nexport type CommunityCollectionFragment = (\n  { __typename: 'Collection' }\n  & CollectionPreviewFragment\n  & CommunityPageCollectionBaseFragment\n);\n\nexport const CommunityCollectionFragmentDoc = gql`\n    fragment CommunityCollection on Collection {\n  ...CollectionPreview\n  ...CommunityPageCollectionBase\n}\n    ${CollectionPreviewFragmentDoc}\n${CommunityPageCollectionBaseFragmentDoc}`;\nexport const CommunityCollectionsDocument = gql`\n    query communityCollections($communityId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  community(communityId: $communityId) @connection(key: \"communityCollections\", filter: [\"communityId\"]) {\n    id\n    collections(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...CommunityCollection\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CommunityCollectionFragmentDoc}`;\n\n/**\n * __useCommunityCollectionsQuery__\n *\n * To run a query within a React component, call `useCommunityCollectionsQuery` and pass it any options that fit your needs.\n * When your component renders, `useCommunityCollectionsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCommunityCollectionsQuery({\n *   variables: {\n *      communityId: // value for 'communityId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useCommunityCollectionsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CommunityCollectionsQuery, CommunityCollectionsQueryVariables>) {\n        return ApolloReactHooks.useQuery<CommunityCollectionsQuery, CommunityCollectionsQueryVariables>(CommunityCollectionsDocument, baseOptions);\n      }\nexport function useCommunityCollectionsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CommunityCollectionsQuery, CommunityCollectionsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CommunityCollectionsQuery, CommunityCollectionsQueryVariables>(CommunityCollectionsDocument, baseOptions);\n        }\nexport type CommunityCollectionsQueryHookResult = ReturnType<typeof useCommunityCollectionsQuery>;\nexport type CommunityCollectionsLazyQueryHookResult = ReturnType<typeof useCommunityCollectionsLazyQuery>;\nexport type CommunityCollectionsQueryResult = ApolloReactCommon.QueryResult<CommunityCollectionsQuery, CommunityCollectionsQueryVariables>;\n\n\nexport interface CommunityCollectionsQueryOperation {\n  operationName: 'communityCollections'\n  result: CommunityCollectionsQuery\n  variables: CommunityCollectionsQueryVariables\n  type: 'query'\n}\nexport const CommunityCollectionsQueryName:CommunityCollectionsQueryOperation['operationName'] = 'communityCollections'\n\nexport const CommunityCollectionsQueryRefetch = (\n  variables:CommunityCollectionsQueryVariables, \n  context?:any\n)=>({\n  query:CommunityCollectionsDocument,\n  variables,\n  context\n})\n      \n","import { Community } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useCommunityCollections.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport interface Props {\n  communityId: Community['id'];\n}\n\nexport const useCommunityCollections = (communityId: Community['id']) => {\n  const communityQ = GQL.useCommunityCollectionsQuery({\n    variables: { communityId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const collectionsPage = usePage(\n    communityQ.data?.community?.collections,\n    ({ cursor, update }) => {\n      return communityQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, communityId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.community?.collections &&\n            prev.community?.collections\n            ? {\n                ...fetchMoreResult,\n                community: {\n                  ...fetchMoreResult.community,\n                  collections: update({\n                    prev: prev.community.collections,\n                    fetched: fetchMoreResult.community.collections\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(\n    () => ({\n      collectionsPage\n    }),\n    [collectionsPage]\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type CreateThreadMutationVariables = {\n  contextId: Types.Scalars['String'],\n  comment: Types.CommentInput\n};\n\n\nexport type CreateThreadMutation = (\n  { __typename: 'RootMutationType' }\n  & { createThread: Types.Maybe<(\n    { __typename: 'Comment' }\n    & { thread: Types.Maybe<(\n      { __typename: 'Thread' }\n      & Pick<Types.Thread, 'id'>\n    )> }\n  )> }\n);\n\n\nexport const CreateThreadDocument = gql`\n    mutation createThread($contextId: String!, $comment: CommentInput!) {\n  createThread(comment: $comment, contextId: $contextId) {\n    thread {\n      id\n    }\n  }\n}\n    `;\nexport type CreateThreadMutationFn = ApolloReactCommon.MutationFunction<CreateThreadMutation, CreateThreadMutationVariables>;\n\n/**\n * __useCreateThreadMutation__\n *\n * To run a mutation, you first call `useCreateThreadMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateThreadMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createThreadMutation, { data, loading, error }] = useCreateThreadMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *      comment: // value for 'comment'\n *   },\n * });\n */\nexport function useCreateThreadMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateThreadMutation, CreateThreadMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateThreadMutation, CreateThreadMutationVariables>(CreateThreadDocument, baseOptions);\n      }\nexport type CreateThreadMutationHookResult = ReturnType<typeof useCreateThreadMutation>;\nexport type CreateThreadMutationResult = ApolloReactCommon.MutationResult<CreateThreadMutation>;\nexport type CreateThreadMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateThreadMutation, CreateThreadMutationVariables>;\n\n\nexport interface CreateThreadMutationOperation {\n  operationName: 'createThread'\n  result: CreateThreadMutation\n  variables: CreateThreadMutationVariables\n  type: 'mutation'\n}\nexport const CreateThreadMutationName:CreateThreadMutationOperation['operationName'] = 'createThread'\n\nexport const CreateThreadMutationRefetch = (\n  variables:CreateThreadMutationVariables, \n  context?:any\n)=>({\n  query:CreateThreadDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommunityPageThreadFragment } from '../../../HOC/pages/community/CommunityPage.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CommunityPageThreadFragmentDoc } from '../../../HOC/pages/community/CommunityPage.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type CommunityThreadsQueryVariables = {\n  communityId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type CommunityThreadsQuery = (\n  { __typename: 'RootQueryType' }\n  & { community: Types.Maybe<(\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id'>\n    & { threads: Types.Maybe<(\n      { __typename: 'ThreadsPage' }\n      & Pick<Types.ThreadsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Thread' }\n        & CommunityThreadFragment\n      )> }\n    )> }\n  )> }\n);\n\nexport type CommunityThreadFragment = (\n  { __typename: 'Thread' }\n  & CommunityPageThreadFragment\n);\n\nexport const CommunityThreadFragmentDoc = gql`\n    fragment CommunityThread on Thread {\n  ...CommunityPageThread\n}\n    ${CommunityPageThreadFragmentDoc}`;\nexport const CommunityThreadsDocument = gql`\n    query communityThreads($communityId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  community(communityId: $communityId) @connection(key: \"communityThreads\", filter: [\"communityId\"]) {\n    id\n    threads(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...CommunityThread\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CommunityThreadFragmentDoc}`;\n\n/**\n * __useCommunityThreadsQuery__\n *\n * To run a query within a React component, call `useCommunityThreadsQuery` and pass it any options that fit your needs.\n * When your component renders, `useCommunityThreadsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCommunityThreadsQuery({\n *   variables: {\n *      communityId: // value for 'communityId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useCommunityThreadsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CommunityThreadsQuery, CommunityThreadsQueryVariables>) {\n        return ApolloReactHooks.useQuery<CommunityThreadsQuery, CommunityThreadsQueryVariables>(CommunityThreadsDocument, baseOptions);\n      }\nexport function useCommunityThreadsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CommunityThreadsQuery, CommunityThreadsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CommunityThreadsQuery, CommunityThreadsQueryVariables>(CommunityThreadsDocument, baseOptions);\n        }\nexport type CommunityThreadsQueryHookResult = ReturnType<typeof useCommunityThreadsQuery>;\nexport type CommunityThreadsLazyQueryHookResult = ReturnType<typeof useCommunityThreadsLazyQuery>;\nexport type CommunityThreadsQueryResult = ApolloReactCommon.QueryResult<CommunityThreadsQuery, CommunityThreadsQueryVariables>;\n\n\nexport interface CommunityThreadsQueryOperation {\n  operationName: 'communityThreads'\n  result: CommunityThreadsQuery\n  variables: CommunityThreadsQueryVariables\n  type: 'query'\n}\nexport const CommunityThreadsQueryName:CommunityThreadsQueryOperation['operationName'] = 'communityThreads'\n\nexport const CommunityThreadsQueryRefetch = (\n  variables:CommunityThreadsQueryVariables, \n  context?:any\n)=>({\n  query:CommunityThreadsDocument,\n  variables,\n  context\n})\n      \n","import { CommunityOutboxActivitiesQueryRefetch } from 'fe/activities/outbox/community/useCommunityOutboxActivities.generated';\nimport { InstanceOutboxActivitiesQueryRefetch } from 'fe/activities/outbox/instance/useInstanceOutboxActivities.generated';\nimport { useCreateThreadMutation } from 'fe/mutation/createThread/useCreateThread.generated';\nimport { CommunityThreadsQueryRefetch } from 'fe/thread/community/useCommunityThreads.generated';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { Community } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\n\nexport type ContextTypes = Community;\nexport type Context = Pick<ContextTypes, '__typename' | 'id'>;\n\nexport const useCreateThreadContext = (\n  contextId: Maybe<Context['id']>,\n  __typename: Maybe<Context['__typename']>\n) => {\n  const [createThreadMut, createThreadMutStatus] = useCreateThreadMutation();\n  const mutating = createThreadMutStatus.loading;\n  const createThread = useCallOrNotifyMustLogin(\n    async (content: string) => {\n      if (!contextId || mutating) {\n        return;\n      }\n      return createThreadMut({\n        variables: {\n          contextId,\n          comment: { content }\n        },\n        refetchQueries: [\n          InstanceOutboxActivitiesQueryRefetch({ limit: DEFAULT_PAGE_SIZE }),\n          ...(__typename === 'Community'\n            ? [\n                CommunityThreadsQueryRefetch({\n                  communityId: contextId,\n                  limit: DEFAULT_PAGE_SIZE\n                }),\n                CommunityOutboxActivitiesQueryRefetch({\n                  communityId: contextId,\n                  limit: DEFAULT_PAGE_SIZE\n                })\n              ]\n            : [])\n        ]\n      }).then(res => res.data?.createThread?.thread?.id);\n    },\n    [contextId, __typename, mutating]\n  );\n\n  return useMemo(\n    () => ({\n      createThread\n    }),\n    [createThread]\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type EditCommunityQueryDataFragment = (\n  { __typename: 'Community' }\n  & Pick<Types.Community, 'id' | 'name' | 'summary' | 'updatedAt'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )> }\n);\n\nexport type EditCommunityDataQueryVariables = {\n  communityId: Types.Scalars['String']\n};\n\n\nexport type EditCommunityDataQuery = (\n  { __typename: 'RootQueryType' }\n  & { community: Types.Maybe<(\n    { __typename: 'Community' }\n    & EditCommunityQueryDataFragment\n  )> }\n);\n\nexport type EditCommunityMutationVariables = {\n  community: Types.CommunityUpdateInput,\n  communityId: Types.Scalars['String'],\n  icon?: Types.Maybe<Types.UploadInput>\n};\n\n\nexport type EditCommunityMutation = (\n  { __typename: 'RootMutationType' }\n  & { updateCommunity: Types.Maybe<(\n    { __typename: 'Community' }\n    & EditCommunityQueryDataFragment\n  )> }\n);\n\nexport const EditCommunityQueryDataFragmentDoc = gql`\n    fragment EditCommunityQueryData on Community {\n  id\n  name\n  summary\n  icon {\n    id\n    url\n  }\n  updatedAt\n}\n    `;\nexport const EditCommunityDataDocument = gql`\n    query editCommunityData($communityId: String!) {\n  community(communityId: $communityId) {\n    ...EditCommunityQueryData\n  }\n}\n    ${EditCommunityQueryDataFragmentDoc}`;\n\n/**\n * __useEditCommunityDataQuery__\n *\n * To run a query within a React component, call `useEditCommunityDataQuery` and pass it any options that fit your needs.\n * When your component renders, `useEditCommunityDataQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useEditCommunityDataQuery({\n *   variables: {\n *      communityId: // value for 'communityId'\n *   },\n * });\n */\nexport function useEditCommunityDataQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<EditCommunityDataQuery, EditCommunityDataQueryVariables>) {\n        return ApolloReactHooks.useQuery<EditCommunityDataQuery, EditCommunityDataQueryVariables>(EditCommunityDataDocument, baseOptions);\n      }\nexport function useEditCommunityDataLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<EditCommunityDataQuery, EditCommunityDataQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<EditCommunityDataQuery, EditCommunityDataQueryVariables>(EditCommunityDataDocument, baseOptions);\n        }\nexport type EditCommunityDataQueryHookResult = ReturnType<typeof useEditCommunityDataQuery>;\nexport type EditCommunityDataLazyQueryHookResult = ReturnType<typeof useEditCommunityDataLazyQuery>;\nexport type EditCommunityDataQueryResult = ApolloReactCommon.QueryResult<EditCommunityDataQuery, EditCommunityDataQueryVariables>;\nexport const EditCommunityDocument = gql`\n    mutation editCommunity($community: CommunityUpdateInput!, $communityId: String!, $icon: UploadInput) {\n  updateCommunity(community: $community, communityId: $communityId, icon: $icon) {\n    ...EditCommunityQueryData\n  }\n}\n    ${EditCommunityQueryDataFragmentDoc}`;\nexport type EditCommunityMutationFn = ApolloReactCommon.MutationFunction<EditCommunityMutation, EditCommunityMutationVariables>;\n\n/**\n * __useEditCommunityMutation__\n *\n * To run a mutation, you first call `useEditCommunityMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useEditCommunityMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [editCommunityMutation, { data, loading, error }] = useEditCommunityMutation({\n *   variables: {\n *      community: // value for 'community'\n *      communityId: // value for 'communityId'\n *      icon: // value for 'icon'\n *   },\n * });\n */\nexport function useEditCommunityMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<EditCommunityMutation, EditCommunityMutationVariables>) {\n        return ApolloReactHooks.useMutation<EditCommunityMutation, EditCommunityMutationVariables>(EditCommunityDocument, baseOptions);\n      }\nexport type EditCommunityMutationHookResult = ReturnType<typeof useEditCommunityMutation>;\nexport type EditCommunityMutationResult = ApolloReactCommon.MutationResult<EditCommunityMutation>;\nexport type EditCommunityMutationOptions = ApolloReactCommon.BaseMutationOptions<EditCommunityMutation, EditCommunityMutationVariables>;\n\n\nexport interface EditCommunityDataQueryOperation {\n  operationName: 'editCommunityData'\n  result: EditCommunityDataQuery\n  variables: EditCommunityDataQueryVariables\n  type: 'query'\n}\nexport const EditCommunityDataQueryName:EditCommunityDataQueryOperation['operationName'] = 'editCommunityData'\n\nexport const EditCommunityDataQueryRefetch = (\n  variables:EditCommunityDataQueryVariables, \n  context?:any\n)=>({\n  query:EditCommunityDataDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface EditCommunityMutationOperation {\n  operationName: 'editCommunity'\n  result: EditCommunityMutation\n  variables: EditCommunityMutationVariables\n  type: 'mutation'\n}\nexport const EditCommunityMutationName:EditCommunityMutationOperation['operationName'] = 'editCommunity'\n\nexport const EditCommunityMutationRefetch = (\n  variables:EditCommunityMutationVariables, \n  context?:any\n)=>({\n  query:EditCommunityDocument,\n  variables,\n  context\n})\n      \n","import { getMaybeUploadInput } from 'fe/mutation/upload/getUploadInput';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { Community, CommunityUpdateInput } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\nimport {\n  useEditCommunityDataQuery,\n  useEditCommunityMutation\n} from './useEditCommunity.generated';\n\nexport interface UpdateCommunity {\n  community: CommunityUpdateInput;\n  icon: Maybe<File | string>;\n}\nexport const useEditCommunity = (communityId: Community['id']) => {\n  const [editMut, editMutStatus] = useEditCommunityMutation();\n  const communityEditQ = useEditCommunityDataQuery({\n    variables: { communityId }\n  });\n\n  const edit = useCallOrNotifyMustLogin(\n    async ({ community, icon }: UpdateCommunity) => {\n      if (editMutStatus.loading) {\n        return;\n      }\n      return editMut({\n        variables: {\n          communityId,\n          icon: getMaybeUploadInput(\n            icon,\n            communityEditQ.data?.community?.icon?.url\n          ),\n          community: {\n            name: community.name,\n            summary: community.summary\n          }\n        }\n      });\n    },\n    [communityId, editMutStatus, editMut, communityEditQ]\n  );\n\n  return useMemo(() => {\n    const community = communityEditQ.data?.community;\n    return {\n      edit,\n      community\n    };\n  }, [edit, communityEditQ]);\n};\n","import * as Types from '../../graphql/types.generated';\n\nimport { CommunityPageDataFragment } from '../../HOC/pages/community/CommunityPage.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPageDataFragmentDoc } from '../../HOC/pages/community/CommunityPage.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type CommunityDataQueryVariables = {\n  communityId: Types.Scalars['String']\n};\n\n\nexport type CommunityDataQuery = (\n  { __typename: 'RootQueryType' }\n  & { community: Types.Maybe<(\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id'>\n    & CommunityPageDataFragment\n  )> }\n);\n\n\nexport const CommunityDataDocument = gql`\n    query communityData($communityId: String!) {\n  community(communityId: $communityId) {\n    id\n    ...CommunityPageData\n  }\n}\n    ${CommunityPageDataFragmentDoc}`;\n\n/**\n * __useCommunityDataQuery__\n *\n * To run a query within a React component, call `useCommunityDataQuery` and pass it any options that fit your needs.\n * When your component renders, `useCommunityDataQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCommunityDataQuery({\n *   variables: {\n *      communityId: // value for 'communityId'\n *   },\n * });\n */\nexport function useCommunityDataQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CommunityDataQuery, CommunityDataQueryVariables>) {\n        return ApolloReactHooks.useQuery<CommunityDataQuery, CommunityDataQueryVariables>(CommunityDataDocument, baseOptions);\n      }\nexport function useCommunityDataLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CommunityDataQuery, CommunityDataQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CommunityDataQuery, CommunityDataQueryVariables>(CommunityDataDocument, baseOptions);\n        }\nexport type CommunityDataQueryHookResult = ReturnType<typeof useCommunityDataQuery>;\nexport type CommunityDataLazyQueryHookResult = ReturnType<typeof useCommunityDataLazyQuery>;\nexport type CommunityDataQueryResult = ApolloReactCommon.QueryResult<CommunityDataQuery, CommunityDataQueryVariables>;\n\n\nexport interface CommunityDataQueryOperation {\n  operationName: 'communityData'\n  result: CommunityDataQuery\n  variables: CommunityDataQueryVariables\n  type: 'query'\n}\nexport const CommunityDataQueryName:CommunityDataQueryOperation['operationName'] = 'communityData'\n\nexport const CommunityDataQueryRefetch = (\n  variables:CommunityDataQueryVariables, \n  context?:any\n)=>({\n  query:CommunityDataDocument,\n  variables,\n  context\n})\n      \n","import { useCreateThreadContext } from 'fe/context/createThread/useCreateThreadContext';\nimport { useFollowContext } from 'fe/context/follow/useFollowContext';\nimport { useMe } from 'fe/session/useMe';\nimport { Community } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport { useEditCommunity } from './edit/useEditCommunity';\nimport { useCommunityDataQuery } from './useCommunity.generated';\n\nexport const useCommunity = (communityId: Community['id']) => {\n  const { me } = useMe();\n\n  const communityQ = useCommunityDataQuery({ variables: { communityId } });\n  const { createThread } = useCreateThreadContext(communityId, 'Community');\n  const community = communityQ.data?.community;\n  const { toggleFollow: toggleJoin } = useFollowContext(community);\n  const { edit } = useEditCommunity(communityId);\n  const isCreator =\n    !!me && !!community?.creator && me.user.id === community.creator.id;\n  const canModify = !!me?.isInstanceAdmin || isCreator;\n\n  return useMemo(() => {\n    return {\n      community,\n      createThread,\n      toggleJoin,\n      edit,\n      canModify,\n      isCreator\n    };\n  }, [community, toggleJoin, edit, canModify, createThread, isCreator]);\n};\n","import { Community } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useCommunityThreads.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useCommunityThreads = (communityId: Community['id']) => {\n  const communityQ = GQL.useCommunityThreadsQuery({\n    variables: { communityId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const threadsPage = usePage(\n    communityQ.data?.community?.threads,\n    ({ cursor, update }) => {\n      return communityQ.fetchMore({\n        variables: { ...cursor, communityId, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.community?.threads && prev.community?.threads\n            ? {\n                ...fetchMoreResult,\n                community: {\n                  ...fetchMoreResult.community,\n                  threads: update({\n                    prev: prev.community.threads,\n                    fetched: fetchMoreResult.community.threads\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(\n    () => ({\n      threadsPage\n    }),\n    [threadsPage]\n  );\n};\n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { Community } from 'graphql/types.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\nimport * as GQL from './useCommunityFollowers.generated';\n\nexport const useCommunityFollowers = (communityId: Community['id']) => {\n  const communityFolowersQ = GQL.useCommunityFollowersQuery({\n    variables: { communityId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const communityFollowersPage = usePage(\n    communityFolowersQ.data?.community?.followers,\n    ({ cursor, update }) => {\n      return communityFolowersQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, communityId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.community?.followers &&\n            prev.community?.followers\n            ? {\n                ...fetchMoreResult,\n                community: {\n                  ...fetchMoreResult.community,\n                  followers: update({\n                    prev: prev.community.followers,\n                    fetched: fetchMoreResult.community.followers\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(\n    () => ({\n      communityFollowersPage\n    }),\n    [communityFollowersPage]\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type HeroCollectionDataFragment = (\n  { __typename: 'Collection' }\n  & Pick<Types.Collection, 'id' | 'name' | 'displayUsername' | 'summary' | 'followerCount'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, community: Types.Maybe<(\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id' | 'name'>\n    & { icon: Types.Maybe<(\n      { __typename: 'Content' }\n      & Pick<Types.Content, 'id' | 'url'>\n    )>, myFollow: Types.Maybe<(\n      { __typename: 'Follow' }\n      & Pick<Types.Follow, 'id'>\n    )> }\n  )>, followers: Types.Maybe<(\n    { __typename: 'FollowsPage' }\n    & Pick<Types.FollowsPage, 'totalCount'>\n  )>, myFollow: Types.Maybe<(\n    { __typename: 'Follow' }\n    & Pick<Types.Follow, 'id'>\n  )>, myFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  )>, creator: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n  )> }\n);\n\nexport type HeroCollectionMeDataFragment = (\n  { __typename: 'Me' }\n  & { user: (\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n  ) }\n);\n\nexport const HeroCollectionDataFragmentDoc = gql`\n    fragment HeroCollectionData on Collection {\n  id\n  name\n  displayUsername\n  summary\n  icon {\n    id\n    url\n  }\n  community {\n    id\n    name\n    icon {\n      id\n      url\n    }\n    myFollow {\n      id\n    }\n  }\n  followerCount\n  followers {\n    totalCount\n  }\n  myFollow {\n    id\n  }\n  myFlag {\n    id\n  }\n  creator {\n    id\n  }\n}\n    `;\nexport const HeroCollectionMeDataFragmentDoc = gql`\n    fragment HeroCollectionMeData on Me {\n  user {\n    id\n  }\n}\n    `;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { ActivityPreviewFragment } from '../../modules/previews/activity/ActivityPreview.generated';\nimport { ResourcePreviewFragment } from '../../modules/previews/resource/ResourcePreview.generated';\nimport { HeroCollectionDataFragment } from '../../modules/HeroCollection/HeroCollection.generated';\nimport gql from 'graphql-tag';\nimport { HeroCollectionDataFragmentDoc } from '../../modules/HeroCollection/HeroCollection.generated';\nimport { ResourcePreviewFragmentDoc } from '../../modules/previews/resource/ResourcePreview.generated';\nimport { ActivityPreviewFragmentDoc } from '../../modules/previews/activity/ActivityPreview.generated';\n\n\n\n\nexport type CollectionPageDataFragment = (\n  { __typename: 'Collection' }\n  & Pick<Types.Collection, 'name'>\n  & HeroCollectionDataFragment\n);\n\nexport type CollectionPageResourceFragment = (\n  { __typename: 'Resource' }\n  & Pick<Types.Resource, 'id' | 'createdAt'>\n  & ResourcePreviewFragment\n);\n\nexport type CollectionPageActivityFragment = (\n  { __typename: 'Activity' }\n  & Pick<Types.Activity, 'id'>\n  & ActivityPreviewFragment\n);\n\nexport const CollectionPageDataFragmentDoc = gql`\n    fragment CollectionPageData on Collection {\n  name\n  ...HeroCollectionData\n}\n    ${HeroCollectionDataFragmentDoc}`;\nexport const CollectionPageResourceFragmentDoc = gql`\n    fragment CollectionPageResource on Resource {\n  id\n  createdAt\n  ...ResourcePreview\n}\n    ${ResourcePreviewFragmentDoc}`;\nexport const CollectionPageActivityFragmentDoc = gql`\n    fragment CollectionPageActivity on Activity {\n  id\n  ...ActivityPreview\n}\n    ${ActivityPreviewFragmentDoc}`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CollectionPageDataFragment } from '../../../HOC/pages/collection/CollectionPage.generated';\nimport gql from 'graphql-tag';\nimport { CollectionPageDataFragmentDoc } from '../../../HOC/pages/collection/CollectionPage.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type CreateCollectionMutationVariables = {\n  collection: Types.CollectionInput,\n  contextId: Types.Scalars['String'],\n  icon?: Types.Maybe<Types.UploadInput>\n};\n\n\nexport type CreateCollectionMutation = (\n  { __typename: 'RootMutationType' }\n  & { createCollection: Types.Maybe<(\n    { __typename: 'Collection' }\n    & CollectionPageDataFragment\n  )> }\n);\n\n\nexport const CreateCollectionDocument = gql`\n    mutation createCollection($collection: CollectionInput!, $contextId: String!, $icon: UploadInput) {\n  createCollection(collection: $collection, contextId: $contextId, icon: $icon) {\n    ...CollectionPageData\n  }\n}\n    ${CollectionPageDataFragmentDoc}`;\nexport type CreateCollectionMutationFn = ApolloReactCommon.MutationFunction<CreateCollectionMutation, CreateCollectionMutationVariables>;\n\n/**\n * __useCreateCollectionMutation__\n *\n * To run a mutation, you first call `useCreateCollectionMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateCollectionMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createCollectionMutation, { data, loading, error }] = useCreateCollectionMutation({\n *   variables: {\n *      collection: // value for 'collection'\n *      contextId: // value for 'contextId'\n *      icon: // value for 'icon'\n *   },\n * });\n */\nexport function useCreateCollectionMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateCollectionMutation, CreateCollectionMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateCollectionMutation, CreateCollectionMutationVariables>(CreateCollectionDocument, baseOptions);\n      }\nexport type CreateCollectionMutationHookResult = ReturnType<typeof useCreateCollectionMutation>;\nexport type CreateCollectionMutationResult = ApolloReactCommon.MutationResult<CreateCollectionMutation>;\nexport type CreateCollectionMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateCollectionMutation, CreateCollectionMutationVariables>;\n\n\nexport interface CreateCollectionMutationOperation {\n  operationName: 'createCollection'\n  result: CreateCollectionMutation\n  variables: CreateCollectionMutationVariables\n  type: 'mutation'\n}\nexport const CreateCollectionMutationName:CreateCollectionMutationOperation['operationName'] = 'createCollection'\n\nexport const CreateCollectionMutationRefetch = (\n  variables:CreateCollectionMutationVariables, \n  context?:any\n)=>({\n  query:CreateCollectionDocument,\n  variables,\n  context\n})\n      \n","import { CommunityOutboxActivitiesQueryRefetch } from 'fe/activities/outbox/community/useCommunityOutboxActivities.generated';\nimport { InstanceOutboxActivitiesQueryRefetch } from 'fe/activities/outbox/instance/useInstanceOutboxActivities.generated';\nimport { getMaybeUploadInput } from 'fe/mutation/upload/getUploadInput';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { CollectionInput, Community } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\nimport { AllCollectionsQueryRefetch } from '../all/useAllCollections.generated';\nimport { CommunityCollectionsQueryRefetch } from '../community/useCommunityCollections.generated';\nimport { MyCollectionFollowsQueryRefetch } from '../myFollowed/myFollowedCollections.generated';\nimport { useCreateCollectionMutation } from './useCreateCollection.generated';\n\nexport interface CreateCollection {\n  collection: CollectionInput;\n  icon: Maybe<File | string>;\n}\nexport const useCreateCollection = (communityId: Community['id']) => {\n  const [createMut, createMutStatus] = useCreateCollectionMutation();\n\n  const create = useCallOrNotifyMustLogin(\n    async ({ collection, icon }: CreateCollection) => {\n      if (createMutStatus.loading) {\n        return;\n      }\n\n      return createMut({\n        variables: {\n          contextId: communityId,\n          icon: getMaybeUploadInput(icon, null),\n          collection: {\n            name: collection.name,\n            summary: collection.summary,\n            preferredUsername: collection.preferredUsername\n          }\n        },\n        refetchQueries: [\n          CommunityCollectionsQueryRefetch({\n            communityId,\n            limit: DEFAULT_PAGE_SIZE\n          }),\n          CommunityOutboxActivitiesQueryRefetch({\n            communityId,\n            limit: DEFAULT_PAGE_SIZE\n          }),\n          InstanceOutboxActivitiesQueryRefetch({ limit: DEFAULT_PAGE_SIZE }),\n          AllCollectionsQueryRefetch({ limit: DEFAULT_PAGE_SIZE }),\n          MyCollectionFollowsQueryRefetch({ limit: DEFAULT_PAGE_SIZE })\n        ]\n      });\n    },\n    [communityId, createMutStatus, createMut]\n  );\n  return useMemo(() => {\n    return {\n      create\n    };\n  }, [create]);\n};\n","import { clearFix } from 'polished';\nimport { Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport styled from '../../themes/styled';\nimport { ContainerForm } from '../Modal';\n\nexport const CollectionContainerForm = styled(ContainerForm)`\n  position: relative;\n  padding-top: 0;\n\n  input {\n    background: #fbfbfb;\n    border: 0;\n    font-weight: 700;\n    width: 100%;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  textarea {\n    padding-top: 6px;\n    background: #fbfbfb;\n    border-radius: 2px;\n    border: 0;\n    height: 120px;\n    resize: none;\n  }\n\n  .d-flex {\n    display: flex;\n    justify-content: space-between;\n    align-items: stretch;\n\n    ${media.lessThan('medium')`    \n            flex-direction: column;\n        `};\n\n    .item_col-6 {\n      flex-basis: calc(50% - 5px);\n    }\n\n    .align-center {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .item_photo {\n      margin-bottom: 10px;\n      flex-basis: 140px;\n      height: 140px;\n\n      .bopsip {\n        height: 140px !important;\n      }\n\n      ${media.lessThan('medium')`    \n          flex-basis: 100%;\n          order: 2\n        `};\n    }\n    .item_info {\n      margin-bottom: 10px;\n      flex-basis: calc(100% - 160px);\n\n      ${media.lessThan('medium')`    \n          flex-basis: 100%;\n          order: 1\n        `};\n    }\n  }\n  .d-flex-image.d-flex {\n    ${media.lessThan('medium')`\n      flex-direction: column;\n      align-items: unset;\n    `};\n  }\n  .dropzone {\n    ${media.lessThan('medium')`\n      min-Height: unset;\n      height: auto;\n    `};\n  }\n`;\n\nexport const MapWrapper = styled.div`\n  display: flex;\n  ${media.lessThan('medium')`\n      display: block;\n    `};\n`;\nexport const FlexBetweenContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n\n  & > div {\n    width: calc((100% - 20px) / 2);\n  }\n`;\n\nexport const HeroInfo = styled.div`\n  flex: 1;\n  position: relative;\n  ${clearFix()};\n  & h2 {\n    margin: 0;\n    line-height: 32px !important;\n    color: ${props => props.theme.colors.mediumdark};\n    ${media.lessThan('medium')`\n      margin-top: 8px;\n    `};\n  }\n  & p {\n    margin: 0;\n    color: rgba(0, 0, 0, 0.8);\n    margin-top: 8px;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n  .--rtl & {\n    margin-right: 16px;\n    margin-left: 0px;\n  }\n`;\n\nexport const Hero = styled(Flex)`\n  width: 100%;\n  position: relative;\n  padding: 16px;\n  ${media.lessThan('medium')`\n  text-align: center;\n  display: block;\n`};\n`;\n\nexport const Title = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nexport const Description = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n","import { Trans } from '@lingui/macro';\n// import { NavLink } from 'react-router-dom';\n// import { MDComment } from 'ui/elements/Layout/comment';\nimport Markdown from 'markdown-to-jsx';\nimport { darken } from 'polished';\nimport React, { FC } from 'react';\nimport { Flag, MoreVertical, Settings, Star } from 'react-feather';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { FormikHook } from 'ui/@types/types';\nimport Button from 'ui/elements/Button';\nimport { Dropdown, DropdownItem } from 'ui/modules/Dropdown';\nimport styled from 'ui/themes/styled';\n\nexport enum Status {\n  Loading,\n  Loaded\n}\n\nexport interface CommunityLoaded {\n  status: Status.Loaded;\n  isAdmin: boolean;\n  isCreator: boolean;\n  // isFeatured: boolean;\n  basePath: string;\n  icon: string;\n  name: string;\n  summary: string;\n  fullName: string;\n  totalMembers: number;\n  following: boolean;\n  isFlagged: boolean;\n  canModify: boolean;\n  toggleJoinFormik: FormikHook;\n\n  edit(): any;\n\n  flag(): any;\n\n  addToFeatured(): any;\n\n  isOpenDropdown: boolean;\n  toggleDropdown(): any;\n}\n\nexport interface CommunityLoading {\n  status: Status.Loading;\n}\n\nexport interface Props {\n  community: CommunityLoaded | CommunityLoading;\n}\n\nexport const HeroCommunity: FC<Props> = ({ community: c }) => {\n  return c.status === Status.Loading ? (\n    <Text>Loading...</Text>\n  ) : (\n    <>\n      <Hero p={1}>\n        <Background\n          id=\"header\"\n          style={{\n            backgroundImage: `url(\"${c.icon}\")`\n          }}\n        />\n        <HeroInfo>\n          <Title variant=\"heading\" mt={0}>\n            {c.name}\n          </Title>\n          <Username>@{c.fullName}</Username>\n          {c.summary && (\n            <Box mt={2}>\n              <Markdown>{c.summary}</Markdown>\n              {/* <MDComment content={c.summary} /> */}\n            </Box>\n          )}\n          <Info mt={3}>\n            <Actions>\n              <Button\n                mr={2}\n                variant={c.following ? 'danger' : 'primary'}\n                isSubmitting={c.toggleJoinFormik.isSubmitting}\n                isDisabled={c.toggleJoinFormik.isSubmitting || c.isCreator}\n                onClick={c.toggleJoinFormik.submitForm}\n              >\n                {c.following ? <Trans>Leave</Trans> : <Trans>Join</Trans>}\n              </Button>\n              <More onClick={c.toggleDropdown}>\n                <MoreVertical size={20} />\n                {c.isOpenDropdown && (\n                  <RightDd>\n                    <Dropdown orientation={'bottom'} close={c.toggleDropdown}>\n                      {c.canModify && (\n                        <DropdownItem onClick={c.edit}>\n                          <Settings size={20} color={'rgb(101, 119, 134)'} />\n                          <Text sx={{ flex: 1 }} ml={2}>\n                            <Trans>Edit the community</Trans>\n                          </Text>\n                        </DropdownItem>\n                      )}\n                      <DropdownItem onClick={c.flag}>\n                        <Flag size={20} color={'rgb(101, 119, 134)'} />\n                        <Text sx={{ flex: 1 }} ml={2}>\n                          {!c.isFlagged ? (\n                            <Trans>Flag this community</Trans>\n                          ) : (\n                            <Trans>Unflag this community</Trans>\n                          )}\n                        </Text>\n                      </DropdownItem>\n                      {c.isAdmin ? (\n                        <AdminDropdownItem onClick={c.addToFeatured}>\n                          <Star size={20} color={'rgb(211, 103, 5)'} />\n                          <Text sx={{ flex: 1 }} ml={2}>\n                            {\n                              /* c.isFeatured ? (\n                            <Trans>Remove from featured list</Trans>\n                          ) :  */ <Trans>\n                                Add to featured list\n                              </Trans>\n                            }\n                          </Text>\n                        </AdminDropdownItem>\n                      ) : null}\n                    </Dropdown>\n                  </RightDd>\n                )}\n              </More>\n            </Actions>\n          </Info>\n        </HeroInfo>\n      </Hero>\n    </>\n  );\n};\n\n// const InfoCommunity = styled(Flex)`\n//   align-items: center;\n// `;\n\nconst RightDd = styled(Box)`\n  .dropdown {\n    right: 0;\n    left: auto;\n\n    ${media.lessThan('medium')`\n      right: initial;\n      left: 10px;\n  `}\n  }\n`;\n\n// const Badge = styled(Box)`\n//   border: 1px solid ${props => props.theme.colors.secondary};\n//   padding: 4px;\n//   border-radius: 4px;\n//   color:  ${props => props.theme.colors.secondary};\n//   font-size: ${typography.size.s1}\n// `\n\nconst AdminDropdownItem = styled(DropdownItem)`\n    border-top: 1px solid ${props => darken('0.1', props.theme.colors.light)};\n    // svg {\n    //   stroke: ${props => darken('0.1', props.theme.colors.primary)};\n    // }\n    `;\n\nconst More = styled(Box)`\n  position: relative;\n  cursor: pointer;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  border: ${props => props.theme.colors.border};\n  border-radius: 4px;\n  svg {\n    margin: 0 auto;\n    stroke: ${props => props.theme.colors.mediumdark};\n  }\n`;\n\nconst Info = styled(Flex)`\n  align-items: center;\n  justify-content: space-between;\n`;\n// const Total = styled(Text)`\n//   color: ${props => props.theme.colors.primary};\n// `;\n\nconst Title = styled(Text)`\n  color: ${props => props.theme.colors.darker};\n  ${media.lessThan('medium')`\n`};\n`;\n\nconst Actions = styled(Flex)`\n  align-items: center;\n`;\n\nconst Username = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n  text-transform: lowercase;\n`;\n\n// const MembersTot = styled(NavLink)`\n//   margin-top: 0px;\n//   cursor: pointer;\n//   cursor: pointer;\n//   text-decoration: none;\n//   * {\n//     text-decoration: none;\n//   }\n//   flex: 1;\n//   > div {\n//     display: flex;\n//   }\n//   ${clearFix()} & span {\n//     margin-right: 4px;\n//     float: left;\n//     height: 32px;\n//     line-height: 32px;\n//     & svg {\n//       vertical-align: middle;\n//     }\n//     .--rtl & {\n//       float: right;\n//       margin-right: 0px;\n//       margin-left: 8px;\n//     }\n//   }\n// `;\n\nconst Hero = styled(Box)`\n  width: 100%;\n  position: relative;\n  background: ${props => props.theme.colors.appInverse};\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n`;\n\nconst Background = styled.div`\n  margin-top: 24px;\n  height: 250px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-color: ${props => props.theme.colors.medium};\n  position: relative;\n  margin: 0 auto;\n  border-radius: 4px;\n  background-position: center center;\n//   ${media.lessThan('medium')`\n//     display: none;\n// `};\n`;\n\nconst HeroInfo = styled.div`\n  padding: 16px;\n  ${media.lessThan('medium')`\n   padding: 8px;\n`} & button {\n    span {\n      vertical-align: sub;\n      display: inline-block;\n      height: 30px;\n      margin-right: 4px;\n    }\n  }\n`;\n\nexport default HeroCommunity;\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input, Textarea } from '@rebass/forms';\nimport { FormikHook } from 'ui/@types/types';\nimport * as React from 'react';\nimport Button from 'ui/elements/Button';\nimport { Box, Heading } from 'rebass/styled-components';\nimport DropzoneArea from 'ui/modules/DropzoneModal';\nimport Alert from 'ui/elements/Alert';\nimport { Actions, AlertWrapper, Container, CounterChars, Header } from 'ui/modules/Modal';\nimport { Hero, HeroInfo, Title, CollectionContainerForm, Description } from './style';\n\nconst tt = {\n  placeholders: {\n    name: i18nMark('Choose a name for the collection'),\n    summary: i18nMark(\n      'Please describe what the collection is for and what kind of resources it is likely to contain...'\n    ),\n    icon: i18nMark('Enter the URL of an image to represent the collection')\n  }\n};\n\nexport interface Props {\n  cancel(): any;\n  formik: FormikHook<BasicCreateCollectionFormValues>;\n}\n\nexport interface BasicCreateCollectionFormValues {\n  name: string;\n  summary: string;\n  icon: File | string | undefined;\n}\n\nexport const CreateCollectionPanel: React.FC<Props> = ({ cancel, formik }) => {\n  const onIconFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, icon: file }),\n    [formik]\n  );\n  const initialIconUrl = 'string' === typeof formik.values.icon ? formik.values.icon : '';\n\n  return (\n    <Container>\n      <form onSubmit={formik.handleSubmit}>\n        <Header>\n          <Heading m={2}>\n            <Trans>Create a new collection</Trans>\n          </Heading>\n        </Header>\n        <Hero>\n          <Box sx={{ width: '120px', height: '120px' }}>\n            <DropzoneArea\n              initialUrl={initialIconUrl}\n              onFileSelect={onIconFileSelected}\n              filePattern=\"image/*\"\n            />\n          </Box>\n          {/*<Background style={{ backgroundImage: `url(\"${c.icon}\")` }} /> */}\n          <HeroInfo>\n            <Title fontWeight={'bold'}>\n              <CollectionContainerForm>\n                <Input\n                  placeholder={tt.placeholders.name}\n                  disabled={formik.isSubmitting}\n                  name=\"name\"\n                  value={formik.values.name}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{60 - formik.values.name.length}</CounterChars>\n                {formik.errors.name && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.name}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Title>\n\n            <Description mt={2}>\n              <CollectionContainerForm>\n                <Textarea\n                  placeholder={tt.placeholders.summary}\n                  disabled={formik.isSubmitting}\n                  name=\"summary\"\n                  value={formik.values.summary}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{500 - formik.values.summary.length}</CounterChars>\n                {formik.errors.summary && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.summary}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Description>\n          </HeroInfo>\n        </Hero>\n\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n            // onClick={formik.submitForm}\n          >\n            <Trans>Save</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={cancel}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n    </Container>\n  );\n};\n\nexport default CreateCollectionPanel;\n","import { useCreateCollection } from 'fe/collection/create/useCreateCollection';\nimport { useFormik } from 'formik';\nimport React, { FC } from 'react';\nimport {\n  BasicCreateCollectionFormValues,\n  CreateCollectionPanel\n} from 'ui/modules/CreateCollectionPanel';\nimport * as Yup from 'yup';\nimport { useHistory } from 'react-router-dom';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\n\nexport const validationSchema: Yup.ObjectSchema<BasicCreateCollectionFormValues> = Yup.object<\n  BasicCreateCollectionFormValues\n>({\n  name: Yup.string()\n    .min(2)\n    .max(60)\n    .required(),\n  summary: Yup.string().max(500),\n  icon: Yup.mixed<string | File>().test(...TestUrlOrFile)\n});\nexport interface Props {\n  communityId: string;\n  done(): any;\n}\nexport const CreateCollectionPanelHOC: FC<Props> = ({\n  communityId,\n  done\n}: Props) => {\n  const history = useHistory();\n  const { create } = useCreateCollection(communityId);\n\n  const formik = useFormik<BasicCreateCollectionFormValues>({\n    initialValues: {\n      name: '',\n      summary: '',\n      icon: ''\n    },\n    enableReinitialize: true,\n    onSubmit: vals => {\n      return create({\n        collection: {\n          preferredUsername: vals.name.split(' ').join('_'),\n          name: vals.name,\n          summary: vals.summary\n        },\n        icon: vals.icon\n      })\n        .then(\n          res =>\n            res?.data?.createCollection?.id &&\n            history.push(`/collections/${res.data.createCollection.id}`)\n        )\n        .catch(err => console.log(err));\n    },\n    validationSchema\n  });\n  return <CreateCollectionPanel cancel={done} formik={formik} />;\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input, Textarea } from '@rebass/forms';\nimport { FormikHook } from 'ui/@types/types';\nimport * as React from 'react';\nimport DropzoneArea from 'ui/modules/DropzoneModal';\nimport Alert from 'ui/elements/Alert';\nimport Button from 'ui/elements/Button';\nimport { clearFix } from 'polished';\nimport media from 'styled-media-query';\nimport styled from 'ui/themes/styled';\nimport { Flex, Text, Box } from 'rebass/styled-components';\n\nimport { Actions, AlertWrapper, Container, ContainerForm, CounterChars } from 'ui/modules/Modal';\n\nconst tt = {\n  placeholders: {\n    name: i18nMark('Choose a name for the community'),\n    summary: i18nMark(\n      'Please describe who might be interested in this community and what kind of collections it is likely to contain...'\n    ),\n    icon: i18nMark('Enter the URL of an image to represent the community')\n  }\n};\n\nexport interface Props {\n  cancel: () => any;\n  formik: FormikHook<EditCommunityFormValues>;\n}\n\nexport interface EditCommunityFormValues {\n  name: string;\n  summary: string;\n  icon: string | File | undefined;\n}\n\nexport const EditCommunityPanel: React.FC<Props> = ({ cancel, formik }) => {\n  const onIconFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, icon: file }),\n    [formik]\n  );\n  const initialIconUrl = 'string' === typeof formik.values.icon ? formik.values.icon : '';\n  return (\n    <Container>\n      <form onSubmit={formik.handleSubmit}>\n        <Hero>\n          <Box sx={{ width: '120px', height: '120px' }}>\n            <DropzoneArea\n              initialUrl={initialIconUrl}\n              onFileSelect={onIconFileSelected}\n              filePattern=\"image/*\"\n            />\n          </Box>\n          {/* <Background style={{ backgroundImage: `url(\"${c.icon}\")` }} /> */}\n          <HeroInfo>\n            <Title fontWeight={'bold'}>\n              <CollectionContainerForm>\n                <Input\n                  placeholder={tt.placeholders.name}\n                  disabled={formik.isSubmitting}\n                  name=\"name\"\n                  value={formik.values.name}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{60 - formik.values.name.length}</CounterChars>\n                {formik.errors.name && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.name}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Title>\n\n            <Description mt={2}>\n              <CollectionContainerForm>\n                <Textarea\n                  placeholder={tt.placeholders.summary}\n                  disabled={formik.isSubmitting}\n                  name=\"summary\"\n                  value={formik.values.summary}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{500 - formik.values.summary.length}</CounterChars>\n                {formik.errors.summary && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.summary}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Description>\n          </HeroInfo>\n        </Hero>\n\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n            // onClick={formik.submitForm}\n          >\n            <Trans>Save</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={cancel}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n    </Container>\n  );\n};\n\nconst CollectionContainerForm = styled(ContainerForm)`\n  input {\n    background: #fbfbfb;\n    border: 0;\n    font-weight: 700;\n  }\n\n  textarea {\n    background: #fbfbfb;\n    border-radius: 2px;\n    border: 0;\n    height: 120px;\n    resize: none;\n  }\n`;\n\nconst Title = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst Description = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst HeroInfo = styled.div`\n  flex: 1;\n  margin-left: 16px;\n  position: relative;\n  ${clearFix()};\n  & h2 {\n    margin: 0;\n    line-height: 32px !important;\n    color: ${props => props.theme.colors.mediumdark};\n    ${media.lessThan('medium')`\n      margin-top: 8px;\n    `};\n  }\n  & p {\n    margin: 0;\n    color: rgba(0, 0, 0, 0.8);\n    margin-top: 8px;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n  .--rtl & {\n    margin-right: 16px;\n    margin-left: 0px;\n  }\n`;\n\nconst Hero = styled(Flex)`\n  width: 100%;\n  position: relative;\n  padding: 16px;\n  ${media.lessThan('medium')`\n  text-align: center;\n  display: block;\n`};\n`;\n\nexport default EditCommunityPanel;\n","import { useEditCommunity } from 'fe/community/edit/useEditCommunity';\nimport { useFormik } from 'formik';\nimport { Community } from 'graphql/types.generated';\nimport React, { FC, useMemo } from 'react';\nimport {\n  EditCommunityFormValues,\n  EditCommunityPanel\n} from 'ui/modules/EditCommunityPanel';\nimport * as Yup from 'yup';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\n\nexport const validationSchema: Yup.ObjectSchema<EditCommunityFormValues> = Yup.object<\n  EditCommunityFormValues\n>({\n  name: Yup.string()\n    .min(2)\n    .max(60)\n    .required(),\n  summary: Yup.string().max(500),\n  icon: Yup.mixed<File | string>().test(...TestUrlOrFile)\n});\n\nexport interface Props {\n  communityId: Community['id'];\n  done(): any;\n}\nexport const EditCommunityPanelHOC: FC<Props> = ({\n  done,\n  communityId\n}: Props) => {\n  const { community, edit } = useEditCommunity(communityId);\n  const initialValues = useMemo<EditCommunityFormValues>(\n    () => ({\n      icon: community?.icon?.url || '',\n      name: community?.name || '',\n      summary: community?.summary || ''\n    }),\n    [community]\n  );\n\n  const formik = useFormik<EditCommunityFormValues>({\n    enableReinitialize: true,\n    onSubmit: vals => {\n      return edit({\n        community: {\n          name: vals.name,\n          summary: vals.summary || undefined\n        },\n        icon: vals.icon\n      }).then(done);\n    },\n    validationSchema,\n    initialValues\n  });\n  return <EditCommunityPanel cancel={done} formik={formik} />;\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type DiscoverPageFeaturedCommunityInfoFragment = (\n  { __typename: 'Community' }\n  & Pick<Types.Community, 'id' | 'name'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )> }\n);\n\nexport type DiscoverPageFeaturedCollectionInfoFragment = (\n  { __typename: 'Collection' }\n  & Pick<Types.Collection, 'id' | 'name'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )> }\n);\n\nexport const DiscoverPageFeaturedCommunityInfoFragmentDoc = gql`\n    fragment DiscoverPageFeaturedCommunityInfo on Community {\n  id\n  icon {\n    id\n    url\n  }\n  name\n}\n    `;\nexport const DiscoverPageFeaturedCollectionInfoFragmentDoc = gql`\n    fragment DiscoverPageFeaturedCollectionInfo on Collection {\n  id\n  icon {\n    id\n    url\n  }\n  name\n}\n    `;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { DiscoverPageFeaturedCollectionInfoFragment } from '../../pages/discover/DiscoverPage.generated';\nimport gql from 'graphql-tag';\nimport { DiscoverPageFeaturedCollectionInfoFragmentDoc } from '../../pages/discover/DiscoverPage.generated';\n\n\nexport type CollectionFeatureFragment = (\n  { __typename: 'Feature' }\n  & Pick<Types.Feature, 'id'>\n  & { context: Types.Maybe<{ __typename: 'Category' } | (\n    { __typename: 'Collection' }\n    & DiscoverPageFeaturedCollectionInfoFragment\n  ) | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\nexport const CollectionFeatureFragmentDoc = gql`\n    fragment CollectionFeature on Feature {\n  id\n  context {\n    ...DiscoverPageFeaturedCollectionInfo\n  }\n}\n    ${DiscoverPageFeaturedCollectionInfoFragmentDoc}`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CollectionFeatureFragment } from '../../../HOC/modules/FeaturedCollections/featuredCollection.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CollectionFeatureFragmentDoc } from '../../../HOC/modules/FeaturedCollections/featuredCollection.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type InstanceFeaturedCollectionsQueryVariables = {};\n\n\nexport type InstanceFeaturedCollectionsQuery = (\n  { __typename: 'RootQueryType' }\n  & { instance: Types.Maybe<(\n    { __typename: 'Instance' }\n    & { featuredCollections: Types.Maybe<(\n      { __typename: 'FeaturesPage' }\n      & Pick<Types.FeaturesPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Feature' }\n        & CollectionFeatureFragment\n      )> }\n    )> }\n  )> }\n);\n\n\nexport const InstanceFeaturedCollectionsDocument = gql`\n    query instanceFeaturedCollections {\n  instance {\n    featuredCollections @connection(key: \"instanceFeaturedCollections\") {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...CollectionFeature\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CollectionFeatureFragmentDoc}`;\n\n/**\n * __useInstanceFeaturedCollectionsQuery__\n *\n * To run a query within a React component, call `useInstanceFeaturedCollectionsQuery` and pass it any options that fit your needs.\n * When your component renders, `useInstanceFeaturedCollectionsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useInstanceFeaturedCollectionsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useInstanceFeaturedCollectionsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<InstanceFeaturedCollectionsQuery, InstanceFeaturedCollectionsQueryVariables>) {\n        return ApolloReactHooks.useQuery<InstanceFeaturedCollectionsQuery, InstanceFeaturedCollectionsQueryVariables>(InstanceFeaturedCollectionsDocument, baseOptions);\n      }\nexport function useInstanceFeaturedCollectionsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<InstanceFeaturedCollectionsQuery, InstanceFeaturedCollectionsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<InstanceFeaturedCollectionsQuery, InstanceFeaturedCollectionsQueryVariables>(InstanceFeaturedCollectionsDocument, baseOptions);\n        }\nexport type InstanceFeaturedCollectionsQueryHookResult = ReturnType<typeof useInstanceFeaturedCollectionsQuery>;\nexport type InstanceFeaturedCollectionsLazyQueryHookResult = ReturnType<typeof useInstanceFeaturedCollectionsLazyQuery>;\nexport type InstanceFeaturedCollectionsQueryResult = ApolloReactCommon.QueryResult<InstanceFeaturedCollectionsQuery, InstanceFeaturedCollectionsQueryVariables>;\n\n\nexport interface InstanceFeaturedCollectionsQueryOperation {\n  operationName: 'instanceFeaturedCollections'\n  result: InstanceFeaturedCollectionsQuery\n  variables: InstanceFeaturedCollectionsQueryVariables\n  type: 'query'\n}\nexport const InstanceFeaturedCollectionsQueryName:InstanceFeaturedCollectionsQueryOperation['operationName'] = 'instanceFeaturedCollections'\n\nexport const InstanceFeaturedCollectionsQueryRefetch = (\n  variables:InstanceFeaturedCollectionsQueryVariables, \n  context?:any\n)=>({\n  query:InstanceFeaturedCollectionsDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport { DiscoverPageFeaturedCommunityInfoFragment } from '../../pages/discover/DiscoverPage.generated';\nimport gql from 'graphql-tag';\nimport { DiscoverPageFeaturedCommunityInfoFragmentDoc } from '../../pages/discover/DiscoverPage.generated';\n\n\nexport type CommunityFeatureFragment = (\n  { __typename: 'Feature' }\n  & Pick<Types.Feature, 'id'>\n  & { context: Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | (\n    { __typename: 'Community' }\n    & DiscoverPageFeaturedCommunityInfoFragment\n  ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\nexport const CommunityFeatureFragmentDoc = gql`\n    fragment CommunityFeature on Feature {\n  id\n  context {\n    ...DiscoverPageFeaturedCommunityInfo\n  }\n}\n    ${DiscoverPageFeaturedCommunityInfoFragmentDoc}`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommunityFeatureFragment } from '../../../HOC/modules/FeaturedCommunities/featuredCommunity.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CommunityFeatureFragmentDoc } from '../../../HOC/modules/FeaturedCommunities/featuredCommunity.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type InstanceFeaturedCommunitiesQueryVariables = {};\n\n\nexport type InstanceFeaturedCommunitiesQuery = (\n  { __typename: 'RootQueryType' }\n  & { instance: Types.Maybe<(\n    { __typename: 'Instance' }\n    & { featuredCommunities: Types.Maybe<(\n      { __typename: 'FeaturesPage' }\n      & Pick<Types.FeaturesPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Feature' }\n        & CommunityFeatureFragment\n      )> }\n    )> }\n  )> }\n);\n\n\nexport const InstanceFeaturedCommunitiesDocument = gql`\n    query instanceFeaturedCommunities {\n  instance {\n    featuredCommunities @connection(key: \"instanceFeaturedCommunities\") {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...CommunityFeature\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CommunityFeatureFragmentDoc}`;\n\n/**\n * __useInstanceFeaturedCommunitiesQuery__\n *\n * To run a query within a React component, call `useInstanceFeaturedCommunitiesQuery` and pass it any options that fit your needs.\n * When your component renders, `useInstanceFeaturedCommunitiesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useInstanceFeaturedCommunitiesQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useInstanceFeaturedCommunitiesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<InstanceFeaturedCommunitiesQuery, InstanceFeaturedCommunitiesQueryVariables>) {\n        return ApolloReactHooks.useQuery<InstanceFeaturedCommunitiesQuery, InstanceFeaturedCommunitiesQueryVariables>(InstanceFeaturedCommunitiesDocument, baseOptions);\n      }\nexport function useInstanceFeaturedCommunitiesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<InstanceFeaturedCommunitiesQuery, InstanceFeaturedCommunitiesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<InstanceFeaturedCommunitiesQuery, InstanceFeaturedCommunitiesQueryVariables>(InstanceFeaturedCommunitiesDocument, baseOptions);\n        }\nexport type InstanceFeaturedCommunitiesQueryHookResult = ReturnType<typeof useInstanceFeaturedCommunitiesQuery>;\nexport type InstanceFeaturedCommunitiesLazyQueryHookResult = ReturnType<typeof useInstanceFeaturedCommunitiesLazyQuery>;\nexport type InstanceFeaturedCommunitiesQueryResult = ApolloReactCommon.QueryResult<InstanceFeaturedCommunitiesQuery, InstanceFeaturedCommunitiesQueryVariables>;\n\n\nexport interface InstanceFeaturedCommunitiesQueryOperation {\n  operationName: 'instanceFeaturedCommunities'\n  result: InstanceFeaturedCommunitiesQuery\n  variables: InstanceFeaturedCommunitiesQueryVariables\n  type: 'query'\n}\nexport const InstanceFeaturedCommunitiesQueryName:InstanceFeaturedCommunitiesQueryOperation['operationName'] = 'instanceFeaturedCommunities'\n\nexport const InstanceFeaturedCommunitiesQueryRefetch = (\n  variables:InstanceFeaturedCommunitiesQueryVariables, \n  context?:any\n)=>({\n  query:InstanceFeaturedCommunitiesDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type AddFeaturedMutationVariables = {\n  contextId: Types.Scalars['String']\n};\n\n\nexport type AddFeaturedMutation = (\n  { __typename: 'RootMutationType' }\n  & { createFeature: Types.Maybe<(\n    { __typename: 'Feature' }\n    & { context: Types.Maybe<{ __typename: 'Category' } | (\n      { __typename: 'Collection' }\n      & Pick<Types.Collection, 'id'>\n    ) | { __typename: 'Comment' } | (\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id'>\n    ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n  )> }\n);\n\n\nexport const AddFeaturedDocument = gql`\n    mutation addFeatured($contextId: String!) {\n  createFeature(contextId: $contextId) {\n    context {\n      ... on Collection {\n        id\n      }\n      ... on Community {\n        id\n      }\n    }\n  }\n}\n    `;\nexport type AddFeaturedMutationFn = ApolloReactCommon.MutationFunction<AddFeaturedMutation, AddFeaturedMutationVariables>;\n\n/**\n * __useAddFeaturedMutation__\n *\n * To run a mutation, you first call `useAddFeaturedMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddFeaturedMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addFeaturedMutation, { data, loading, error }] = useAddFeaturedMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *   },\n * });\n */\nexport function useAddFeaturedMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AddFeaturedMutation, AddFeaturedMutationVariables>) {\n        return ApolloReactHooks.useMutation<AddFeaturedMutation, AddFeaturedMutationVariables>(AddFeaturedDocument, baseOptions);\n      }\nexport type AddFeaturedMutationHookResult = ReturnType<typeof useAddFeaturedMutation>;\nexport type AddFeaturedMutationResult = ApolloReactCommon.MutationResult<AddFeaturedMutation>;\nexport type AddFeaturedMutationOptions = ApolloReactCommon.BaseMutationOptions<AddFeaturedMutation, AddFeaturedMutationVariables>;\n\n\nexport interface AddFeaturedMutationOperation {\n  operationName: 'addFeatured'\n  result: AddFeaturedMutation\n  variables: AddFeaturedMutationVariables\n  type: 'mutation'\n}\nexport const AddFeaturedMutationName:AddFeaturedMutationOperation['operationName'] = 'addFeatured'\n\nexport const AddFeaturedMutationRefetch = (\n  variables:AddFeaturedMutationVariables, \n  context?:any\n)=>({\n  query:AddFeaturedDocument,\n  variables,\n  context\n})\n      \n","import { InstanceFeaturedCollectionsQueryRefetch } from 'fe/instance/featuredCollections/instanceFeaturedCollections.generated';\nimport { InstanceFeaturedCommunitiesQueryRefetch } from 'fe/instance/featuredCommunities/instanceFeaturedCommunities.generated';\nimport { useAddFeaturedMutation } from 'fe/mutation/feature/useMutateFeature.generated';\nimport { Collection, Community, Feature } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\n\nexport type Actor = Collection | Community;\n\nexport type UseFeaturedContext =\n  | {\n      isFeatured: false;\n      actor: /* Maybe< */ Pick<Actor, 'id' | '__typename'> /* > */;\n    }\n  | {\n      isFeatured: true;\n      featureId: Feature['id'];\n      __typename: Actor['__typename'];\n    };\n\nexport const useFeaturedContext = (ctx: UseFeaturedContext) => {\n  const [addFeaturedMut, addFeaturedMutStatus] = useAddFeaturedMutation();\n  const mutating = addFeaturedMutStatus.loading;\n  // const featuredCollectionsQ = useFeaturedCollectionsQuery();\n  // const featuredCommunitiesQ = useFeaturedCommunitiesQuery();\n\n  // const featuredCommunities = useMemo(\n  //   () => manageEdges(featuredCommunitiesQ.data?.instance?.featuredCommunities),\n  //   [featuredCommunitiesQ]\n  // );\n\n  // const featuredCollections = useMemo(\n  //   () => manageEdges(featuredCollectionsQ.data?.instance?.featuredCollections),\n  //   [featuredCollectionsQ]\n  // );\n\n  // const isFeatured = useMemo(\n  //   () =>\n  //     !ctx || !ctx.__typename\n  //       ? null\n  //       : ctx.__typename === 'Collection'\n  //       ? !!featuredCollections.find(\n  //           featCollection => featCollection.id === ctx.id\n  //         )\n  //       : ctx.__typename === 'Community'\n  //       ? !!featuredCommunities.find(\n  //           featCommunity => featCommunity.id === ctx.id\n  //         )\n  //       : null,\n  //   [featuredCollections, featuredCommunities, ctx]\n  // );\n\n  const toggleFeatured = useCallOrNotifyMustLogin(async () => {\n    if (!ctx.isFeatured) {\n      const { id, __typename } = ctx.actor;\n      if (!id || !__typename || mutating) {\n        return;\n      }\n\n      return addFeaturedMut({\n        variables: {\n          contextId: id\n        },\n        refetchQueries: [\n          __typename === 'Community'\n            ? InstanceFeaturedCommunitiesQueryRefetch({})\n            : InstanceFeaturedCollectionsQueryRefetch({})\n        ]\n      });\n    }\n  }, [ctx]);\n\n  return useMemo(\n    () => ({\n      // isFeatured,\n      toggleFeatured\n    }),\n    [toggleFeatured /* , isFeatured */]\n  );\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Heading, Text } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport styled from 'ui/themes/styled';\nimport { FormikHook } from 'ui/@types/types';\nimport { Actions, Container, ContainerForm, Header, Row } from 'ui/modules/Modal';\n\nexport interface Props {\n  cancel(): any;\n  isFeatured: boolean;\n  itemType: string;\n  itemName: string;\n  formik: FormikHook;\n}\n\nexport const FeaturedModal: React.FC<Props> = ({\n  cancel,\n  isFeatured,\n  itemName,\n  itemType,\n  formik\n}) => {\n  // const { i18n } = React.useContext(LocaleContext);\n  return !isFeatured ? (\n    <Container>\n      <Header>\n        <Heading m={2}>\n          <Trans>Add To Featured List</Trans>\n        </Heading>\n      </Header>\n      <Row>\n        <ContainerForm>\n          <Text>\n            Are you sure you want to add {itemName} {itemType} to the featured list of the Discover\n            Page?\n          </Text>\n        </ContainerForm>\n      </Row>\n      <Actions>\n        <SubmitButton\n          variant=\"primary\"\n          isSubmitting={formik.isSubmitting}\n          isDisabled={formik.isSubmitting}\n          type=\"submit\"\n          style={{ marginLeft: '10px' }}\n          onClick={formik.submitForm}\n        >\n          <Trans>Add</Trans>\n        </SubmitButton>\n        <Button variant=\"outline\" onClick={cancel}>\n          <Trans>Cancel</Trans>\n        </Button>\n      </Actions>\n    </Container>\n  ) : (\n    <Container>\n      <Header>\n        <Heading m={2}>\n          <Trans>Remove from Featured List</Trans>\n        </Heading>\n      </Header>\n      <Row>\n        <ContainerForm>\n          <Text>\n            Are you sure you want to remove {itemName} {itemType} from the featured list of the\n            Discover Page?\n          </Text>\n        </ContainerForm>\n      </Row>\n      <Actions>\n        <SubmitButton\n          variant=\"primary\"\n          isSubmitting={formik.isSubmitting}\n          isDisabled={formik.isSubmitting}\n          style={{ marginLeft: '10px' }}\n          onClick={formik.submitForm}\n        >\n          <Trans>Remove</Trans>\n        </SubmitButton>\n        <Button variant=\"outline\" onClick={cancel}>\n          <Trans>Cancel</Trans>\n        </Button>\n      </Actions>\n    </Container>\n  );\n};\n\nexport default FeaturedModal;\n\nconst SubmitButton = styled(Button)`\n  margin-left: 8px;\n  .--rtl & {\n    margin-right: 8px;\n    margin-left: 0px;\n  }\n`;\n","import React, { FC, useMemo } from 'react';\nimport {\n  Actor,\n  useFeaturedContext,\n  UseFeaturedContext\n} from 'fe/context/feature/useFeatureContext';\nimport { useFormik } from 'formik';\nimport { Feature } from 'graphql/types.generated';\nimport FeaturedModalUI, { Props } from 'ui/modules/FeaturedModal';\n\nexport interface FeatureModal {\n  ctx: Pick<Actor, 'id' | '__typename' | 'name'>;\n  featureId: undefined | null | Feature['id'];\n  done(): unknown;\n}\nexport const FeatureModalHOC: FC<FeatureModal> = ({ ctx, featureId, done }) => {\n  const featuredContext = useMemo<UseFeaturedContext>(\n    () =>\n      featureId\n        ? {\n            isFeatured: true,\n            featureId: featureId,\n            __typename: ctx.__typename\n          }\n        : { isFeatured: false, actor: ctx },\n    [ctx, featureId]\n  );\n\n  const { toggleFeatured } = useFeaturedContext(featuredContext);\n\n  const toggleFeaturedFormik = useFormik({\n    initialValues: {},\n    onSubmit: () => toggleFeatured().then(done)\n  });\n\n  const props = useMemo<null | Props>(() => {\n    const props: Props = {\n      isFeatured: !!featureId,\n      itemName: ctx.name,\n      itemType: ctx.__typename || '',\n      formik: toggleFeaturedFormik,\n      cancel: done\n    };\n\n    return props;\n  }, [ctx.__typename, ctx.name, done, featureId, toggleFeaturedFormik]);\n\n  return props && <FeaturedModalUI {...props} />;\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport { FlagPreviewFragment } from '../../../HOC/modules/previews/flag/FlagPreview.generated';\nimport gql from 'graphql-tag';\nimport { FlagPreviewFragmentDoc } from '../../../HOC/modules/previews/flag/FlagPreview.generated';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type AllFlagsQueryVariables = {\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type AllFlagsQuery = (\n  { __typename: 'RootQueryType' }\n  & { flags: Types.Maybe<(\n    { __typename: 'FlagsPage' }\n    & Pick<Types.FlagsPage, 'totalCount'>\n    & { edges: Array<(\n      { __typename: 'Flag' }\n      & FlagPreviewFragment\n    )>, pageInfo: (\n      { __typename: 'PageInfo' }\n      & FullPageInfoFragment\n    ) }\n  )> }\n);\n\n\nexport const AllFlagsDocument = gql`\n    query allFlags($limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  flags(limit: $limit, before: $before, after: $after) @connection(key: \"allFlags\") {\n    edges {\n      ...FlagPreview\n    }\n    totalCount\n    pageInfo {\n      ...FullPageInfo\n    }\n  }\n}\n    ${FlagPreviewFragmentDoc}\n${FullPageInfoFragmentDoc}`;\n\n/**\n * __useAllFlagsQuery__\n *\n * To run a query within a React component, call `useAllFlagsQuery` and pass it any options that fit your needs.\n * When your component renders, `useAllFlagsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useAllFlagsQuery({\n *   variables: {\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useAllFlagsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<AllFlagsQuery, AllFlagsQueryVariables>) {\n        return ApolloReactHooks.useQuery<AllFlagsQuery, AllFlagsQueryVariables>(AllFlagsDocument, baseOptions);\n      }\nexport function useAllFlagsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<AllFlagsQuery, AllFlagsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<AllFlagsQuery, AllFlagsQueryVariables>(AllFlagsDocument, baseOptions);\n        }\nexport type AllFlagsQueryHookResult = ReturnType<typeof useAllFlagsQuery>;\nexport type AllFlagsLazyQueryHookResult = ReturnType<typeof useAllFlagsLazyQuery>;\nexport type AllFlagsQueryResult = ApolloReactCommon.QueryResult<AllFlagsQuery, AllFlagsQueryVariables>;\n\n\nexport interface AllFlagsQueryOperation {\n  operationName: 'allFlags'\n  result: AllFlagsQuery\n  variables: AllFlagsQueryVariables\n  type: 'query'\n}\nexport const AllFlagsQueryName:AllFlagsQueryOperation['operationName'] = 'allFlags'\n\nexport const AllFlagsQueryRefetch = (\n  variables:AllFlagsQueryVariables, \n  context?:any\n)=>({\n  query:AllFlagsDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type FlagMutationVariables = {\n  contextId: Types.Scalars['String'],\n  message: Types.Scalars['String']\n};\n\n\nexport type FlagMutation = (\n  { __typename: 'RootMutationType' }\n  & { createFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & { context: { __typename: 'Category' } | (\n      { __typename: 'Collection' }\n      & Pick<Types.Collection, 'id'>\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) | (\n      { __typename: 'Comment' }\n      & Pick<Types.Comment, 'id'>\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) | (\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id'>\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | (\n      { __typename: 'Resource' }\n      & Pick<Types.Resource, 'id'>\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n      { __typename: 'User' }\n      & { userId: Types.User['id'] }\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) }\n  )> }\n);\n\nexport type UnflagMutationVariables = {\n  contextId: Types.Scalars['String']\n};\n\n\nexport type UnflagMutation = (\n  { __typename: 'RootMutationType' }\n  & { delete: Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | (\n    { __typename: 'Flag' }\n    & { context: { __typename: 'Category' } | (\n      { __typename: 'Collection' }\n      & Pick<Types.Collection, 'id'>\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) | (\n      { __typename: 'Comment' }\n      & Pick<Types.Comment, 'id'>\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) | (\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id'>\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | (\n      { __typename: 'Resource' }\n      & Pick<Types.Resource, 'id'>\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n      { __typename: 'User' }\n      & { userId: Types.User['id'] }\n      & { myFlag: Types.Maybe<(\n        { __typename: 'Flag' }\n        & Pick<Types.Flag, 'id'>\n      )> }\n    ) }\n  ) | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\n\nexport const FlagDocument = gql`\n    mutation flag($contextId: String!, $message: String!) {\n  createFlag(contextId: $contextId, message: $message) {\n    context {\n      ... on Collection {\n        id\n        myFlag {\n          id\n        }\n      }\n      ... on Comment {\n        id\n        myFlag {\n          id\n        }\n      }\n      ... on Community {\n        id\n        myFlag {\n          id\n        }\n      }\n      ... on Resource {\n        id\n        myFlag {\n          id\n        }\n      }\n      ... on User {\n        userId: id\n        myFlag {\n          id\n        }\n      }\n    }\n  }\n}\n    `;\nexport type FlagMutationFn = ApolloReactCommon.MutationFunction<FlagMutation, FlagMutationVariables>;\n\n/**\n * __useFlagMutation__\n *\n * To run a mutation, you first call `useFlagMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useFlagMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [flagMutation, { data, loading, error }] = useFlagMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *      message: // value for 'message'\n *   },\n * });\n */\nexport function useFlagMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<FlagMutation, FlagMutationVariables>) {\n        return ApolloReactHooks.useMutation<FlagMutation, FlagMutationVariables>(FlagDocument, baseOptions);\n      }\nexport type FlagMutationHookResult = ReturnType<typeof useFlagMutation>;\nexport type FlagMutationResult = ApolloReactCommon.MutationResult<FlagMutation>;\nexport type FlagMutationOptions = ApolloReactCommon.BaseMutationOptions<FlagMutation, FlagMutationVariables>;\nexport const UnflagDocument = gql`\n    mutation unflag($contextId: String!) {\n  delete(contextId: $contextId) {\n    ... on Flag {\n      context {\n        ... on Collection {\n          id\n          myFlag {\n            id\n          }\n        }\n        ... on Comment {\n          id\n          myFlag {\n            id\n          }\n        }\n        ... on Community {\n          id\n          myFlag {\n            id\n          }\n        }\n        ... on Resource {\n          id\n          myFlag {\n            id\n          }\n        }\n        ... on User {\n          userId: id\n          myFlag {\n            id\n          }\n        }\n      }\n    }\n  }\n}\n    `;\nexport type UnflagMutationFn = ApolloReactCommon.MutationFunction<UnflagMutation, UnflagMutationVariables>;\n\n/**\n * __useUnflagMutation__\n *\n * To run a mutation, you first call `useUnflagMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUnflagMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [unflagMutation, { data, loading, error }] = useUnflagMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *   },\n * });\n */\nexport function useUnflagMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<UnflagMutation, UnflagMutationVariables>) {\n        return ApolloReactHooks.useMutation<UnflagMutation, UnflagMutationVariables>(UnflagDocument, baseOptions);\n      }\nexport type UnflagMutationHookResult = ReturnType<typeof useUnflagMutation>;\nexport type UnflagMutationResult = ApolloReactCommon.MutationResult<UnflagMutation>;\nexport type UnflagMutationOptions = ApolloReactCommon.BaseMutationOptions<UnflagMutation, UnflagMutationVariables>;\n\n\nexport interface FlagMutationOperation {\n  operationName: 'flag'\n  result: FlagMutation\n  variables: FlagMutationVariables\n  type: 'mutation'\n}\nexport const FlagMutationName:FlagMutationOperation['operationName'] = 'flag'\n\nexport const FlagMutationRefetch = (\n  variables:FlagMutationVariables, \n  context?:any\n)=>({\n  query:FlagDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface UnflagMutationOperation {\n  operationName: 'unflag'\n  result: UnflagMutation\n  variables: UnflagMutationVariables\n  type: 'mutation'\n}\nexport const UnflagMutationName:UnflagMutationOperation['operationName'] = 'unflag'\n\nexport const UnflagMutationRefetch = (\n  variables:UnflagMutationVariables, \n  context?:any\n)=>({\n  query:UnflagDocument,\n  variables,\n  context\n})\n      \n","import { AllFlagsQueryRefetch } from 'fe/flags/all/useAllFlags.generated';\nimport { isOptimisticId, OPTIMISTIC_ID_STRING } from 'fe/lib/helpers/mutations';\nimport * as GQL from 'fe/mutation/flag/useMutateFlag.generated';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { Collection, Comment, Community, Resource, User, Flag } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\n\ntype Context = Collection | Comment | Community | User | Resource;\n\nexport type FollowContext = Pick<Context, 'id' | '__typename'> & {\n  myFlag: Maybe<Pick<Flag, 'id'>>;\n};\n\nexport type UseFollowContext = Maybe<FollowContext>;\n\nexport const useFlagContext = (ctx: Maybe<UseFollowContext>) => {\n  const [flagMut, flagMutStatus] = GQL.useFlagMutation();\n  const [unflagMut, unflagMutStatus] = GQL.useUnflagMutation();\n  const mutating = flagMutStatus.loading || unflagMutStatus.loading;\n  const flag = useCallOrNotifyMustLogin(\n    async (message: string) => {\n      if (!ctx || ctx.myFlag || mutating) {\n        return;\n      }\n      return flagMut({\n        variables: {\n          contextId: ctx.id,\n          message\n        },\n        optimisticResponse: optimisticFlag(ctx.__typename, ctx.id),\n        refetchQueries: [AllFlagsQueryRefetch({})]\n      });\n    },\n    [ctx, mutating]\n  );\n\n  const unflag = useCallOrNotifyMustLogin(async () => {\n    if (!ctx || !ctx.myFlag || mutating) {\n      return;\n    }\n    return isOptimisticId(ctx.myFlag.id)\n      ? undefined\n      : unflagMut({\n          variables: {\n            contextId: ctx.myFlag.id\n          },\n          optimisticResponse: optimisticUnflag(ctx.__typename, ctx.id)\n        });\n  }, [ctx, mutating]);\n\n  return useMemo(\n    () => ({\n      flag,\n      unflag\n    }),\n    [flag, unflag]\n  );\n};\n\nconst optimisticFlag = (__typename: any, id: string): GQL.FlagMutation => ({\n  __typename: 'RootMutationType',\n  createFlag: {\n    __typename: 'Flag',\n    context: {\n      __typename,\n      id,\n      myFlag: { __typename: 'Flag', id: OPTIMISTIC_ID_STRING }\n    }\n  }\n});\nconst optimisticUnflag = (__typename: any, id: string): GQL.UnflagMutation => ({\n  __typename: 'RootMutationType',\n  delete: {\n    __typename: 'Flag',\n    context: {\n      __typename,\n      id,\n      myFlag: null\n    }\n  }\n});\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport * as React from 'react';\nimport { LocaleContext } from '../../../context/global/localizationCtx';\nimport { Textarea } from '@rebass/forms';\nimport { Heading } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport styled from 'ui/themes/styled';\nimport Alert from '../../elements/Alert';\nimport { FormikHook } from 'ui/@types/types';\nimport {\n  Actions,\n  AlertWrapper,\n  Container,\n  ContainerForm,\n  CounterChars,\n  Header,\n  Row\n} from 'ui/modules/Modal';\n\nconst tt = {\n  placeholders: {\n    flag: i18nMark('Please describe the reason for flagging the item')\n  }\n};\n\nexport interface Props {\n  cancel(): any;\n  isFlagged: boolean;\n  flagFormik: FormikHook<BasicCreateFlagFormValues>;\n  unflagFormik: FormikHook;\n}\n\nexport interface BasicCreateFlagFormValues {\n  reason: string;\n}\n\nexport const FlagModal: React.FC<Props> = ({ cancel, flagFormik, isFlagged, unflagFormik }) => {\n  const { i18n } = React.useContext(LocaleContext);\n\n  return !isFlagged ? (\n    <Container>\n      <Header>\n        <Heading>\n          <Trans>Report as inappropriate</Trans>\n        </Heading>\n      </Header>\n      <Row big>\n        <ContainerForm>\n          <Textarea\n            placeholder={i18n._(tt.placeholders.flag)}\n            name=\"reason\"\n            value={flagFormik.values.reason}\n            onChange={flagFormik.handleChange}\n          />\n          <CounterChars>{200 - flagFormik.values.reason.length}</CounterChars>\n          {flagFormik.errors.reason && (\n            <AlertWrapper>\n              <Alert variant=\"negative\">{flagFormik.errors.reason}</Alert>\n            </AlertWrapper>\n          )}\n        </ContainerForm>\n      </Row>\n      <Actions>\n        <SubmitButton\n          variant=\"primary\"\n          isSubmitting={flagFormik.isSubmitting}\n          isDisabled={flagFormik.isSubmitting}\n          type=\"submit\"\n          style={{ marginLeft: '10px' }}\n          onClick={flagFormik.submitForm}\n        >\n          <Trans>Send</Trans>\n        </SubmitButton>\n        <Button variant=\"outline\" onClick={cancel}>\n          <Trans>Cancel</Trans>\n        </Button>\n      </Actions>\n    </Container>\n  ) : (\n    <Container>\n      <Header>\n        <Heading>\n          <Trans>Unflag</Trans>\n        </Heading>\n      </Header>\n      <Row>\n        <ContainerForm>\n          <Trans>Are you sure you want to unflag this item?</Trans>\n        </ContainerForm>\n      </Row>\n      <Actions>\n        <Button\n          variant=\"primary\"\n          isSubmitting={unflagFormik.isSubmitting}\n          isDisabled={unflagFormik.isSubmitting}\n          onClick={unflagFormik.submitForm}\n          style={{ marginLeft: '10px' }}\n        >\n          <Trans>Unflag</Trans>\n        </Button>\n        <Button variant=\"outline\" onClick={cancel}>\n          <Trans>Cancel</Trans>\n        </Button>\n      </Actions>\n    </Container>\n  );\n};\n\nexport default FlagModal;\n\nconst SubmitButton = styled(Button)`\n  margin-left: 8px;\n  .--rtl & {\n    margin-right: 8px;\n    margin-left: 0px;\n  }\n`;\n","import { FollowContext, useFlagContext } from 'fe/context/flag/useFlagContext';\nimport { useFormik } from 'formik';\nimport React, { FC } from 'react';\nimport { BasicCreateFlagFormValues, FlagModal } from 'ui/modules/FlagModal';\nimport * as Yup from 'yup';\n\nexport const validationSchema: Yup.ObjectSchema<BasicCreateFlagFormValues> = Yup.object<\n  BasicCreateFlagFormValues\n>({\n  reason: Yup.string()\n    .max(200)\n    .required()\n});\n\nexport interface FlagModalHOC {\n  ctx: FollowContext;\n  done(): any;\n}\n\nexport const FlagModalHOC: FC<FlagModalHOC> = ({ done, ctx }) => {\n  const { unflag, flag } = useFlagContext(ctx);\n\n  const unflagFormik = useFormik({\n    onSubmit: () => {\n      unflag();\n      done();\n    },\n    initialValues: {}\n  });\n\n  const flagFormik = useFormik<BasicCreateFlagFormValues>({\n    enableReinitialize: true,\n    onSubmit: vals => {\n      flag(vals.reason);\n      done();\n    },\n    validationSchema,\n    initialValues: { reason: '' }\n  });\n  return (\n    <FlagModal\n      cancel={done}\n      isFlagged={!!ctx.myFlag}\n      flagFormik={flagFormik}\n      unflagFormik={unflagFormik}\n    />\n  );\n};\n\nexport default FlagModalHOC;\n","import { useCommunity } from 'fe/community/useCommunity';\nimport { useMe } from 'fe/session/useMe';\nimport { useFormik } from 'formik';\nimport { Community } from 'graphql/types.generated';\nimport React, { FC, useMemo, useReducer } from 'react';\nimport HeroCommunityUI, { Props as HeroProps, Status } from 'ui/modules/HeroCommunity';\nimport { EditCommunityPanelHOC } from 'HOC/modules/EditCommunityPanel/editCommunityPanelHOC';\nimport { FeatureModalHOC } from 'HOC/modules/FeatureModal/FeatureModal';\nimport { FlagModalHOC } from 'HOC/modules/FlagModal/flagModalHOC';\nimport { useNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport Modal from 'ui/modules/Modal';\n\nexport interface HeroCommunity {\n  communityId: Community['id'];\n  basePath: string;\n}\n\nexport const HeroCommunity: FC<HeroCommunity> = ({ communityId, basePath }) => {\n  const { isAdmin } = useMe();\n  const { toggleJoin, community, canModify, isCreator } = useCommunity(communityId);\n\n  const toggleJoinFormik = useFormik<{}>({\n    initialValues: {},\n    onSubmit: toggleJoin\n  });\n\n  const notifiedMustLogin = useNotifyMustLogin();\n  const [isOpenDropdown, toggleDropdown] = React.useReducer(is => !is, false);\n\n  const [isEditing, toggleEditing] = useReducer(is => {\n    return !canModify || notifiedMustLogin() ? false : !is;\n  }, false);\n  const EditModal =\n    community && isEditing ? (\n      <Modal closeModal={toggleEditing}>\n        <EditCommunityPanelHOC communityId={community.id} done={toggleEditing} />\n      </Modal>\n    ) : null;\n\n  const [isFlagging, toggleFlagging] = useReducer(is => {\n    return notifiedMustLogin() ? false : !is;\n  }, false);\n  const FlagModal =\n    community && isFlagging ? (\n      <Modal closeModal={toggleFlagging}>\n        <FlagModalHOC done={toggleFlagging} ctx={community} />\n      </Modal>\n    ) : null;\n\n  const [isAddingToFeatured, toggleAddToFeatured] = useReducer(is => {\n    return !isAdmin || notifiedMustLogin() ? false : !is;\n  }, false);\n  const AddToFeaturedModal =\n    community && isAddingToFeatured ? (\n      <Modal closeModal={toggleAddToFeatured}>\n        <FeatureModalHOC done={toggleAddToFeatured} ctx={community} featureId={null} />\n      </Modal>\n    ) : null;\n\n  const heroProps = useMemo<HeroProps>(() => {\n    if (!community) {\n      const props: HeroProps = {\n        community: {\n          status: Status.Loading\n        }\n      };\n      return props;\n    }\n\n    const props: HeroProps = {\n      community: {\n        basePath,\n        status: Status.Loaded,\n        canModify,\n        isAdmin,\n        isCreator,\n        following: !!community.myFollow,\n        isFlagged: !!community.myFlag,\n        icon: community.icon?.url || '',\n        name: community.name,\n        fullName: community.displayUsername,\n        totalMembers: community.followerCount || 0,\n        summary: community.summary || '',\n        toggleJoinFormik,\n        addToFeatured: toggleAddToFeatured,\n        edit: toggleEditing,\n        flag: toggleFlagging,\n        isOpenDropdown,\n        toggleDropdown\n      }\n    };\n    return props;\n  }, [community, basePath, canModify, isAdmin, isCreator, toggleJoinFormik, isOpenDropdown]);\n\n  return (\n    <>\n      {EditModal}\n      {FlagModal}\n      {AddToFeaturedModal}\n      <HeroCommunityUI {...heroProps} />\n    </>\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { ActivityPreviewFragment } from '../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport gql from 'graphql-tag';\nimport { ActivityPreviewFragmentDoc } from '../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type ActivityPreviewQueryVariables = {\n  activityId: Types.Scalars['String']\n};\n\n\nexport type ActivityPreviewQuery = (\n  { __typename: 'RootQueryType' }\n  & { activity: Types.Maybe<(\n    { __typename: 'Activity' }\n    & Pick<Types.Activity, 'id'>\n    & ActivityPreviewFragment\n  )> }\n);\n\n\nexport const ActivityPreviewDocument = gql`\n    query activityPreview($activityId: String!) {\n  activity(activityId: $activityId) {\n    id\n    ...ActivityPreview\n  }\n}\n    ${ActivityPreviewFragmentDoc}`;\n\n/**\n * __useActivityPreviewQuery__\n *\n * To run a query within a React component, call `useActivityPreviewQuery` and pass it any options that fit your needs.\n * When your component renders, `useActivityPreviewQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useActivityPreviewQuery({\n *   variables: {\n *      activityId: // value for 'activityId'\n *   },\n * });\n */\nexport function useActivityPreviewQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<ActivityPreviewQuery, ActivityPreviewQueryVariables>) {\n        return ApolloReactHooks.useQuery<ActivityPreviewQuery, ActivityPreviewQueryVariables>(ActivityPreviewDocument, baseOptions);\n      }\nexport function useActivityPreviewLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ActivityPreviewQuery, ActivityPreviewQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<ActivityPreviewQuery, ActivityPreviewQueryVariables>(ActivityPreviewDocument, baseOptions);\n        }\nexport type ActivityPreviewQueryHookResult = ReturnType<typeof useActivityPreviewQuery>;\nexport type ActivityPreviewLazyQueryHookResult = ReturnType<typeof useActivityPreviewLazyQuery>;\nexport type ActivityPreviewQueryResult = ApolloReactCommon.QueryResult<ActivityPreviewQuery, ActivityPreviewQueryVariables>;\n\n\nexport interface ActivityPreviewQueryOperation {\n  operationName: 'activityPreview'\n  result: ActivityPreviewQuery\n  variables: ActivityPreviewQueryVariables\n  type: 'query'\n}\nexport const ActivityPreviewQueryName:ActivityPreviewQueryOperation['operationName'] = 'activityPreview'\n\nexport const ActivityPreviewQueryRefetch = (\n  variables:ActivityPreviewQueryVariables, \n  context?:any\n)=>({\n  query:ActivityPreviewDocument,\n  variables,\n  context\n})\n      \n","import Maybe from 'graphql/tsutils/Maybe';\nimport { ActivityPreviewFragment } from 'HOC/modules/previews/activity/ActivityPreview.generated';\nimport { ActorPreviewFragment } from 'fe/lib/activity/types';\n\nexport const getActivityMainContext = (\n  context: Maybe<ActivityPreviewFragment['context']>\n): Maybe<ActorPreviewFragment> => {\n  if (\n    !context ||\n    context.__typename === 'Category' ||\n    context.__typename === 'Intent' ||\n    context.__typename === 'Organisation' ||\n    context.__typename === 'SpatialThing' ||\n    context.__typename === 'Taggable'\n  ) {\n    return null;\n  }\n  if (\n    context.__typename === 'Flag' ||\n    context.__typename === 'Follow' ||\n    context.__typename === 'Like'\n  ) {\n    if (!context.context) {\n      return null;\n    }\n\n    if (\n      context.context.__typename === 'Flag' ||\n      context.context.__typename === 'Comment' ||\n      context.context.__typename === 'Follow' ||\n      context.context.__typename === 'Like' ||\n      context.context.__typename === 'Resource'\n    ) {\n      return null;\n    }\n    return getActivityMainContext(context.context);\n  }\n  // \"Collection\" | \"Comment\" | \"Community\" | \"Resource\" | \"User\"\n  return context;\n};\n","import { ActivityPreviewFragment } from 'HOC/modules/previews/activity/ActivityPreview.generated';\nimport { ActivityVerb } from 'graphql/types.generated';\nimport { getActivityMainContext } from './getActivityMainContext';\nimport Maybe from 'graphql/tsutils/Maybe';\n\nexport const getEventString = (activity: Maybe<ActivityPreviewFragment>) => {\n  return activity\n    ? getEventStringByContext(activity.context, activity.verb)\n    : '';\n};\nexport const getEventStringByContext = (\n  context: ActivityPreviewFragment['context'],\n  verb: ActivityVerb\n) => {\n  if (!context) {\n    return '';\n  }\n  const mainContext = getActivityMainContext(context);\n  if (!mainContext) {\n    return '';\n  }\n  const { __typename } = mainContext;\n  const event =\n    context.__typename === 'Flag'\n      ? `Flagged a ${__typename}`\n      : context.__typename === 'Like'\n      ? `Starred a ${__typename}`\n      : context.__typename === 'Follow'\n      ? `Followed a ${__typename}`\n      : context.__typename === 'Resource'\n      ? `Added a ${__typename}`\n      : context.__typename === 'Comment'\n      ? context.inReplyTo\n        ? `Replied to a discussion`\n        : `Started a discussion`\n      : verb === ActivityVerb.Created\n      ? `Created a ${__typename}`\n      : verb === ActivityVerb.Updated\n      ? `Updated a ${__typename}`\n      : `Acted on a ${__typename}`;\n\n  return event;\n};\n","import { Textarea } from '@rebass/forms';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Flex } from 'rebass/styled-components';\n// import { dropEmoji } from '../../lib/pagination';\n// import EmojiPicker from 'pagination-picker-react';\n// import OutsideClickHandler from 'react-outside-click-handler';\nimport Button from 'ui/elements/Button';\nimport styled from 'ui/themes/styled';\nimport { Trans } from '@lingui/macro';\n// const PickerWrap = styled.div`\n//   position: absolute;\n//   right: 10px;\n//   top: 45px;\n//   z-index: 999999999999999999;\n// `;\nconst Wrapper = styled(Flex)`\n  width: 100%;\n  position: relative;\n  height: 200px;\n  flex-direction: column;\n`;\nconst SocialTextDiv = styled(Flex)`\n  position: relative;\n  width: 100%;\n  align-items: center;\n  border: ${props => props.theme.colors.border};\n  border-radius: 4px;\n  margin-bottom: 8px;\n  background: white;\n  flex: 1;\n`;\n// const EmojiPickerTrigger = styled(Box)`\n//   cursor: pointer;\n//   &:hover {\n//     svg {\n//       stroke: ${props => props.theme.colors.primary}\n//     }\n//   }\n// `;\n\nconst SocialTextArea = styled(Textarea)`\n  height: 100%;\n  resize: none;\n  background: ${props => props.theme.colors.appInverse};\n  flex: 1;\n  border: 0 !important;\n  &:focus {\n    outline: none;\n  }\n  font-family: 'Barlow', 'Open Sans', sans-serif !important;\n`;\n\nconst SocialActions = styled(Flex)`\n  align-self: flex-end;\n`;\n\nexport interface Props {\n  submit(text: string): void;\n  defaultValue?: string;\n  keepTextOnSubmit?: boolean;\n  placeholder?: string;\n}\nexport const SocialText: React.FC<Props> = ({\n  submit,\n  defaultValue = '',\n  keepTextOnSubmit = false,\n  placeholder = ''\n}) => {\n  const ref = useRef<any>(null);\n  const [text, setText] = useState(defaultValue);\n  // const [isEmojiOpen, setEmojiOpen] = useState(false);\n  // const toggleEmoji = useCallback(() => setEmojiOpen(!isEmojiOpen), [\n  //   isEmojiOpen\n  // ]);\n  // const addEmoji = React.useCallback(\n  //   (code, obj) => {\n  //     // console.log(code, obj);\n  //     if (!ref.current) {\n  //       return;\n  //     }\n  //     const textarea = ref.current as HTMLTextAreaElement;\n  //     const selectionStart = textarea.selectionStart;\n  //     // const selectionEnd = textarea.selectionEnd\n  //     const offset = dropEmoji(textarea, obj.pagination);\n  //     const pos = selectionStart + offset;\n  //     textarea.focus();\n  //     // console.log([selectionStart,selectionEnd], offset, pos, [textarea.selectionStart, textarea.selectionEnd] )\n  //     textarea.selectionEnd = pos;\n  //   },\n  //   [ref.current]\n  // );\n  const handleSubmit = useCallback(() => {\n    if (!text) {\n      return;\n    }\n    submit(text);\n    if (!keepTextOnSubmit) {\n      setText('');\n    }\n  }, [text, keepTextOnSubmit, submit]);\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.value = text;\n  }, [text]);\n  const onChange = useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    const txt = ref.current.value;\n    setText(txt);\n  }, [setText]);\n  return (\n    <Wrapper>\n      <SocialTextDiv>\n        <SocialTextArea\n          placeholder={placeholder}\n          ref={ref}\n          defaultValue={defaultValue}\n          onInput={onChange}\n        />\n        {/* {isEmojiOpen && (\n          <OutsideClickHandler onOutsideClick={toggleEmoji}>\n            <PickerWrap>\n              <EmojiPicker preload onEmojiClick={addEmoji} />\n            </PickerWrap>\n          </OutsideClickHandler>\n        )} */}\n      </SocialTextDiv>\n      <SocialActions>\n        {/* <EmojiPickerTrigger onClick={toggleEmoji}>\n            <Smile color={'rgba(0,0,0,.4)'} size=\"24\" />\n          </EmojiPickerTrigger> */}\n        <Button\n          variant=\"primary\"\n          sx={{\n            cursor: text ? 'pointer' : 'default',\n            textTransform: 'capitalize'\n          }}\n          onClick={handleSubmit}\n        >\n          <Trans>Publish</Trans>\n        </Button>\n      </SocialActions>\n    </Wrapper>\n  );\n};\nexport default SocialText;\n","import * as React from 'react';\nimport { Flex, Box, Text } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\nimport { Link } from 'react-router-dom';\nimport Avatar from 'ui/elements/Avatar';\nimport { WrapperPanel } from 'ui/elements/Panel';\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport { FormikHook } from 'ui/@types/types';\n\nimport { Wrapper, WrapperCont, ObjectsList, MainContainer, HomeBox } from 'ui/elements/Layout';\nimport SocialText from 'ui/modules/SocialText';\nimport { i18nMark } from '@lingui/react';\nimport { Trans } from '@lingui/react';\nimport { LocaleContext } from '../../../context/global/localizationCtx';\nimport { ReactElement } from 'react';\n\nconst tt = {\n  placeholders: {\n    name: i18nMark('Post a reply')\n  }\n};\n\nexport interface ReplyActions {\n  replyFormik: FormikHook<{ replyMessage: string }>;\n}\nexport interface Props {\n  MainThread: ReactElement;\n  Comments: ReactElement;\n  Context: ReactElement;\n  communityId: string;\n  communityName: string;\n  communityIcon: string;\n  isCommunityContext: boolean;\n  reply: ReplyActions | null;\n  loadMoreComments: FormikHook | null;\n}\n\nexport const Thread: React.FC<Props> = ({\n  MainThread,\n  Comments,\n  communityId,\n  communityName,\n  communityIcon,\n  Context,\n  isCommunityContext,\n  loadMoreComments,\n  reply\n}) => {\n  // console.log(Context);\n  const { i18n } = React.useContext(LocaleContext);\n  return (\n    <MainContainer>\n      <HomeBox mb={3}>\n        <WrapperCont>\n          <Wrapper>\n            <Box mb={2}>\n              {!isCommunityContext && <Box p={2}>{Context}</Box>}\n              <MainThreadContainer>{MainThread}</MainThreadContainer>\n            </Box>\n            <ObjectsList className=\"replies\">{Comments}</ObjectsList>\n            {loadMoreComments && <LoadMore LoadMoreFormik={loadMoreComments} />}\n            {reply && (\n              <SocialWrapper my={3}>\n                <SocialText\n                  placeholder={i18n._(tt.placeholders.name)}\n                  defaultValue={''}\n                  submit={msg => {\n                    reply.replyFormik.setValues({ replyMessage: msg });\n                    reply.replyFormik.submitForm();\n                  }}\n                />\n              </SocialWrapper>\n            )}\n          </Wrapper>\n        </WrapperCont>\n      </HomeBox>\n      <WrapperPanel>\n        <TitleSection mb={2} variant=\"suptitle\">\n          <Trans>Community</Trans>\n        </TitleSection>\n        <HeaderWrapper id={communityId} name={communityName} icon={communityIcon} />\n      </WrapperPanel>\n    </MainContainer>\n  );\n};\n\nexport const HeaderWrapper: React.FC<{ id: string; name: string; icon: string }> = ({\n  id,\n  name,\n  icon\n}) => {\n  return (\n    <>\n      <Header>\n        <Right>\n          <Link to={`/communities/${id}`}>\n            <LinkImg>\n              <Avatar size=\"s\" src={icon} />\n            </LinkImg>\n            <Text variant=\"suptitle\">{name}</Text>\n          </Link>\n        </Right>\n      </Header>\n    </>\n  );\n};\n\nconst TitleSection = styled(Text)`\n  text-transform: capitalize;\n`;\n\nconst SocialWrapper = styled(Box)`\n  // background: ${props => props.theme.colors.appInverse};\n`;\n\nconst MainThreadContainer = styled(Box)`\n  //  border-bottom: ${props => props.theme.colors.border};\n`;\n\nconst LinkImg = styled(Box)`\n  margin-right: 8px;\n  .--rtl & {\n    margin-right: 0px;\n    margin-left: 8px;\n  }\n`;\nconst Right = styled(Flex)`\n  align-items: center;\n  a {\n    display: flex;\n    align-items: center;\n  }\n`;\n\nconst Header = styled(Flex)`\n  border-bottom: ${props => props.theme.colors.border};\n  height: 50px;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 8px;\n  cursor: pointer;\n  background: ${props => props.theme.colors.appInverse};\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  a {\n    display: flex;\n    flex: 1;\n    text-decoration: none;\n  }\n`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommentPreviewFragment } from '../../../HOC/modules/previews/comment/CommentPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommentPreviewFragmentDoc } from '../../../HOC/modules/previews/comment/CommentPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type CommentPreviewQueryVariables = {\n  commentId: Types.Scalars['String']\n};\n\n\nexport type CommentPreviewQuery = (\n  { __typename: 'RootQueryType' }\n  & { comment: Types.Maybe<(\n    { __typename: 'Comment' }\n    & Pick<Types.Comment, 'id'>\n    & CommentPreviewFragment\n  )> }\n);\n\n\nexport const CommentPreviewDocument = gql`\n    query commentPreview($commentId: String!) {\n  comment(commentId: $commentId) {\n    id\n    ...CommentPreview\n  }\n}\n    ${CommentPreviewFragmentDoc}`;\n\n/**\n * __useCommentPreviewQuery__\n *\n * To run a query within a React component, call `useCommentPreviewQuery` and pass it any options that fit your needs.\n * When your component renders, `useCommentPreviewQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCommentPreviewQuery({\n *   variables: {\n *      commentId: // value for 'commentId'\n *   },\n * });\n */\nexport function useCommentPreviewQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CommentPreviewQuery, CommentPreviewQueryVariables>) {\n        return ApolloReactHooks.useQuery<CommentPreviewQuery, CommentPreviewQueryVariables>(CommentPreviewDocument, baseOptions);\n      }\nexport function useCommentPreviewLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CommentPreviewQuery, CommentPreviewQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CommentPreviewQuery, CommentPreviewQueryVariables>(CommentPreviewDocument, baseOptions);\n        }\nexport type CommentPreviewQueryHookResult = ReturnType<typeof useCommentPreviewQuery>;\nexport type CommentPreviewLazyQueryHookResult = ReturnType<typeof useCommentPreviewLazyQuery>;\nexport type CommentPreviewQueryResult = ApolloReactCommon.QueryResult<CommentPreviewQuery, CommentPreviewQueryVariables>;\n\n\nexport interface CommentPreviewQueryOperation {\n  operationName: 'commentPreview'\n  result: CommentPreviewQuery\n  variables: CommentPreviewQueryVariables\n  type: 'query'\n}\nexport const CommentPreviewQueryName:CommentPreviewQueryOperation['operationName'] = 'commentPreview'\n\nexport const CommentPreviewQueryRefetch = (\n  variables:CommentPreviewQueryVariables, \n  context?:any\n)=>({\n  query:CommentPreviewDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type LikeMutationVariables = {\n  contextId: Types.Scalars['String']\n};\n\n\nexport type LikeMutation = (\n  { __typename: 'RootMutationType' }\n  & { createLike: Types.Maybe<(\n    { __typename: 'Like' }\n    & { context: { __typename: 'Category' } | (\n      { __typename: 'Collection' }\n      & Pick<Types.Collection, 'id' | 'likerCount'>\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )> }\n    ) | (\n      { __typename: 'Comment' }\n      & Pick<Types.Comment, 'id' | 'likerCount'>\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )> }\n    ) | (\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id' | 'likerCount'>\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )> }\n    ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | (\n      { __typename: 'Resource' }\n      & Pick<Types.Resource, 'id'>\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )>, likers: Types.Maybe<(\n        { __typename: 'LikesPage' }\n        & Pick<Types.LikesPage, 'totalCount'>\n      )> }\n    ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n      { __typename: 'User' }\n      & Pick<Types.User, 'likerCount'>\n      & { userId: Types.User['id'] }\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )> }\n    ) }\n  )> }\n);\n\nexport type UnlikeMutationVariables = {\n  contextId: Types.Scalars['String']\n};\n\n\nexport type UnlikeMutation = (\n  { __typename: 'RootMutationType' }\n  & { delete: Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | (\n    { __typename: 'Like' }\n    & { context: { __typename: 'Category' } | (\n      { __typename: 'Collection' }\n      & Pick<Types.Collection, 'id' | 'likerCount'>\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )> }\n    ) | (\n      { __typename: 'Comment' }\n      & Pick<Types.Comment, 'id' | 'likerCount'>\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )> }\n    ) | (\n      { __typename: 'Community' }\n      & Pick<Types.Community, 'id' | 'likerCount'>\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )> }\n    ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | (\n      { __typename: 'Resource' }\n      & Pick<Types.Resource, 'id'>\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )>, likers: Types.Maybe<(\n        { __typename: 'LikesPage' }\n        & Pick<Types.LikesPage, 'totalCount'>\n      )> }\n    ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n      { __typename: 'User' }\n      & Pick<Types.User, 'likerCount'>\n      & { userId: Types.User['id'] }\n      & { myLike: Types.Maybe<(\n        { __typename: 'Like' }\n        & Pick<Types.Like, 'id'>\n      )> }\n    ) }\n  ) | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\n\nexport const LikeDocument = gql`\n    mutation like($contextId: String!) {\n  createLike(contextId: $contextId) {\n    context {\n      ... on Collection {\n        id\n        myLike {\n          id\n        }\n        likerCount\n      }\n      ... on Comment {\n        id\n        myLike {\n          id\n        }\n        likerCount\n      }\n      ... on Community {\n        id\n        myLike {\n          id\n        }\n        likerCount\n      }\n      ... on Resource {\n        id\n        myLike {\n          id\n        }\n        likers {\n          totalCount\n        }\n      }\n      ... on User {\n        userId: id\n        myLike {\n          id\n        }\n        likerCount\n      }\n    }\n  }\n}\n    `;\nexport type LikeMutationFn = ApolloReactCommon.MutationFunction<LikeMutation, LikeMutationVariables>;\n\n/**\n * __useLikeMutation__\n *\n * To run a mutation, you first call `useLikeMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useLikeMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [likeMutation, { data, loading, error }] = useLikeMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *   },\n * });\n */\nexport function useLikeMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<LikeMutation, LikeMutationVariables>) {\n        return ApolloReactHooks.useMutation<LikeMutation, LikeMutationVariables>(LikeDocument, baseOptions);\n      }\nexport type LikeMutationHookResult = ReturnType<typeof useLikeMutation>;\nexport type LikeMutationResult = ApolloReactCommon.MutationResult<LikeMutation>;\nexport type LikeMutationOptions = ApolloReactCommon.BaseMutationOptions<LikeMutation, LikeMutationVariables>;\nexport const UnlikeDocument = gql`\n    mutation unlike($contextId: String!) {\n  delete(contextId: $contextId) {\n    ... on Like {\n      context {\n        ... on Collection {\n          id\n          myLike {\n            id\n          }\n          likerCount\n        }\n        ... on Comment {\n          id\n          myLike {\n            id\n          }\n          likerCount\n        }\n        ... on Community {\n          id\n          myLike {\n            id\n          }\n          likerCount\n        }\n        ... on Resource {\n          id\n          myLike {\n            id\n          }\n          likers {\n            totalCount\n          }\n        }\n        ... on User {\n          userId: id\n          myLike {\n            id\n          }\n          likerCount\n        }\n      }\n    }\n  }\n}\n    `;\nexport type UnlikeMutationFn = ApolloReactCommon.MutationFunction<UnlikeMutation, UnlikeMutationVariables>;\n\n/**\n * __useUnlikeMutation__\n *\n * To run a mutation, you first call `useUnlikeMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUnlikeMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [unlikeMutation, { data, loading, error }] = useUnlikeMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *   },\n * });\n */\nexport function useUnlikeMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<UnlikeMutation, UnlikeMutationVariables>) {\n        return ApolloReactHooks.useMutation<UnlikeMutation, UnlikeMutationVariables>(UnlikeDocument, baseOptions);\n      }\nexport type UnlikeMutationHookResult = ReturnType<typeof useUnlikeMutation>;\nexport type UnlikeMutationResult = ApolloReactCommon.MutationResult<UnlikeMutation>;\nexport type UnlikeMutationOptions = ApolloReactCommon.BaseMutationOptions<UnlikeMutation, UnlikeMutationVariables>;\n\n\nexport interface LikeMutationOperation {\n  operationName: 'like'\n  result: LikeMutation\n  variables: LikeMutationVariables\n  type: 'mutation'\n}\nexport const LikeMutationName:LikeMutationOperation['operationName'] = 'like'\n\nexport const LikeMutationRefetch = (\n  variables:LikeMutationVariables, \n  context?:any\n)=>({\n  query:LikeDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface UnlikeMutationOperation {\n  operationName: 'unlike'\n  result: UnlikeMutation\n  variables: UnlikeMutationVariables\n  type: 'mutation'\n}\nexport const UnlikeMutationName:UnlikeMutationOperation['operationName'] = 'unlike'\n\nexport const UnlikeMutationRefetch = (\n  variables:UnlikeMutationVariables, \n  context?:any\n)=>({\n  query:UnlikeDocument,\n  variables,\n  context\n})\n      \n","import { isOptimisticId, OPTIMISTIC_ID_STRING } from 'fe/lib/helpers/mutations';\nimport * as GQL from 'fe/mutation/like/useMutateLike.generated';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport {\n  // Community,\n  // Collection,\n  // User,\n  Comment,\n  Resource\n} from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\n\ntype Typename = Exclude<\n  // | Collection['__typename']\n  | Comment['__typename']\n  // | Community['__typename']\n  // | User['__typename']\n  | Resource['__typename'],\n  null | undefined\n>;\n\nexport const useLikeContext = (\n  contextId: Maybe<string>,\n  myLike: Maybe<{ id: string }>,\n  likerCount: Maybe<number>,\n  __typename: Typename\n) => {\n  const [likeMut, likeMutStatus] = GQL.useLikeMutation();\n  const [unlikeMut, unlikeMutStatus] = GQL.useUnlikeMutation();\n  const mutating = likeMutStatus.loading || unlikeMutStatus.loading;\n  const toggleLike = useCallOrNotifyMustLogin(async () => {\n    if (!contextId || mutating) {\n      return;\n    }\n    if (!myLike) {\n      return likeMut({\n        variables: {\n          contextId\n        },\n        optimisticResponse: optimisticLike(\n          __typename,\n          contextId,\n          likerCount || 0\n        )\n      });\n    } else {\n      return isOptimisticId(myLike.id)\n        ? undefined\n        : unlikeMut({\n            variables: {\n              contextId: myLike.id\n            },\n            optimisticResponse: optimisticUnlike(\n              __typename,\n              contextId,\n              likerCount || 0\n            )\n          });\n    }\n  }, [contextId, myLike, mutating, __typename, likerCount]);\n\n  return useMemo(\n    () => ({\n      toggleLike\n    }),\n    [toggleLike]\n  );\n};\n\nconst optimisticLike = (\n  __typename: any,\n  id: string,\n  likerCount: number\n): GQL.LikeMutation => ({\n  __typename: 'RootMutationType',\n  createLike: {\n    __typename: 'Like',\n    context: {\n      __typename,\n      id,\n      myLike: { __typename: 'Like', id: OPTIMISTIC_ID_STRING },\n      ...(__typename === 'Resource'\n        ? { likes: { __typename: 'LikesEdges', totalCount: likerCount + 1 } }\n        : { likerCount: likerCount + 1 })\n    }\n  }\n});\nconst optimisticUnlike = (\n  __typename: any,\n  id: string,\n  likerCount: number\n): GQL.UnlikeMutation => ({\n  __typename: 'RootMutationType',\n  delete: {\n    __typename: 'Like',\n    context: {\n      __typename,\n      id,\n      myLike: null,\n      ...(__typename === 'Resource'\n        ? { likes: { __typename: 'LikesEdges', totalCount: likerCount - 1 } }\n        : { likerCount: likerCount - 1 })\n    }\n  }\n});\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { ActivityPreviewFragment } from '../../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport { FullPageInfoFragment } from '../../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../../@fragments/misc.generated';\nimport { ActivityPreviewFragmentDoc } from '../../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type MyInboxActivitiesQueryVariables = {\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  limit?: Types.Maybe<Types.Scalars['Int']>\n};\n\n\nexport type MyInboxActivitiesQuery = (\n  { __typename: 'RootQueryType' }\n  & { me: Types.Maybe<(\n    { __typename: 'Me' }\n    & { user: (\n      { __typename: 'User' }\n      & Pick<Types.User, 'id'>\n      & { inbox: Types.Maybe<(\n        { __typename: 'ActivitiesPage' }\n        & Pick<Types.ActivitiesPage, 'totalCount'>\n        & { pageInfo: (\n          { __typename: 'PageInfo' }\n          & FullPageInfoFragment\n        ), edges: Array<(\n          { __typename: 'Activity' }\n          & MyInboxActivityFragment\n        )> }\n      )> }\n    ) }\n  )> }\n);\n\nexport type MyInboxActivityFragment = (\n  { __typename: 'Activity' }\n  & ActivityPreviewFragment\n);\n\nexport const MyInboxActivityFragmentDoc = gql`\n    fragment MyInboxActivity on Activity {\n  ...ActivityPreview\n}\n    ${ActivityPreviewFragmentDoc}`;\nexport const MyInboxActivitiesDocument = gql`\n    query myInboxActivities($after: [Cursor!], $before: [Cursor!], $limit: Int) {\n  me @connection(key: \"myInboxActivities\") {\n    user {\n      id\n      inbox(after: $after, before: $before, limit: $limit) {\n        totalCount\n        pageInfo {\n          ...FullPageInfo\n        }\n        edges {\n          ...MyInboxActivity\n        }\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${MyInboxActivityFragmentDoc}`;\n\n/**\n * __useMyInboxActivitiesQuery__\n *\n * To run a query within a React component, call `useMyInboxActivitiesQuery` and pass it any options that fit your needs.\n * When your component renders, `useMyInboxActivitiesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useMyInboxActivitiesQuery({\n *   variables: {\n *      after: // value for 'after'\n *      before: // value for 'before'\n *      limit: // value for 'limit'\n *   },\n * });\n */\nexport function useMyInboxActivitiesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<MyInboxActivitiesQuery, MyInboxActivitiesQueryVariables>) {\n        return ApolloReactHooks.useQuery<MyInboxActivitiesQuery, MyInboxActivitiesQueryVariables>(MyInboxActivitiesDocument, baseOptions);\n      }\nexport function useMyInboxActivitiesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<MyInboxActivitiesQuery, MyInboxActivitiesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<MyInboxActivitiesQuery, MyInboxActivitiesQueryVariables>(MyInboxActivitiesDocument, baseOptions);\n        }\nexport type MyInboxActivitiesQueryHookResult = ReturnType<typeof useMyInboxActivitiesQuery>;\nexport type MyInboxActivitiesLazyQueryHookResult = ReturnType<typeof useMyInboxActivitiesLazyQuery>;\nexport type MyInboxActivitiesQueryResult = ApolloReactCommon.QueryResult<MyInboxActivitiesQuery, MyInboxActivitiesQueryVariables>;\n\n\nexport interface MyInboxActivitiesQueryOperation {\n  operationName: 'myInboxActivities'\n  result: MyInboxActivitiesQuery\n  variables: MyInboxActivitiesQueryVariables\n  type: 'query'\n}\nexport const MyInboxActivitiesQueryName:MyInboxActivitiesQueryOperation['operationName'] = 'myInboxActivities'\n\nexport const MyInboxActivitiesQueryRefetch = (\n  variables:MyInboxActivitiesQueryVariables, \n  context?:any\n)=>({\n  query:MyInboxActivitiesDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommentPreviewFragment } from '../../../HOC/modules/previews/comment/CommentPreview.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CommentPreviewFragmentDoc } from '../../../HOC/modules/previews/comment/CommentPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type ThreadCommentsQueryVariables = {\n  threadId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type ThreadCommentsQuery = (\n  { __typename: 'RootQueryType' }\n  & { thread: Types.Maybe<(\n    { __typename: 'Thread' }\n    & { comments: Types.Maybe<(\n      { __typename: 'CommentsPage' }\n      & Pick<Types.CommentsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Comment' }\n        & CommentPreviewFragment\n      )> }\n    )> }\n  )> }\n);\n\n\nexport const ThreadCommentsDocument = gql`\n    query threadComments($threadId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  thread(threadId: $threadId) @connection(key: \"threadComments\", filter: [\"threadId\"]) {\n    comments(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...CommentPreview\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CommentPreviewFragmentDoc}`;\n\n/**\n * __useThreadCommentsQuery__\n *\n * To run a query within a React component, call `useThreadCommentsQuery` and pass it any options that fit your needs.\n * When your component renders, `useThreadCommentsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useThreadCommentsQuery({\n *   variables: {\n *      threadId: // value for 'threadId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useThreadCommentsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<ThreadCommentsQuery, ThreadCommentsQueryVariables>) {\n        return ApolloReactHooks.useQuery<ThreadCommentsQuery, ThreadCommentsQueryVariables>(ThreadCommentsDocument, baseOptions);\n      }\nexport function useThreadCommentsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ThreadCommentsQuery, ThreadCommentsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<ThreadCommentsQuery, ThreadCommentsQueryVariables>(ThreadCommentsDocument, baseOptions);\n        }\nexport type ThreadCommentsQueryHookResult = ReturnType<typeof useThreadCommentsQuery>;\nexport type ThreadCommentsLazyQueryHookResult = ReturnType<typeof useThreadCommentsLazyQuery>;\nexport type ThreadCommentsQueryResult = ApolloReactCommon.QueryResult<ThreadCommentsQuery, ThreadCommentsQueryVariables>;\n\n\nexport interface ThreadCommentsQueryOperation {\n  operationName: 'threadComments'\n  result: ThreadCommentsQuery\n  variables: ThreadCommentsQueryVariables\n  type: 'query'\n}\nexport const ThreadCommentsQueryName:ThreadCommentsQueryOperation['operationName'] = 'threadComments'\n\nexport const ThreadCommentsQueryRefetch = (\n  variables:ThreadCommentsQueryVariables, \n  context?:any\n)=>({\n  query:ThreadCommentsDocument,\n  variables,\n  context\n})\n      \n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommentPreviewFragment } from '../../../HOC/modules/previews/comment/CommentPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommentPreviewFragmentDoc } from '../../../HOC/modules/previews/comment/CommentPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type ReplyMutationVariables = {\n  comment: Types.CommentInput,\n  inReplyToCommentId: Types.Scalars['String'],\n  threadId: Types.Scalars['String']\n};\n\n\nexport type ReplyMutation = (\n  { __typename: 'RootMutationType' }\n  & { createReply: Types.Maybe<(\n    { __typename: 'Comment' }\n    & CommentPreviewFragment\n  )> }\n);\n\n\nexport const ReplyDocument = gql`\n    mutation reply($comment: CommentInput!, $inReplyToCommentId: String!, $threadId: String!) {\n  createReply(comment: $comment, inReplyToId: $inReplyToCommentId, threadId: $threadId) {\n    ...CommentPreview\n  }\n}\n    ${CommentPreviewFragmentDoc}`;\nexport type ReplyMutationFn = ApolloReactCommon.MutationFunction<ReplyMutation, ReplyMutationVariables>;\n\n/**\n * __useReplyMutation__\n *\n * To run a mutation, you first call `useReplyMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useReplyMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [replyMutation, { data, loading, error }] = useReplyMutation({\n *   variables: {\n *      comment: // value for 'comment'\n *      inReplyToCommentId: // value for 'inReplyToCommentId'\n *      threadId: // value for 'threadId'\n *   },\n * });\n */\nexport function useReplyMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<ReplyMutation, ReplyMutationVariables>) {\n        return ApolloReactHooks.useMutation<ReplyMutation, ReplyMutationVariables>(ReplyDocument, baseOptions);\n      }\nexport type ReplyMutationHookResult = ReturnType<typeof useReplyMutation>;\nexport type ReplyMutationResult = ApolloReactCommon.MutationResult<ReplyMutation>;\nexport type ReplyMutationOptions = ApolloReactCommon.BaseMutationOptions<ReplyMutation, ReplyMutationVariables>;\n\n\nexport interface ReplyMutationOperation {\n  operationName: 'reply'\n  result: ReplyMutation\n  variables: ReplyMutationVariables\n  type: 'mutation'\n}\nexport const ReplyMutationName:ReplyMutationOperation['operationName'] = 'reply'\n\nexport const ReplyMutationRefetch = (\n  variables:ReplyMutationVariables, \n  context?:any\n)=>({\n  query:ReplyDocument,\n  variables,\n  context\n})\n      \n","import { MyInboxActivitiesQueryRefetch } from 'fe/activities/inbox/my/useMyInboxActivities.generated';\nimport { CommunityOutboxActivitiesQueryRefetch } from 'fe/activities/outbox/community/useCommunityOutboxActivities.generated';\nimport { InstanceOutboxActivitiesQueryRefetch } from 'fe/activities/outbox/instance/useInstanceOutboxActivities.generated';\nimport { mnCtx } from 'fe/lib/graphql/ctx';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { Comment, Community, Thread } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\nimport {\n  ThreadCommentsDocument,\n  ThreadCommentsQuery,\n  ThreadCommentsQueryVariables\n} from '../thread/useThreadComments.generated';\nimport * as GQL from './useReplyComment.generated';\nexport const useReplyComment = (\n  comment: Maybe<{\n    id: Comment['id'];\n    thread: Maybe<{ id: Thread['id'] }>;\n  }>,\n  communityId: Maybe<Community['id']>,\n  to: Maybe<string>\n) => {\n  const [createReplyMut, status] = GQL.useReplyMutation();\n\n  const mutating = status.loading;\n\n  const reply = useCallOrNotifyMustLogin(\n    async (content: string) => {\n      if (mutating || !comment || !comment.thread) {\n        return;\n      }\n      const threadId = comment.thread.id;\n      return createReplyMut({\n        variables: {\n          threadId,\n          inReplyToCommentId: comment.id,\n          comment: { content }\n        },\n        context: mnCtx<GQL.ReplyMutation>({\n          successMsg: () => `Sent reply ${to ? `@${to} ` : ''} correctly`\n        }),\n        refetchQueries: [\n          InstanceOutboxActivitiesQueryRefetch({ limit: DEFAULT_PAGE_SIZE }),\n          MyInboxActivitiesQueryRefetch({ limit: DEFAULT_PAGE_SIZE }),\n          ...(communityId\n            ? [\n                CommunityOutboxActivitiesQueryRefetch({\n                  communityId,\n                  limit: DEFAULT_PAGE_SIZE\n                })\n              ]\n            : [])\n        ],\n        update: (proxy, result) => {\n          const comment = result.data?.createReply;\n          if (!comment) {\n            return;\n          }\n          try {\n            const threadCommentsQueryRes = proxy.readQuery<\n              ThreadCommentsQuery,\n              ThreadCommentsQueryVariables\n            >({\n              query: ThreadCommentsDocument,\n              variables: { threadId, limit: DEFAULT_PAGE_SIZE }\n            });\n            if (\n              !threadCommentsQueryRes?.thread?.comments ||\n              threadCommentsQueryRes.thread.comments.pageInfo.hasNextPage\n            ) {\n              return;\n            }\n            const edges = [...threadCommentsQueryRes.thread.comments.edges, comment];\n\n            const data: ThreadCommentsQuery = {\n              ...threadCommentsQueryRes,\n              thread: {\n                ...threadCommentsQueryRes.thread,\n                comments: {\n                  ...threadCommentsQueryRes.thread.comments,\n                  edges\n                }\n              }\n            };\n            proxy.writeQuery<ThreadCommentsQuery, ThreadCommentsQueryVariables>({\n              data,\n              query: ThreadCommentsDocument,\n              variables: { threadId, limit: DEFAULT_PAGE_SIZE }\n            });\n          } catch (err) {\n            console.warn(err);\n          }\n        }\n      });\n    },\n    [mutating, communityId, to]\n  );\n\n  return useMemo(\n    () => ({\n      reply\n    }),\n    [reply]\n  );\n};\n","import { Comment } from 'graphql/types.generated';\nimport { useCommentPreviewQuery } from './useCommentPreview.generated';\nimport { useMemo } from 'react';\nimport { useLikeContext } from 'fe/context/like/useLikeContext';\nimport { useReplyComment } from '../reply/useReplyComment';\n\nexport const useCommentPreview = (commentId: Comment['id']) => {\n  const commentPreviewQ = useCommentPreviewQuery({ variables: { commentId } });\n  const { toggleLike } = useLikeContext(\n    commentPreviewQ.data?.comment?.id,\n    commentPreviewQ.data?.comment?.myLike,\n    commentPreviewQ.data?.comment?.likerCount,\n    'Comment'\n  );\n  const threadContext = commentPreviewQ.data?.comment?.thread?.context;\n  const community =\n    threadContext?.__typename === 'Resource'\n      ? threadContext.collection?.community\n      : threadContext?.__typename === 'Collection'\n      ? threadContext.community\n      : threadContext?.__typename === 'Community'\n      ? threadContext\n      : undefined;\n  const canReply = !!community?.myFollow;\n  const { reply } = useReplyComment(\n    commentPreviewQ.data?.comment,\n    community?.id,\n    commentPreviewQ.data?.comment?.creator?.userName\n  );\n  return useMemo(() => {\n    return {\n      comment: commentPreviewQ.data?.comment,\n      community,\n      toggleLike,\n      reply,\n      canReply\n    };\n  }, [commentPreviewQ, community, toggleLike, reply, canReply]);\n};\n","import styled from 'ui/themes/styled';\nimport { Text } from 'rebass/styled-components';\nimport 'github-markdown-css/github-markdown.css';\nimport DOMPurify from 'dompurify';\nimport React from 'react';\nimport { typography } from 'mn-constants';\n\nconst Comment = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n  text-decoration: none;\n  font-size: ${typography.size.s2} !important;\n  letter-spacing: 0 !important;\n  font-family: ${props => props.theme.fontFamily} !important;\n  &.markdown-body {\n    box-sizing: border-box;\n    min-width: 200px;\n    max-width: 568px;\n  }\n`;\n\nexport interface Props {\n  content: string;\n}\n\nexport const MDComment: React.SFC<Props> = ({ content }) => (\n  <Comment\n    className={'markdown-body'}\n    dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(content) }}\n    variant=\"text\"\n  />\n);\n","import { Trans } from '@lingui/macro';\nimport { typography } from 'mn-constants';\nimport { darken } from 'polished';\nimport React from 'react';\nimport { CornerDownLeft, Flag, MoreHorizontal, Star } from 'react-feather';\nimport { NavLink } from 'react-router-dom';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport { MDComment } from 'ui/elements/Layout/comment';\nimport { Dropdown, DropdownItem } from 'ui/modules/Dropdown';\nimport styled from 'ui/themes/styled';\n\nexport interface LikeActions {\n  toggleLikeFormik: FormikHook<{}>;\n  totalLikes: number;\n  iLikeIt: boolean;\n}\nexport interface ReplyActions {\n  replyFormik: FormikHook<{ replyMessage: string }>;\n}\nexport interface CommentProps {\n  flag(): unknown;\n  like: LikeActions;\n  content: string;\n  url: string;\n  isFlagged: boolean;\n  hideActions?: boolean;\n  isDropdownOpen: boolean;\n  toggleDropdown(): unknown;\n}\n\nexport const Comment: React.SFC<CommentProps> = ({\n  content,\n  like,\n  url,\n  isFlagged,\n  hideActions,\n  isDropdownOpen,\n  toggleDropdown,\n  flag\n}) => {\n  return (\n    <Wrapper>\n      {/* <Link to={url}> */}\n      <MDComment content={content} />\n      {/* <Summary\n        dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(content) }}\n        sx={{ textDecoration: 'none' }}\n        variant=\"text\"\n        mb={2}\n      /> */}\n      {/* </Link> */}\n      {hideActions ? (\n        <Actions mt={2}>\n          <Box>\n            <Items>\n              <ActionItem\n                liked={like.iLikeIt ? true : false}\n                onClick={like.toggleLikeFormik.submitForm}\n              >\n                <ActionIcon>\n                  <Star strokeWidth=\"1\" size=\"18\" />\n                </ActionIcon>\n                <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  {like.totalLikes + ' '} <Trans>Star</Trans>\n                </ActionText>\n              </ActionItem>\n              <ActionItem onClick={toggleDropdown} sx={{ position: 'relative' }}>\n                <ActionIcon>\n                  <MoreHorizontal className=\"hover\" size={18} />\n                </ActionIcon>\n                <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  <Trans>More</Trans>\n                </ActionText>\n                {isDropdownOpen && (\n                  <Dropdown orientation=\"bottom\" close={toggleDropdown}>\n                    <DropdownItem onClick={flag}>\n                      <Flag size={20} color={'rgb(101, 119, 134)'} />\n                      <Text sx={{ flex: 1 }} ml={2}>\n                        {!isFlagged ? (\n                          <Trans>Flag this comment</Trans>\n                        ) : (\n                          <Trans>Unflag this comment</Trans>\n                        )}\n                      </Text>\n                    </DropdownItem>\n                  </Dropdown>\n                )}\n              </ActionItem>\n            </Items>\n          </Box>\n        </Actions>\n      ) : (\n        <Actions mt={2}>\n          {/* {talkModalVisible && (\n            <Box mb={2}>\n            <SocialText\n            placeholder={i18n._(tt.placeholders.name)}\n            defaultValue={''}\n            submit={msg => {\n              showTalkModal(false);\n              reply.replyFormik.setValues({ replyMessage: msg });\n              reply.replyFormik.submitForm();\n            }}\n            />\n            </Box>\n          )} */}\n          <Box>\n            <Items>\n              <ActionItem>\n                <NavLink to={url}>\n                  <ActionIcon>\n                    <CornerDownLeft\n                      className=\"hover\"\n                      strokeWidth=\"1\"\n                      color=\"rgba(0,0,0,.4)\"\n                      size=\"18\"\n                    />\n                  </ActionIcon>\n                  <ActionText ml={1} variant={'text'} sx={{ textTransform: 'capitalize' }}>\n                    <Trans>Reply</Trans>\n                  </ActionText>\n                </NavLink>\n              </ActionItem>\n              <ActionItem\n                liked={like.iLikeIt ? true : false}\n                onClick={like.toggleLikeFormik.submitForm}\n              >\n                <ActionIcon>\n                  <Star strokeWidth=\"1\" size=\"18\" />\n                </ActionIcon>\n                <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  {like.totalLikes + ' '} <Trans>Star</Trans>\n                </ActionText>\n              </ActionItem>\n              <ActionItem onClick={toggleDropdown} sx={{ position: 'relative' }}>\n                <ActionIcon>\n                  <MoreHorizontal className=\"hover\" size={18} />\n                </ActionIcon>\n                <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  <Trans>More</Trans>\n                </ActionText>\n                {isDropdownOpen && (\n                  <Dropdown orientation=\"bottom\" close={toggleDropdown}>\n                    <DropdownItem onClick={flag}>\n                      <Flag size={20} color={'rgb(101, 119, 134)'} />\n                      <Text sx={{ flex: 1 }} ml={2}>\n                        {!isFlagged ? (\n                          <Trans>Flag this comment</Trans>\n                        ) : (\n                          <Trans>Unflag this comment</Trans>\n                        )}\n                      </Text>\n                    </DropdownItem>\n                  </Dropdown>\n                )}\n              </ActionItem>\n            </Items>\n          </Box>\n        </Actions>\n      )}\n      {/* <Forked>\n        <b>SoapDog</b> forked this discussion: Yeah, they've wrote a lot of\n        stuff... (3)\n      </Forked> */}\n    </Wrapper>\n  );\n};\n\n// const Forked = styled(Box)`\n//   padding: 8px;\n//   border-top: ${props => props.theme.colors.border};\n//   border-bottom: ${props => props.theme.colors.border};\n//   margin-top: 16px;\n//   font-size: ${typography.size.s1};\n//   margin-left: -16px;\n//   margin-right: -16px;\n//   margin-bottom: -16px;\n//   color: ${props => props.theme.colors.mediumdark};\n// `;\n\n// const Summary = styled(Text)`\n//   color: ${props => props.theme.colors.dark};\n//   img {\n//     width: 100%;\n//   }\n// `;\n\nconst Items = styled(Flex)`\n  flex: 1;\n  justify-content: start;\n`;\n\nconst Actions = styled(Box)`\n  // border-top: ${props => props.theme.colors.border};\n  margin-top: 16px;\n  position: relative;\n  z-index: 999999999999999999999999999999999999;\n  margin-top: 16px;\n`;\n\nconst ActionItem = styled(Flex)<{ liked?: boolean }>`\n  align-items: center;\n  color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  div {\n    color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  &:hover {\n    background: ${props =>\n      props.liked\n        ? darken('0.1', props.theme.colors.secondary)\n        : darken('0.05', props.theme.colors.mediumlight)};\n  }\n  cursor: pointer;\n  background: ${props =>\n    props.liked ? props.theme.colors.secondary : props.theme.colors.mediumlight};\n  border-radius: 4px;\n  padding: 0 8px;\n  margin-right: 8px;\n  text-align: center;\n  font-size: ${typography.size.s1};\n  svg {\n    stroke: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  a {\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n  }\n  &:hover {\n    svg.hover {\n      stroke: ${props => props.theme.colors.mediumdark};\n      // fill: ${props => props.theme.colors.mediumdark};\n    }\n  }\n`;\n\nconst ActionIcon = styled(Box)`\n  width: 30px;\n  height: 30px;\n  border-radius: 99999px;\n  display: inline-flex;\n  align-items: center;\n  align-content: center;\n  text-align: center;\n  margin-left: -8px;\n  svg {\n    margin: 0 auto;\n  }\n`;\n\nconst ActionText = styled(Text)`\n  font-size: ${typography.size.s1};\n`;\n\nconst Wrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  a {\n    text-decoration: none\n    &:hover {\n      text-decoration: none;\n    }\n  }\n`;\n","import { Trans } from '@lingui/macro';\nimport DOMPurify from 'dompurify';\nimport { typography } from 'mn-constants';\nimport { darken } from 'polished';\nimport React from 'react';\nimport { Flag, MoreHorizontal, Star } from 'react-feather';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport { Dropdown, DropdownItem } from 'ui/modules/Dropdown';\nimport styled from 'ui/themes/styled';\n\nexport interface LikeActions {\n  toggleLikeFormik: FormikHook<{}>;\n  totalLikes: number;\n  iLikeIt: boolean;\n}\n\nexport interface CommentProps {\n  flag(): unknown;\n  like: LikeActions;\n  content: string;\n  isFlagged?: boolean;\n  hideActions?: boolean;\n  isDropdownOpen: boolean;\n  toggleDropdown(): unknown;\n}\n\nexport const MainComment: React.SFC<CommentProps> = ({\n  isDropdownOpen,\n  toggleDropdown,\n  flag,\n  content,\n  like,\n  isFlagged,\n  hideActions\n}) => {\n  return (\n    <Box>\n      <Wrapper>\n        <Summary\n          dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(content) }}\n          sx={{ fontSize: '24px' }}\n          variant=\"text\"\n          mb={2}\n        />\n        <Actions mt={2}>\n          {hideActions ? null : (\n            <Box>\n              <Items>\n                <ActionItem\n                  liked={like.iLikeIt ? true : false}\n                  onClick={like.toggleLikeFormik.submitForm}\n                >\n                  <ActionIcon>\n                    <Star strokeWidth=\"1\" size=\"18\" />\n                  </ActionIcon>\n                  <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                    {like.totalLikes + ' '} <Trans>Star</Trans>\n                  </ActionText>\n                </ActionItem>\n                <ActionItem onClick={toggleDropdown} sx={{ position: 'relative' }}>\n                  <ActionIcon>\n                    <MoreHorizontal className=\"hover\" size={18} />\n                  </ActionIcon>\n                  <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                    <Trans>More</Trans>\n                  </ActionText>\n                  {isDropdownOpen && (\n                    <Dropdown orientation=\"bottom\" close={toggleDropdown}>\n                      <DropdownItem onClick={flag}>\n                        <Flag size={20} color={'rgb(101, 119, 134)'} />\n                        <Text sx={{ flex: 1 }} ml={2}>\n                          {!isFlagged ? (\n                            <Trans>Flag this comment</Trans>\n                          ) : (\n                            <Trans>Unflag this comment</Trans>\n                          )}\n                        </Text>\n                      </DropdownItem>\n                    </Dropdown>\n                  )}\n                </ActionItem>\n              </Items>\n            </Box>\n          )}\n        </Actions>\n      </Wrapper>\n      {/* {reply && (\n        <SocialWrapper my={2}>\n          <SocialText\n            placeholder={i18n._(tt.placeholders.name)}\n            defaultValue={''}\n            submit={msg => {\n              reply.replyFormik.setValues({ replyMessage: msg });\n              reply.replyFormik.submitForm();\n            }}\n          />\n        </SocialWrapper>\n      )} */}\n    </Box>\n  );\n};\n\n// const SocialWrapper = styled(Box)`\n//   background: ${props => props.theme.colors.appInverse};\n// `;\n\nconst ActionText = styled(Text)`\n  font-size: ${typography.size.s1};\n`;\n\nconst Summary = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n  img {\n    width: 100%;\n  }\n`;\n\nconst Items = styled(Flex)`\n  flex: 1;\n  justify-content: start;\n`;\n\nconst Actions = styled(Box)`\n  position: relative;\n  z-index: 999999999999999999999999999999999999;\n`;\n\nconst ActionItem = styled(Flex)<{ liked?: boolean }>`\n  align-items: center;\n  color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  div {\n    color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  &:hover {\n    background: ${props =>\n      props.liked\n        ? darken('0.1', props.theme.colors.secondary)\n        : darken('0.05', props.theme.colors.mediumlight)};\n  }\n  cursor: pointer;\n  background: ${props =>\n    props.liked ? props.theme.colors.secondary : props.theme.colors.mediumlight};\n  border-radius: 4px;\n  padding: 0 8px;\n  margin-right: 8px;\n  text-align: center;\n  font-size: ${typography.size.s1};\n  svg {\n    stroke: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  a {\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n  }\n  &:hover {\n    svg.hover {\n      stroke: ${props => props.theme.colors.mediumdark};\n      // fill: ${props => props.theme.colors.mediumdark};\n    }\n  }\n`;\nconst ActionIcon = styled(Box)`\n  width: 30px;\n  height: 30px;\n  border-radius: 99999px;\n  display: inline-flex;\n  align-items: center;\n  align-content: center;\n  text-align: center;\n  margin-left: -8px;\n  svg {\n    margin: 0 auto;\n  }\n`;\n\nconst Wrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n`;\n","import { useCommentPreview } from 'fe/comment/preview/useCommentPreview';\nimport { Comment } from 'graphql/types.generated';\nimport React, { FC, useMemo, useReducer } from 'react';\nimport { Comment as CommentPreviewUI, CommentProps } from 'ui/modules/Previews/Comment';\nimport { FlagModalHOC } from 'HOC/modules/FlagModal/flagModalHOC';\nimport { useFormik } from 'formik';\nimport { MainComment } from 'ui/modules/Previews/MainComment';\nimport Modal from 'ui/modules/Modal';\nimport { useNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\n\nexport interface CommentPreviewHOC {\n  commentId: Comment['id'];\n  mainComment: boolean;\n  hideActions?: boolean;\n}\n\nexport const CommentPreviewHOC: FC<CommentPreviewHOC> = ({\n  commentId,\n  mainComment,\n  hideActions\n}) => {\n  const { comment, toggleLike /* reply, canReply */ } = useCommentPreview(commentId);\n  const toggleLikeFormik = useFormik({\n    initialValues: {},\n    onSubmit: toggleLike\n  });\n\n  // const replyFormik = useFormik<{ replyMessage: string }>({\n  //   initialValues: { replyMessage: '' },\n  //   onSubmit: ({ replyMessage }) => reply(replyMessage)\n  // });\n\n  const [isDropdownOpen, toggleDropdown] = useReducer(is => !is, false);\n\n  const notifyUnlogged = useNotifyMustLogin();\n\n  const [isFlagging, toggleFlagging] = useReducer(is => (notifyUnlogged() ? false : !is), false);\n\n  const FlagModal =\n    isFlagging && comment ? (\n      <Modal closeModal={toggleFlagging}>\n        <FlagModalHOC done={toggleFlagging} ctx={comment} />\n      </Modal>\n    ) : null;\n\n  const commentPreviewProps = useMemo<CommentProps | null>(() => {\n    if (!comment) {\n      return null;\n    }\n    const props: CommentProps = {\n      url: comment.thread ? `/thread/${comment.thread.id}` : '',\n      content: comment.content,\n      // reply: canReply\n      //   ? {\n      //       replyFormik\n      //     }\n      //   : null,\n      like: {\n        iLikeIt: !!comment.myLike,\n        totalLikes: comment.likerCount || 0,\n        toggleLikeFormik\n      },\n      isFlagged: !!comment.myFlag,\n      hideActions: !!hideActions,\n      isDropdownOpen,\n      toggleDropdown,\n      flag: toggleFlagging\n    };\n    return props;\n  }, [comment, hideActions, isDropdownOpen, toggleLikeFormik]);\n\n  return (\n    commentPreviewProps && (\n      <>\n        {FlagModal}\n        {mainComment ? (\n          <MainComment {...commentPreviewProps} />\n        ) : (\n          <CommentPreviewUI {...commentPreviewProps} />\n        )}\n      </>\n    )\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { ThreadPreviewFragment } from '../../../HOC/modules/previews/thread/ThreadPreview.generated';\nimport gql from 'graphql-tag';\nimport { ThreadPreviewFragmentDoc } from '../../../HOC/modules/previews/thread/ThreadPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type ThreadPreviewQueryVariables = {\n  threadId: Types.Scalars['String']\n};\n\n\nexport type ThreadPreviewQuery = (\n  { __typename: 'RootQueryType' }\n  & { thread: Types.Maybe<(\n    { __typename: 'Thread' }\n    & Pick<Types.Thread, 'id'>\n    & ThreadPreviewFragment\n  )> }\n);\n\n\nexport const ThreadPreviewDocument = gql`\n    query threadPreview($threadId: String!) {\n  thread(threadId: $threadId) {\n    id\n    ...ThreadPreview\n  }\n}\n    ${ThreadPreviewFragmentDoc}`;\n\n/**\n * __useThreadPreviewQuery__\n *\n * To run a query within a React component, call `useThreadPreviewQuery` and pass it any options that fit your needs.\n * When your component renders, `useThreadPreviewQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useThreadPreviewQuery({\n *   variables: {\n *      threadId: // value for 'threadId'\n *   },\n * });\n */\nexport function useThreadPreviewQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<ThreadPreviewQuery, ThreadPreviewQueryVariables>) {\n        return ApolloReactHooks.useQuery<ThreadPreviewQuery, ThreadPreviewQueryVariables>(ThreadPreviewDocument, baseOptions);\n      }\nexport function useThreadPreviewLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ThreadPreviewQuery, ThreadPreviewQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<ThreadPreviewQuery, ThreadPreviewQueryVariables>(ThreadPreviewDocument, baseOptions);\n        }\nexport type ThreadPreviewQueryHookResult = ReturnType<typeof useThreadPreviewQuery>;\nexport type ThreadPreviewLazyQueryHookResult = ReturnType<typeof useThreadPreviewLazyQuery>;\nexport type ThreadPreviewQueryResult = ApolloReactCommon.QueryResult<ThreadPreviewQuery, ThreadPreviewQueryVariables>;\n\n\nexport interface ThreadPreviewQueryOperation {\n  operationName: 'threadPreview'\n  result: ThreadPreviewQuery\n  variables: ThreadPreviewQueryVariables\n  type: 'query'\n}\nexport const ThreadPreviewQueryName:ThreadPreviewQueryOperation['operationName'] = 'threadPreview'\n\nexport const ThreadPreviewQueryRefetch = (\n  variables:ThreadPreviewQueryVariables, \n  context?:any\n)=>({\n  query:ThreadPreviewDocument,\n  variables,\n  context\n})\n      \n","import { Trans } from '@lingui/macro';\nimport { DateTime } from 'luxon';\nimport { clearFix } from 'polished';\nimport React, { FC, ReactElement } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport Avatar from 'ui/elements/Avatar';\nimport styled from 'ui/themes/styled';\nimport { Actor } from './types';\nimport { typography } from 'mn-constants';\n\nexport enum Status {\n  Loading,\n  Loaded\n}\nexport interface ActivityLoaded extends Activity {\n  status: Status.Loaded; // FIX ME after fix flags story in settings page\n}\nexport interface ActivityLoading {\n  status: Status.Loading; // FIX ME after fix flags story in settings page\n}\n\nexport interface Activity {\n  createdAt: string;\n  actor: Actor | null;\n  commentActor?: Actor;\n  event: string;\n  threadUrl?: string;\n  preview: ReactElement;\n  communityLink: string;\n  communityName: string;\n}\n\nexport type Props = ActivityLoaded | ActivityLoading;\n\nexport const ActivityPreview: FC<Props> = activity => {\n  if (activity.status === Status.Loading) {\n    return <Trans>loading...</Trans>;\n  }\n\n  const eventLowerCase = activity.event.toLowerCase();\n  const smallOrBig = eventLowerCase.includes('like') || eventLowerCase.includes('flag');\n  const SmallOrBigActor = smallOrBig ? SmallActorComp : ActorComp;\n  const addThreadUrl =\n    (smallOrBig && eventLowerCase.includes('commented')) ||\n    eventLowerCase.includes('discussion') ||\n    eventLowerCase.includes('comment');\n  const threadUrl = addThreadUrl ? activity.threadUrl : undefined;\n\n  return (\n    <FeedItem mb={2}>\n      {activity.actor && (\n        <SmallOrBigActor\n          actor={activity.actor}\n          createdAt={activity.createdAt}\n          threadUrl={threadUrl}\n          event={activity.event}\n          commentActor={eventLowerCase.includes('commented') ? activity.commentActor : undefined}\n          communityLink={activity.communityLink}\n          communityName={activity.communityName}\n        />\n      )}\n      <Contents mt={2}>\n        <Wrapper>{activity.preview}</Wrapper>\n      </Contents>\n    </FeedItem>\n  );\n};\n\nexport interface ActorProps {\n  actor?: Actor;\n  createdAt: string;\n  event: string;\n  threadUrl?: string;\n  communityName: string;\n  communityLink: string;\n}\nexport const ActorComp: FC<ActorProps> = ({\n  actor,\n  createdAt,\n  event,\n  threadUrl,\n  communityName,\n  communityLink\n}) => {\n  return (\n    <Member>\n      {actor && (\n        <>\n          <Avatar initials={actor.name} src={actor.icon} variant=\"avatar\" />\n          <MemberInfo ml={2}>\n            <Flex mt={1} alignItems=\"center\">\n              <Flex flex={1}>\n                <Name>\n                  <Link to={actor.link}>{actor.name}</Link>\n                </Name>\n                <TextEvent sx={{ textTransform: 'lowercase' }} variant=\"text\" ml={1}>\n                  {threadUrl ? <Link to={threadUrl}>{event}</Link> : event}\n                </TextEvent>\n              </Flex>\n            </Flex>\n            <Flex sx={{ marginTop: '2px' }} alignItems=\"center\">\n              <Date>{DateTime.fromSQL(createdAt).toRelative()}</Date>\n              <Spacer mx={1}></Spacer>\n              <CommunityName to={communityLink}>{communityName}</CommunityName>\n            </Flex>\n          </MemberInfo>\n        </>\n      )}\n    </Member>\n  );\n};\n\nexport interface SmallActorProps {\n  actor: Actor;\n  commentActor?: Actor;\n  event: string;\n  threadUrl?: string;\n}\n\nexport const SmallActorComp: FC<SmallActorProps> = ({ actor, commentActor, event, threadUrl }) => {\n  return (\n    <Member sx={{ alignItems: 'center !important' }}>\n      <Avatar\n        size=\"s\"\n        initials={commentActor ? commentActor.name : actor.name}\n        src={commentActor ? commentActor.icon : actor.icon}\n        variant=\"avatar\"\n      />\n      <MemberInfo sx={{ marginTop: 0 }} ml={2}>\n        <Flex alignItems=\"center\">\n          <Flex flex={1}>\n            <Name>\n              <Link to={commentActor ? commentActor.link : actor.link}>\n                {commentActor ? commentActor.name : actor.name}\n              </Link>\n            </Name>\n            <TextEvent sx={{ textTransform: 'lowercase' }} variant=\"text\" ml={1}>\n              {threadUrl ? <Link to={threadUrl}>{event}</Link> : event}\n            </TextEvent>\n          </Flex>\n        </Flex>\n      </MemberInfo>\n    </Member>\n  );\n};\n\nconst CommunityName = styled(Link)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n  font-size: ${typography.size.s1};\n`;\n\nconst TextEvent = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n  a {\n    font-weight: 600;\n    color: ${props => props.theme.colors.darker};\n  }\n`;\n\nconst Contents = styled(Box)``;\n\nconst Spacer = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n`;\n\nconst Date = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n  font-size: ${typography.size.s1};\n`;\n\nconst Name = styled(Text)`\n  font-weight: 600;\n  color: ${props => props.theme.colors.primary};\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  a {\n    font-weight: 800;\n    display: flex;\n    text-decoration: none;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n    color: ${props => props.theme.colors.primary} !important;\n  }\n`;\n\nconst Member = styled(Flex)`\n  align-items: stretch;\n`;\n\nconst MemberInfo = styled(Box)`\n  width: 100%;\n  margin-top: -4px;\n`;\n\nconst Wrapper = styled(Box)``;\nconst FeedItem = styled(Box)`\n  position: relative;\n  padding: 16px;\n  word-wrap: break-word;\n  ${clearFix()};\n  transition: background 0.5s ease;\n  margin-top: 0;\n  z-index: 10;\n  position: relative;\n  border-radius: 4px;\n  background: ${props => props.theme.colors.appInverse};\n  margin-bottom: 8px;\n  a {\n    text-decoration: none;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n","import { Thread } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport { useThreadPreviewQuery } from './useThreadPreview.generated';\nimport { useReplyComment } from 'fe/comment/reply/useReplyComment';\n\nexport const useThreadPreview = (threadId: Thread['id']) => {\n  const threadPreviewQ = useThreadPreviewQuery({ variables: { threadId } });\n  const thread = threadPreviewQ.data?.thread;\n\n  const community =\n    thread?.context?.__typename === 'Resource'\n      ? thread?.context.collection?.community\n      : thread?.context?.__typename === 'Collection'\n      ? thread?.context.community\n      : thread?.context?.__typename === 'Community'\n      ? thread?.context\n      : undefined;\n  const canReply = !!community?.myFollow;\n  const { reply } = useReplyComment(\n    thread?.comments?.edges[0],\n    community?.id,\n    thread?.comments?.edges[0]?.creator?.userName\n  );\n\n  return useMemo(() => {\n    const mainComment = thread?.comments?.edges[0];\n    const commentCount = thread?.comments?.totalCount;\n    const context = thread?.context;\n    const lastActivity = thread?.lastActivity;\n    return {\n      mainComment,\n      context,\n      reply,\n      canReply,\n      lastActivity,\n      totalReplies: commentCount && commentCount - 1,\n      totalComments: thread?.comments ? thread.comments.totalCount - 1 : 0\n    };\n  }, [canReply, reply, thread]);\n};\n","import { ActorPreviewFragment } from 'fe/lib/activity/types';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { CommunityInfoFragment } from 'HOC/modules/previews/community/CommunityPreview.generated';\nimport { UserPreviewFragment } from 'HOC/modules/previews/user/UserPreview.generated';\nimport { communityLocation } from 'routes/CommunityPageRoute';\n\nexport const getContextCommunityInfo = (\n  context: Maybe<Exclude<ActorPreviewFragment, UserPreviewFragment>>\n): Maybe<CommunityInfoFragment> => {\n  if (!context) {\n    return null;\n  } else if (context.__typename === 'Community') {\n    return context;\n  } else if (context.__typename === 'Collection') {\n    return context.community;\n  } else if (context.__typename === 'Resource') {\n    return context.collection?.community;\n  } else if (context.__typename === 'Comment') {\n    return (\n      context.thread &&\n      context.thread.context &&\n      (context.thread.context.__typename === 'Flag'\n        ? null\n        : context.thread.context.__typename === 'Resource'\n        ? context.thread.context.collection?.community\n        : context.thread.context.__typename === 'Collection'\n        ? context.thread.context.community\n        : context.thread.context.__typename === 'Community'\n        ? context.thread.context\n        : null) // context.thread.context:never\n    );\n  }\n  return null;\n};\nexport const getCommunityInfoStrings = (context: Maybe<ActorPreviewFragment>) => {\n  let communityLink = '';\n  let communityName = '';\n  let communityId = '';\n  let communityIcon = '';\n  if (context && context.__typename !== 'User') {\n    const communityInfo = getContextCommunityInfo(context);\n    if (communityInfo) {\n      communityLink = communityLocation.getPath(\n        { communityId: communityInfo.id, tab: undefined },\n        undefined\n      );\n      communityName = communityInfo.name;\n      communityId = communityInfo.id;\n      communityIcon = communityInfo.icon?.url || '';\n    }\n  }\n  return {\n    communityLink,\n    communityName,\n    communityId,\n    communityIcon\n  };\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type HeroUserUserDataFragment = (\n  { __typename: 'User' }\n  & Pick<Types.User, 'id' | 'displayUsername' | 'location' | 'summary' | 'name' | 'followerCount'>\n  & { image: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )>, myFollow: Types.Maybe<(\n    { __typename: 'Follow' }\n    & Pick<Types.Follow, 'id'>\n  )>, myFlag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  )> }\n);\n\nexport const HeroUserUserDataFragmentDoc = gql`\n    fragment HeroUserUserData on User {\n  id\n  image {\n    id\n    url\n  }\n  icon {\n    id\n    url\n  }\n  displayUsername\n  location\n  summary\n  name\n  myFollow {\n    id\n  }\n  myFlag {\n    id\n  }\n  followerCount\n}\n    `;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { HeroUserUserDataFragment } from '../../modules/HeroUser/HeroUser.generated';\nimport gql from 'graphql-tag';\nimport { HeroUserUserDataFragmentDoc } from '../../modules/HeroUser/HeroUser.generated';\n\n\nexport type UserPageActivitiesFragment = (\n  { __typename: 'Activity' }\n  & Pick<Types.Activity, 'id'>\n);\n\nexport type UserPageUserDataFragment = (\n  { __typename: 'User' }\n  & Pick<Types.User, 'id' | 'website'>\n  & { userId: Types.User['id'], userName: Types.User['name'] }\n  & { collectionFollows: Types.Maybe<(\n    { __typename: 'FollowsPage' }\n    & Pick<Types.FollowsPage, 'totalCount'>\n  )>, communityFollows: Types.Maybe<(\n    { __typename: 'FollowsPage' }\n    & Pick<Types.FollowsPage, 'totalCount'>\n  )>, userFollows: Types.Maybe<(\n    { __typename: 'FollowsPage' }\n    & Pick<Types.FollowsPage, 'totalCount'>\n  )>, outbox: Types.Maybe<(\n    { __typename: 'ActivitiesPage' }\n    & Pick<Types.ActivitiesPage, 'totalCount'>\n  )> }\n  & HeroUserUserDataFragment\n);\n\nexport const UserPageActivitiesFragmentDoc = gql`\n    fragment UserPageActivities on Activity {\n  id\n}\n    `;\nexport const UserPageUserDataFragmentDoc = gql`\n    fragment UserPageUserData on User {\n  id\n  userId: id\n  collectionFollows {\n    totalCount\n  }\n  communityFollows {\n    totalCount\n  }\n  userFollows {\n    totalCount\n  }\n  outbox {\n    totalCount\n  }\n  website\n  userName: name\n  ...HeroUserUserData\n}\n    ${HeroUserUserDataFragmentDoc}`;\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { ActivityPreviewFragment } from '../../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport { UserPageActivitiesFragment } from '../../../../HOC/pages/user/UserPage.generated';\nimport { FullPageInfoFragment } from '../../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../../@fragments/misc.generated';\nimport { UserPageActivitiesFragmentDoc } from '../../../../HOC/pages/user/UserPage.generated';\nimport { ActivityPreviewFragmentDoc } from '../../../../HOC/modules/previews/activity/ActivityPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\n\nexport type UserOutboxActivitiesQueryVariables = {\n  userId: Types.Scalars['String'],\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  limit?: Types.Maybe<Types.Scalars['Int']>\n};\n\n\nexport type UserOutboxActivitiesQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & { outbox: Types.Maybe<(\n      { __typename: 'ActivitiesPage' }\n      & Pick<Types.ActivitiesPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Activity' }\n        & UserOutboxActivityFragment\n      )> }\n    )> }\n  )> }\n);\n\nexport type UserOutboxActivityFragment = (\n  { __typename: 'Activity' }\n  & UserPageActivitiesFragment\n  & ActivityPreviewFragment\n);\n\nexport const UserOutboxActivityFragmentDoc = gql`\n    fragment UserOutboxActivity on Activity {\n  ...UserPageActivities\n  ...ActivityPreview\n}\n    ${UserPageActivitiesFragmentDoc}\n${ActivityPreviewFragmentDoc}`;\nexport const UserOutboxActivitiesDocument = gql`\n    query userOutboxActivities($userId: String!, $after: [Cursor!], $before: [Cursor!], $limit: Int) {\n  user(userId: $userId) @connection(key: \"userOutboxActivities\", filter: [\"userId\"]) {\n    id\n    outbox(after: $after, before: $before, limit: $limit) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...UserOutboxActivity\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${UserOutboxActivityFragmentDoc}`;\n\n/**\n * __useUserOutboxActivitiesQuery__\n *\n * To run a query within a React component, call `useUserOutboxActivitiesQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserOutboxActivitiesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserOutboxActivitiesQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *      after: // value for 'after'\n *      before: // value for 'before'\n *      limit: // value for 'limit'\n *   },\n * });\n */\nexport function useUserOutboxActivitiesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserOutboxActivitiesQuery, UserOutboxActivitiesQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserOutboxActivitiesQuery, UserOutboxActivitiesQueryVariables>(UserOutboxActivitiesDocument, baseOptions);\n      }\nexport function useUserOutboxActivitiesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserOutboxActivitiesQuery, UserOutboxActivitiesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserOutboxActivitiesQuery, UserOutboxActivitiesQueryVariables>(UserOutboxActivitiesDocument, baseOptions);\n        }\nexport type UserOutboxActivitiesQueryHookResult = ReturnType<typeof useUserOutboxActivitiesQuery>;\nexport type UserOutboxActivitiesLazyQueryHookResult = ReturnType<typeof useUserOutboxActivitiesLazyQuery>;\nexport type UserOutboxActivitiesQueryResult = ApolloReactCommon.QueryResult<UserOutboxActivitiesQuery, UserOutboxActivitiesQueryVariables>;\n\n\nexport interface UserOutboxActivitiesQueryOperation {\n  operationName: 'userOutboxActivities'\n  result: UserOutboxActivitiesQuery\n  variables: UserOutboxActivitiesQueryVariables\n  type: 'query'\n}\nexport const UserOutboxActivitiesQueryName:UserOutboxActivitiesQueryOperation['operationName'] = 'userOutboxActivities'\n\nexport const UserOutboxActivitiesQueryRefetch = (\n  variables:UserOutboxActivitiesQueryVariables, \n  context?:any\n)=>({\n  query:UserOutboxActivitiesDocument,\n  variables,\n  context\n})\n      \n","import { User } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useUserOutboxActivities.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useUserOutboxActivities = (userId: User['id']) => {\n  const activitiesQ = GQL.useUserOutboxActivitiesQuery({\n    variables: { userId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const activitiesPage = usePage(\n    activitiesQ.data?.user?.outbox,\n    ({ cursor, update }) => {\n      return activitiesQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, userId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.user?.outbox && prev.user?.outbox\n            ? {\n                ...fetchMoreResult,\n                user: {\n                  ...fetchMoreResult.user,\n                  outbox: update({\n                    prev: prev.user.outbox,\n                    fetched: fetchMoreResult.user.outbox\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(() => {\n    return {\n      activitiesPage\n    };\n  }, [activitiesPage]);\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CollectionPreviewFragment } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CollectionPreviewFragmentDoc } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type UserFollowedCollectionsQueryVariables = {\n  userId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type UserFollowedCollectionsQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & { collectionFollows: Types.Maybe<(\n      { __typename: 'FollowsPage' }\n      & Pick<Types.FollowsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n        & { context: { __typename: 'Category' } | (\n          { __typename: 'Collection' }\n          & UserFollowedCollectionFragment\n        ) | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' } }\n      )> }\n    )> }\n  )> }\n);\n\nexport type UserFollowedCollectionFragment = (\n  { __typename: 'Collection' }\n  & CollectionPreviewFragment\n);\n\nexport const UserFollowedCollectionFragmentDoc = gql`\n    fragment UserFollowedCollection on Collection {\n  ...CollectionPreview\n}\n    ${CollectionPreviewFragmentDoc}`;\nexport const UserFollowedCollectionsDocument = gql`\n    query userFollowedCollections($userId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  user(userId: $userId) @connection(key: \"userFollowedCollections\", filter: [\"userId\"]) {\n    id\n    collectionFollows(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        id\n        context {\n          ... on Collection {\n            ...UserFollowedCollection\n          }\n        }\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${UserFollowedCollectionFragmentDoc}`;\n\n/**\n * __useUserFollowedCollectionsQuery__\n *\n * To run a query within a React component, call `useUserFollowedCollectionsQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserFollowedCollectionsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserFollowedCollectionsQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useUserFollowedCollectionsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserFollowedCollectionsQuery, UserFollowedCollectionsQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserFollowedCollectionsQuery, UserFollowedCollectionsQueryVariables>(UserFollowedCollectionsDocument, baseOptions);\n      }\nexport function useUserFollowedCollectionsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserFollowedCollectionsQuery, UserFollowedCollectionsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserFollowedCollectionsQuery, UserFollowedCollectionsQueryVariables>(UserFollowedCollectionsDocument, baseOptions);\n        }\nexport type UserFollowedCollectionsQueryHookResult = ReturnType<typeof useUserFollowedCollectionsQuery>;\nexport type UserFollowedCollectionsLazyQueryHookResult = ReturnType<typeof useUserFollowedCollectionsLazyQuery>;\nexport type UserFollowedCollectionsQueryResult = ApolloReactCommon.QueryResult<UserFollowedCollectionsQuery, UserFollowedCollectionsQueryVariables>;\n\n\nexport interface UserFollowedCollectionsQueryOperation {\n  operationName: 'userFollowedCollections'\n  result: UserFollowedCollectionsQuery\n  variables: UserFollowedCollectionsQueryVariables\n  type: 'query'\n}\nexport const UserFollowedCollectionsQueryName:UserFollowedCollectionsQueryOperation['operationName'] = 'userFollowedCollections'\n\nexport const UserFollowedCollectionsQueryRefetch = (\n  variables:UserFollowedCollectionsQueryVariables, \n  context?:any\n)=>({\n  query:UserFollowedCollectionsDocument,\n  variables,\n  context\n})\n      \n","import { User } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useUserFollowedCollections.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport interface Props {\n  userId: User['id'];\n}\n\nexport const useUserFollowedCollections = (userId: User['id']) => {\n  const userQ = GQL.useUserFollowedCollectionsQuery({\n    variables: { userId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const followedCollectionsPage = usePage(\n    userQ.data?.user?.collectionFollows,\n    ({ cursor, update }) => {\n      return userQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, userId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.user?.collectionFollows &&\n            prev.user?.collectionFollows\n            ? {\n                ...fetchMoreResult,\n                user: {\n                  ...fetchMoreResult.user,\n                  collectionFollows: update({\n                    prev: prev.user.collectionFollows,\n                    fetched: fetchMoreResult.user.collectionFollows\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(\n    () => ({\n      followedCollectionsPage\n    }),\n    [followedCollectionsPage]\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommunityPreviewFragment } from '../../../HOC/modules/previews/community/CommunityPreview.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CommunityPreviewFragmentDoc } from '../../../HOC/modules/previews/community/CommunityPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type UserFollowedCommunitiesQueryVariables = {\n  userId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type UserFollowedCommunitiesQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & { communityFollows: Types.Maybe<(\n      { __typename: 'FollowsPage' }\n      & Pick<Types.FollowsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n        & { context: { __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | (\n          { __typename: 'Community' }\n          & UserFollowedCommunityFragment\n        ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' } }\n      )> }\n    )> }\n  )> }\n);\n\nexport type UserFollowedCommunityFragment = (\n  { __typename: 'Community' }\n  & CommunityPreviewFragment\n);\n\nexport const UserFollowedCommunityFragmentDoc = gql`\n    fragment UserFollowedCommunity on Community {\n  ...CommunityPreview\n}\n    ${CommunityPreviewFragmentDoc}`;\nexport const UserFollowedCommunitiesDocument = gql`\n    query userFollowedCommunities($userId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  user(userId: $userId) @connection(key: \"userFollowedCommunities\", filter: [\"userId\"]) {\n    id\n    communityFollows(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        id\n        context {\n          ... on Community {\n            ...UserFollowedCommunity\n          }\n        }\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${UserFollowedCommunityFragmentDoc}`;\n\n/**\n * __useUserFollowedCommunitiesQuery__\n *\n * To run a query within a React component, call `useUserFollowedCommunitiesQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserFollowedCommunitiesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserFollowedCommunitiesQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useUserFollowedCommunitiesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserFollowedCommunitiesQuery, UserFollowedCommunitiesQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserFollowedCommunitiesQuery, UserFollowedCommunitiesQueryVariables>(UserFollowedCommunitiesDocument, baseOptions);\n      }\nexport function useUserFollowedCommunitiesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserFollowedCommunitiesQuery, UserFollowedCommunitiesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserFollowedCommunitiesQuery, UserFollowedCommunitiesQueryVariables>(UserFollowedCommunitiesDocument, baseOptions);\n        }\nexport type UserFollowedCommunitiesQueryHookResult = ReturnType<typeof useUserFollowedCommunitiesQuery>;\nexport type UserFollowedCommunitiesLazyQueryHookResult = ReturnType<typeof useUserFollowedCommunitiesLazyQuery>;\nexport type UserFollowedCommunitiesQueryResult = ApolloReactCommon.QueryResult<UserFollowedCommunitiesQuery, UserFollowedCommunitiesQueryVariables>;\n\n\nexport interface UserFollowedCommunitiesQueryOperation {\n  operationName: 'userFollowedCommunities'\n  result: UserFollowedCommunitiesQuery\n  variables: UserFollowedCommunitiesQueryVariables\n  type: 'query'\n}\nexport const UserFollowedCommunitiesQueryName:UserFollowedCommunitiesQueryOperation['operationName'] = 'userFollowedCommunities'\n\nexport const UserFollowedCommunitiesQueryRefetch = (\n  variables:UserFollowedCommunitiesQueryVariables, \n  context?:any\n)=>({\n  query:UserFollowedCommunitiesDocument,\n  variables,\n  context\n})\n      \n","import { User } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useUserFollowedCommunities.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport interface Props {\n  userId: User['id'];\n}\n\nexport const useUserFollowedCommunities = (userId: User['id']) => {\n  const userQ = GQL.useUserFollowedCommunitiesQuery({\n    variables: { userId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const followedCommunitiesPage = usePage(\n    userQ.data?.user?.communityFollows,\n    ({ cursor, update }) => {\n      return userQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, userId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.user?.communityFollows && prev.user?.communityFollows\n            ? {\n                ...fetchMoreResult,\n                user: {\n                  ...fetchMoreResult.user,\n                  communityFollows: update({\n                    prev: prev.user.communityFollows,\n                    fetched: fetchMoreResult.user.communityFollows\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(\n    () => ({\n      followedCommunitiesPage\n    }),\n    [followedCommunitiesPage]\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport { LikePreviewFragment } from '../../../HOC/modules/previews/like/LikePreview.generated';\nimport gql from 'graphql-tag';\nimport { LikePreviewFragmentDoc } from '../../../HOC/modules/previews/like/LikePreview.generated';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type UserLikesQueryVariables = {\n  userId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type UserLikesQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & { likes: Types.Maybe<(\n      { __typename: 'LikesPage' }\n      & Pick<Types.LikesPage, 'totalCount'>\n      & { edges: Array<(\n        { __typename: 'Like' }\n        & LikePreviewFragment\n      )>, pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ) }\n    )> }\n  )> }\n);\n\n\nexport const UserLikesDocument = gql`\n    query userLikes($userId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  user(userId: $userId) {\n    id\n    likes(limit: $limit, before: $before, after: $after) @connection(key: \"userLikes\") {\n      edges {\n        ...LikePreview\n      }\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n    }\n  }\n}\n    ${LikePreviewFragmentDoc}\n${FullPageInfoFragmentDoc}`;\n\n/**\n * __useUserLikesQuery__\n *\n * To run a query within a React component, call `useUserLikesQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserLikesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserLikesQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useUserLikesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserLikesQuery, UserLikesQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserLikesQuery, UserLikesQueryVariables>(UserLikesDocument, baseOptions);\n      }\nexport function useUserLikesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserLikesQuery, UserLikesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserLikesQuery, UserLikesQueryVariables>(UserLikesDocument, baseOptions);\n        }\nexport type UserLikesQueryHookResult = ReturnType<typeof useUserLikesQuery>;\nexport type UserLikesLazyQueryHookResult = ReturnType<typeof useUserLikesLazyQuery>;\nexport type UserLikesQueryResult = ApolloReactCommon.QueryResult<UserLikesQuery, UserLikesQueryVariables>;\n\n\nexport interface UserLikesQueryOperation {\n  operationName: 'userLikes'\n  result: UserLikesQuery\n  variables: UserLikesQueryVariables\n  type: 'query'\n}\nexport const UserLikesQueryName:UserLikesQueryOperation['operationName'] = 'userLikes'\n\nexport const UserLikesQueryRefetch = (\n  variables:UserLikesQueryVariables, \n  context?:any\n)=>({\n  query:UserLikesDocument,\n  variables,\n  context\n})\n      \n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { useUserLikesQuery } from './useUserLikes.generated';\nimport { useMemo } from 'react';\nimport { User } from 'graphql/types.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useUserLikes = (userId: User['id']) => {\n  const userLikesQ = useUserLikesQuery({\n    variables: { userId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const likesPage = usePage(\n    userLikesQ.data?.user?.likes,\n    ({ cursor, update }) => {\n      return userLikesQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, userId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.user?.likes && prev.user?.likes\n            ? {\n                ...fetchMoreResult,\n                user: {\n                  ...fetchMoreResult.user,\n                  likes: update({\n                    prev: prev.user.likes,\n                    fetched: fetchMoreResult.user.likes\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n  return useMemo(() => {\n    return {\n      likesPage\n    };\n  }, [likesPage]);\n};\n","import * as Types from '../../../../graphql/types.generated';\n\nimport { UserPreviewFragment } from '../../../../HOC/modules/previews/user/UserPreview.generated';\nimport { FullPageInfoFragment } from '../../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../../@fragments/misc.generated';\nimport { UserPreviewFragmentDoc } from '../../../../HOC/modules/previews/user/UserPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type UserFollowedUsersQueryVariables = {\n  userId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type UserFollowedUsersQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & { userFollows: Types.Maybe<(\n      { __typename: 'FollowsPage' }\n      & Pick<Types.FollowsPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Follow' }\n        & Pick<Types.Follow, 'id'>\n        & { context: { __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n          { __typename: 'User' }\n          & UserFollowedUserFragment\n        ) }\n      )> }\n    )> }\n  )> }\n);\n\nexport type UserFollowedUserFragment = (\n  { __typename: 'User' }\n  & UserPreviewFragment\n);\n\nexport const UserFollowedUserFragmentDoc = gql`\n    fragment UserFollowedUser on User {\n  ...UserPreview\n}\n    ${UserPreviewFragmentDoc}`;\nexport const UserFollowedUsersDocument = gql`\n    query userFollowedUsers($userId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  user(userId: $userId) @connection(key: \"userFollowedUsers\", filter: [\"userId\"]) {\n    id\n    userFollows(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        id\n        context {\n          ... on User {\n            ...UserFollowedUser\n          }\n        }\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${UserFollowedUserFragmentDoc}`;\n\n/**\n * __useUserFollowedUsersQuery__\n *\n * To run a query within a React component, call `useUserFollowedUsersQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserFollowedUsersQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserFollowedUsersQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useUserFollowedUsersQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserFollowedUsersQuery, UserFollowedUsersQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserFollowedUsersQuery, UserFollowedUsersQueryVariables>(UserFollowedUsersDocument, baseOptions);\n      }\nexport function useUserFollowedUsersLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserFollowedUsersQuery, UserFollowedUsersQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserFollowedUsersQuery, UserFollowedUsersQueryVariables>(UserFollowedUsersDocument, baseOptions);\n        }\nexport type UserFollowedUsersQueryHookResult = ReturnType<typeof useUserFollowedUsersQuery>;\nexport type UserFollowedUsersLazyQueryHookResult = ReturnType<typeof useUserFollowedUsersLazyQuery>;\nexport type UserFollowedUsersQueryResult = ApolloReactCommon.QueryResult<UserFollowedUsersQuery, UserFollowedUsersQueryVariables>;\n\n\nexport interface UserFollowedUsersQueryOperation {\n  operationName: 'userFollowedUsers'\n  result: UserFollowedUsersQuery\n  variables: UserFollowedUsersQueryVariables\n  type: 'query'\n}\nexport const UserFollowedUsersQueryName:UserFollowedUsersQueryOperation['operationName'] = 'userFollowedUsers'\n\nexport const UserFollowedUsersQueryRefetch = (\n  variables:UserFollowedUsersQueryVariables, \n  context?:any\n)=>({\n  query:UserFollowedUsersDocument,\n  variables,\n  context\n})\n      \n","import { User } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useUserFollowedUsers.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport interface Props {\n  userId: User['id'];\n}\n\nexport const useUserFollowedUsers = (userId: User['id']) => {\n  const userQ = GQL.useUserFollowedUsersQuery({\n    variables: { userId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const followedUsersPage = usePage(\n    userQ.data?.user?.userFollows,\n    ({ cursor, update }) => {\n      return userQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, userId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.user?.userFollows && prev.user?.userFollows\n            ? {\n                ...fetchMoreResult,\n                user: {\n                  ...fetchMoreResult.user,\n                  userFollows: update({\n                    prev: prev.user.userFollows,\n                    fetched: fetchMoreResult.user.userFollows\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(\n    () => ({\n      followedUsersPage\n    }),\n    [followedUsersPage]\n  );\n};\n","import * as Types from '../../graphql/types.generated';\n\nimport { UserPageUserDataFragment } from '../../HOC/pages/user/UserPage.generated';\nimport gql from 'graphql-tag';\nimport { UserPageUserDataFragmentDoc } from '../../HOC/pages/user/UserPage.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type UserDataQueryVariables = {\n  userId: Types.Scalars['String']\n};\n\n\nexport type UserDataQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & UserPageUserDataFragment\n  )> }\n);\n\n\nexport const UserDataDocument = gql`\n    query userData($userId: String!) {\n  user(userId: $userId) {\n    ...UserPageUserData\n  }\n}\n    ${UserPageUserDataFragmentDoc}`;\n\n/**\n * __useUserDataQuery__\n *\n * To run a query within a React component, call `useUserDataQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserDataQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserDataQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *   },\n * });\n */\nexport function useUserDataQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserDataQuery, UserDataQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserDataQuery, UserDataQueryVariables>(UserDataDocument, baseOptions);\n      }\nexport function useUserDataLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserDataQuery, UserDataQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserDataQuery, UserDataQueryVariables>(UserDataDocument, baseOptions);\n        }\nexport type UserDataQueryHookResult = ReturnType<typeof useUserDataQuery>;\nexport type UserDataLazyQueryHookResult = ReturnType<typeof useUserDataLazyQuery>;\nexport type UserDataQueryResult = ApolloReactCommon.QueryResult<UserDataQuery, UserDataQueryVariables>;\n\n\nexport interface UserDataQueryOperation {\n  operationName: 'userData'\n  result: UserDataQuery\n  variables: UserDataQueryVariables\n  type: 'query'\n}\nexport const UserDataQueryName:UserDataQueryOperation['operationName'] = 'userData'\n\nexport const UserDataQueryRefetch = (\n  variables:UserDataQueryVariables, \n  context?:any\n)=>({\n  query:UserDataDocument,\n  variables,\n  context\n})\n      \n","import { Trans } from '@lingui/macro';\nimport React, { FC } from 'react';\nimport { Flag, MapPin, MoreVertical } from 'react-feather';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { FormikHook } from 'ui/@types/types';\nimport Button from 'ui/elements/Button';\n// import { NavLink } from 'react-router-dom';\nimport { MDComment } from 'ui/elements/Layout/comment';\nimport { Dropdown, DropdownItem } from 'ui/modules/Dropdown';\nimport styled from 'ui/themes/styled';\n\nexport enum Status {\n  Loading,\n  Loaded\n}\n\nexport interface Loading {\n  status: Status.Loading;\n}\n\nexport interface Loaded {\n  status: Status.Loaded;\n  me: boolean;\n  image: string;\n  icon: string;\n  name: string;\n  isFlagged: boolean;\n  displayUsername: string;\n  location: string;\n  summary: string;\n}\n\nexport interface LoadedMe extends Loaded {\n  me: true;\n  isAdmin: boolean;\n}\n\nexport interface LoadedOther extends Loaded {\n  me: false;\n  following: boolean;\n  toggleFollowFormik: FormikHook<{}>;\n  isOpenDropdown: boolean;\n  toggleDropdown(): unknown;\n  flag(): any;\n}\n\nexport type Props = LoadedMe | LoadedOther | Loading;\n\nexport const HeroUser: FC<Props> = props => {\n  if (props.status === Status.Loading) {\n    return null;\n  }\n\n  return (\n    <ProfileBox p={1}>\n      <Hero>\n        <HeroBg src={props.image} />\n        <FlexProfile>\n          <WrapperHero>\n            <Img\n              style={{\n                backgroundImage: `url(\"${props.icon}\")`\n              }}\n            />\n          </WrapperHero>\n          <HeroAction mr={2}>\n            {props.me ? (\n              <></>\n            ) : (\n              <>\n                <Button\n                  mr={2}\n                  variant={props.following ? 'danger' : 'primary'}\n                  isSubmitting={props.toggleFollowFormik.isSubmitting}\n                  isDisabled={props.toggleFollowFormik.isSubmitting}\n                  onClick={props.toggleFollowFormik.submitForm}\n                >\n                  {props.following ? <Trans>Unfollow</Trans> : <Trans>Follow</Trans>}\n                </Button>\n                <More>\n                  <MoreVertical size={20} onClick={props.toggleDropdown} />\n                  {props.isOpenDropdown && (\n                    <RightDd>\n                      <Dropdown orientation={'bottom'} close={props.toggleDropdown}>\n                        <DropdownItem onClick={props.flag}>\n                          <Flag size={20} color={'rgb(101, 119, 134)'} />\n                          <Text sx={{ flex: 1 }} ml={2}>\n                            {!props.isFlagged ? (\n                              <Trans>Flag this user</Trans>\n                            ) : (\n                              <Trans>Unflag this user</Trans>\n                            )}{' '}\n                          </Text>\n                        </DropdownItem>\n                      </Dropdown>\n                    </RightDd>\n                  )}\n                </More>\n              </>\n            )}\n          </HeroAction>\n        </FlexProfile>\n        <HeroInfo ml={3}>\n          <HeroTitle sx={{ fontSize: '18px' }} mt={2} variant=\"heading\" fontWeight={'bold'}>\n            {props.name}\n          </HeroTitle>\n          <Username mt={1}>\n            @{props.displayUsername}\n            {props.me && props.isAdmin && <AdminBadge ml={2}>Admin</AdminBadge>}\n          </Username>\n\n          <Box mt={2}>\n            <MDComment content={props.summary} />\n          </Box>\n          {props.location ? (\n            <Location mt={2}>\n              <span>\n                <MapPin strokeWidth={1} size={20} />\n              </span>\n              {props.location}\n            </Location>\n          ) : null}\n        </HeroInfo>\n      </Hero>\n    </ProfileBox>\n  );\n};\n\nconst RightDd = styled(Box)`\n  .dropdown {\n    right: 0;\n    left: auto;\n\n    ${media.lessThan('860px')`\n      right: initial;\n      left: 10px;\n    `};\n  }\n`;\n\nconst AdminBadge = styled(Box)`\n  padding: 1px 8px;\n  border: 1px solid ${props => props.theme.colors.primary};\n  border-radius: 2px;\n  color: ${props => props.theme.colors.primary};\n  display: inline-block;\n`;\n\nconst More = styled(Box)`\n  position: relative;\n  cursor: pointer;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  border: ${props => props.theme.colors.border};\n  border-radius: 4px;\n  svg {\n    margin: 0 auto;\n    stroke: ${props => props.theme.colors.mediumdark};\n  }\n`;\n\nconst HeroAction = styled(Flex)`\n  align-items: center;\n`;\n\nconst HeroTitle = styled(Text)`\n  color: ${props => props.theme.colors.darker};\n`;\n\nconst FlexProfile = styled(Flex)`\n  justify-content: space-between;\n  ${media.lessThan('860px')`\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n`};\n`;\n\nconst ProfileBox = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  padding-bottom: 16px;\n`;\n\nconst Username = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n`;\n\nconst Location = styled(Flex)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n  line-height: 26px;\n  border-radius: 100px;\n  align-items: center;\n  span {\n    margin-right: 8px;\n    & svg {\n      stroke: ${props => props.theme.colors.mediumdark};\n      vertical-align: text-bottom;\n    }\n    .--rtl & {\n      margin-left: 8px;\n      margin-right: 0px;\n    }\n  }\n`;\n\nconst HeroBg = styled.div<{ src: string }>`\n  height: 250px;\n  margin: -4px;\n  background: ${props => props.theme.colors.light};\n  background-image: url(\"${props => (props.src ? props.src : props.theme.colors.light)}\");\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: relative;\n`;\n\nconst WrapperHero = styled.div`\n  padding: 24px;\n  padding-top: 0;\n  z-index: 9999;\n  position: relative;\n  margin-top: -60px;\n  padding-bottom: 0;\n`;\n\nconst Img = styled.div`\n  width: 120px;\n  height: 120px;\n  border-radius: 6px;\n  background: ${props => props.theme.colors.light};\n  border: 3px solid ${props => props.theme.colors.appInverse};\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 16px;\n`;\n\nconst Hero = styled.div`\n  width: 100%;\n  position: relative;\n  border-radius: 6px;\n`;\n\nconst HeroInfo = styled(Box)`\n  & button {\n    span {\n      vertical-align: sub;\n      display: inline-block;\n      height: 30px;\n      margin-right: 4px;\n    }\n  }\n`;\n","import { User } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useUser.generated';\nimport { useMe } from 'fe/session/useMe';\nimport { useFollowContext } from 'fe/context/follow/useFollowContext';\n\nexport const useUser = (userId: User['id']) => {\n  const userQ = GQL.useUserDataQuery({ variables: { userId } });\n  const { me, isAdmin } = useMe();\n  const user = userQ.data?.user;\n  const { toggleFollow } = useFollowContext(user);\n\n  return useMemo(() => {\n    const user = userQ.data?.user;\n    const totalCollections = user?.collectionFollows?.totalCount;\n    const totalCommunities = user?.communityFollows?.totalCount;\n    const totalUsers = user?.userFollows?.totalCount;\n    const totalActivities = user?.outbox?.totalCount;\n    const isMe = !!(me && user && me.user.id === user.id);\n\n    return {\n      isMe,\n      isAdmin,\n      user,\n      toggleFollow,\n      totalCollections,\n      totalCommunities,\n      totalUsers,\n      totalActivities\n    };\n  }, [me, userQ, toggleFollow, isAdmin]);\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useUser } from 'fe/user/useUser';\nimport { useFormik } from 'formik';\nimport { User } from 'graphql/types.generated';\nimport { useNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport React, { FC, useMemo, useReducer } from 'react';\nimport { HeroUser as HeroUserUI, Loaded, LoadedOther, Props, Status } from 'ui/modules/HeroUser';\nimport Modal from 'ui/modules/Modal';\nimport { FlagModalHOC } from '../FlagModal/flagModalHOC';\n\nexport interface HeroUser {\n  userId: User['id'];\n}\nexport const HeroUser: FC<HeroUser> = ({ userId }) => {\n  const { user, isAdmin, isMe, toggleFollow } = useUser(userId);\n  const [isOpenDropdown, toggleDropdown] = useReducer(is => !is, false);\n\n  const toggleFollowFormik = useFormik({\n    initialValues: {},\n    onSubmit: toggleFollow\n  });\n  const notifiedMustLogin = useNotifyMustLogin();\n\n  const [isFlagging, toggleFlagging] = useReducer(is => {\n    return notifiedMustLogin() ? false : !is;\n  }, false);\n\n  const FlagModal =\n    user && isFlagging ? (\n      <Modal closeModal={toggleFlagging}>\n        <FlagModalHOC done={toggleFlagging} ctx={user} />\n      </Modal>\n    ) : null;\n  const userHeroProps = useMemo<Props>(() => {\n    if (!user) {\n      return {\n        status: Status.Loading\n      };\n    }\n\n    const loadedProps: Omit<Loaded, 'me'> = {\n      status: Status.Loaded,\n      displayUsername: user.displayUsername,\n      icon: user.icon?.url || '',\n      image: user.image?.url || '',\n      location: user.location || '',\n      name: user.name || '',\n      summary: user.summary || '',\n      isFlagged: !!user.myFlag\n    };\n\n    if (isMe) {\n      const props: Props = {\n        isAdmin: isAdmin,\n        me: isMe,\n        ...loadedProps\n      };\n\n      return props;\n    } else {\n      const props: LoadedOther = {\n        flag: toggleFlagging,\n        me: isMe,\n        following: !!user.myFollow,\n        isOpenDropdown,\n        toggleDropdown,\n        toggleFollowFormik,\n        ...loadedProps\n      };\n\n      return props;\n    }\n  }, [isMe, user, toggleFollowFormik, isAdmin, isOpenDropdown]);\n\n  return (\n    <>\n      {FlagModal}\n      <HeroUserUI {...userHeroProps} />\n    </>\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CommunityPreviewFragment } from '../../../HOC/modules/previews/community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPreviewFragmentDoc } from '../../../HOC/modules/previews/community/CommunityPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type CommunityPreviewQueryVariables = {\n  communityId: Types.Scalars['String']\n};\n\n\nexport type CommunityPreviewQuery = (\n  { __typename: 'RootQueryType' }\n  & { community: Types.Maybe<(\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id'>\n    & CommunityPreviewFragment\n  )> }\n);\n\n\nexport const CommunityPreviewDocument = gql`\n    query communityPreview($communityId: String!) {\n  community(communityId: $communityId) {\n    id\n    ...CommunityPreview\n  }\n}\n    ${CommunityPreviewFragmentDoc}`;\n\n/**\n * __useCommunityPreviewQuery__\n *\n * To run a query within a React component, call `useCommunityPreviewQuery` and pass it any options that fit your needs.\n * When your component renders, `useCommunityPreviewQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCommunityPreviewQuery({\n *   variables: {\n *      communityId: // value for 'communityId'\n *   },\n * });\n */\nexport function useCommunityPreviewQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CommunityPreviewQuery, CommunityPreviewQueryVariables>) {\n        return ApolloReactHooks.useQuery<CommunityPreviewQuery, CommunityPreviewQueryVariables>(CommunityPreviewDocument, baseOptions);\n      }\nexport function useCommunityPreviewLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CommunityPreviewQuery, CommunityPreviewQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CommunityPreviewQuery, CommunityPreviewQueryVariables>(CommunityPreviewDocument, baseOptions);\n        }\nexport type CommunityPreviewQueryHookResult = ReturnType<typeof useCommunityPreviewQuery>;\nexport type CommunityPreviewLazyQueryHookResult = ReturnType<typeof useCommunityPreviewLazyQuery>;\nexport type CommunityPreviewQueryResult = ApolloReactCommon.QueryResult<CommunityPreviewQuery, CommunityPreviewQueryVariables>;\n\n\nexport interface CommunityPreviewQueryOperation {\n  operationName: 'communityPreview'\n  result: CommunityPreviewQuery\n  variables: CommunityPreviewQueryVariables\n  type: 'query'\n}\nexport const CommunityPreviewQueryName:CommunityPreviewQueryOperation['operationName'] = 'communityPreview'\n\nexport const CommunityPreviewQueryRefetch = (\n  variables:CommunityPreviewQueryVariables, \n  context?:any\n)=>({\n  query:CommunityPreviewDocument,\n  variables,\n  context\n})\n      \n","import { Community } from 'graphql/types.generated';\nimport { useCommunityPreviewQuery } from './useCommunityPreview.generated';\nimport { useMemo } from 'react';\nimport { useFollowContext } from 'fe/context/follow/useFollowContext';\nimport { useMe } from 'fe/session/useMe';\n\nexport const useCommunityPreview = (communityId: Community['id']) => {\n  const communityPreviewQ = useCommunityPreviewQuery({\n    variables: { communityId }\n  });\n  const { me } = useMe();\n  const community = communityPreviewQ.data?.community;\n  const { toggleFollow } = useFollowContext(communityPreviewQ.data?.community);\n  const isCreator =\n    !!me && !!community?.creator && me.user.id === community.creator.id;\n\n  return useMemo(() => {\n    return {\n      community: communityPreviewQ.data?.community,\n      toggleJoin: toggleFollow,\n      isCreator\n    };\n  }, [communityPreviewQ, toggleFollow, isCreator]);\n};\n","import { Trans } from '@lingui/macro';\nimport React from 'react';\nimport { Box, Flex, Text, Heading } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport Avatar from 'ui/elements/Avatar';\nimport styled from 'ui/themes/styled';\nimport { SimpleLink } from 'ui/helpers/SimpleLink';\nimport { Users, Folder } from 'react-feather';\nimport Button from 'ui/elements/Button';\nimport { darken } from 'polished';\nimport { Search } from './Collection';\n\nexport interface Props {\n  name: string;\n  icon: string;\n  summary: string;\n  followersCount: number;\n  collectionsCount: number;\n  threadsCount: number;\n  toggleJoinFormik: FormikHook<{}>;\n  joined: boolean;\n  link: SimpleLink;\n  displayUsername: string;\n  hideActions: boolean;\n  isCreator: boolean;\n  isSearch?: boolean;\n  // followers: string[]\n}\n\nexport const Community: React.FC<Props> = ({\n  name,\n  icon,\n  summary,\n  isCreator,\n  followersCount,\n  joined,\n  toggleJoinFormik,\n  collectionsCount,\n  link,\n  displayUsername,\n  hideActions,\n  isSearch\n  // followers\n}) => (\n  <Bordered>\n    {isSearch && (\n      <Search>\n        <Trans>Community</Trans>\n      </Search>\n    )}\n    <Wrapper p={2}>\n      <WrapperLink link={link}>\n        <WrapperImage>\n          <Avatar size=\"l\" src={icon} />\n        </WrapperImage>\n        <Box p={2}>\n          <Flex>\n            <Box flex={1}>\n              <Title variant=\"heading\">\n                {name.length > 60 ? name.replace(/^(.{56}[^\\s]*).*/, '$1...') : name}\n              </Title>\n              <Username>{displayUsername}</Username>\n            </Box>\n          </Flex>\n\n          {summary ? (\n            <Summary variant=\"text\" mt={2}>\n              {summary.length > 90\n                ? summary.replace(/^([\\s\\S]{86}[^\\s]*)[\\s\\S]*/, '$1...')\n                : summary}\n            </Summary>\n          ) : null}\n\n          {/* <Users>\n            {followers.map((u, i) => (<Avatar key={i} src={u}/>))}\n          </Users> */}\n        </Box>\n        <Meta px={2}>\n          <MetaWrapper mt={2} alignItems=\"center\">\n            <Users size={18} />\n            <Text ml={2} variant=\"suptitle\">\n              {followersCount || 0} <Trans>Users</Trans>\n            </Text>\n          </MetaWrapper>\n\n          <MetaWrapper mt={2} alignSelf=\"center\" alignItems=\"center\">\n            <Folder size={18} />\n            <Text ml={2} variant=\"suptitle\">\n              {collectionsCount || 0} <Trans>Collections</Trans>\n            </Text>\n          </MetaWrapper>\n          {hideActions ? null : (\n            <Actions my={3}>\n              <Button\n                variant=\"outline\"\n                isDisabled={isCreator ? true : false}\n                isSubmitting={toggleJoinFormik.isSubmitting}\n                onClick={e => {\n                  e.preventDefault();\n                  toggleJoinFormik.submitForm();\n                }}\n              >\n                <Text variant={'suptitle'}>\n                  {joined ? <Trans>Leave</Trans> : <Trans>Join</Trans>}\n                </Text>\n              </Button>\n            </Actions>\n          )}\n        </Meta>\n      </WrapperLink>\n    </Wrapper>\n  </Bordered>\n);\n\n// const Users = styled(Box)``\nconst Summary = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n`;\n\nconst Actions = styled(Box)`\n  button {\n    width: 100%;\n  }\n`;\n\nconst MetaWrapper = styled(Flex)`\n  svg {\n    margin: 0;\n  }\n`;\n\nconst WrapperLink = styled(SimpleLink)`\n  text-decoration: none;\n`;\n\nconst Username = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n  flex: 1;\n`;\n\nconst Meta = styled(Box)`\n  color: ${props => props.theme.colors.mediumdark};\n  // justify-content: space-evenly;\n`;\n\nconst Bordered = styled(Box)`\n  border: ${props => props.theme.colors.border};\n  border-radius: 4px;\n`;\n\nconst Wrapper = styled(Box)`\n  position: relative;\n  max-height: 560px;\n  overflow: hidden;\n  z-index: 9;\n  // padding-bottom: 0;\n  cursor: pointer;\n  background: ${props => props.theme.colors.appInverse};\n  &:hover {\n    background: ${props => darken('0.05', props.theme.colors.appInverse)};\n  }\n    \n    text-decoration: none;\n  }\n  &&& a {\n    color: inherit;\n    text-decoration: none;\n    &&&:hover {\n      text-decoration: none;\n    }\n  }\n`;\n\nconst WrapperImage = styled.div`\n  position: relative;\n  div {\n    width: 100%;\n    heigth: 150px;\n    background-repeat: no-repeat;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n  &:hover {\n    & span {\n      display: block;\n    }\n  }\n`;\n\n// const TitleLink = styled(SimpleLink)`\n//   text-decoration: none;\n//   color: ${props => props.theme.colors.mediumdark};\n//   &:hover {\n//     text-decoration: underline;\n//   }\n// `;\n\nconst Title = styled(Heading)`\n  color: ${props => props.theme.colors.darker};\n  text-decoration: none;\n  word-break: break-all;\n`;\n","import { useCommunityPreview } from 'fe/community/preview/useCommunityPreview';\nimport { Community } from 'graphql/types.generated';\nimport React, { FC, useMemo } from 'react';\nimport {\n  Community as CommunityPreviewUI,\n  Props as CommunityPreviewProps\n} from 'ui/modules/Previews/Community';\nimport { useFormik } from 'formik';\nimport { CommunityPreviewFragment } from './CommunityPreview.generated';\nimport { FormikHook } from 'ui/@types/types';\n\nexport interface Props {\n  communityId: Community['id'];\n  flagged?: boolean;\n}\n\nexport const CommunityPreviewHOC: FC<Props> = ({ communityId, flagged }) => {\n  const { community, toggleJoin, isCreator } = useCommunityPreview(communityId);\n\n  const toggleJoinFormik = useFormik({\n    initialValues: {},\n    onSubmit: toggleJoin\n  });\n  const communityPreviewProps = useMemo<CommunityPreviewProps | null>(() => {\n    if (!community) {\n      return null;\n    }\n    const hideActions = flagged ? true : false;\n    return communityFragment2UIProps({\n      community,\n      hideActions,\n      isCreator,\n      toggleJoinFormik\n    });\n  }, [community, flagged, isCreator, toggleJoinFormik]);\n\n  return communityPreviewProps && <CommunityPreviewUI {...communityPreviewProps} />;\n};\n\nexport const communityFragment2UIProps = (args: {\n  community: CommunityPreviewFragment;\n  toggleJoinFormik: FormikHook;\n  hideActions: boolean;\n  isCreator: boolean;\n}) => {\n  const { community, hideActions, toggleJoinFormik, isCreator } = args;\n  const {\n    id,\n    canonicalUrl,\n    icon,\n    name,\n    summary,\n    myFollow,\n    collectionCount,\n    followerCount,\n    threads,\n    displayUsername,\n    isLocal\n  } = community;\n\n  const props: CommunityPreviewProps = {\n    icon: icon?.url || '',\n    name,\n    isCreator,\n    summary: summary || '',\n    collectionsCount: collectionCount || 0,\n    joined: !!myFollow,\n    followersCount: followerCount || 0,\n    threadsCount: threads?.totalCount || 0,\n    toggleJoinFormik,\n    link: {\n      url: isLocal ? `/communities/${id}` : canonicalUrl || '',\n      external: !isLocal\n    },\n    displayUsername,\n    hideActions: hideActions\n  };\n  return props;\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport * as React from 'react';\nimport { LocaleContext } from '../../../context/global/localizationCtx';\nimport { Input } from '@rebass/forms';\nimport { Heading } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport styled from 'ui/themes/styled';\nimport Alert from 'ui/elements/Alert';\nimport { FormikHook } from 'ui/@types/types';\nimport {\n  Actions,\n  AlertWrapper,\n  Container,\n  ContainerForm,\n  CounterChars,\n  Header,\n  Row\n} from 'ui/modules/Modal';\n\n// const TextWrapper = styled(Flex)`\n//   padding: 16px;\n//   align-items: center;\n// `;\n\nconst tt = {\n  placeholders: {\n    name: i18nMark('Website'),\n    flag: i18nMark('Please write the Moodle LMS instance')\n  }\n};\n\nexport interface Props {\n  cancel(): any;\n  sendToMoodleFormik: FormikHook<BasicMoodleLMSConfigFormValues>;\n}\n\nexport interface BasicMoodleLMSConfigFormValues {\n  site: string;\n}\n\nexport const MoodlePanel: React.FC<Props> = ({ cancel, sendToMoodleFormik }) => {\n  const { i18n } = React.useContext(LocaleContext);\n\n  return (\n    <Container>\n      <Header>\n        <Heading m={2}>\n          <Trans>Send to Moodle</Trans>\n        </Heading>\n      </Header>\n      <Row big>\n        <ContainerForm>\n          <Input\n            placeholder={i18n._(tt.placeholders.flag)}\n            name=\"site\"\n            value={sendToMoodleFormik.values.site}\n            onChange={sendToMoodleFormik.handleChange}\n          />\n          <CounterChars>{200 - sendToMoodleFormik.values.site.length}</CounterChars>\n          {sendToMoodleFormik.errors.site && (\n            <AlertWrapper>\n              <Alert variant=\"negative\">{sendToMoodleFormik.errors.site}</Alert>\n            </AlertWrapper>\n          )}\n        </ContainerForm>\n      </Row>\n      <Actions>\n        <SubmitButton\n          variant=\"primary\"\n          isSubmitting={sendToMoodleFormik.isSubmitting}\n          isDisabled={sendToMoodleFormik.isSubmitting}\n          type=\"submit\"\n          style={{ marginLeft: '10px' }}\n          onClick={sendToMoodleFormik.submitForm}\n        >\n          <Trans>Send</Trans>\n        </SubmitButton>\n        <Button variant=\"outline\" onClick={cancel}>\n          <Trans>Cancel</Trans>\n        </Button>\n      </Actions>\n    </Container>\n  );\n};\n\nexport default MoodlePanel;\n\nconst SubmitButton = styled(Button)`\n  margin-left: 8px;\n  .--rtl & {\n    margin-right: 8px;\n    margin-left: 0px;\n  }\n`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type InstanceInfoQueryVariables = {};\n\n\nexport type InstanceInfoQuery = (\n  { __typename: 'RootQueryType' }\n  & { instance: Types.Maybe<(\n    { __typename: 'Instance' }\n    & Pick<Types.Instance, 'description' | 'extraInfo' | 'hostname' | 'uploadIconTypes' | 'uploadImageTypes' | 'uploadMaxBytes' | 'uploadResourceTypes'>\n  )> }\n);\n\n\nexport const InstanceInfoDocument = gql`\n    query instanceInfo {\n  instance {\n    description\n    extraInfo\n    hostname\n    uploadIconTypes\n    uploadImageTypes\n    uploadMaxBytes\n    uploadResourceTypes\n  }\n}\n    `;\n\n/**\n * __useInstanceInfoQuery__\n *\n * To run a query within a React component, call `useInstanceInfoQuery` and pass it any options that fit your needs.\n * When your component renders, `useInstanceInfoQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useInstanceInfoQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useInstanceInfoQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<InstanceInfoQuery, InstanceInfoQueryVariables>) {\n        return ApolloReactHooks.useQuery<InstanceInfoQuery, InstanceInfoQueryVariables>(InstanceInfoDocument, baseOptions);\n      }\nexport function useInstanceInfoLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<InstanceInfoQuery, InstanceInfoQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<InstanceInfoQuery, InstanceInfoQueryVariables>(InstanceInfoDocument, baseOptions);\n        }\nexport type InstanceInfoQueryHookResult = ReturnType<typeof useInstanceInfoQuery>;\nexport type InstanceInfoLazyQueryHookResult = ReturnType<typeof useInstanceInfoLazyQuery>;\nexport type InstanceInfoQueryResult = ApolloReactCommon.QueryResult<InstanceInfoQuery, InstanceInfoQueryVariables>;\n\n\nexport interface InstanceInfoQueryOperation {\n  operationName: 'instanceInfo'\n  result: InstanceInfoQuery\n  variables: InstanceInfoQueryVariables\n  type: 'query'\n}\nexport const InstanceInfoQueryName:InstanceInfoQueryOperation['operationName'] = 'instanceInfo'\n\nexport const InstanceInfoQueryRefetch = (\n  variables:InstanceInfoQueryVariables, \n  context?:any\n)=>({\n  query:InstanceInfoDocument,\n  variables,\n  context\n})\n      \n","// import { LMSPrefsPanel } from './LMSPrefsPanel';\nimport { useMemo, useCallback, useState, useEffect } from 'react';\nimport { LMSPrefs, sendToMoodle } from './LMSintegration';\nimport { SESSION, createLocalSessionKVStorage } from 'util/keyvaluestore/localSessionStorage';\nimport { useInstanceInfoQuery } from 'fe/instance/info/useInstanceInfo.generated';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { ResourceLMS /* ResourceGqlMin, ResourceHitMin  */ } from 'fe/lib/moodleLMS/mappings/types';\n// import { resourceGql2lms } from 'HOC/lib/LMSMappings/gql2LMS';\n// import { resourceHit2lms } from 'HOC/lib/LMSMappings/hit2LMS';\nimport { useMe } from 'fe/session/useMe';\nconst storage = createLocalSessionKVStorage(SESSION)('LMS_');\nconst LMS_PREFS_KEY = 'Prefs';\n\nexport const useLMS = (resource: Maybe<ResourceLMS>) => {\n  const { data: instanceInfo } = useInstanceInfoQuery();\n\n  const { updateLMSPrefs, currentLMSPrefs } = useLMSPrefs();\n  // console.table({ currentLMSPrefs, canonicalUrl: resource?.canonicalUrl });\n\n  const sendToLMS = useCallback(\n    (LMS: LMSPrefs) => {\n      if (!(instanceInfo?.instance && resource)) {\n        return false;\n      }\n      const resource_info_stringified = JSON.stringify(resource);\n      const type = instanceInfo.instance.uploadResourceTypes.includes(resource.mediaType)\n        ? 'file'\n        : 'link';\n      sendToMoodle(resource.url, resource_info_stringified, type, LMS);\n      return true;\n    },\n    [instanceInfo, resource]\n  );\n\n  return useMemo(\n    () => ({\n      updateLMSPrefs,\n      sendToLMS,\n      currentLMSPrefs\n    }),\n    [updateLMSPrefs, sendToLMS, currentLMSPrefs]\n  );\n};\n\nexport const useLMSPrefs = () => {\n  const { loading, me, updateProfile } = useMe();\n  const profile = me?.user;\n  const [currentLMSPrefs, setCurrentLMSPrefs] = useState(\n    storage.get(LMS_PREFS_KEY) as LMSPrefs | null\n  );\n\n  useEffect(() => {\n    profile?.extraInfo?.LMS\n      ? setCurrentLMSPrefs(profile.extraInfo.LMS)\n      : setCurrentLMSPrefs(storage.get(LMS_PREFS_KEY) as LMSPrefs | null);\n  }, [profile]);\n\n  const updateLMSPrefs = useCallback(\n    async (LMS: LMSPrefs) => {\n      setCurrentLMSPrefs(LMS);\n      storage.set(LMS_PREFS_KEY, LMS);\n      if (!loading && profile) {\n        await updateProfile({ profile: { extraInfo: { LMS } } });\n      }\n    },\n    [updateProfile, profile, loading]\n  );\n  return useMemo(\n    () => ({\n      updateLMSPrefs,\n      currentLMSPrefs,\n      loading\n    }),\n    [updateLMSPrefs, currentLMSPrefs, loading]\n  );\n};\n","export interface LMSPrefs {\n  site: string;\n  course?: string;\n  section?: string;\n}\n\nexport const getUrlParamsFromEntryPointForMoodleLMS = (): LMSPrefs | null => {\n  const q = new URLSearchParams(window.location.search);\n  const site = q.get('site');\n  if (!site) {\n    return null;\n  }\n  const course = q.get('course') || void 0;\n  const section = q.get('section') || void 0;\n  return {\n    site,\n    course,\n    section\n  };\n};\n\nexport const sendToMoodle = (\n  resourceurl: string,\n  resource_info: string,\n  type: 'file' | 'link',\n  { site, course, section }: LMSPrefs\n) => {\n  const form = document.createElement('form');\n  form.target = '_blank';\n  form.method = 'POST';\n  form.action = `${site}/admin/tool/moodlenet/import.php`;\n  form.style.display = 'none';\n  const params = {\n    resourceurl,\n    course,\n    section,\n    type,\n    resource_info\n  };\n  // console.table({site,...params})\n  Object.entries(params).forEach(([name, val]) => {\n    const hiddenField = document.createElement('input');\n    hiddenField.type = 'hidden';\n    hiddenField.name = name;\n    hiddenField.value = val || '';\n    form.appendChild(hiddenField);\n  });\n\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n};\n","import { useFormik } from 'formik';\nimport { ResourceLMS } from 'fe/lib/moodleLMS/mappings/types';\nimport { DOMAIN_REGEX } from 'mn-constants';\nimport React, { FC } from 'react';\nimport { BasicMoodleLMSConfigFormValues, MoodlePanel } from 'ui/modules/MoodlePanel';\nimport * as Yup from 'yup';\nimport { LMSPrefs } from 'fe/lib/moodleLMS/LMSintegration';\nimport { useLMS } from 'fe/lib/moodleLMS/useSendToMoodle';\n\nexport interface MoodlePanelHOC {\n  done(success?: boolean): unknown;\n  resource: ResourceLMS;\n}\nconst validationSchema = Yup.object<BasicMoodleLMSConfigFormValues>({\n  site: Yup.string()\n    .matches(DOMAIN_REGEX)\n    .required()\n});\nexport const MoodlePanelHOC: FC<MoodlePanelHOC> = ({ done, resource }) => {\n  const { currentLMSPrefs, sendToLMS, updateLMSPrefs } = useLMS(resource);\n  const sendToMoodleFormik = useFormik<BasicMoodleLMSConfigFormValues>({\n    initialValues: currentLMSPrefs || { site: '' },\n    enableReinitialize: true,\n    validationSchema,\n    onSubmit: BasicLMSPrefs => {\n      const shallUpdate = !currentLMSPrefs || currentLMSPrefs.site !== BasicLMSPrefs.site;\n      const useThisLMSPrefs: LMSPrefs | null = shallUpdate\n        ? { ...BasicLMSPrefs, course: undefined, section: undefined }\n        : currentLMSPrefs;\n      if (!useThisLMSPrefs) {\n        return;\n      }\n      shallUpdate && updateLMSPrefs(useThisLMSPrefs);\n      done(sendToLMS(useThisLMSPrefs));\n    }\n  });\n  return <MoodlePanel cancel={done} sendToMoodleFormik={sendToMoodleFormik} />;\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { ResourcePreviewFragment } from '../../../HOC/modules/previews/resource/ResourcePreview.generated';\nimport gql from 'graphql-tag';\nimport { ResourcePreviewFragmentDoc } from '../../../HOC/modules/previews/resource/ResourcePreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type ResourcePreviewQueryVariables = {\n  resourceId: Types.Scalars['String']\n};\n\n\nexport type ResourcePreviewQuery = (\n  { __typename: 'RootQueryType' }\n  & { resource: Types.Maybe<(\n    { __typename: 'Resource' }\n    & Pick<Types.Resource, 'id'>\n    & ResourcePreviewFragment\n  )> }\n);\n\n\nexport const ResourcePreviewDocument = gql`\n    query resourcePreview($resourceId: String!) {\n  resource(resourceId: $resourceId) {\n    id\n    ...ResourcePreview\n  }\n}\n    ${ResourcePreviewFragmentDoc}`;\n\n/**\n * __useResourcePreviewQuery__\n *\n * To run a query within a React component, call `useResourcePreviewQuery` and pass it any options that fit your needs.\n * When your component renders, `useResourcePreviewQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useResourcePreviewQuery({\n *   variables: {\n *      resourceId: // value for 'resourceId'\n *   },\n * });\n */\nexport function useResourcePreviewQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<ResourcePreviewQuery, ResourcePreviewQueryVariables>) {\n        return ApolloReactHooks.useQuery<ResourcePreviewQuery, ResourcePreviewQueryVariables>(ResourcePreviewDocument, baseOptions);\n      }\nexport function useResourcePreviewLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ResourcePreviewQuery, ResourcePreviewQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<ResourcePreviewQuery, ResourcePreviewQueryVariables>(ResourcePreviewDocument, baseOptions);\n        }\nexport type ResourcePreviewQueryHookResult = ReturnType<typeof useResourcePreviewQuery>;\nexport type ResourcePreviewLazyQueryHookResult = ReturnType<typeof useResourcePreviewLazyQuery>;\nexport type ResourcePreviewQueryResult = ApolloReactCommon.QueryResult<ResourcePreviewQuery, ResourcePreviewQueryVariables>;\n\n\nexport interface ResourcePreviewQueryOperation {\n  operationName: 'resourcePreview'\n  result: ResourcePreviewQuery\n  variables: ResourcePreviewQueryVariables\n  type: 'query'\n}\nexport const ResourcePreviewQueryName:ResourcePreviewQueryOperation['operationName'] = 'resourcePreview'\n\nexport const ResourcePreviewQueryRefetch = (\n  variables:ResourcePreviewQueryVariables, \n  context?:any\n)=>({\n  query:ResourcePreviewDocument,\n  variables,\n  context\n})\n      \n","import { Resource } from 'graphql/types.generated';\nimport { useResourcePreviewQuery } from './useResourcePreview.generated';\nimport { useMemo } from 'react';\nimport { useLikeContext } from 'fe/context/like/useLikeContext';\n\nexport const useResourcePreview = (resourceId: Resource['id']) => {\n  const resourcePreviewQ = useResourcePreviewQuery({\n    variables: { resourceId }\n  });\n  const { toggleLike } = useLikeContext(\n    resourcePreviewQ.data?.resource?.id,\n    resourcePreviewQ.data?.resource?.myLike,\n    resourcePreviewQ.data?.resource?.likers?.totalCount,\n    'Resource'\n  );\n  return useMemo(() => {\n    return {\n      resource: resourcePreviewQ.data?.resource,\n      toggleLike\n    };\n  }, [resourcePreviewQ, toggleLike]);\n};\n","import {\n  CollectionGqlMin,\n  CollectionLMS,\n  CommunityGqlMin,\n  CommunityLMS,\n  ResourceGqlMin,\n  ResourceLMS\n} from './types';\nimport Maybe from 'graphql/tsutils/Maybe';\n\nexport const resourceGql2lms = (resource: Maybe<ResourceGqlMin>): ResourceLMS | null => {\n  const collection = collection2lms(resource?.collection);\n  if (!(resource && collection)) {\n    return null;\n  }\n  const { name, canonicalUrl, icon, license, summary, content, payload } = resource;\n  return {\n    canonicalUrl: canonicalUrl || '',\n    collection,\n    icon: icon?.url || '',\n    name,\n    summary: summary || '',\n    url: content?.url || payload?.url || '',\n    licence: license || '',\n    mediaType: content?.mediaType || ''\n  };\n};\n\nexport const collection2lms = (collection: Maybe<CollectionGqlMin>): CollectionLMS | null => {\n  const community = community2lms(collection?.community);\n\n  if (!(collection && community)) {\n    return null;\n  }\n\n  const { preferredUsername, canonicalUrl, icon, summary, name } = collection;\n  return {\n    canonicalUrl: canonicalUrl || '',\n    icon,\n    name,\n    preferredUsername,\n    summary: summary || '',\n    community\n  };\n};\n\nexport const community2lms = (community: Maybe<CommunityGqlMin>): CommunityLMS | null => {\n  if (!community) {\n    return null;\n  }\n  const { name, preferredUsername, icon, summary, canonicalUrl } = community;\n  return {\n    canonicalUrl: canonicalUrl || '',\n    icon: icon?.url || '',\n    name,\n    preferredUsername,\n    summary: summary || ''\n  };\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type EditCollectionQueryDataFragment = (\n  { __typename: 'Collection' }\n  & Pick<Types.Collection, 'id' | 'name' | 'summary' | 'updatedAt'>\n  & { icon: Types.Maybe<(\n    { __typename: 'Content' }\n    & Pick<Types.Content, 'id' | 'url'>\n  )> }\n);\n\nexport type EditCollectionDataQueryVariables = {\n  collectionId: Types.Scalars['String']\n};\n\n\nexport type EditCollectionDataQuery = (\n  { __typename: 'RootQueryType' }\n  & { collection: Types.Maybe<(\n    { __typename: 'Collection' }\n    & EditCollectionQueryDataFragment\n  )> }\n);\n\nexport type EditCollectionMutationVariables = {\n  collection: Types.CollectionUpdateInput,\n  collectionId: Types.Scalars['String'],\n  icon?: Types.Maybe<Types.UploadInput>\n};\n\n\nexport type EditCollectionMutation = (\n  { __typename: 'RootMutationType' }\n  & { updateCollection: Types.Maybe<(\n    { __typename: 'Collection' }\n    & EditCollectionQueryDataFragment\n  )> }\n);\n\nexport const EditCollectionQueryDataFragmentDoc = gql`\n    fragment EditCollectionQueryData on Collection {\n  id\n  name\n  summary\n  icon {\n    id\n    url\n  }\n  updatedAt\n}\n    `;\nexport const EditCollectionDataDocument = gql`\n    query editCollectionData($collectionId: String!) {\n  collection(collectionId: $collectionId) {\n    ...EditCollectionQueryData\n  }\n}\n    ${EditCollectionQueryDataFragmentDoc}`;\n\n/**\n * __useEditCollectionDataQuery__\n *\n * To run a query within a React component, call `useEditCollectionDataQuery` and pass it any options that fit your needs.\n * When your component renders, `useEditCollectionDataQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useEditCollectionDataQuery({\n *   variables: {\n *      collectionId: // value for 'collectionId'\n *   },\n * });\n */\nexport function useEditCollectionDataQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<EditCollectionDataQuery, EditCollectionDataQueryVariables>) {\n        return ApolloReactHooks.useQuery<EditCollectionDataQuery, EditCollectionDataQueryVariables>(EditCollectionDataDocument, baseOptions);\n      }\nexport function useEditCollectionDataLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<EditCollectionDataQuery, EditCollectionDataQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<EditCollectionDataQuery, EditCollectionDataQueryVariables>(EditCollectionDataDocument, baseOptions);\n        }\nexport type EditCollectionDataQueryHookResult = ReturnType<typeof useEditCollectionDataQuery>;\nexport type EditCollectionDataLazyQueryHookResult = ReturnType<typeof useEditCollectionDataLazyQuery>;\nexport type EditCollectionDataQueryResult = ApolloReactCommon.QueryResult<EditCollectionDataQuery, EditCollectionDataQueryVariables>;\nexport const EditCollectionDocument = gql`\n    mutation editCollection($collection: CollectionUpdateInput!, $collectionId: String!, $icon: UploadInput) {\n  updateCollection(collection: $collection, collectionId: $collectionId, icon: $icon) {\n    ...EditCollectionQueryData\n  }\n}\n    ${EditCollectionQueryDataFragmentDoc}`;\nexport type EditCollectionMutationFn = ApolloReactCommon.MutationFunction<EditCollectionMutation, EditCollectionMutationVariables>;\n\n/**\n * __useEditCollectionMutation__\n *\n * To run a mutation, you first call `useEditCollectionMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useEditCollectionMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [editCollectionMutation, { data, loading, error }] = useEditCollectionMutation({\n *   variables: {\n *      collection: // value for 'collection'\n *      collectionId: // value for 'collectionId'\n *      icon: // value for 'icon'\n *   },\n * });\n */\nexport function useEditCollectionMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<EditCollectionMutation, EditCollectionMutationVariables>) {\n        return ApolloReactHooks.useMutation<EditCollectionMutation, EditCollectionMutationVariables>(EditCollectionDocument, baseOptions);\n      }\nexport type EditCollectionMutationHookResult = ReturnType<typeof useEditCollectionMutation>;\nexport type EditCollectionMutationResult = ApolloReactCommon.MutationResult<EditCollectionMutation>;\nexport type EditCollectionMutationOptions = ApolloReactCommon.BaseMutationOptions<EditCollectionMutation, EditCollectionMutationVariables>;\n\n\nexport interface EditCollectionDataQueryOperation {\n  operationName: 'editCollectionData'\n  result: EditCollectionDataQuery\n  variables: EditCollectionDataQueryVariables\n  type: 'query'\n}\nexport const EditCollectionDataQueryName:EditCollectionDataQueryOperation['operationName'] = 'editCollectionData'\n\nexport const EditCollectionDataQueryRefetch = (\n  variables:EditCollectionDataQueryVariables, \n  context?:any\n)=>({\n  query:EditCollectionDataDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface EditCollectionMutationOperation {\n  operationName: 'editCollection'\n  result: EditCollectionMutation\n  variables: EditCollectionMutationVariables\n  type: 'mutation'\n}\nexport const EditCollectionMutationName:EditCollectionMutationOperation['operationName'] = 'editCollection'\n\nexport const EditCollectionMutationRefetch = (\n  variables:EditCollectionMutationVariables, \n  context?:any\n)=>({\n  query:EditCollectionDocument,\n  variables,\n  context\n})\n      \n","import { getMaybeUploadInput } from 'fe/mutation/upload/getUploadInput';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { Collection, CollectionUpdateInput } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\nimport {\n  useEditCollectionDataQuery,\n  useEditCollectionMutation\n} from './useEditCollection.generated';\n\nexport interface EditCollection {\n  collection: CollectionUpdateInput;\n  icon: Maybe<File | string>;\n}\nexport const useEditCollection = (collectionId: Collection['id']) => {\n  const [editMut, editMutStatus] = useEditCollectionMutation();\n  const collectionEditQ = useEditCollectionDataQuery({\n    variables: { collectionId }\n  });\n\n  const edit = useCallOrNotifyMustLogin(\n    async ({ collection, icon }: EditCollection) => {\n      if (editMutStatus.loading) {\n        return;\n      }\n      return editMut({\n        variables: {\n          collectionId,\n          icon: getMaybeUploadInput(\n            icon,\n            collectionEditQ.data?.collection?.icon?.url\n          ),\n          collection: {\n            name: collection.name,\n            summary: collection.summary\n          }\n        }\n      });\n    },\n    [collectionId, editMut, editMutStatus, collectionEditQ]\n  );\n  return useMemo(() => {\n    const collection = collectionEditQ.data?.collection;\n    return {\n      edit,\n      collection\n    };\n  }, [edit, collectionEditQ]);\n};\n","import * as Types from '../../graphql/types.generated';\n\nimport { CollectionPageDataFragment } from '../../HOC/pages/collection/CollectionPage.generated';\nimport gql from 'graphql-tag';\nimport { CollectionPageDataFragmentDoc } from '../../HOC/pages/collection/CollectionPage.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type CollectionDataQueryVariables = {\n  collectionId: Types.Scalars['String']\n};\n\n\nexport type CollectionDataQuery = (\n  { __typename: 'RootQueryType' }\n  & { collection: Types.Maybe<(\n    { __typename: 'Collection' }\n    & CollectionPageDataFragment\n  )> }\n);\n\n\nexport const CollectionDataDocument = gql`\n    query collectionData($collectionId: String!) {\n  collection(collectionId: $collectionId) {\n    ...CollectionPageData\n  }\n}\n    ${CollectionPageDataFragmentDoc}`;\n\n/**\n * __useCollectionDataQuery__\n *\n * To run a query within a React component, call `useCollectionDataQuery` and pass it any options that fit your needs.\n * When your component renders, `useCollectionDataQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCollectionDataQuery({\n *   variables: {\n *      collectionId: // value for 'collectionId'\n *   },\n * });\n */\nexport function useCollectionDataQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CollectionDataQuery, CollectionDataQueryVariables>) {\n        return ApolloReactHooks.useQuery<CollectionDataQuery, CollectionDataQueryVariables>(CollectionDataDocument, baseOptions);\n      }\nexport function useCollectionDataLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CollectionDataQuery, CollectionDataQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CollectionDataQuery, CollectionDataQueryVariables>(CollectionDataDocument, baseOptions);\n        }\nexport type CollectionDataQueryHookResult = ReturnType<typeof useCollectionDataQuery>;\nexport type CollectionDataLazyQueryHookResult = ReturnType<typeof useCollectionDataLazyQuery>;\nexport type CollectionDataQueryResult = ApolloReactCommon.QueryResult<CollectionDataQuery, CollectionDataQueryVariables>;\n\n\nexport interface CollectionDataQueryOperation {\n  operationName: 'collectionData'\n  result: CollectionDataQuery\n  variables: CollectionDataQueryVariables\n  type: 'query'\n}\nexport const CollectionDataQueryName:CollectionDataQueryOperation['operationName'] = 'collectionData'\n\nexport const CollectionDataQueryRefetch = (\n  variables:CollectionDataQueryVariables, \n  context?:any\n)=>({\n  query:CollectionDataDocument,\n  variables,\n  context\n})\n      \n","import { useFollowContext } from 'fe/context/follow/useFollowContext';\nimport { useMe } from 'fe/session/useMe';\nimport { Collection } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport { useEditCollection } from '../collection/edit/useEditCollection';\nimport { useCollectionDataQuery } from '../collection/useCollection.generated';\n\nexport const useCollection = (collectionId: Collection['id']) => {\n  const { me } = useMe();\n\n  const collectionQ = useCollectionDataQuery({ variables: { collectionId } });\n  const collection = collectionQ.data?.collection;\n  const { toggleFollow: toggleJoin } = useFollowContext(collection);\n  const { edit } = useEditCollection(collectionId);\n  const isCommunityMember = !!collection?.community?.myFollow;\n  const isCreator = !!me && !!collection?.creator && me.user.id === collection.creator.id;\n  const canModify = !!me?.isInstanceAdmin || isCreator;\n\n  return useMemo(() => {\n    return {\n      isCommunityMember,\n      isCreator,\n      collection,\n      toggleJoin,\n      edit,\n      canModify\n    };\n  }, [collection, isCreator, toggleJoin, edit, canModify, isCommunityMember]);\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CollectionPageResourceFragment } from '../../../HOC/pages/collection/CollectionPage.generated';\nimport { FullPageInfoFragment } from '../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../@fragments/misc.generated';\nimport { CollectionPageResourceFragmentDoc } from '../../../HOC/pages/collection/CollectionPage.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\nexport type CollectionResourcesQueryVariables = {\n  collectionId: Types.Scalars['String'],\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type CollectionResourcesQuery = (\n  { __typename: 'RootQueryType' }\n  & { collection: Types.Maybe<(\n    { __typename: 'Collection' }\n    & Pick<Types.Collection, 'id'>\n    & { resources: Types.Maybe<(\n      { __typename: 'ResourcesPage' }\n      & Pick<Types.ResourcesPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & FullPageInfoFragment\n      ), edges: Array<(\n        { __typename: 'Resource' }\n        & CollectionResourceFragment\n      )> }\n    )> }\n  )> }\n);\n\nexport type CollectionResourceFragment = (\n  { __typename: 'Resource' }\n  & CollectionPageResourceFragment\n);\n\nexport const CollectionResourceFragmentDoc = gql`\n    fragment CollectionResource on Resource {\n  ...CollectionPageResource\n}\n    ${CollectionPageResourceFragmentDoc}`;\nexport const CollectionResourcesDocument = gql`\n    query collectionResources($collectionId: String!, $limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  collection(collectionId: $collectionId) @connection(key: \"collectionResources\", filter: [\"collectionId\"]) {\n    id\n    resources(limit: $limit, before: $before, after: $after) {\n      totalCount\n      pageInfo {\n        ...FullPageInfo\n      }\n      edges {\n        ...CollectionResource\n      }\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}\n${CollectionResourceFragmentDoc}`;\n\n/**\n * __useCollectionResourcesQuery__\n *\n * To run a query within a React component, call `useCollectionResourcesQuery` and pass it any options that fit your needs.\n * When your component renders, `useCollectionResourcesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCollectionResourcesQuery({\n *   variables: {\n *      collectionId: // value for 'collectionId'\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useCollectionResourcesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CollectionResourcesQuery, CollectionResourcesQueryVariables>) {\n        return ApolloReactHooks.useQuery<CollectionResourcesQuery, CollectionResourcesQueryVariables>(CollectionResourcesDocument, baseOptions);\n      }\nexport function useCollectionResourcesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CollectionResourcesQuery, CollectionResourcesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CollectionResourcesQuery, CollectionResourcesQueryVariables>(CollectionResourcesDocument, baseOptions);\n        }\nexport type CollectionResourcesQueryHookResult = ReturnType<typeof useCollectionResourcesQuery>;\nexport type CollectionResourcesLazyQueryHookResult = ReturnType<typeof useCollectionResourcesLazyQuery>;\nexport type CollectionResourcesQueryResult = ApolloReactCommon.QueryResult<CollectionResourcesQuery, CollectionResourcesQueryVariables>;\n\n\nexport interface CollectionResourcesQueryOperation {\n  operationName: 'collectionResources'\n  result: CollectionResourcesQuery\n  variables: CollectionResourcesQueryVariables\n  type: 'query'\n}\nexport const CollectionResourcesQueryName:CollectionResourcesQueryOperation['operationName'] = 'collectionResources'\n\nexport const CollectionResourcesQueryRefetch = (\n  variables:CollectionResourcesQueryVariables, \n  context?:any\n)=>({\n  query:CollectionResourcesDocument,\n  variables,\n  context\n})\n      \n","import { Collection } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useCollectionResources.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useCollectionResources = (collectionId: Collection['id']) => {\n  const collectionQ = GQL.useCollectionResourcesQuery({\n    variables: { collectionId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const resourcesPage = usePage(\n    collectionQ.data?.collection?.resources,\n    ({ cursor, update }) => {\n      return collectionQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, collectionId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.collection?.resources &&\n            prev.collection?.resources\n            ? {\n                ...fetchMoreResult,\n                collection: {\n                  ...fetchMoreResult.collection,\n                  resources: update({\n                    prev: prev.collection.resources,\n                    fetched: fetchMoreResult.collection.resources\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(\n    () => ({\n      resourcesPage\n    }),\n    [resourcesPage]\n  );\n};\n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { Collection } from 'graphql/types.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\nimport * as GQL from './useCollectionFollowers.generated';\n\nexport const useCollectionFollowers = (collectionId: Collection['id']) => {\n  const collectionFollowersQ = GQL.useCollectionFollowersQuery({\n    variables: { collectionId, limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const collectionFollowersPage = usePage(\n    collectionFollowersQ.data?.collection?.followers,\n    ({ cursor, update }) => {\n      return collectionFollowersQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, collectionId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.collection?.followers &&\n            prev.collection?.followers\n            ? {\n                ...fetchMoreResult,\n                collection: {\n                  ...fetchMoreResult.collection,\n                  followers: update({\n                    prev: prev.collection.followers,\n                    fetched: fetchMoreResult.collection.followers\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(\n    () => ({\n      collectionFollowersPage\n    }),\n    [collectionFollowersPage]\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { ResourcePreviewFragment } from '../previews/resource/ResourcePreview.generated';\nimport gql from 'graphql-tag';\nimport { ResourcePreviewFragmentDoc } from '../previews/resource/ResourcePreview.generated';\n\n\nexport type AddResourceCreateResourceMutationResultFragment = (\n  { __typename: 'Resource' }\n  & Pick<Types.Resource, 'id'>\n  & ResourcePreviewFragment\n);\n\nexport const AddResourceCreateResourceMutationResultFragmentDoc = gql`\n    fragment AddResourceCreateResourceMutationResult on Resource {\n  id\n  ...ResourcePreview\n}\n    ${ResourcePreviewFragmentDoc}`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { AddResourceCreateResourceMutationResultFragment } from '../../../HOC/modules/AddResource/addResource.generated';\nimport gql from 'graphql-tag';\nimport { AddResourceCreateResourceMutationResultFragmentDoc } from '../../../HOC/modules/AddResource/addResource.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type AddResourceCreateResourceMutationVariables = {\n  contextId: Types.Scalars['String'],\n  resource: Types.ResourceInput,\n  icon?: Types.Maybe<Types.UploadInput>,\n  content: Types.UploadInput\n};\n\n\nexport type AddResourceCreateResourceMutation = (\n  { __typename: 'RootMutationType' }\n  & { createResource: Types.Maybe<(\n    { __typename: 'Resource' }\n    & Pick<Types.Resource, 'id'>\n    & AddResourceCreateResourceMutationResultFragment\n  )> }\n);\n\n\nexport const AddResourceCreateResourceDocument = gql`\n    mutation addResourceCreateResource($contextId: String!, $resource: ResourceInput!, $icon: UploadInput, $content: UploadInput!) {\n  createResource(contextId: $contextId, resource: $resource, content: $content, icon: $icon) {\n    id\n    ...AddResourceCreateResourceMutationResult\n  }\n}\n    ${AddResourceCreateResourceMutationResultFragmentDoc}`;\nexport type AddResourceCreateResourceMutationFn = ApolloReactCommon.MutationFunction<AddResourceCreateResourceMutation, AddResourceCreateResourceMutationVariables>;\n\n/**\n * __useAddResourceCreateResourceMutation__\n *\n * To run a mutation, you first call `useAddResourceCreateResourceMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddResourceCreateResourceMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addResourceCreateResourceMutation, { data, loading, error }] = useAddResourceCreateResourceMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *      resource: // value for 'resource'\n *      icon: // value for 'icon'\n *      content: // value for 'content'\n *   },\n * });\n */\nexport function useAddResourceCreateResourceMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AddResourceCreateResourceMutation, AddResourceCreateResourceMutationVariables>) {\n        return ApolloReactHooks.useMutation<AddResourceCreateResourceMutation, AddResourceCreateResourceMutationVariables>(AddResourceCreateResourceDocument, baseOptions);\n      }\nexport type AddResourceCreateResourceMutationHookResult = ReturnType<typeof useAddResourceCreateResourceMutation>;\nexport type AddResourceCreateResourceMutationResult = ApolloReactCommon.MutationResult<AddResourceCreateResourceMutation>;\nexport type AddResourceCreateResourceMutationOptions = ApolloReactCommon.BaseMutationOptions<AddResourceCreateResourceMutation, AddResourceCreateResourceMutationVariables>;\n\n\nexport interface AddResourceCreateResourceMutationOperation {\n  operationName: 'addResourceCreateResource'\n  result: AddResourceCreateResourceMutation\n  variables: AddResourceCreateResourceMutationVariables\n  type: 'mutation'\n}\nexport const AddResourceCreateResourceMutationName:AddResourceCreateResourceMutationOperation['operationName'] = 'addResourceCreateResource'\n\nexport const AddResourceCreateResourceMutationRefetch = (\n  variables:AddResourceCreateResourceMutationVariables, \n  context?:any\n)=>({\n  query:AddResourceCreateResourceDocument,\n  variables,\n  context\n})\n      \n","import { getMaybeUploadInput, getUploadInput } from 'fe/mutation/upload/getUploadInput';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { Collection, ResourceInput } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport { CollectionResourcesQueryRefetch } from '../collection/useCollectionResources.generated';\nimport * as GQL from './useAddResource.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\n\nexport interface AddResource {\n  collectionId: Collection['id'];\n  resource: ResourceInput;\n  content: File | string;\n  icon: Maybe<File | string>;\n}\nexport const useAddResource = () => {\n  const [createResource, createResourceStatus] = GQL.useAddResourceCreateResourceMutation();\n  const create = useCallOrNotifyMustLogin(\n    async ({ collectionId, content, icon, resource }: AddResource) => {\n      if (createResourceStatus.loading) {\n        return;\n      }\n\n      return createResource({\n        variables: {\n          contextId: collectionId,\n          resource,\n          content: getUploadInput(content),\n          icon: getMaybeUploadInput(icon, null)\n        },\n        refetchQueries: [\n          CollectionResourcesQueryRefetch({\n            collectionId,\n            limit: DEFAULT_PAGE_SIZE\n          })\n        ]\n      });\n    },\n    [createResourceStatus, createResource]\n  );\n  return useMemo(() => {\n    return {\n      create\n    };\n  }, [create]);\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input, Textarea } from '@rebass/forms';\nimport * as React from 'react';\nimport { Box, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport Alert from 'ui/elements/Alert';\nimport Button from 'ui/elements/Button';\nimport { Actions, AlertWrapper, ContainerForm, CounterChars, Row } from 'ui/modules/Modal';\nimport styled from 'ui/themes/styled';\n// import { clearFix } from 'polished';\nimport DropzoneArea from 'ui/modules/DropzoneModal';\nimport { LocaleContext } from '../../../context/global/localizationCtx';\n\n// these icons must match the types and order of the `accepted_license_types` configured in constants.tsx\nconst LicenseIcon0 = require('./cc-zero.png');\nconst LicenseIcon1 = require('./by.png');\nconst LicenseIcon2 = require('./by-sa.png');\n\nconst tt = {\n  placeholders: {\n    // url: i18nMark('Enter the URL of the resource'),\n    name: i18nMark('A title for the resource'),\n    summary: i18nMark('Please type or copy/paste a summary about the resource...'),\n    //author: i18nMark('A name for the resource author'),\n    submit: i18nMark('Uploading the resource')\n    // image: i18nMark('Enter the URL of an image to represent the resource')\n  }\n};\n\nexport interface Props {\n  cancel: () => any;\n  formik: FormikHook<ResourceFormValues>;\n  acceptedLicenses: string[];\n  hideIconField: boolean;\n}\n\nexport interface ResourceFormValues {\n  license: string;\n  name: string;\n  summary: string;\n  resource: File | null;\n  icon: File | string | null;\n}\n\nexport const UploadResource: React.FC<Props> = ({\n  cancel,\n  formik,\n  acceptedLicenses,\n  hideIconField\n}) => {\n  const [license0, license1, license2] = acceptedLicenses;\n  const { i18n } = React.useContext(LocaleContext);\n  // {formik.values.resourceFiles![0] !== undefined ? console.log('re %',formik.values.resourceFiles![0].type) : null}\n  const onResourceFileSelect = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, resource: file }),\n    [formik]\n  );\n  const initialResourceUrl =\n    'string' === typeof formik.values.resource ? formik.values.resource : '';\n  const onIconFileSelect = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, icon: file }),\n    [formik]\n  );\n  const initialIconUrl = 'string' === typeof formik.values.icon ? formik.values.icon : '';\n  return (\n    <Wrapper>\n      <Row>\n        <label>\n          <Trans>Resource</Trans>\n        </label>\n        <ContainerForm>\n          <DropzoneArea\n            initialUrl={initialResourceUrl}\n            onFileSelect={onResourceFileSelect}\n            uploadType=\"resource\"\n          />\n          <Adv>\n            <Trans>Max filesize: 20MB</Trans>\n          </Adv>\n        </ContainerForm>\n      </Row>\n      <Row>\n        <label>\n          <Trans>Title</Trans>\n        </label>\n        <ContainerForm>\n          <>\n            <FormInput\n              placeholder={i18n._(tt.placeholders.name)}\n              name=\"name\"\n              value={formik.values.name}\n              onChange={formik.handleChange}\n            />\n            <CounterChars>{90 - formik.values.name.length}</CounterChars>\n          </>\n          {formik.errors.name && (\n            <AlertWrapper>\n              <Alert variant=\"negative\">{formik.errors.name}</Alert>\n            </AlertWrapper>\n          )}\n        </ContainerForm>\n      </Row>\n      {/* <Row>\n        <label>\n          <Trans>Author</Trans>\n        </label>\n        <ContainerForm>\n          <>\n            <FormInput\n              placeholder={i18n._(tt.placeholders.author)}\n              name=\"author\"\n              value={formik.values.author}\n              onChange={formik.handleChange}\n            />\n            <CounterChars>{90 - formik.values.author.length}</CounterChars>\n          </>\n          {formik.errors.author && (\n            <AlertWrapper>\n              <Alert variant=\"negative\">{formik.errors.author}</Alert>\n            </AlertWrapper>\n          )}\n        </ContainerForm>\n      </Row> */}\n      <Row big>\n        <label>\n          <Trans>Description</Trans>\n        </label>\n        <ContainerForm>\n          <>\n            <Textarea\n              placeholder={i18n._(tt.placeholders.summary)}\n              name=\"summary\"\n              value={formik.values.summary}\n              onChange={formik.handleChange}\n            />\n            <CounterChars>{1000 - formik.values.summary.length}</CounterChars>\n          </>\n        </ContainerForm>\n      </Row>\n      {hideIconField ? null : (\n        <Row>\n          <label>\n            <Trans>Image</Trans>\n          </label>\n          <ContainerForm>\n            <Box sx={{ width: '120px', height: '120px' }}>\n              <DropzoneArea\n                initialUrl={initialIconUrl}\n                onFileSelect={onIconFileSelect}\n                filePattern={'image/*'}\n              />\n            </Box>\n          </ContainerForm>\n        </Row>\n      )}\n\n      <Row>\n        <LabelWrapper>\n          <label>\n            <Trans>CC License</Trans>\n          </label>\n          <Link href=\"https://blog.moodle.net/2019/free-cultural-works/\" target=\"blank\">\n            <Trans>Confused? Read this!</Trans>\n          </Link>\n        </LabelWrapper>\n        <ContainerForm>\n          <RadioButton\n            type=\"radio\"\n            name=\"license\"\n            id={license0}\n            value={license0}\n            checked={formik.values.license === license0}\n            onChange={formik.handleChange}\n          />\n          <LicenseLabel0 htmlFor={license0}>{license0}</LicenseLabel0>\n          <RadioButton\n            type=\"radio\"\n            name=\"license\"\n            id={license1}\n            value={license1}\n            checked={formik.values.license === license1}\n            onChange={formik.handleChange}\n          />\n          <LicenseLabel1 htmlFor={license1}>{license1}</LicenseLabel1>\n          <RadioButton\n            type=\"radio\"\n            name=\"license\"\n            id={license2}\n            value={license2}\n            checked={formik.values.license === license2}\n            onChange={formik.handleChange}\n          />\n          <LicenseLabel2 htmlFor={license2}>{license2}</LicenseLabel2>\n        </ContainerForm>\n      </Row>\n      <Actions>\n        <SubmitButton\n          variant=\"primary\"\n          isSubmitting={formik.isSubmitting}\n          isDisabled={formik.isSubmitting}\n          type=\"submit\"\n          style={{ marginLeft: '10px' }}\n          onClick={formik.submitForm}\n        >\n          <Trans>Publish</Trans>\n        </SubmitButton>\n        <Button variant=\"outline\" onClick={cancel}>\n          <Trans>Cancel</Trans>\n        </Button>\n      </Actions>\n    </Wrapper>\n  );\n};\n\nexport default UploadResource;\n\nconst Adv = styled(Text)``;\n\nconst Wrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n`;\n\nconst LabelWrapper = styled.div`\n  width: 200px;\n`;\n\nconst Link = styled.a`\n  display: block;\n`;\n\nconst Label = styled.label`\n  background-repeat: no-repeat;\n  background-position: center center;\n  width: 110px !important;\n  line-height: 38px !important;\n  display: inline-block;\n  background-size: contain;\n  margin-right: 4px;\n  border: 4px solid transparent;\n  text-indent: -9999px;\n  cursor: pointer;\n  border-radius: 5px;\n`;\n\nconst LicenseLabel0 = styled(Label)`\n  background-image: url(\"${LicenseIcon0}\");\n`;\n\nconst LicenseLabel1 = styled(Label)`\n  background-image: url(\"${LicenseIcon1}\");\n`;\n\nconst LicenseLabel2 = styled(Label)`\n  background-image: url(\"${LicenseIcon2}\");\n`;\n\nconst RadioButton = styled.input`\n  position: absolute;\n  left: -9999px;\n  &:hover {\n    + ${LicenseLabel0},\n    + ${LicenseLabel1},\n    + ${LicenseLabel2} {\n      border: 4px solid #97a395;\n    }\n  }\n  &:checked{\n    + ${LicenseLabel0},\n    + ${LicenseLabel1},\n    + ${LicenseLabel2} {\n      border: 4px solid #67d654;\n    }\n`;\n\nconst FormInput = styled(Input)`\n  height: 40px;\n  background: white;\n  border-radius: 2px;\n  border: ${props => props.theme.colors.border};\n`;\n\nconst SubmitButton = styled(Button)`\n  margin-left: 8px;\n  .--rtl & {\n    margin-right: 8px;\n    margin-left: 0px;\n  }\n`;\n","import { useAddResource } from 'fe/resource/add/useAddResource';\nimport { useFormik } from 'formik';\nimport React, { FC, useEffect } from 'react';\nimport { ResourceFormValues, UploadResource } from 'ui/modules/AddResource/UploadResource';\nimport * as Yup from 'yup';\nimport { accepted_license_types } from 'mn-constants';\nimport { ResourceInput } from 'graphql/types.generated';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\n\nexport const validationSchema: Yup.ObjectSchema<ResourceFormValues> = Yup.object<\n  ResourceFormValues\n>({\n  name: Yup.string()\n    .max(90)\n    .required('title is required'),\n  summary: Yup.string().max(1000),\n  icon: Yup.mixed<File | string>().test(...TestUrlOrFile),\n  resource: Yup.mixed<File>().required(),\n  license: Yup.string()\n});\n\nexport const initialValues: ResourceFormValues = {\n  name: '',\n  summary: '',\n  icon: '',\n  license: accepted_license_types[1],\n  resource: null\n};\n\nexport interface AddResourceHOC {\n  collectionId: string;\n  done(): any;\n}\n\nexport const AddResourceHOC: FC<AddResourceHOC> = ({ done, collectionId }: AddResourceHOC) => {\n  const { create } = useAddResource();\n  const formik = useFormik<ResourceFormValues>({\n    validationSchema,\n    initialValues,\n    enableReinitialize: true,\n    validateOnBlur: false,\n    validateOnChange: false,\n    onSubmit: vals => {\n      const { resource: resourceFile, icon, name, license, summary } = vals;\n      if (!resourceFile) {\n        return;\n      }\n\n      const resource: ResourceInput = {\n        name,\n        summary,\n        license\n      };\n\n      return create({\n        collectionId,\n        resource,\n        content: resourceFile,\n        icon\n      }).then(done);\n    }\n  });\n  const hideIconField =\n    !formik.values.resource || formik.values.resource.type.indexOf('image') !== -1;\n\n  useEffect(() => {\n    hideIconField && formik.values.icon && formik.setValues({ ...formik.values, icon: null });\n  }, [formik, hideIconField]);\n\n  return (\n    <UploadResource\n      hideIconField={hideIconField}\n      cancel={done}\n      formik={formik}\n      acceptedLicenses={accepted_license_types}\n    />\n  );\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input, Textarea } from '@rebass/forms';\nimport { FormikHook } from 'ui/@types/types';\nimport * as React from 'react';\nimport { Flex, Text, Box } from 'rebass/styled-components';\nimport DropzoneArea from 'ui/modules/DropzoneModal';\nimport Alert from 'ui/elements/Alert';\nimport Button from 'ui/elements/Button';\nimport { clearFix } from 'polished';\nimport media from 'styled-media-query';\nimport styled from 'ui/themes/styled';\n\nimport { Actions, AlertWrapper, Container, ContainerForm, CounterChars } from 'ui/modules/Modal';\n\nconst tt = {\n  placeholders: {\n    name: i18nMark('Edit the name of the collection'),\n    summary: i18nMark(\n      'Please describe what the collection is for and what kind of resources it is likely to contain...'\n    ),\n    icon: i18nMark('Enter the URL of an icon to represent the collection')\n  }\n};\n\nexport interface Props {\n  formik: FormikHook<EditCollectionFormValues>;\n  cancel(): any;\n}\n\nexport interface EditCollectionFormValues {\n  name: string;\n  summary: string;\n  icon: string | File | undefined;\n}\n\nexport const EditCollectionPanel: React.FC<Props> = ({ cancel, formik }) => {\n  const onIconFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, icon: file }),\n    [formik]\n  );\n  const initialIconUrl = 'string' === typeof formik.values.icon ? formik.values.icon : '';\n  return (\n    <Container>\n      <form onSubmit={formik.handleSubmit}>\n        <Hero>\n          <Box sx={{ width: '120px', height: '120px' }}>\n            <DropzoneArea\n              initialUrl={initialIconUrl}\n              onFileSelect={onIconFileSelected}\n              filePattern=\"image/*\"\n            />\n          </Box>\n          {/* <Background style={{ backgroundImage: `url(\"${c.icon}\")` }} /> */}\n          <HeroInfo>\n            <Title fontWeight={'bold'}>\n              <CollectionContainerForm>\n                <Input\n                  placeholder={tt.placeholders.name}\n                  disabled={formik.isSubmitting}\n                  name=\"name\"\n                  value={formik.values.name}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{60 - formik.values.name.length}</CounterChars>\n                {formik.errors.name && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.name}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Title>\n\n            <Description mt={2}>\n              <CollectionContainerForm>\n                <Textarea\n                  placeholder={tt.placeholders.summary}\n                  disabled={formik.isSubmitting}\n                  name=\"summary\"\n                  value={formik.values.summary}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{500 - formik.values.summary.length}</CounterChars>\n                {formik.errors.summary && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.summary}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Description>\n          </HeroInfo>\n        </Hero>\n\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n            // onClick={formik.submitForm}\n          >\n            <Trans>Save</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={cancel}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n    </Container>\n  );\n};\n\nconst CollectionContainerForm = styled(ContainerForm)`\n  input {\n    background: #fbfbfb;\n    border: 0;\n    font-weight: 700;\n  }\n\n  textarea {\n    background: #fbfbfb;\n    border-radius: 2px;\n    border: 0;\n    height: 120px;\n    resize: none;\n  }\n`;\n\nconst Title = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst Description = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst HeroInfo = styled.div`\n  flex: 1;\n  margin-left: 16px;\n  position: relative;\n  ${clearFix()};\n  & h2 {\n    margin: 0;\n    line-height: 32px !important;\n    color: ${props => props.theme.colors.mediumdark};\n    ${media.lessThan('medium')`\n      margin-top: 8px;\n    `};\n  }\n  & p {\n    margin: 0;\n    color: rgba(0, 0, 0, 0.8);\n    margin-top: 8px;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n  .--rtl & {\n    margin-right: 16px;\n    margin-left: 0px;\n  }\n`;\n\nconst Hero = styled(Flex)`\n  width: 100%;\n  position: relative;\n  padding: 16px;\n  ${media.lessThan('medium')`\n  text-align: center;\n  display: block;\n`};\n`;\n\n// const Background = styled.div`\n//   height: 120px;\n//   width: 120px;\n//   border-radius: 4px;\n//   background-size: cover;\n//   background-repeat: no-repeat;\n//   background-color: ${props => props.theme.colors.light};\n//   position: relative;\n//   margin: 0 auto;\n// `;\n\nexport default EditCollectionPanel;\n","// import { ChevronLeft } from 'react-feather';\nimport { Trans } from '@lingui/macro';\nimport { clearFix, darken } from 'polished';\nimport React, { FC } from 'react';\nimport { Flag as FlagIcon, MoreVertical, Settings, Star } from 'react-feather';\n// import {  NavLink } from 'react-router-dom';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { FormikHook } from 'ui/@types/types';\n// import { useHistory } from 'react-router';\n// import Avatar from 'ui/elements/Avatar';\nimport Button from 'ui/elements/Button';\nimport { MDComment } from 'ui/elements/Layout/comment';\nimport { Dropdown, DropdownItem } from 'ui/modules/Dropdown';\nimport styled from 'ui/themes/styled';\n\nexport enum Status {\n  Loading,\n  Loaded\n}\n\nexport interface CollectionLoading {\n  status: Status.Loading;\n}\n\nexport interface CollectionLoaded {\n  status: Status.Loaded;\n  isAdmin: boolean;\n  // isFeatured?: boolean;\n  basePath: string;\n  icon: string;\n  name: string;\n  fullName: string;\n  summary: string;\n  canModify: boolean;\n  communityId: string;\n  communityName: string;\n  communityIcon: string;\n  toggleJoinFormik: FormikHook;\n  isFlagged: boolean;\n  followerCount: number; //FIX ME add followerCount\n  // contributorCount?: number; //FIX ME add contributorCount\n  following: boolean;\n\n  edit(): any;\n\n  flag(): any;\n\n  addToFeatured(): any;\n\n  isOpenDropdown: boolean;\n  toggleDropdown(): any;\n}\nexport interface Props {\n  collection: CollectionLoaded | CollectionLoading;\n}\n\nexport const HeroCollection: FC<Props> = ({ collection: c }) => {\n  return c.status === Status.Loading ? (\n    <Text>Loading...</Text>\n  ) : (\n    <HeroCont>\n      <Hero>\n        {/* <Box sx={{ position: 'relative' }}> */}\n        {/* <Background style={{ backgroundImage: `url(\"${c.icon}\")` }} /> */}\n        {/* <Right>\n            <Link to={`/communities/${c.communityId}`}>\n              <LinkImg>\n                <Avatar size=\"s\" src={c.communityIcon} />\n              </LinkImg>\n              {/* <CommTitle variant=\"link\">{c.communityName}</CommTitle> */}\n        {/* </Link> */}\n        {/* </Right> */}\n        {/* </Box> */}\n        <HeroInfo>\n          <Title fontWeight={'bold'}>{c.name}</Title>\n          <Username mt={1}>+{c.fullName}</Username>\n          <Box mt={2}>\n            <MDComment content={c.summary} />\n          </Box>\n\n          <Info mt={2}>\n            {/* <CountWrapper>\n              <CountTot to={`${c.basePath}/followers`}>\n                <Text variant=\"suptitle\">\n                  <Total mr={2}>{c.followerCount}</Total>\n                  <Trans>Followers</Trans>\n                </Text>\n              </CountTot>\n            </CountWrapper> */}\n            <ActionsHero mt={3} alignItems={'center'}>\n              <Button\n                variant={c.following ? 'danger' : 'primary'}\n                disabled={c.toggleJoinFormik.isSubmitting}\n                onClick={c.toggleJoinFormik.submitForm}\n                isSubmitting={c.toggleJoinFormik.isSubmitting}\n              >\n                {c.following ? 'Unfollow' : 'Follow'}\n              </Button>\n              <More ml={2} onClick={c.toggleDropdown}>\n                <MoreVertical size={20} />\n                {c.isOpenDropdown && (\n                  <RightDd>\n                    <Dropdown orientation={'bottom'} close={c.toggleDropdown}>\n                      {c.canModify && (\n                        <DropdownItem onClick={c.edit}>\n                          <Settings size={20} color={'rgb(101, 119, 134)'} />\n                          <Text sx={{ flex: 1 }} ml={2}>\n                            <Trans>Edit the collection</Trans>\n                          </Text>\n                        </DropdownItem>\n                      )}\n                      <DropdownItem onClick={c.flag}>\n                        <FlagIcon size={20} color={'rgb(101, 119, 134)'} />\n                        <Text sx={{ flex: 1 }} ml={2}>\n                          {!c.isFlagged ? (\n                            <Trans>Flag this collection</Trans>\n                          ) : (\n                            <Trans>Unflag this collection</Trans>\n                          )}\n                        </Text>\n                      </DropdownItem>\n                      {c.isAdmin ? (\n                        <AdminDropdownItem onClick={c.addToFeatured}>\n                          <Star size={20} color={'rgb(211, 103, 5)'} />\n                          <Text sx={{ flex: 1 }} ml={2}>\n                            {\n                              /* c.isFeatured ? (\n                          <Trans>Remove from featured list</Trans>\n                        ) :  */ <Trans>\n                                Add to featured list\n                              </Trans>\n                            }\n                          </Text>\n                        </AdminDropdownItem>\n                      ) : null}\n                    </Dropdown>\n                  </RightDd>\n                )}\n              </More>\n            </ActionsHero>\n          </Info>\n        </HeroInfo>\n      </Hero>\n    </HeroCont>\n  );\n};\n\nexport default HeroCollection;\n\nconst RightDd = styled(Box)`\n  .dropdown {\n    right: 0;\n    left: auto;\n\n    ${media.lessThan('860px')`\n      right: initial;\n      left: 10px;\n    `};\n  }\n`;\n\nconst Info = styled(Flex)`\n  align-items: center;\n`;\n\nconst More = styled(Box)`\n  position: relative;\n  cursor: pointer;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  border: ${props => props.theme.colors.border};\n  border-radius: 4px;\n  svg {\n    margin: 0 auto;\n    stroke: ${props => props.theme.colors.mediumdark};\n  }\n`;\n\nconst AdminDropdownItem = styled(DropdownItem)`\n  border-top: 1px solid ${props => darken('0.1', props.theme.colors.light)};\n`;\n\n// const LinkImg = styled(Box)`\n//   margin-right: 8px;\n//   .--rtl & {\n//     margin-right: 0px;\n//     margin-left: 8px;\n//   }\n//   div {\n//     border: 2px solid white;\n//     min-width: 42px;\n//     min-height: 42px;\n//   }\n// `;\n// const Right = styled(Flex)`\n//   align-items: center;\n//   display: inline-block;\n//   position: absolute;\n//   left: 8px;\n//   bottom: -18px\n//   top: 106px;\n//   a {\n//     text-decoration: none;\n//     display: flex;\n//     align-items: center;\n//   }\n// `;\n\nconst Title = styled(Text)`\n  color: ${props => props.theme.colors.darker};\n`;\n\nconst Username = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n  text-transform: lowercase;\n`;\n\nconst ActionsHero = styled(Flex)``;\n\nconst HeroInfo = styled.div`\n  flex: 1;\n  position: relative;\n  ${clearFix()};\n  & h2 {\n    margin: 0;\n    line-height: 32px !important;\n    color: ${props => props.theme.colors.mediumdark};\n    ${media.lessThan('medium')`\n      margin-top: 8px;\n    `};\n  }\n  & p {\n    margin: 0;\n    color: rgba(0, 0, 0, 0.8);\n    margin-top: 8px;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n  .--rtl & {\n    margin-right: 16px;\n    margin-left: 0px;\n  }\n`;\nconst HeroCont = styled(Box)`\n  margin-bottom: 16px;\n  border-radius: 6px;\n  box-sizing: border-box;\n  background: ${props => props.theme.colors.appInverse};\n`;\n\nconst Hero = styled(Flex)`\n  width: 100%;\n  position: relative;\n  padding: 16px;\n`;\n\n// const Background = styled.div`\n//   height: 120px;\n//   width: 120px;\n//   border-radius: 4px;\n//   background-size: cover;\n//   background-repeat: no-repeat;\n//   background-color: ${props => props.theme.colors.light};\n//   position: relative;\n//   margin: 0 auto;\n// `;\n\n// const CountWrapper = styled(Flex)`\n//   margin-top: 10px;\n//   flex: 1;\n//   > div {\n//     display: flex;\n//   }\n// `;\n\n// const CountTot = styled(NavLink)`\n//   margin-top: 0px;\n//   cursor: pointer;\n//   cursor: pointer;\n//   margin-right: 20px;\n//   text-decoration: none;\n//   ${clearFix()} & span {\n//     margin-right: 4px;\n//     float: left;\n//     height: 32px;\n//     line-height: 32px;\n//     & svg {\n//       vertical-align: middle;\n//     }\n//     .--rtl & {\n//       float: right;\n//       margin-right: 0px;\n//       margin-left: 8px;\n//     }\n//   }\n// `;\n\n// const Total = styled(Text)`\n//   display: inline-flex;\n//   color: ${props => props.theme.colors.primary};\n// `;\n","import { useEditCollection } from 'fe/collection/edit/useEditCollection';\nimport { useFormik } from 'formik';\nimport { Collection } from 'graphql/types.generated';\nimport React, { FC, useMemo } from 'react';\nimport {\n  EditCollectionFormValues,\n  EditCollectionPanel\n} from 'ui/modules/EditCollectionPanel';\nimport * as Yup from 'yup';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\n\nexport const validationSchema: Yup.ObjectSchema<EditCollectionFormValues> = Yup.object<\n  EditCollectionFormValues\n>({\n  name: Yup.string()\n    .min(2)\n    .max(60)\n    .required(),\n  summary: Yup.string().max(500),\n  icon: Yup.mixed<File | string>().test(...TestUrlOrFile)\n});\n\nexport interface Props {\n  collectionId: Collection['id'];\n  done(): any;\n}\nexport const EditCollectionPanelHOC: FC<Props> = ({\n  done,\n  collectionId\n}: Props) => {\n  const { collection, edit } = useEditCollection(collectionId);\n  const initialValues = useMemo<EditCollectionFormValues>(\n    () => ({\n      icon: collection?.icon?.url || '',\n      name: collection?.name || '',\n      summary: collection?.summary || ''\n    }),\n    [collection]\n  );\n\n  const formik = useFormik<EditCollectionFormValues>({\n    enableReinitialize: true,\n    onSubmit: vals => {\n      return edit({\n        collection: {\n          name: vals.name,\n          summary: vals.summary || undefined\n        },\n        icon: vals.icon\n      }).then(done);\n    },\n    validationSchema,\n    initialValues\n  });\n  return <EditCollectionPanel cancel={done} formik={formik} />;\n};\n","import { useCollection } from 'fe/collection/useCollection';\nimport { useMe } from 'fe/session/useMe';\nimport { useFormik } from 'formik';\nimport { Collection } from 'graphql/types.generated';\nimport { EditCollectionPanelHOC } from 'HOC/modules/EditCollectionPanel/editCollectionPanelHOC';\nimport { FeatureModalHOC } from 'HOC/modules/FeatureModal/FeatureModal';\nimport { FlagModalHOC } from 'HOC/modules/FlagModal/flagModalHOC';\nimport React, { FC, useMemo, useReducer } from 'react';\nimport HeroCollectionUI, { Props, Status } from 'ui/modules/HeroCollection';\nimport Modal from 'ui/modules/Modal';\nimport { useNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\n\nexport interface HeroCollectionHOC {\n  collectionId: Collection['id'];\n  basePath: string;\n}\n\nexport const HeroCollectionHOC: FC<HeroCollectionHOC> = ({ collectionId, basePath }) => {\n  const { collection, canModify, toggleJoin } = useCollection(collectionId);\n  const { isAdmin } = useMe();\n  const toggleJoinFormik = useFormik<{}>({\n    initialValues: {},\n    onSubmit: toggleJoin\n  });\n\n  const notifiedMustLogin = useNotifyMustLogin();\n  const [isOpenDropdown, toggleDropdown] = React.useReducer(is => !is, false);\n\n  const [isEditing, toggleEditing] = useReducer(is => {\n    return !canModify || notifiedMustLogin() ? false : !is;\n  }, false);\n  const EditModal =\n    collection && isEditing ? (\n      <Modal closeModal={toggleEditing}>\n        <EditCollectionPanelHOC collectionId={collection.id} done={toggleEditing} />\n      </Modal>\n    ) : null;\n\n  const [isFlagging, toggleFlagging] = useReducer(is => {\n    return notifiedMustLogin() ? false : !is;\n  }, false);\n  const FlagModal =\n    collection && isFlagging ? (\n      <Modal closeModal={toggleFlagging}>\n        <FlagModalHOC done={toggleFlagging} ctx={collection} />\n      </Modal>\n    ) : null;\n\n  const [isAddingToFeatured, toggleAddToFeatured] = useReducer(is => {\n    return !isAdmin || notifiedMustLogin() ? false : !is;\n  }, false);\n  const AddToFeaturedModal =\n    collection && isAddingToFeatured ? (\n      <Modal closeModal={toggleAddToFeatured}>\n        <FeatureModalHOC done={toggleAddToFeatured} ctx={collection} featureId={null} />\n      </Modal>\n    ) : null;\n\n  const heroProps = useMemo<Props>(() => {\n    if (!collection) {\n      return {\n        collection: {\n          status: Status.Loading\n        }\n      };\n    }\n\n    const props: Props = {\n      collection: {\n        isOpenDropdown,\n        toggleDropdown,\n        basePath,\n        isAdmin,\n        status: Status.Loaded,\n        canModify,\n        following: !!collection.myFollow,\n        isFlagged: !!collection.myFlag,\n        followerCount: collection.followerCount || 0,\n        icon: collection.icon?.url || '',\n        name: collection.name,\n        fullName: collection.displayUsername,\n        summary: collection.summary || '',\n        communityName: collection.community?.name || '',\n        communityId: collection.community?.id || '',\n        communityIcon: collection.community?.icon?.url || '',\n        toggleJoinFormik,\n\n        edit: toggleEditing,\n\n        addToFeatured: toggleAddToFeatured,\n\n        flag: toggleFlagging\n      }\n    };\n    return props;\n  }, [collection, isOpenDropdown, basePath, isAdmin, canModify, toggleJoinFormik]);\n  return (\n    <>\n      {EditModal}\n      {AddToFeaturedModal}\n      {FlagModal}\n      <HeroCollectionUI {...heroProps} />\n    </>\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { UserPreviewFragment } from '../../../HOC/modules/previews/user/UserPreview.generated';\nimport gql from 'graphql-tag';\nimport { UserPreviewFragmentDoc } from '../../../HOC/modules/previews/user/UserPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type UserPreviewQueryVariables = {\n  userId: Types.Scalars['String']\n};\n\n\nexport type UserPreviewQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n    & UserPreviewFragment\n  )> }\n);\n\n\nexport const UserPreviewDocument = gql`\n    query userPreview($userId: String!) {\n  user(userId: $userId) {\n    id\n    ...UserPreview\n  }\n}\n    ${UserPreviewFragmentDoc}`;\n\n/**\n * __useUserPreviewQuery__\n *\n * To run a query within a React component, call `useUserPreviewQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserPreviewQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserPreviewQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *   },\n * });\n */\nexport function useUserPreviewQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserPreviewQuery, UserPreviewQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserPreviewQuery, UserPreviewQueryVariables>(UserPreviewDocument, baseOptions);\n      }\nexport function useUserPreviewLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserPreviewQuery, UserPreviewQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserPreviewQuery, UserPreviewQueryVariables>(UserPreviewDocument, baseOptions);\n        }\nexport type UserPreviewQueryHookResult = ReturnType<typeof useUserPreviewQuery>;\nexport type UserPreviewLazyQueryHookResult = ReturnType<typeof useUserPreviewLazyQuery>;\nexport type UserPreviewQueryResult = ApolloReactCommon.QueryResult<UserPreviewQuery, UserPreviewQueryVariables>;\n\n\nexport interface UserPreviewQueryOperation {\n  operationName: 'userPreview'\n  result: UserPreviewQuery\n  variables: UserPreviewQueryVariables\n  type: 'query'\n}\nexport const UserPreviewQueryName:UserPreviewQueryOperation['operationName'] = 'userPreview'\n\nexport const UserPreviewQueryRefetch = (\n  variables:UserPreviewQueryVariables, \n  context?:any\n)=>({\n  query:UserPreviewDocument,\n  variables,\n  context\n})\n      \n","import { User } from 'graphql/types.generated';\nimport { useUserPreviewQuery } from './useUserPreview.generated';\nimport { useMemo } from 'react';\nimport { useFollowContext } from 'fe/context/follow/useFollowContext';\n\nexport const useUserPreview = (userId: User['id']) => {\n  const userPreviewQ = useUserPreviewQuery({ variables: { userId } });\n  const { toggleFollow } = useFollowContext(userPreviewQ.data?.user);\n\n  return useMemo(() => {\n    return {\n      user: userPreviewQ.data?.user,\n      toggleFollow\n    };\n  }, [userPreviewQ, toggleFollow]);\n};\n","import React from 'react';\nimport styled from 'ui/themes/styled';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport Avatar from 'ui/elements/Avatar';\n// import { UserPlus } from 'react-feather';\nimport { FormikHook } from 'ui/@types/types';\nimport { NavLink } from 'react-router-dom';\nimport { darken } from 'polished';\n\nexport interface Props {\n  image: string;\n  name: string;\n  username: string;\n  bio: string;\n  profileUrl: string;\n  toggleFollowFormik: FormikHook;\n  isFollowing: boolean;\n  hideActions?: boolean;\n}\n\nexport const User: React.FC<Props> = ({\n  image,\n  name,\n  username,\n  bio,\n  profileUrl,\n  toggleFollowFormik /* , isFollowing */,\n  hideActions\n}) => (\n  <WrapperLink to={profileUrl}>\n    <WrapperFlex p={3}>\n      <Avatar variant=\"avatar\" src={image} />\n      <Wrapper ml={2}>\n        <Names>\n          <Title variant=\"subhead\">{name}</Title>\n          <Username ml={1}>{username}</Username>\n        </Names>\n        <Box mr={1}>\n          <Text variant=\"text\">{bio}</Text>\n        </Box>\n      </Wrapper>\n      {/* {hideActions ? null : (\n      <Icon>\n        <UserPlus size={20} onClick={toggleFollowFormik.submitForm} />\n      </Icon>\n    )} */}\n    </WrapperFlex>\n  </WrapperLink>\n);\n\nconst WrapperLink = styled(NavLink)`\n  text-decoration: none !important;\n  * {\n    text-decoration: none !important;\n  }\n`;\nconst WrapperFlex = styled(Flex)`\n  border: ${props => props.theme.colors.border};\n  border-radius: 4px;\n  &:hover {\n    background: ${props => darken('0.05', props.theme.colors.mediumlight)};\n  }\n  * {\n    text-decoration: none;\n  }\n`;\n\nconst Title = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n  text-decoration: none !important;\n`;\n\n// const Icon = styled(Box)`\n//   cursor: pointer;\n//   height: 40px;\n//   width: 40px;\n//   border-radius: 40px;\n//   display: flex;\n//   align-items: center;\n//   &:hover {\n//     background: ${props => props.theme.colors.lighter};\n//     svg {\n//       stroke: ${props => props.theme.colors.primary};\n//     }\n//   }\n//   svg {\n//     stroke: ${props => props.theme.colors.medium};\n//     margin: 0 auto;\n//   }\n// `;\n\nconst Wrapper = styled(Box)`\n  flex: 1;\n`;\nconst Username = styled(Text)`\n  max-width: 50%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: ${props => props.theme.colors.mediumdark};\n  flex: 1;\n`;\n\nconst Names = styled(Flex)`\n  align-items: center;\n`;\n","import { useUserPreview } from 'fe/user/preview/useUserPreview';\nimport { useFormik } from 'formik';\nimport { User } from 'graphql/types.generated';\nimport React, { FC, useMemo } from 'react';\nimport { Box } from 'rebass';\nimport { userLocation } from 'routes/UserPageRoute';\nimport { Props as UserPreviewProps, User as UserPreviewUI } from 'ui/modules/Previews/User';\nexport interface Props {\n  userId: User['id'];\n  flagged?: boolean;\n}\n\nexport const UserPreviewHOC: FC<Props> = ({ userId, flagged }) => {\n  const { user, toggleFollow } = useUserPreview(userId);\n\n  const toggleFollowFormik = useFormik({\n    initialValues: {},\n    onSubmit: toggleFollow\n  });\n  const userPreviewProps = useMemo<UserPreviewProps | null>(() => {\n    if (!user) {\n      return null;\n    }\n\n    const hideActions = flagged ? true : false;\n\n    const { userName, displayUsername, image, icon, summary, myFollow } = user;\n\n    const props: UserPreviewProps = {\n      image: icon?.url || image?.url || '',\n      name: userName || '',\n      username: displayUsername,\n      bio: summary || '',\n      isFollowing: !!myFollow,\n      toggleFollowFormik,\n      profileUrl: userLocation.getPath({ userId: user.id, tab: undefined }, undefined),\n      hideActions: hideActions\n    };\n    return props;\n  }, [user, toggleFollowFormik, flagged]);\n\n  return (\n    userPreviewProps && (\n      <Box px={2} py={1} pb={0}>\n        <UserPreviewUI {...userPreviewProps} />\n      </Box>\n    )\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\n\nexport type ShareLinkWebMetaFragment = (\n  { __typename: 'WebMetadata' }\n  & Pick<Types.WebMetadata, 'image' | 'summary' | 'title' | 'url'>\n);\n\nexport const ShareLinkWebMetaFragmentDoc = gql`\n    fragment ShareLinkWebMeta on WebMetadata {\n  image\n  summary\n  title\n  url\n}\n    `;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { ShareLinkWebMetaFragment } from '../../../HOC/modules/ShareLink/shareLink.generated';\nimport gql from 'graphql-tag';\nimport { ShareLinkWebMetaFragmentDoc } from '../../../HOC/modules/ShareLink/shareLink.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type ShareLinkFetchWebMetaMutationVariables = {\n  url: Types.Scalars['String']\n};\n\n\nexport type ShareLinkFetchWebMetaMutation = (\n  { __typename: 'RootMutationType' }\n  & { fetchWebMetadata: Types.Maybe<(\n    { __typename: 'WebMetadata' }\n    & ShareLinkWebMetaFragment\n  )> }\n);\n\n\nexport const ShareLinkFetchWebMetaDocument = gql`\n    mutation shareLinkFetchWebMeta($url: String!) {\n  fetchWebMetadata(url: $url) {\n    ...ShareLinkWebMeta\n  }\n}\n    ${ShareLinkWebMetaFragmentDoc}`;\nexport type ShareLinkFetchWebMetaMutationFn = ApolloReactCommon.MutationFunction<ShareLinkFetchWebMetaMutation, ShareLinkFetchWebMetaMutationVariables>;\n\n/**\n * __useShareLinkFetchWebMetaMutation__\n *\n * To run a mutation, you first call `useShareLinkFetchWebMetaMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useShareLinkFetchWebMetaMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [shareLinkFetchWebMetaMutation, { data, loading, error }] = useShareLinkFetchWebMetaMutation({\n *   variables: {\n *      url: // value for 'url'\n *   },\n * });\n */\nexport function useShareLinkFetchWebMetaMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<ShareLinkFetchWebMetaMutation, ShareLinkFetchWebMetaMutationVariables>) {\n        return ApolloReactHooks.useMutation<ShareLinkFetchWebMetaMutation, ShareLinkFetchWebMetaMutationVariables>(ShareLinkFetchWebMetaDocument, baseOptions);\n      }\nexport type ShareLinkFetchWebMetaMutationHookResult = ReturnType<typeof useShareLinkFetchWebMetaMutation>;\nexport type ShareLinkFetchWebMetaMutationResult = ApolloReactCommon.MutationResult<ShareLinkFetchWebMetaMutation>;\nexport type ShareLinkFetchWebMetaMutationOptions = ApolloReactCommon.BaseMutationOptions<ShareLinkFetchWebMetaMutation, ShareLinkFetchWebMetaMutationVariables>;\n\n\nexport interface ShareLinkFetchWebMetaMutationOperation {\n  operationName: 'shareLinkFetchWebMeta'\n  result: ShareLinkFetchWebMetaMutation\n  variables: ShareLinkFetchWebMetaMutationVariables\n  type: 'mutation'\n}\nexport const ShareLinkFetchWebMetaMutationName:ShareLinkFetchWebMetaMutationOperation['operationName'] = 'shareLinkFetchWebMeta'\n\nexport const ShareLinkFetchWebMetaMutationRefetch = (\n  variables:ShareLinkFetchWebMetaMutationVariables, \n  context?:any\n)=>({\n  query:ShareLinkFetchWebMetaDocument,\n  variables,\n  context\n})\n      \n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input, Textarea } from '@rebass/forms';\nimport { FormikHook } from 'ui/@types/types';\nimport * as React from 'react';\nimport { Flex, Text, Box } from 'rebass/styled-components';\nimport DropzoneArea from 'ui/modules/DropzoneModal';\nimport Alert from 'ui/elements/Alert';\nimport Button from 'ui/elements/Button';\nimport { clearFix } from 'polished';\nimport media from 'styled-media-query';\nimport styled from 'ui/themes/styled';\n\nimport { Actions, AlertWrapper, Container, ContainerForm, CounterChars } from 'ui/modules/Modal';\n\nconst tt = {\n  placeholders: {\n    name: i18nMark('Type the name of the resource'),\n    summary: i18nMark('Please describe what the resource is about...'),\n    icon: i18nMark('Enter the URL of an icon to represent the resource')\n  }\n};\n\nexport interface Props {\n  formik: FormikHook<ShareResource>;\n  cancel(): any;\n}\n\nexport interface ShareResource {\n  name: string;\n  summary: string;\n  icon: string | File | undefined;\n}\n\nexport const Fetched: React.FC<Props> = ({ cancel, formik }) => {\n  const onIconFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, icon: file }),\n    [formik]\n  );\n  const initialIconUrl = 'string' === typeof formik.values.icon ? formik.values.icon : '';\n  return (\n    <ContainerFetched>\n      <form onSubmit={formik.handleSubmit}>\n        <Hero>\n          <Box sx={{ width: '120px', height: '120px' }}>\n            <DropzoneArea\n              initialUrl={initialIconUrl}\n              onFileSelect={onIconFileSelected}\n              filePattern=\"image/*\"\n            />\n          </Box>\n          {/* <Background style={{ backgroundImage: `url(\"${c.icon}\")` }} /> */}\n          <HeroInfo>\n            <Title fontWeight={'bold'}>\n              <CollectionContainerForm>\n                <Input\n                  placeholder={tt.placeholders.name}\n                  disabled={formik.isSubmitting}\n                  name=\"name\"\n                  value={formik.values.name}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{60 - formik.values.name.length}</CounterChars>\n                {formik.errors.name && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.name}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Title>\n\n            <Description mt={2}>\n              <CollectionContainerForm>\n                <Textarea\n                  placeholder={tt.placeholders.summary}\n                  disabled={formik.isSubmitting}\n                  name=\"summary\"\n                  value={formik.values.summary}\n                  onChange={formik.handleChange}\n                />\n                <CounterChars>{500 - formik.values.summary.length}</CounterChars>\n                {formik.errors.summary && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.summary}</Alert>\n                  </AlertWrapper>\n                )}\n              </CollectionContainerForm>\n            </Description>\n          </HeroInfo>\n        </Hero>\n\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n            // onClick={formik.submitForm}\n          >\n            <Trans>Share</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={cancel}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n    </ContainerFetched>\n  );\n};\n\nconst ContainerFetched = styled(Container)`\n  padding: 8px;\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n`;\n\nconst CollectionContainerForm = styled(ContainerForm)`\n  input {\n    background: #fbfbfb;\n    border: 0;\n    font-weight: 700;\n  }\n\n  textarea {\n    background: #fbfbfb;\n    border-radius: 2px;\n    border: 0;\n    height: 120px;\n    resize: none;\n  }\n`;\n\nconst Title = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst Description = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst HeroInfo = styled.div`\n  flex: 1;\n  margin-left: 16px;\n  position: relative;\n  ${clearFix()};\n  & h2 {\n    margin: 0;\n    line-height: 32px !important;\n    color: ${props => props.theme.colors.mediumdark};\n    ${media.lessThan('medium')`\n      margin-top: 8px;\n    `};\n  }\n  & p {\n    margin: 0;\n    color: rgba(0, 0, 0, 0.8);\n    margin-top: 8px;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n  .--rtl & {\n    margin-right: 16px;\n    margin-left: 0px;\n  }\n`;\n\nconst Hero = styled(Flex)`\n  width: 100%;\n  position: relative;\n  ${media.lessThan('medium')`\n  text-align: center;\n  display: block;\n`};\n`;\n\n// const Background = styled.div`\n//   height: 120px;\n//   width: 120px;\n//   border-radius: 4px;\n//   background-size: cover;\n//   background-repeat: no-repeat;\n//   background-color: ${props => props.theme.colors.light};\n//   position: relative;\n//   margin: 0 auto;\n// `;\n\nexport default Fetched;\n","// Add a resource to collection - step 1\n\nimport { i18nMark } from '@lingui/react';\nimport * as React from 'react';\nimport { FormikHook } from 'ui/@types/types';\nimport styled from 'ui/themes/styled';\nimport { Search } from 'react-feather';\nimport { Box } from 'rebass/styled-components';\nimport Loader from 'ui/elements/Loader';\nimport { Input } from '@rebass/forms';\nimport { LocaleContext } from '../../../context/global/localizationCtx';\nimport Alert from 'ui/elements/Alert';\nimport { Fetched, ShareResource } from './fetched';\nconst tt = {\n  placeholders: {\n    url: i18nMark('Enter the URL of the resource'),\n    name: i18nMark('A name or title for the resource'),\n    summary: i18nMark('Please type or copy/paste a summary about the resource...'),\n    submit: i18nMark('Fetch the resource'),\n    image: i18nMark('Enter the URL of an image to represent the resource')\n  }\n};\n\nexport interface Props {\n  FetchLinkFormik: FormikHook<{ fetchUrl: string }>;\n  isFetched: boolean;\n  formik: FormikHook<ShareResource>;\n  cancelFetched(): any;\n}\n\nexport const ShareLink = (props: Props) => {\n  const { i18n } = React.useContext(LocaleContext);\n\n  return (\n    <>\n      <FetchedRow>\n        <Form onSubmit={props.FetchLinkFormik.handleSubmit}>\n          <SearchInput\n            placeholder={i18n._(tt.placeholders.url)}\n            onChange={props.FetchLinkFormik.handleChange}\n            name=\"fetchUrl\"\n            value={props.FetchLinkFormik.values.fetchUrl}\n          />\n          <Span\n            disabled={props.FetchLinkFormik.isSubmitting}\n            type=\"submit\"\n            // onClick={props.FetchLinkFormik.submitForm}\n          >\n            <Search width={18} height={18} strokeWidth={2} />\n          </Span>\n        </Form>\n        {props.FetchLinkFormik.errors.fetchUrl && (\n          <Alert variant=\"negative\">{props.FetchLinkFormik.errors.fetchUrl}</Alert>\n        )}\n      </FetchedRow>\n      {props.FetchLinkFormik.isSubmitting ? (\n        <WrapperLoader>\n          <Loader />\n        </WrapperLoader>\n      ) : null}\n      {props.isFetched ? <Fetched formik={props.formik} cancel={props.cancelFetched} /> : null}\n    </>\n  );\n};\n\nconst Form = styled.form`\n  position: relative;\n`;\n\nconst FetchedRow = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  border-top: ${props => props.theme.colors.border};\n  padding: 16px;\n`;\n\nconst WrapperLoader = styled.div`\n  padding: 10px;\n`;\n\nconst SearchInput = styled(Input)`\n  height: 40px;\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n  border: 3px solid ${props => props.theme.colors.medium} !important;\n`;\n\nconst Span = styled.button`\n  position: absolute;\n  right: 2px;\n  top: 2px;\n  border: 0;\n  background: transparent;\n  box-shadow: none;\n  width: 40px;\n  height: 37px;\n  cursor: pointer;\n  color: ${props => props.theme.colors.gray};\n  svg {\n    stroke: ${props => props.theme.colors.secondary} !important;\n  }\n  .--rtl & {\n    left: 2px;\n    right: auto;\n  }\n`;\n","import { useAddResource } from 'fe/resource/add/useAddResource';\nimport { useShareLinkFetchWebMetaMutation } from 'fe/resource/shareLink/useShareLink.generated';\nimport { useFormik } from 'formik';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\nimport React, { FC, useRef } from 'react';\nimport { ShareLink } from 'ui/modules/ShareLink';\nimport { ShareResource } from 'ui/modules/ShareLink/fetched';\nimport * as Yup from 'yup';\nimport { i18n } from 'context/global/localizationCtx';\nimport { DOMAIN_REGEX } from 'mn-constants';\n\nexport const validationSchema = Yup.object<ShareResource>({\n  name: Yup.string()\n    .max(90)\n    .required(),\n  summary: Yup.string().max(1000),\n  icon: Yup.mixed<File | string>().test(...TestUrlOrFile)\n});\n\nexport const shareResourceInitialValues: ShareResource = {\n  name: '',\n  summary: '',\n  icon: ''\n};\nexport const fetchLinkInitialValues = {\n  fetchUrl: ''\n};\n\nexport interface ShareLinkHOC {\n  collectionId: string;\n  done(): any;\n}\n\nexport const ShareLinkHOC: FC<ShareLinkHOC> = ({ done, collectionId }: ShareLinkHOC) => {\n  const { create: createResource } = useAddResource();\n  const [fetchWebMeta, webMetaDataResult] = useShareLinkFetchWebMetaMutation();\n\n  const { current: urlValidationSchema } = useRef(\n    Yup.object<{ fetchUrl: string }>({\n      fetchUrl: Yup.string()\n        .matches(DOMAIN_REGEX)\n        .required(i18n._('url is required'))\n    })\n  );\n\n  const FetchLinkFormik = useFormik<{ fetchUrl: string }>({\n    initialValues: fetchLinkInitialValues,\n    enableReinitialize: true,\n    validationSchema: urlValidationSchema,\n    onSubmit: ({ fetchUrl }) => fetchWebMeta({ variables: { url: fetchUrl } })\n  });\n\n  const webMetaData = webMetaDataResult.data?.fetchWebMetadata;\n  const ShareLinkFormik = useFormik<ShareResource>({\n    initialValues: webMetaData\n      ? {\n          icon: webMetaData.image || '',\n          name: webMetaData.title || '',\n          summary: webMetaData.summary || ''\n        }\n      : shareResourceInitialValues,\n    validationSchema,\n    enableReinitialize: true,\n    onSubmit: ({ icon, name, summary }) => {\n      const url = webMetaData?.url || FetchLinkFormik.values.fetchUrl;\n      if (!url) {\n        return;\n      }\n      return createResource({\n        collectionId: collectionId,\n        content: url,\n        icon,\n        resource: {\n          name: name,\n          summary: summary\n        }\n      }).then(done);\n    }\n  });\n\n  return (\n    <ShareLink\n      FetchLinkFormik={FetchLinkFormik}\n      cancelFetched={done}\n      formik={ShareLinkFormik}\n      isFetched={!!webMetaData}\n    />\n  );\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { ReactElement } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Flex, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport Button from 'ui/elements/Button';\nimport {\n  ButtonIcon,\n  HomeBox,\n  // List,\n  MainContainer,\n  MenuItem,\n  MenuList,\n  ObjectsList,\n  Wrapper,\n  WrapperCont\n} from 'ui/elements/Layout';\nimport { WrapperPanel } from 'ui/elements/Panel';\n// import { Header } from 'ui/modules/Header';\nimport { LoadMore } from 'ui/modules/Loadmore';\n// import { SidePanel } from 'ui/modules/SidePanel';\nimport styled from 'ui/themes/styled';\nimport { HeaderWrapper } from '../thread';\nimport { Box } from 'rebass';\n\nexport interface Props {\n  Resources: ReactElement[];\n  HeroCollection: ReactElement;\n  Followers: ReactElement[];\n  ShareLink: null | ReactElement;\n  UploadResourcePanel: null | ReactElement;\n  shareLink(): unknown;\n  upload(): unknown;\n  tabPaths: {\n    resources: string;\n    followers: string;\n  };\n  loadMoreResources: FormikHook | null;\n  loadMoreFollowers: FormikHook | null;\n  isCommunityMember: boolean;\n  communityId: string;\n  communityName: string;\n  communityIcon: string;\n}\n\nexport const Collection: React.FC<Props> = ({\n  HeroCollection,\n  ShareLink,\n  UploadResourcePanel,\n  Followers,\n  Resources,\n  tabPaths,\n  loadMoreResources,\n  loadMoreFollowers,\n  isCommunityMember,\n  communityId,\n  communityName,\n  communityIcon,\n  shareLink,\n  upload\n}) => {\n  return (\n    <MainContainer>\n      <HomeBox>\n        <WrapperCont>\n          <Wrapper>\n            {/* <Header name={collectionName} /> */}\n            {HeroCollection}\n            <Menu tabPaths={tabPaths} />\n            <Switch>\n              <Route path={tabPaths.followers}>\n                <>\n                  <ObjectsList>{Followers}</ObjectsList>\n                  {loadMoreFollowers && <LoadMore LoadMoreFormik={loadMoreFollowers} />}\n                </>\n              </Route>\n              <Route exact path={tabPaths.resources}>\n                <>\n                  {isCommunityMember ? (\n                    <WrapButton p={3}>\n                      <Button mr={2} onClick={shareLink} variant=\"outline\">\n                        <Trans>Share link</Trans>\n                      </Button>\n                      <Button onClick={upload} variant=\"outline\">\n                        <Trans>Add new publication</Trans>\n                      </Button>\n                    </WrapButton>\n                  ) : null}\n                  {ShareLink}\n                  {UploadResourcePanel}\n                  <ObjectsList>\n                    {Resources.map(Resource => (\n                      <Box mx={3} my={2} mb={3} key={Resource.key || ''}>\n                        {Resource}\n                      </Box>\n                    ))}\n                  </ObjectsList>\n                  {loadMoreResources && <LoadMore LoadMoreFormik={loadMoreResources} />}\n                </>\n              </Route>\n            </Switch>\n          </Wrapper>\n        </WrapperCont>\n      </HomeBox>\n      <WrapperPanel>\n        <TitleSection mb={2} variant=\"suptitle\">\n          <Trans>Community</Trans>\n        </TitleSection>\n        <HeaderWrapper id={communityId} name={communityName} icon={communityIcon} />\n        {/* <SidePanel /> */}\n      </WrapperPanel>\n    </MainContainer>\n  );\n};\nexport default Collection;\n\nconst TitleSection = styled(Text)`\n  text-transform: capitalize;\n`;\n\n// const White = styled(Box)`\n//   background: ${props => props.theme.colors.appInverse};\n// `;\n\n// const FollowersMenu = ({ basePath }: { basePath: string }) => (\n//   <MenuList m={2} p={2} pt={0}>\n//     <NavLink exact to={`${basePath}`}>\n//       Followers\n//     </NavLink>\n//   </MenuList>\n// );\nconst UsersIcon = require('react-feather/dist/icons/users').default;\nconst StartedIcon = require('react-feather/dist/icons/pie-chart').default;\n\nconst Menu: React.FC<{ tabPaths: Props['tabPaths'] }> = ({ tabPaths }) => (\n  <MenuList p={3} pt={3}>\n    {/* <NavLink exact to={`${basePath}`}>\n      Recent activity\n    </NavLink> */}\n\n    <MenuItem exact to={tabPaths.resources}>\n      <div className=\"text-holder\">\n        <Trans>Publications</Trans>\n      </div>\n      <ButtonIcon className=\"icon-holder\">\n        <StartedIcon size=\"24\" />\n      </ButtonIcon>\n    </MenuItem>\n\n    <MenuItem exact to={tabPaths.followers}>\n      <div className=\"text-holder\">\n        <Trans>Followers</Trans>\n      </div>\n      <ButtonIcon className=\"icon-holder\">\n        <UsersIcon size=\"24\" />\n      </ButtonIcon>\n    </MenuItem>\n  </MenuList>\n);\n\nconst WrapButton = styled(Flex)`\n  background: ${props => props.theme.colors.appInverse};\n  button {\n    width: 100%;\n    height: 50px;\n  }\n`;\n","import { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\nimport { useCollection } from 'fe/collection/useCollection';\nimport { useCollectionResources } from 'fe/resource/collection/useCollectionResources';\nimport { useCollectionFollowers } from 'fe/user/followers/collection/useCollectionFollowers';\nimport { Collection } from 'graphql/types.generated';\nimport { useNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { AddResourceHOC } from 'HOC/modules/AddResource/addResourceHOC';\nimport { HeroCollectionHOC } from 'HOC/modules/HeroCollection/HeroCollection';\nimport { ResourcePreviewHOC } from 'HOC/modules/previews/resource/ResourcePreview';\nimport { UserPreviewHOC } from 'HOC/modules/previews/user/UserPreview';\nimport { ShareLinkHOC } from 'HOC/modules/ShareLink/shareLinkHOC';\nimport React, { FC, ReactElement, useCallback, useMemo, useState } from 'react';\nimport CollectionPageUI, { Props as CollectionPageProps } from 'ui/pages/collection';\nimport { collectionLocation } from 'routes/CollectionPageRoute';\n\nexport enum CollectionPageTab {\n  // Activities,\n  Publications,\n  Followers\n}\nexport interface CollectionPage {\n  collectionId: Collection['id'];\n  tab: CollectionPageTab;\n  basePath: string;\n}\nconst collectionPageFollowersTitle = t`Collection {name} - Followers`;\nconst collectionPagePublicationTitle = t`Collection {name} - Publications`;\n\ntype OpenPanel = 'share' | 'upload';\n\nexport const CollectionPage: FC<CollectionPage> = props => {\n  const [openPanel, setOpenPanel] = useState<OpenPanel>();\n  const closePanel = useCallback(() => setOpenPanel(undefined), []);\n  const { collectionId, basePath, tab } = props;\n  const { collection, isCommunityMember } = useCollection(props.collectionId);\n  const collectionPageTitle =\n    tab === CollectionPageTab.Followers\n      ? collectionPageFollowersTitle\n      : CollectionPageTab.Publications\n      ? collectionPagePublicationTitle\n      : collectionPagePublicationTitle; //never;\n\n  usePageTitle(!!collection?.name && collectionPageTitle, collection);\n\n  const { collectionFollowersPage } = useCollectionFollowers(props.collectionId);\n  const [loadMoreFollowers] = collectionFollowersPage.formiks;\n\n  const { resourcesPage } = useCollectionResources(props.collectionId);\n  const [loadMoreResources] = resourcesPage.formiks;\n\n  const notifyNotLogged = useNotifyMustLogin();\n\n  const HeroCollection = <HeroCollectionHOC basePath={basePath} collectionId={collectionId} />;\n\n  const Resources = resourcesPage.edges\n    .map(resource => <ResourcePreviewHOC resourceId={resource.id} key={resource.id} />)\n    .filter((_): _ is ReactElement => !!_);\n\n  const Followers: CollectionPageProps['Followers'] = collectionFollowersPage.edges\n    .map(\n      follow =>\n        follow.creator && (\n          <UserPreviewHOC userId={follow.creator.userId} key={follow.creator.userId} />\n        )\n    )\n    .filter((_): _ is ReactElement => !!_);\n\n  const UploadResourcePanel =\n    openPanel === 'upload' ? (\n      <AddResourceHOC done={closePanel} collectionId={collectionId} />\n    ) : null;\n\n  const ShareLink =\n    openPanel === 'share' ? <ShareLinkHOC collectionId={collectionId} done={closePanel} /> : null;\n\n  const collectionPageProps = useMemo<CollectionPageProps | null>(() => {\n    if (!collection) {\n      return null;\n    }\n    const tabPaths: CollectionPageProps['tabPaths'] = {\n      followers: collectionLocation.getPath({ collectionId, tab: 'followers' }, undefined),\n      resources: collectionLocation.getPath({ collectionId, tab: undefined }, undefined)\n    };\n    const uiProps: CollectionPageProps = {\n      ShareLink,\n      HeroCollection,\n      Resources,\n      UploadResourcePanel,\n      tabPaths,\n      Followers,\n      communityIcon: collection.community?.icon?.url || '',\n      communityId: collection.community ? collection.community.id : '',\n      communityName: collection.community ? collection.community.name : '',\n      loadMoreFollowers,\n      loadMoreResources,\n      isCommunityMember,\n      shareLink: () =>\n        setOpenPanel(openPanel === 'share' || notifyNotLogged() ? undefined : 'share'),\n      upload: () => setOpenPanel(openPanel === 'upload' || notifyNotLogged() ? undefined : 'upload')\n    };\n    return uiProps;\n  }, [\n    collection,\n    collectionId,\n    ShareLink,\n    HeroCollection,\n    Resources,\n    UploadResourcePanel,\n    Followers,\n    loadMoreFollowers,\n    loadMoreResources,\n    isCommunityMember,\n    openPanel,\n    notifyNotLogged\n  ]);\n  return collectionPageProps && <CollectionPageUI {...collectionPageProps} />;\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Heading, Box } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\n// import { WrapperPanel } from 'ui/elements/Panel';\nimport LogoContainer from 'ui/elements/Logo';\n\nconst Container = styled.div`\n  margin: 0 auto;\n  width: 432px;\n  margin-top: 60px;\n  padding: 16px;\n  & button {\n    margin-top: 16px;\n    width: 100%;\n    color: #fff !important;\n    text-transform: uppercase\n      &:hover {\n      background: #d67218 !important;\n    }\n  }\n`;\n\nexport const NotFound = () => {\n  return (\n    <>\n      <Container>\n        <Box sx={{ textAlign: 'center' }}>\n          <LogoContainer />\n          <Heading>\n            <span aria-label=\"icon\" role=\"img\">\n              \n            </span>\n            <Trans>Page not found</Trans>\n          </Heading>\n        </Box>\n      </Container>\n    </>\n  );\n};\n","import { Trans } from '@lingui/macro';\nimport { LocaleContext } from 'context/global/localizationCtx';\nimport { logo_small_url, my_timeline } from 'mn-constants';\nimport { ellipsis } from 'polished';\nimport * as React from 'react';\nimport { Globe } from 'react-feather';\nimport { NavLink } from 'react-router-dom';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { FormikHook } from 'ui/@types/types';\n// import Dropdown from \"./dropdown\";\nimport Avatar from 'ui/elements/Avatar';\n// import Loader from \"../../components/elements/Loader/Loader\";\nimport styled from '../../themes/styled';\nimport { LoadMore } from '../Loadmore';\n\nexport enum Status {\n  Loading,\n  Loaded\n}\n\nconst SidebarComponent = styled(Flex)`\n  width: 240px;\n  // ${media.lessThan('medium')`\n  //   width: 50px;\n  // `}\n`;\n\nconst InternalWrapper = styled(Box)<{ isOpen: boolean }>`\n  transition: 'all 250ms ease';\n  flex: 1;\n`;\n\nconst SidebarFixed = styled(Box)`\n  justify-content: space-between;\n  height: 100%;\n  display: flex;\n  ${media.lessThan('1280px')`\nwidth: auto;\n`} ${media.lessThan('860px')`\n    position: relative;\nwidth: 100%\n`};\n`;\n\nconst SidebarOverflow = styled(Box)`\n  overflow-y: auto;\n  flex: 1;\n`;\n\n// const Header = styled(Box)`\n//   cursor: pointer;\n//   img {\n//     min-width: 36px;\n//     height: 36px;\n//     border-radius: 36px;\n//   }\n//   input {\n//     margin: 0 8px !important;\n//     border-radius: 100px;/1\n//     border-width: 1px;\n//     ${media.lessThan('1280px')`\n// display: none;\n//     `};\n//   }\n// `;\nconst Nav = styled(Box)`\n  a {\n    text-decoration: none;\n  }\n`;\n\nconst CommunityLink = styled(NavLink)`\n  margin-bottom: 0px;\n  img {\n    width: 36px;\n    height: 36px;\n  }\n  &.active {\n    > div {\n      background: ${props => props.theme.colors.primary};\n    }\n    div {\n      color: ${props => props.theme.colors.appInverse} !important;\n    }\n    position: relative;\n  }\n`;\n\nconst SidebarLink = styled(NavLink)`\n  position: relative;\n  color: inherit;\n  img {\n    width: 36px;\n    height: 36px;\n  }\n  &.active {\n    div {\n      color: ${props => props.theme.colors.primary};\n      position: relative;\n    }\n  }\n  div {\n    color: ${props => (props.isActive ? props.theme.colors.primary : props.theme.colors.darker)};\n  }\n`;\n\nconst NavItem = styled(Flex)`\n  border-radius: 4px;\n  padding: 0px 4px;\n  &:hover {\n    background: ${props => props.theme.colors.medium};\n  }\n  ${media.lessThan('1280px')`\nimg {\n    margin-right: 0;\n}\n`};\n`;\n\nconst ItemTitle = styled(Text)`\n  height: 50px;\n  line-height: 50px;\n  font-weight: 600;\n  color: ${props => props.theme.colors.darker};\n  a:focus,\n  a:active {\n    color: inherit;\n  }\n  ${ellipsis('220px')};\n`;\n\n// const Right = styled(Box)`\n// color: ${props => props.theme.colors.medium};\n// //${media.lessThan('1280px')`\n// //display: none;\n// //`};\n// `;\n\nconst ItemTitleDir = styled(ItemTitle)`\n  margin-left: 8px;\n  .--rtl & {\n    margin-right: 8px;\n    margin-left: 0px;\n  }\n`;\n\n// const HeaderName = styled(Text)`\n//   flex: 1;\n//   ${ellipsis('180px')};\n// `;\n\nexport interface CommunityPreview {\n  link: string;\n  name: string;\n  icon: string;\n}\n\ninterface SidebarLoaded {\n  status: Status.Loaded;\n  discoverPath: string;\n  homePath: string;\n  isSidebarOpen: boolean;\n  communities: CommunityPreview[];\n  LoadMoreFormik: FormikHook | null;\n}\n\nexport interface SidebarLoading {\n  status: Status.Loading;\n  isSidebarOpen: boolean;\n}\n\nexport type Props = SidebarLoaded | SidebarLoading;\n\nexport const Sidebar: React.FC<Props> = props => {\n  const { i18n } = React.useContext(LocaleContext);\n\n  return (\n    <>\n      {props.isSidebarOpen ? (\n        <SidebarComponent className=\"sidebar\">\n          <InternalWrapper>\n            <SidebarFixed>\n              {props.status === Status.Loading ? (\n                <Text>Loading</Text>\n              ) : (\n                <SidebarOverflow>\n                  <>\n                    <Nav>\n                      <SidebarLink exact to={props.discoverPath}>\n                        <NavItem alignItems={'center'}>\n                          <Box height=\"50px\">\n                            <Globe size={36} strokeWidth=\"1\" />\n                          </Box>\n                          <ItemTitleDir variant=\"link\">\n                            <Trans>Discover</Trans>\n                          </ItemTitleDir>\n                        </NavItem>\n                      </SidebarLink>\n                      <SidebarLink exact to={props.homePath}>\n                        <NavItem alignItems={'center'}>\n                          <Avatar size=\"s\" src={logo_small_url} />\n                          <ItemTitleDir variant=\"link\">{i18n._(my_timeline)}</ItemTitleDir>\n                        </NavItem>\n                      </SidebarLink>\n                    </Nav>\n                    <Nav>\n                      {props.communities.map((community: CommunityPreview, i) => (\n                        <CommunityLink key={community.link} to={community.link}>\n                          <NavItem alignItems={'center'} mb={2}>\n                            <Avatar\n                              size=\"s\"\n                              initials={community.name.substr(0, 2)}\n                              src={community.icon}\n                            />\n                            <ItemTitleDir variant=\"link\">{community.name}</ItemTitleDir>\n                          </NavItem>\n                        </CommunityLink>\n                      ))}\n                      {props.LoadMoreFormik && <LoadMore LoadMoreFormik={props.LoadMoreFormik} />}\n                    </Nav>\n                  </>\n                </SidebarOverflow>\n              )}\n            </SidebarFixed>\n          </InternalWrapper>\n        </SidebarComponent>\n      ) : null}\n    </>\n  );\n};\n\nexport default Sidebar;\n","import { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\nimport React, { FC } from 'react';\nimport { NotFound } from 'ui/pages/notFound';\n\nexport interface NotFoundHOC {}\n\nconst notFoundPageTitle = t`Page Not Found`;\n\nexport const NotFoundHOC: FC<NotFoundHOC> = () => {\n  usePageTitle(notFoundPageTitle, {});\n  return <NotFound />;\n};\n","import { useMemo } from 'react';\nimport * as GQL from './myFollowedCommunities.generated';\nimport { usePage } from 'fe/lib/helpers/usePage';\n// import { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const SIDEBAR_MY_JOINED_LIST_LIMIT = 10;\n\nexport const useMyFollowedCommunities = () => {\n  const myFlwCommunitiesQ = GQL.useMyCommunityFollowsQuery({\n    variables: { limit: SIDEBAR_MY_JOINED_LIST_LIMIT }\n  });\n\n  const myCommunityFollowsPage = usePage(\n    myFlwCommunitiesQ.data?.me?.user.communityFollows,\n    ({ cursor, update }) => {\n      return myFlwCommunitiesQ.fetchMore({\n        variables: { ...cursor, limit: SIDEBAR_MY_JOINED_LIST_LIMIT },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.me?.user?.communityFollows && prev.me?.user?.communityFollows\n            ? {\n                ...fetchMoreResult,\n                me: {\n                  ...fetchMoreResult.me,\n                  user: {\n                    ...fetchMoreResult.me.user,\n                    communityFollows: update({\n                      prev: prev.me?.user.communityFollows,\n                      fetched: fetchMoreResult.me?.user.communityFollows\n                    })\n                  }\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(() => {\n    return {\n      myCommunityFollowsPage\n    };\n  }, [myCommunityFollowsPage]);\n};\n","import { useMemo } from 'react';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { useInstanceFeaturedCollectionsQuery } from './instanceFeaturedCollections.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useInstanceFeaturedCollections = () => {\n  const featuredCollectionsQ = useInstanceFeaturedCollectionsQuery();\n  const featuredCollectionsPage = usePage(\n    featuredCollectionsQ.data?.instance?.featuredCollections,\n    ({ cursor, update }) => {\n      return featuredCollectionsQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.instance?.featuredCollections &&\n            prev.instance?.featuredCollections\n            ? {\n                ...fetchMoreResult,\n                instance: {\n                  ...fetchMoreResult.instance,\n                  feturedCollections: update({\n                    prev: prev.instance.featuredCollections,\n                    fetched: fetchMoreResult.instance.featuredCollections\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(() => {\n    return {\n      featuredCollectionsPage\n    };\n  }, [featuredCollectionsPage]);\n};\n","import * as React from 'react';\n\ninterface IconProps {\n  width: number;\n  height: number;\n  strokeWidth: number;\n  color: string;\n}\n\n// ACTIVITIES\nexport const Activity: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\" />\n  </svg>\n);\n\n// SIDEBAR\nexport const Sidebar: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <g\n      id=\"Artboard\"\n      stroke=\"none\"\n      strokeWidth=\"1\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <g\n        id=\"sidebar\"\n        transform=\"translate(9.000000, 9.000000) scale(-1, 1) translate(-9.000000, -9.000000) translate(1.000000, 1.000000)\"\n        stroke={color}\n        strokeWidth={strokeWidth}\n      >\n        <rect id=\"Rectangle-path\" x=\"0\" y=\"0\" width=\"16\" height=\"16\" rx=\"2\" />\n        <path d=\"M5.33333333,0 L5.33333333,16\" id=\"Shape\" />\n      </g>\n    </g>\n  </svg>\n);\n\n// GRID\nexport const Grid: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <g\n      id=\"Artboard-Copy\"\n      stroke=\"none\"\n      strokeWidth=\"1\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <g\n        id=\"grid\"\n        transform=\"translate(1.000000, 1.000000)\"\n        stroke={color}\n        strokeWidth={strokeWidth}\n      >\n        <rect id=\"Rectangle-path\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" />\n        <rect id=\"Rectangle-path\" x=\"11\" y=\"0\" width=\"7\" height=\"7\" />\n        <rect id=\"Rectangle-path\" x=\"11\" y=\"11\" width=\"7\" height=\"7\" />\n        <rect id=\"Rectangle-path\" x=\"0\" y=\"11\" width=\"7\" height=\"7\" />\n      </g>\n    </g>\n  </svg>\n);\n\n// SIDEBAR\nexport const Diary: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <path d=\"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\" />\n    <path d=\"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\" />\n  </svg>\n);\n\n// SIDEBAR\nexport const Collection: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <polygon points=\"12 2 2 7 12 12 22 7 12 2\" />\n    <polyline points=\"2 17 12 22 22 17\" />\n    <polyline points=\"2 12 12 17 22 12\" />\n  </svg>\n);\n\n// CALENDAR\nexport const Calendar: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\n    <line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\" />\n    <line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\" />\n    <line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\" />\n  </svg>\n);\n\n// LINK\nexport const Link: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <path d=\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\" />\n    <path d=\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\" />\n  </svg>\n);\n\n// EYE\nexport const Eye: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" />\n    <circle cx=\"12\" cy=\"12\" r=\"3\" />\n  </svg>\n);\n\n// INVENTORY\nexport const Inventory: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\" />\n    <path d=\"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\" />\n  </svg>\n);\n\n// GLOBE\nexport const Globe: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    <line x1=\"2\" y1=\"12\" x2=\"22\" y2=\"12\" />\n    <path d=\"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\" />\n  </svg>\n);\n\n// HOME\nexport const Home: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\" />\n    <polyline points=\"9 22 9 12 15 12 15 22\" />\n  </svg>\n);\n\n// WORK\nexport const Work: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    <circle cx=\"12\" cy=\"12\" r=\"6\" />\n    <circle cx=\"12\" cy=\"12\" r=\"2\" />\n  </svg>\n);\n\n// Search\nexport const Search: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <circle cx=\"11\" cy=\"11\" r=\"8\" />\n    <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\" />\n  </svg>\n);\n\n// VALIDATE\nexport const Validate: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <circle cx=\"18\" cy=\"18\" r=\"3\" />\n    <circle cx=\"6\" cy=\"6\" r=\"3\" />\n    <path d=\"M13 6h3a2 2 0 0 1 2 2v7\" />\n    <line x1=\"6\" y1=\"9\" x2=\"6\" y2=\"21\" />\n  </svg>\n);\n\n// BELL\nexport const Bell: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <path d=\"M22 17H2a3 3 0 0 0 3-3V9a7 7 0 0 1 14 0v5a3 3 0 0 0 3 3zm-8.27 4a2 2 0 0 1-3.46 0\" />\n  </svg>\n);\n\n// User\nexport const User: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n    <circle cx=\"12\" cy=\"7\" r=\"4\" />\n  </svg>\n);\n// Settings\nexport const Settings: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <line x1=\"4\" y1=\"21\" x2=\"4\" y2=\"14\" />\n    <line x1=\"4\" y1=\"10\" x2=\"4\" y2=\"3\" />\n    <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"12\" />\n    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"3\" />\n    <line x1=\"20\" y1=\"21\" x2=\"20\" y2=\"16\" />\n    <line x1=\"20\" y1=\"12\" x2=\"20\" y2=\"3\" />\n    <line x1=\"1\" y1=\"14\" x2=\"7\" y2=\"14\" />\n    <line x1=\"9\" y1=\"8\" x2=\"15\" y2=\"8\" />\n    <line x1=\"17\" y1=\"16\" x2=\"23\" y2=\"16\" />\n  </svg>\n);\n// Power\nexport const Power: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <path d=\"M18.36 6.64a9 9 0 1 1-12.73 0\" />\n    <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"12\" />\n  </svg>\n);\n// Preferites\nexport const Preferites: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\" />\n  </svg>\n);\n\n// MENU\nexport const Menu: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    color={color}\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-activity\"\n  >\n    <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\" />\n    <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\" />\n    <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\" />\n  </svg>\n);\n\n// CARD\nexport const Card: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-clipboard\"\n  >\n    <path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\" />\n    <rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\" />\n  </svg>\n);\n\n// CARD\nexport const ChevronLeft: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-clipboard\"\n  >\n    <polyline points=\"15 18 9 12 15 6\" />\n  </svg>\n);\n\n// LEFT\nexport const Left: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-clipboard\"\n  >\n    <line x1=\"20\" y1=\"12\" x2=\"4\" y2=\"12\" />\n    <polyline points=\"10 18 4 12 10 6\" />\n  </svg>\n);\n// ArrowUP\nexport const Arrowup: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-clipboard\"\n  >\n    <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"5\" />\n    <polyline points=\"5 12 12 5 19 12\" />\n  </svg>\n);\n\n// RIGHT\nexport const ArrowRight: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-clipboard\"\n  >\n    <line x1=\"4\" y1=\"12\" x2=\"20\" y2=\"12\" />\n    <polyline points=\"14 6 20 12 14 18\" />\n  </svg>\n);\n\n// CLOCK\nexport const Clock: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-clipboard\"\n  >\n    <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    <polyline points=\"12 6 12 12 16 14\" />\n  </svg>\n);\n\n// TEXT\nexport const Text: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-align-left\"\n  >\n    <line x1=\"17\" y1=\"10\" x2=\"3\" y2=\"10\" />\n    <line x1=\"21\" y1=\"6\" x2=\"3\" y2=\"6\" />\n    <line x1=\"21\" y1=\"14\" x2=\"3\" y2=\"14\" />\n    <line x1=\"17\" y1=\"18\" x2=\"3\" y2=\"18\" />\n  </svg>\n);\n\n// MESSAGE\nexport const Message: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-message-square\"\n  >\n    <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\n  </svg>\n);\n\n// CROSS\nexport const Cross: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-x\"\n  >\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n  </svg>\n);\n\n// USERS\nexport const Users: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\" />\n    <circle cx=\"9\" cy=\"7\" r=\"4\" />\n    <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\" />\n    <path d=\"M16 3.13a4 4 0 0 1 0 7.75\" />\n  </svg>\n);\n\n// CHECK\nexport const Check: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"20 6 9 17 4 12\" />\n  </svg>\n);\n\n// SHIELD\nexport const Shield: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <path d=\"M12 22s8-4 8-10V4l-8-2-8 2v8c0 6 8 10 8 10z\" />\n  </svg>\n);\n\n// PLUS\nexport const Plus: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\n    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n  </svg>\n);\n\n// Inbox\nexport const Inbox: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"22 12 16 12 14 15 10 15 8 12 2 12\" />\n    <path d=\"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\" />\n  </svg>\n);\n\n// MORE\nexport const More: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <circle cx=\"12\" cy=\"12\" r=\"1\" />\n    <circle cx=\"19\" cy=\"12\" r=\"1\" />\n    <circle cx=\"5\" cy=\"12\" r=\"1\" />\n  </svg>\n);\n\n// EDIT\nexport const Edit: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polygon points=\"16 3 21 8 8 21 3 21 3 16 16 3\" />\n  </svg>\n);\n\n// SEND\nexport const Send: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\" />\n    <polygon points=\"22 2 15 22 11 13 2 9 22 2\" />\n  </svg>\n);\n\n// Reply\nexport const Reply: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"9 14 4 9 9 4\" />\n    <path d=\"M20 20v-7a4 4 0 0 0-4-4H4\" />\n  </svg>\n);\n\n// Reply\nexport const Right: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"9 18 15 12 9 6\" />\n  </svg>\n);\n\n// Down\nexport const Down: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"6 9 12 15 18 9\" />\n  </svg>\n);\n\n// Share\nexport const Share: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"17 1 21 5 17 9\" />\n    <path d=\"M3 11V9a4 4 0 0 1 4-4h14\" />\n    <polyline points=\"7 23 3 19 7 15\" />\n    <path d=\"M21 13v2a4 4 0 0 1-4 4H3\" />\n  </svg>\n);\n\n// Share\nexport const UpRight: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"15 14 20 9 15 4\" />\n    <path d=\"M4 20v-7a4 4 0 0 1 4-4h12\" />\n  </svg>\n);\n\n// Share\nexport const UpLeft: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"9 14 4 9 9 4\" />\n    <path d=\"M20 20v-7a4 4 0 0 0-4-4H4\" />\n  </svg>\n);\n\n// EDIT-2\nexport const Edit2: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <path d=\"M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34\" />\n    <polygon points=\"18 2 22 6 12 16 8 16 8 12 18 2\" />\n  </svg>\n);\n\n// TRASH\nexport const Trash: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"3 6 5 6 21 6\" />\n    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" />\n    <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\" />\n    <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\" />\n  </svg>\n);\n\n// FOLDER\nexport const Folder: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <path d=\"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z\" />\n  </svg>\n);\n// UP\nexport const Up: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"18 15 12 9 6 15\" />\n  </svg>\n);\n\n// NEWFILE\nexport const NewFile: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" />\n    <polyline points=\"14 2 14 8 20 8\" />\n    <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"12\" />\n    <line x1=\"9\" y1=\"15\" x2=\"15\" y2=\"15\" />\n  </svg>\n);\n\n// STAR\nexport const Star: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\" />\n  </svg>\n);\n\n// TYPE\nexport const Type: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <polyline points=\"4 7 4 4 20 4 20 7\" />\n    <line x1=\"9\" y1=\"20\" x2=\"15\" y2=\"20\" />\n    <line x1=\"12\" y1=\"4\" x2=\"12\" y2=\"20\" />\n  </svg>\n);\n\n// Dollar\nexport const Dollar: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"23\" />\n    <path d=\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\" />\n  </svg>\n);\n\n// LOCK\nexport const Lock: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\" />\n    <path d=\"M7 11V7a5 5 0 0 1 10 0v4\" />\n  </svg>\n);\n\n// COPY\nexport const Copy: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\" />\n    <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\" />\n  </svg>\n);\n\n// COPY\nexport const Resource: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" />\n    <polyline points=\"14 2 14 8 20 8\" />\n    <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\" />\n    <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\" />\n    <polyline points=\"10 9 9 9 8 9\" />\n  </svg>\n);\n\n// // COPY\n// export const Community: React.FC<IconProps> = ({\n//   width = 24,\n//   height = 24,\n//   strokeWidth = 2,\n//   color = '#333'\n// }) => (\n//   <svg\n//     xmlns=\"http://www.w3.org/2000/svg\"\n//     color={color}\n//     width={width}\n//     height={height}\n//     viewBox=\"0 0 24 24\"\n//     fill=\"none\"\n//     stroke=\"currentColor\"\n//     strokeWidth={strokeWidth}\n//     strokeLinecap=\"round\"\n//     strokeLinejoin=\"round\"\n//     className=\"feather feather-users\"\n//   >\n//     <path d=\"M18 8h1a4 4 0 0 1 0 8h-1\" />\n//     <path d=\"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z\" />\n//     <line x1=\"6\" y1=\"1\" x2=\"6\" y2=\"4\" />\n//     <line x1=\"10\" y1=\"1\" x2=\"10\" y2=\"4\" />\n//     <line x1=\"14\" y1=\"1\" x2=\"14\" y2=\"4\" />\n//   </svg>\n// );\n\n// COPY\nexport const Community: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\" />\n    <circle cx=\"9\" cy=\"7\" r=\"4\" />\n    <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\" />\n    <path d=\"M16 3.13a4 4 0 0 1 0 7.75\" />\n  </svg>\n);\n\n// COPY\nexport const Unfollow: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\" />\n    <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\" />\n  </svg>\n);\n\n// Minus\nexport const Minus: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n  </svg>\n);\n\n// LOADING\nexport const Loading: React.FC<IconProps> = ({\n  width = 24,\n  height = 24,\n  strokeWidth = 2,\n  color = '#333'\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    color={color}\n    width={width}\n    height={height}\n    viewBox=\"0 0 38 38\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth={strokeWidth}\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"feather feather-users\"\n  >\n    <defs>\n      <linearGradient x1=\"8.042%\" y1=\"0%\" x2=\"65.682%\" y2=\"23.865%\" id=\"a\">\n        <stop stopColor={color} stopOpacity=\"0\" offset=\"0%\" />\n        <stop stopColor={color} stopOpacity=\".631\" offset=\"63.146%\" />\n        <stop stopColor={color} offset=\"100%\" />\n      </linearGradient>\n    </defs>\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <g transform=\"translate(1 1)\">\n        <path\n          d=\"M36 18c0-9.94-8.06-18-18-18\"\n          id=\"Oval-2\"\n          stroke=\"url(#a)\"\n          strokeWidth={strokeWidth}\n        >\n          <animateTransform\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 18 18\"\n            to=\"360 18 18\"\n            dur=\"0.9s\"\n            repeatCount=\"indefinite\"\n          />\n        </path>\n        <circle fill={color} cx=\"36\" cy=\"18\" r=\"1\">\n          <animateTransform\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 18 18\"\n            to=\"360 18 18\"\n            dur=\"0.9s\"\n            repeatCount=\"indefinite\"\n          />\n        </circle>\n      </g>\n    </g>\n  </svg>\n);\n\nexport default {\n  Activity,\n  UpLeft,\n  Down,\n  UpRight,\n  Dollar,\n  Search,\n  Eye,\n  Resource,\n  Minus,\n  Share,\n  Send,\n  Reply,\n  Sidebar,\n  Grid,\n  Type,\n  Up,\n  Clock,\n  Link,\n  Copy,\n  NewFile,\n  Community,\n  Folder,\n  Lock,\n  Star,\n  Collection,\n  Trash,\n  Edit2,\n  Loading,\n  Arrowup,\n  Calendar,\n  Edit,\n  Diary,\n  Inventory,\n  Globe,\n  Home,\n  Work,\n  Validate,\n  Inbox,\n  Bell,\n  User,\n  Settings,\n  Power,\n  Preferites,\n  Menu,\n  Card,\n  Left,\n  Right,\n  Text,\n  ChevronLeft,\n  ArrowRight,\n  Unfollow,\n  Message,\n  Cross,\n  Users,\n  Check,\n  Shield,\n  Plus,\n  More\n};\n","import { Trans } from '@lingui/macro';\nimport React, { SFC, useRef, ReactElement } from 'react';\nimport Slider from 'react-slick';\nimport { Box, Flex } from 'rebass';\nimport 'slick-carousel/slick/slick-theme.css';\nimport 'slick-carousel/slick/slick.css';\nimport Button from 'ui/elements/Button';\nimport { ChevronLeft, Right } from 'ui/Icons';\nimport styled from 'ui/themes/styled';\n\nexport const Title = styled(Flex)`\n  font-weight: 700;\n  padding: 8px;\n  border-bottom: ${props => props.theme.colors.border};\n  margin: 0;\n  color: ${props => props.theme.colors.mediumdark};\n  & h5 {\n    margin: 0;\n    color: ${props => props.theme.colors.mediumdark};\n    display: inline-block;\n    flex: 1;\n    padding: 0;\n    text-transform: uppercase;\n    height: 30px;\n    font-weight: 500;\n    line-height: 30px;\n  }\n`;\n\nexport const RightContext = styled(Flex)`\n  & span {\n    cursor: pointer;\n    display: inline-block;\n    height: 30px;\n    & svg {\n      color: ${props => props.theme.colors.mediumdark} !important;\n      vertical-align: middle;\n      height: 30px;\n    }\n    &:hover {\n      & svg {\n        color: ${props => props.theme.colors.mediumdark} !important;\n      }\n    }\n  }\n  float: right;\n`;\n\nconst ActionContainer = styled(Flex)`\n  justify-content: right;\n  align-items: center;\n`;\n\nconst ActionItem = styled(Flex)`\n  display: inline-flex;\n  color: ${props => props.theme.colors.medium};\n  cursor: pointer;\n  padding-right: 10px;\n  button {\n    height: 30px;\n    line-height: 10px;\n  }\n  &:hover {\n    svg.hover {\n      stroke: ${props => props.theme.colors.primary};\n    }\n  }\n`;\n\nexport interface FeaturedCollectionsData {\n  canEdit: boolean;\n  featuredCollections: ReactElement[];\n  toggleEdit(): any;\n  isEditing: boolean;\n}\n\nexport const FeaturedCollections: SFC<FeaturedCollectionsData> = props => {\n  const sliderRef = useRef<Slider>();\n\n  return (\n    <>\n      <Title>\n        <h5>\n          <Trans>Featured collections</Trans>{' '}\n        </h5>\n\n        <RightContext>\n          {props.canEdit ? (\n            <ActionContainer>\n              <ActionItem onClick={props.toggleEdit}>\n                {!props.isEditing ? (\n                  <Button variant={'outline'}>\n                    <Trans>Edit</Trans>\n                  </Button>\n                ) : (\n                  <Button variant={'outline'}>\n                    <Trans>Done</Trans>\n                  </Button>\n                )}\n              </ActionItem>\n            </ActionContainer>\n          ) : null}\n          <span onClick={sliderRef.current && sliderRef.current.slickPrev}>\n            <ChevronLeft width={26} height={26} strokeWidth={1} color={'#333'} />\n          </span>\n          <span onClick={sliderRef.current && sliderRef.current.slickNext}>\n            <Right width={26} height={26} strokeWidth={1} color={'#333'} />\n          </span>\n        </RightContext>\n      </Title>\n      <Box px={2}>\n        <Slider\n          ref={c => (sliderRef.current = c || undefined)}\n          {...sliderSettings(props.featuredCollections.length)}\n        >\n          {props.featuredCollections}\n        </Slider>\n      </Box>\n    </>\n  );\n};\n\nexport default FeaturedCollections;\n\nconst sliderSettings = (slidesToShow: number) => ({\n  dots: false,\n  arrows: false,\n  infinite: true,\n  autoplay: false,\n  speed: 500,\n  slidesToShow: slidesToShow > 3 ? 3 : slidesToShow,\n  slidesToScroll: 1,\n  responsive: [\n    {\n      breakpoint: 1024,\n      settings: {\n        slidesToShow: slidesToShow > 3 ? 3 : slidesToShow,\n        slidesToScroll: 1\n      }\n    },\n    {\n      breakpoint: 600,\n      settings: {\n        slidesToShow: slidesToShow > 2 ? 2 : slidesToShow,\n        slidesToScroll: 1\n      }\n    },\n    {\n      breakpoint: 480,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }\n  ]\n});\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Box, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport styled from 'ui/themes/styled';\nimport { ellipsis } from 'polished';\nimport { X } from 'react-feather';\nconst PlaceholderImg = require('ui/Icons/collectionPlaceholder.png');\n\nexport interface CollectionBase {\n  link: string;\n  name: string;\n  icon: string;\n}\n\nexport interface CollectionProps {\n  collection: CollectionBase;\n  canEdit: boolean;\n  isEditing: boolean;\n  remove(): unknown;\n}\nconst CollectionSmall: React.FC<CollectionProps> = ({ collection, canEdit, isEditing, remove }) => {\n  return (\n    <Wrapper py={1} mb={2} mr={3}>\n      {canEdit && isEditing ? (\n        <Remove onClick={remove}>\n          <X color=\"#fff\" size={16} />\n        </Remove>\n      ) : null}\n      <Link to={collection.link}>\n        <Img\n          style={{\n            backgroundImage: `url(\"${collection.icon || PlaceholderImg}\")`\n          }}\n        >\n          <Infos>\n            <Title my={2} fontWeight={600}>\n              {collection.name.length > 80\n                ? collection.name.replace(/^(.{76}[^\\s]*).*/, '$1...')\n                : collection.name}\n            </Title>\n          </Infos>\n        </Img>\n      </Link>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled(Box)`\n  cursor: pointer;\n  position: relative;\n  max-width: 200px;\n  max-height: 270px;\n  border-radius: 4px;\n  padding-top: 10px;\n  ${media.lessThan('medium')`\n  display: block;\n`} & a {\n    color: inherit;\n    text-decoration: none;\n    width: 100%;\n  }\n`;\nconst Img = styled.div`\n  //   width: 100%;\n  height: auto;\n  padding: 50%;\n  border-radius: 4px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n`;\nconst Infos = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 40px;\n  padding: 0 8px;\n  background: rgba(0, 0, 0, 0.8);\n`;\n\nconst Title = styled(Text)`\n  color: rgba(250, 250, 250);\n  ${ellipsis('170px')};\n  margin: 0;\n  line-height: 40px;\n`;\n\nconst Remove = styled(Box)`\n  position: absolute;\n  right: -9px;\n  top: 0px;\n  cursor: pointer;\n  background: ${props => props.theme.colors.medium};\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  z-index: 999999999;\n`;\nexport default CollectionSmall;\n","import { useInstanceFeaturedCollections } from 'fe/instance/featuredCollections/useInstanceFeaturedCollections';\nimport { useMe } from 'fe/session/useMe';\nimport React, { FC, useMemo, useReducer, useState, ReactElement } from 'react';\nimport {\n  FeaturedCollections as FeaturedCollectionsUI,\n  FeaturedCollectionsData\n} from 'ui/modules/FeaturedCollections';\nimport CollectionSmall, { CollectionProps } from 'ui/modules/FeaturedCollections/preview';\nimport Modal from 'ui/modules/Modal';\nimport { FeatureModalHOC } from '../FeatureModal/FeatureModal';\nimport { CollectionFeatureFragment } from './featuredCollection.generated';\nimport { collectionLocation } from 'routes/CollectionPageRoute';\n\nexport interface FeaturedCollections {}\nexport const FeaturedCollections: FC<FeaturedCollections> = () => {\n  const { isAdmin } = useMe();\n  const { featuredCollectionsPage } = useInstanceFeaturedCollections();\n\n  const [isEditing, toggleEdit] = useReducer(prev => !prev, false);\n  const [\n    selectedFeatureToRemove,\n    setSelectedFeatureToRemove\n  ] = useState<CollectionFeatureFragment | null>(null);\n\n  const featuredCollections = useMemo<ReactElement[]>(\n    () =>\n      featuredCollectionsPage.edges\n        .map(feature => {\n          const collectionFragment = feature.context;\n          if (!collectionFragment || collectionFragment.__typename !== 'Collection') {\n            return null;\n          }\n          const collection: CollectionProps['collection'] = {\n            icon: collectionFragment.icon?.url || '',\n            name: collectionFragment.name,\n            link: collectionLocation.getPath(\n              { collectionId: collectionFragment.id, tab: undefined },\n              undefined\n            )\n          };\n\n          const props: CollectionProps = {\n            collection,\n            canEdit: isAdmin,\n            isEditing,\n            remove: () => setSelectedFeatureToRemove(feature)\n          };\n          return <CollectionSmall key={collectionFragment.id} {...props} />;\n        })\n        .filter((_): _ is ReactElement => !!_),\n    [featuredCollectionsPage.edges, isAdmin, isEditing]\n  );\n\n  const RemoveFeaturedModal = useMemo(\n    () =>\n      selectedFeatureToRemove &&\n      selectedFeatureToRemove.context?.__typename === 'Collection' && (\n        <Modal closeModal={() => setSelectedFeatureToRemove(null)}>\n          <FeatureModalHOC\n            ctx={selectedFeatureToRemove.context}\n            done={() => setSelectedFeatureToRemove(null)}\n            featureId={selectedFeatureToRemove.id}\n          />\n        </Modal>\n      ),\n    [selectedFeatureToRemove]\n  );\n\n  const propsUI = useMemo<FeaturedCollectionsData>(() => {\n    const props: FeaturedCollectionsData = {\n      featuredCollections,\n      isEditing,\n      toggleEdit,\n      canEdit: isAdmin\n    };\n    return props;\n  }, [featuredCollections, isEditing, isAdmin]);\n\n  return (\n    <>\n      {RemoveFeaturedModal}\n      <FeaturedCollectionsUI {...propsUI} />\n    </>\n  );\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport {\n  Wrapper,\n  WrapperCont,\n  List,\n  MainContainer,\n  HomeBox,\n  ObjectsList,\n  CollectionsWrapper,\n  MenuList,\n  ButtonIcon,\n  MenuItem\n} from 'ui/elements/Layout';\nimport { Flex, Box, Text } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\nimport { FormikHook } from 'ui/@types/types';\n\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport { ReactElement } from 'react';\n\nexport interface Props {\n  tabPaths: {\n    timeline: string;\n    communities: string;\n    collections: string;\n  };\n  FeaturedCommunitiesBox: ReactElement;\n  FeaturedCollectionsBox: ReactElement;\n  ActivitiesBox: ReactElement;\n  CommunitiesBoxes: ReactElement;\n  CollectionsBoxes: ReactElement;\n  LoadMoreFormik: FormikHook | null;\n}\nexport const Discover: React.FC<Props> = ({\n  ActivitiesBox,\n  FeaturedCommunitiesBox,\n  FeaturedCollectionsBox,\n  CollectionsBoxes,\n  CommunitiesBoxes,\n  LoadMoreFormik,\n  tabPaths\n}) => {\n  return (\n    <MainContainer>\n      <HomeBox>\n        <WrapperCont>\n          <WrapperFeatured>{FeaturedCommunitiesBox}</WrapperFeatured>\n          <Wrapper>\n            <Menu tabPaths={tabPaths} />\n            <Switch>\n              <Route exact path={tabPaths.communities}>\n                <ObjectsList>{CommunitiesBoxes}</ObjectsList>\n                {LoadMoreFormik && <LoadMore LoadMoreFormik={LoadMoreFormik} />}\n              </Route>\n              <Route exact path={tabPaths.collections}>\n                <ObjectsList>\n                  <CollectionsWrapper>{CollectionsBoxes}</CollectionsWrapper>\n                </ObjectsList>\n                {LoadMoreFormik && <LoadMore LoadMoreFormik={LoadMoreFormik} />}\n              </Route>\n              <Route exact path={tabPaths.timeline}>\n                <List>{ActivitiesBox}</List>\n                {LoadMoreFormik && <LoadMore LoadMoreFormik={LoadMoreFormik} />}\n              </Route>\n            </Switch>\n          </Wrapper>\n        </WrapperCont>\n      </HomeBox>\n    </MainContainer>\n  );\n};\nconst UsersIcon = require('react-feather/dist/icons/users').default;\nconst ActivityIcon = require('react-feather/dist/icons/activity').default;\n\nconst Menu: React.FC<{ tabPaths: Props['tabPaths'] }> = ({ tabPaths }) => (\n  <>\n    <Title px={2} mt={2}>\n      <Text variant=\"suptitle\">Browse Home instance</Text>\n    </Title>\n    <MenuList>\n      <MenuItem exact to={tabPaths.timeline}>\n        <div className=\"text-holder\">\n          <Trans>\n            <Trans>Timeline</Trans>\n          </Trans>\n        </div>\n        <ButtonIcon className=\"icon-holder\">\n          <UsersIcon size=\"24\" />\n        </ButtonIcon>\n      </MenuItem>\n      <MenuItem exact to={tabPaths.communities}>\n        <div className=\"text-holder\">\n          <Trans>All communities</Trans>\n        </div>\n        <ActivityIcon className=\"icon-holder\">\n          <UsersIcon size=\"24\" />\n        </ActivityIcon>\n      </MenuItem>\n    </MenuList>\n  </>\n);\nconst Title = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  height: 40px;\n  line-height: 40px;\n`;\n\nconst WrapperFeatured = styled(Flex)`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 8px;\n  max-height: 270px;\n`;\n\nexport default Discover;\n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { useMemo } from 'react';\nimport * as GQL from './useInstanceOutboxActivities.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useInstanceOutboxActivities = () => {\n  const activitiesQ = GQL.useInstanceOutboxActivitiesQuery({\n    variables: { limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const activitiesPage = usePage(\n    activitiesQ.data?.instance?.outbox,\n    ({ cursor, update }) => {\n      return activitiesQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.instance?.outbox && prev.instance?.outbox\n            ? {\n                ...fetchMoreResult,\n                instance: {\n                  ...fetchMoreResult.instance,\n                  outbox: update({\n                    prev: prev.instance.outbox,\n                    fetched: fetchMoreResult.instance.outbox\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(() => {\n    return {\n      activitiesPage\n    };\n  }, [activitiesPage]);\n};\n","import { useMemo } from 'react';\nimport { usePage } from 'fe/lib/helpers/usePage';\nimport { useInstanceFeaturedCommunitiesQuery } from './instanceFeaturedCommunities.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useInstanceFeaturedCommunities = () => {\n  const featuredCommunitiesQ = useInstanceFeaturedCommunitiesQuery();\n  const featuredCommunitiesPage = usePage(\n    featuredCommunitiesQ.data?.instance?.featuredCommunities,\n    ({ cursor, update }) => {\n      return featuredCommunitiesQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.instance?.featuredCommunities &&\n            prev.instance?.featuredCommunities\n            ? {\n                ...fetchMoreResult,\n                instance: {\n                  ...fetchMoreResult.instance,\n                  featuredCommunities: update({\n                    prev: prev.instance.featuredCommunities,\n                    fetched: fetchMoreResult.instance.featuredCommunities\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n  return useMemo(() => {\n    return {\n      featuredCommunitiesPage\n    };\n  }, [featuredCommunitiesPage]);\n};\n","import { Trans } from '@lingui/macro';\nimport React, { SFC, useRef, ReactElement } from 'react';\nimport Slider from 'react-slick';\nimport { Box, Flex } from 'rebass';\nimport 'slick-carousel/slick/slick-theme.css';\nimport 'slick-carousel/slick/slick.css';\nimport Button from 'ui/elements/Button';\nimport { ChevronLeft, Right } from 'ui/Icons';\nimport styled from 'ui/themes/styled';\n\nexport const Title = styled(Flex)`\n  font-weight: 700;\n  padding: 8px;\n  border-bottom: ${props => props.theme.colors.border};\n  margin: 0;\n  color: ${props => props.theme.colors.mediumdark};\n  & h5 {\n    margin: 0;\n    color: ${props => props.theme.colors.mediumdark};\n    display: inline-block;\n    flex: 1;\n    padding: 0;\n    text-transform: uppercase;\n    height: 30px;\n    font-weight: 500;\n    line-height: 30px;\n  }\n`;\n\nexport const RightContext = styled(Flex)`\n  & span {\n    cursor: pointer;\n    display: inline-block;\n    height: 30px;\n    & svg {\n      color: ${props => props.theme.colors.mediumdark} !important;\n      vertical-align: middle;\n      height: 30px;\n    }\n    &:hover {\n      & svg {\n        color: ${props => props.theme.colors.mediumdark} !important;\n      }\n    }\n  }\n  float: right;\n`;\n\nconst ActionContainer = styled(Flex)`\n  justify-content: right;\n  align-items: center;\n`;\n\nconst ActionItem = styled(Flex)`\n  display: inline-flex;\n  color: ${props => props.theme.colors.medium};\n  cursor: pointer;\n  padding-right: 10px;\n  button {\n    height: 30px;\n    line-height: 10px;\n  }\n  &:hover {\n    svg.hover {\n      stroke: ${props => props.theme.colors.primary};\n    }\n  }\n`;\n\nexport interface FeaturedCommunitiesData {\n  canEdit: boolean;\n  featuredCommunities: ReactElement[];\n  toggleEdit(): any;\n  isEditing: boolean;\n}\n\nexport const FeaturedCommunities: SFC<FeaturedCommunitiesData> = props => {\n  const sliderRef = useRef<Slider>();\n\n  return (\n    <>\n      <Title>\n        <h5>\n          <Trans>Featured communities</Trans>{' '}\n        </h5>\n        <RightContext>\n          {props.canEdit ? (\n            <ActionContainer>\n              <ActionItem onClick={props.toggleEdit}>\n                {!props.isEditing ? (\n                  <Button variant={'outline'}>\n                    <Trans>Edit</Trans>\n                  </Button>\n                ) : (\n                  <Button variant={'outline'}>\n                    <Trans>Done</Trans>\n                  </Button>\n                )}\n              </ActionItem>\n            </ActionContainer>\n          ) : null}\n          <span onClick={sliderRef.current && sliderRef.current.slickPrev}>\n            <ChevronLeft width={26} height={26} strokeWidth={1} color={'#333'} />\n          </span>\n          <span onClick={sliderRef.current && sliderRef.current.slickNext}>\n            <Right width={26} height={26} strokeWidth={1} color={'#333'} />\n          </span>\n        </RightContext>\n      </Title>\n      <Box px={2}>\n        <Slider\n          ref={c => (sliderRef.current = c || undefined)}\n          {...sliderSettings(props.featuredCommunities.length)}\n        >\n          {props.featuredCommunities}\n        </Slider>\n      </Box>\n    </>\n  );\n};\n\nexport default FeaturedCommunities;\n\nconst sliderSettings = (slidesToShow: number) => ({\n  dots: false,\n  arrows: false,\n  infinite: true,\n  autoplay: false,\n  speed: 500,\n  slidesToShow: slidesToShow > 3 ? 3 : slidesToShow,\n  slidesToScroll: 1,\n  responsive: [\n    {\n      breakpoint: 1024,\n      settings: {\n        slidesToShow: slidesToShow > 3 ? 3 : slidesToShow,\n        slidesToScroll: 1\n      }\n    },\n    {\n      breakpoint: 600,\n      settings: {\n        slidesToShow: slidesToShow > 2 ? 2 : slidesToShow,\n        slidesToScroll: 1\n      }\n    },\n    {\n      breakpoint: 480,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }\n  ]\n});\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Box, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport styled from 'ui/themes/styled';\nimport { ellipsis } from 'polished';\nimport { X } from 'react-feather';\nconst PlaceholderImg = require('ui/Icons/collectionPlaceholder.png');\n\nexport interface CommunityBase {\n  link: string;\n  name: string;\n  icon: string;\n}\n\nexport interface CommunityProps {\n  community: CommunityBase;\n  canEdit: boolean;\n  isEditing: boolean;\n  remove(): unknown;\n}\nconst CommunitySmall: React.FC<CommunityProps> = ({ community, canEdit, isEditing, remove }) => {\n  return (\n    <Wrapper py={1} mb={2} mr={3}>\n      {canEdit && isEditing ? (\n        <Remove onClick={remove}>\n          <X color=\"#fff\" size={16} />\n        </Remove>\n      ) : null}\n      <Link to={community.link}>\n        <Img\n          style={{\n            backgroundImage: `url(\"${community.icon || PlaceholderImg}\")`\n          }}\n        >\n          <Infos>\n            <Title my={2} fontWeight={600}>\n              {community.name.length > 80\n                ? community.name.replace(/^(.{76}[^\\s]*).*/, '$1...')\n                : community.name}\n            </Title>\n          </Infos>\n        </Img>\n      </Link>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled(Box)`\n  cursor: pointer;\n  position: relative;\n  max-width: 200px;\n  max-height: 270px;\n  border-radius: 4px;\n  padding-top: 10px;\n  ${media.lessThan('medium')`\n  display: block;\n`} & a {\n    color: inherit;\n    text-decoration: none;\n    width: 100%;\n  }\n`;\n\nconst Img = styled.div`\n  //   width: 100%;\n  height: auto;\n  padding: 50%;\n  border-radius: 4px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n`;\nconst Infos = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 40px;\n  padding: 0 8px;\n  background: rgba(0, 0, 0, 0.8);\n`;\n\nconst Title = styled(Text)`\n  color: rgba(250, 250, 250);\n  ${ellipsis('170px')};\n  margin: 0;\n  line-height: 40px;\n`;\n\nconst Remove = styled(Box)`\n  position: absolute;\n  right: -9px;\n  top: 0px;\n  cursor: pointer;\n  background: ${props => props.theme.colors.medium};\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  z-index: 999999999;\n`;\nexport default CommunitySmall;\n","import { FeaturedCollections } from 'HOC/modules/FeaturedCollections/featuredCollections';\nimport React, { FC, useMemo } from 'react';\nimport { Discover, Props } from 'ui/pages/discover';\nimport { useInstanceOutboxActivities } from 'fe/activities/outbox/instance/useInstanceOutboxActivities';\nimport { ActivityPreviewHOC } from 'HOC/modules/previews/activity/ActivityPreview';\nimport { FeaturedCommunities } from 'HOC/modules/FeaturedCommunities/featuredCommunities';\nimport { useAllCommunities } from 'fe/community/all/useAllCommunities';\nimport { CommunityPreviewHOC } from 'HOC/modules/previews/community/CommunityPreview';\nimport { CollectionPreviewHOC } from 'HOC/modules/previews/collection/CollectionPreview';\nimport { useAllCollections } from 'fe/collection/all/useAllCollections';\nimport { Box } from 'rebass';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\nimport { discoverLocation } from 'routes/DiscoverPageRoute';\n\nexport enum DiscoverPageTabs {\n  Activities,\n  Communities,\n  Collections\n}\n\nexport interface DiscoverPage {\n  tab: DiscoverPageTabs;\n  basePath: string;\n}\n\nconst discoverActivitiesPageTitle = t`Discover Activities`;\nconst discoverCollectionsPageTitle = t`Discover Collections`;\nconst discoverCommunitiesPageTitle = t`Discover Communities`;\n\nexport const DiscoverPage: FC<DiscoverPage> = ({ basePath, tab }) => {\n  const discovberPageTitle =\n    tab === DiscoverPageTabs.Collections\n      ? discoverCollectionsPageTitle\n      : tab === DiscoverPageTabs.Communities\n      ? discoverCommunitiesPageTitle\n      : tab === DiscoverPageTabs.Activities\n      ? discoverActivitiesPageTitle\n      : discoverActivitiesPageTitle; //never\n  usePageTitle(discovberPageTitle);\n\n  const { activitiesPage } = useInstanceOutboxActivities();\n  const [activitiesPageNext /* , activitiesPagePrevious */] = activitiesPage.formiks;\n\n  const { allCommunitiesPage } = useAllCommunities();\n  const [allCommunitiesPageNext /* , allCommunitiesPagePrevious */] = allCommunitiesPage.formiks;\n\n  const { allCollectionsPage } = useAllCollections();\n  const [allCollectionsPageNext /* , allCollectionsPagePrevious */] = allCollectionsPage.formiks;\n\n  const propsUI = useMemo<Props>(() => {\n    const FeaturedCollectionsBox = <FeaturedCollections />;\n    const FeaturedCommunitiesBox = <FeaturedCommunities />;\n    const ActivitiesBox = (\n      <>\n        {activitiesPage.edges.map(activity => (\n          <ActivityPreviewHOC activityId={activity.id} key={activity.id} />\n        ))}\n      </>\n    );\n\n    const CollectionsBoxes = (\n      <>\n        {allCollectionsPage.edges.map(collection => (\n          <Box m={2} key={collection.id}>\n            <CollectionPreviewHOC collectionId={collection.id} />\n          </Box>\n        ))}\n      </>\n    );\n    const CommunitiesBoxes = (\n      <>\n        {allCommunitiesPage.edges.map(community => (\n          <Box m={2} key={community.id}>\n            <CommunityPreviewHOC communityId={community.id} />\n          </Box>\n        ))}\n      </>\n    );\n    const LoadMoreFormik =\n      tab === DiscoverPageTabs.Activities\n        ? activitiesPageNext\n        : tab === DiscoverPageTabs.Collections\n        ? allCollectionsPageNext\n        : tab === DiscoverPageTabs.Communities\n        ? allCommunitiesPageNext\n        : null;\n\n    const tabPaths: Props['tabPaths'] = {\n      collections: discoverLocation.getPath({ tab: 'collections' }, undefined),\n      communities: discoverLocation.getPath({ tab: 'communities' }, undefined),\n      timeline: discoverLocation.getPath({ tab: undefined }, undefined)\n    };\n\n    const props: Props = {\n      tabPaths,\n      ActivitiesBox,\n      FeaturedCollectionsBox,\n      FeaturedCommunitiesBox,\n      CollectionsBoxes,\n      CommunitiesBoxes,\n      LoadMoreFormik\n    };\n\n    return props;\n  }, [\n    activitiesPage.edges,\n    activitiesPageNext,\n    allCollectionsPage.edges,\n    allCollectionsPageNext,\n    allCommunitiesPage.edges,\n    allCommunitiesPageNext,\n    tab\n  ]);\n\n  return <Discover {...propsUI} />;\n};\n","import { useInstanceFeaturedCommunities } from 'fe/instance/featuredCommunities/useInstanceFeaturedCommunities';\nimport { useMe } from 'fe/session/useMe';\nimport React, { FC, useMemo, useReducer, useState, ReactElement } from 'react';\nimport {\n  FeaturedCommunities as FeaturedCommunitiesUI,\n  FeaturedCommunitiesData\n} from 'ui/modules/FeaturedCommunities';\nimport CommunitySmall, { CommunityProps } from 'ui/modules/FeaturedCommunities/preview';\nimport Modal from 'ui/modules/Modal';\nimport { FeatureModalHOC } from '../FeatureModal/FeatureModal';\nimport { CommunityFeatureFragment } from './featuredCommunity.generated';\nimport { communityLocation } from 'routes/CommunityPageRoute';\n\nexport interface FeaturedCommunities {}\nexport const FeaturedCommunities: FC<FeaturedCommunities> = () => {\n  const { isAdmin } = useMe();\n  const { featuredCommunitiesPage } = useInstanceFeaturedCommunities();\n\n  const [isEditing, toggleEdit] = useReducer(prev => !prev, false);\n  const [\n    selectedFeatureToRemove,\n    setSelectedFeatureToRemove\n  ] = useState<CommunityFeatureFragment | null>(null);\n\n  const featuredCommunities = useMemo<ReactElement[]>(\n    () =>\n      featuredCommunitiesPage.edges\n        .map(feature => {\n          const communityFragment = feature.context;\n          if (!communityFragment || communityFragment.__typename !== 'Community') {\n            return null;\n          }\n          const community: CommunityProps['community'] = {\n            icon: communityFragment.icon?.url || '',\n            name: communityFragment.name,\n            link: communityLocation.getPath(\n              { tab: undefined, communityId: communityFragment.id },\n              undefined\n            )\n          };\n          const props: CommunityProps = {\n            community,\n            canEdit: isAdmin,\n            isEditing,\n            remove: () => setSelectedFeatureToRemove(feature)\n          };\n          return <CommunitySmall key={communityFragment.id} {...props} />;\n        })\n        .filter((_): _ is ReactElement => !!_),\n    [featuredCommunitiesPage.edges, isAdmin, isEditing]\n  );\n\n  const RemoveFeaturedModal = useMemo(\n    () =>\n      selectedFeatureToRemove &&\n      selectedFeatureToRemove.context?.__typename === 'Community' && (\n        <Modal closeModal={() => setSelectedFeatureToRemove(null)}>\n          <FeatureModalHOC\n            ctx={selectedFeatureToRemove.context}\n            done={() => setSelectedFeatureToRemove(null)}\n            featureId={selectedFeatureToRemove.id}\n          />\n        </Modal>\n      ),\n    [selectedFeatureToRemove]\n  );\n\n  const propsUI = useMemo<FeaturedCommunitiesData>(() => {\n    const props: FeaturedCommunitiesData = {\n      isEditing,\n      toggleEdit,\n      featuredCommunities,\n      canEdit: isAdmin\n    };\n    return props;\n  }, [isEditing, featuredCommunities, isAdmin]);\n  return (\n    <>\n      {RemoveFeaturedModal}\n      <FeaturedCommunitiesUI {...propsUI} />\n    </>\n  );\n};\n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\nimport { useAllCommunitiesQuery } from './useAllCommunities.generated';\n\nexport const useAllCommunities = () => {\n  const allCommunitiesQ = useAllCommunitiesQuery({\n    variables: { limit: DEFAULT_PAGE_SIZE }\n  });\n  const allCommunitiesPage = usePage(\n    allCommunitiesQ.data?.communities,\n    ({ cursor, update }) => {\n      return allCommunitiesQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.communities && prev.communities\n            ? {\n                ...fetchMoreResult,\n                communities: update({\n                  prev: prev.communities,\n                  fetched: fetchMoreResult.communities\n                })\n              }\n            : prev;\n        }\n      });\n    }\n  );\n  return useMemo(() => {\n    return {\n      allCommunitiesPage\n    };\n  }, [allCommunitiesPage]);\n};\n","import { generatePath, matchPath } from 'react-router';\nimport { RouteProps } from 'react-router-dom';\nimport { SimpleLink } from 'ui/helpers/SimpleLink';\ninterface MinimalActor {\n  isLocal: boolean;\n  canonicalUrl?: string;\n}\ntype LocationParams = { [paramName: string]: string | number | boolean | undefined } | undefined;\ntype QueryParams = LocationParams;\n\ninterface LocationHelp<Params extends LocationParams, Query extends QueryParams, State = any> {\n  getPath(params: Params, query: Query, pathIndex?: number): string;\n  is(path: string): boolean;\n  getSimpleLink(\n    params: Params,\n    query: Query,\n    actor?: MinimalActor | null,\n    pathIndex?: number\n  ): SimpleLink;\n}\n\nexport const locationHelper = <\n  Params extends LocationParams,\n  Query extends QueryParams,\n  State = any\n>(\n  routeProps: RouteProps\n): LocationHelp<Params, Query, State> => {\n  type ThisLocation = LocationHelp<Params, Query, State>;\n  const routePaths =\n    'string' === typeof routeProps.path\n      ? [routeProps.path]\n      : !routeProps.path?.length\n      ? []\n      : routeProps.path;\n\n  const is: ThisLocation['is'] = path => !!matchPath(path, routeProps);\n\n  const getPath: ThisLocation['getPath'] = (params, query, index = 0) => {\n    const usePath = routePaths[index];\n    //@ts-ignore\n    const searchParams = new URLSearchParams(query || {}).toString();\n    const url = generatePath(usePath, params);\n    return searchParams ? `${url}?${searchParams}` : url;\n  };\n\n  const getSimpleLink: ThisLocation['getSimpleLink'] = (params, query, actor = null, index = 0) => {\n    const internal = actor ? actor.isLocal : true;\n    const internalPath = getPath(params, query, index);\n    const url = internal ? internalPath : actor?.canonicalUrl || '#?#';\n    const simpleLink: SimpleLink = {\n      external: !internal,\n      url\n    };\n    return simpleLink;\n  };\n\n  return {\n    is,\n    getSimpleLink,\n    getPath\n  };\n};\n\n// interface LocationHelpHook<Params extends LocationParams, Query extends QueryParams, State = any> {\n//   is(): boolean;\n//   getSimpleLink(\n//     params: Params,\n//     query: Query,\n//     actor?: MinimalActor | null,\n//     pathIndex?: number\n//   ): SimpleLink;\n// }\n\n// export const useLocationHelp = <\n//   Params extends LocationParams,\n//   Query extends QueryParams,\n//   State = any\n// >(\n//   helper: LocationHelp<Params, Query, State>\n// ): LocationHelpHook<Params, Query, State> => {\n//   const history = useHistory();\n//   type ThisLocationHook = LocationHelpHook<Params, Query, State>;\n\n//   const is = useCallback(() => !!helper.is(history.location.pathname), [\n//     helper,\n//     history.location.pathname\n//   ]);\n\n//   const getSimpleLink: ThisLocationHook['getSimpleLink'] = useCallback(\n//     (params, query, actor = null, index = 0) => {\n//       const internal = actor ? actor.isLocal : true;\n//       const internalPath = helper.getPath(params, query, index);\n//       const url = internal ? internalPath : actor?.canonicalUrl || '#?#';\n//       const simpleLink: SimpleLink = {\n//         external: !internal,\n//         url\n//       };\n//       return simpleLink;\n//     },\n//     [helper]\n//   );\n\n//   return useMemo(\n//     () => ({\n//       getSimpleLink,\n//       is\n//     }),\n//     [getSimpleLink, is]\n//   );\n// };\n","import { DiscoverPage, DiscoverPageTabs } from 'HOC/pages/discover/DiscoverPage';\nimport React, { FC, useMemo } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\nimport { locationHelper } from './lib/helper';\n\ninterface DiscoverPageRouter {\n  tab?: string;\n}\nconst DiscoverPageRouter: FC<RouteComponentProps<DiscoverPageRouter>> = ({ match }) => {\n  const maybeTabStr = match.params.tab;\n  const tab =\n    maybeTabStr === 'collections'\n      ? DiscoverPageTabs.Collections\n      : maybeTabStr === 'communities'\n      ? DiscoverPageTabs.Communities\n      : !maybeTabStr\n      ? DiscoverPageTabs.Activities\n      : null;\n  const props = useMemo<DiscoverPage | null>(() => {\n    return tab === null\n      ? null\n      : {\n          basePath: '/discover',\n          tab\n        };\n  }, [tab]);\n  if (!props) {\n    return <NotFoundHOC />;\n  }\n\n  return (\n    <WithSidebarTemplate>\n      <DiscoverPage {...props} />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const DiscoverPageRoute: RouteProps = {\n  exact: true,\n  path: '/discover/:tab(collections|communities)?',\n  component: DiscoverPageRouter\n};\n\ntype Tab = undefined | 'collections' | 'communities';\ntype Params = {\n  tab: Tab;\n};\n\nexport const discoverLocation = locationHelper<Params, undefined>(DiscoverPageRoute);\n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\nimport * as GQL from './useMyInboxActivities.generated';\n\nexport const useMyInboxActivities = () => {\n  const activitiesQ = GQL.useMyInboxActivitiesQuery({\n    variables: { limit: DEFAULT_PAGE_SIZE }\n  });\n\n  const activitiesPage = usePage(\n    activitiesQ.data?.me?.user.inbox,\n    ({ cursor, update }) => {\n      return activitiesQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.me?.user.inbox && prev.me?.user.inbox\n            ? {\n                ...fetchMoreResult,\n                me: {\n                  ...fetchMoreResult.me,\n                  user: {\n                    ...fetchMoreResult.me.user,\n                    inbox: update({\n                      prev: prev.me.user.inbox,\n                      fetched: fetchMoreResult.me.user.inbox\n                    })\n                  }\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(() => {\n    return {\n      activitiesPage\n    };\n  }, [activitiesPage]);\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Box, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport {\n  HomeBox,\n  // MenuList\n  List,\n  // ObjectsList,\n  MainContainer,\n  Wrapper,\n  WrapperCont\n} from 'ui/elements/Layout';\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport styled from 'ui/themes/styled';\nimport { ReactElement } from 'react';\n\nexport interface Props {\n  // nextCommunitiesFormik?: FormikHook;\n  // nextCollectionsFormik?: FormikHook;\n  nextInboxFormik: FormikHook | null;\n  // FollowedCommunitiesElements: ReactElement;\n  // FollowedCollectionsElements: ReactElement;\n  InboxElements: ReactElement;\n  basePath: string;\n}\n\nexport const Home: React.FC<Props> = ({\n  basePath,\n  InboxElements,\n  nextInboxFormik\n}: // nextCommunitiesFormik,\n// nextCollectionsFormik,\n// FollowedCommunitiesElements,\n// FollowedCollectionsElements\nProps) => {\n  return (\n    <MainContainer>\n      <HomeBox>\n        <WrapperCont>\n          <Wrapper>\n            <Title px={2}>\n              <Text variant=\"suptitle\">\n                <Trans>My timeline</Trans>\n              </Text>\n            </Title>\n            {/* <Menu basePath={basePath} /> */}\n            <Switch>\n              {/* <Route path={`${basePath}/mycommunities`}>\n                <ObjectsList>{FollowedCommunitiesElements}</ObjectsList>\n                {nextCommunitiesFormik && (\n                  <LoadMore LoadMoreFormik={nextCommunitiesFormik} />\n                )}\n              </Route>\n              <Route path={`${basePath}/mycollections`}>\n                <ObjectsList>{FollowedCollectionsElements}</ObjectsList>\n                {nextCollectionsFormik && (\n                  <LoadMore LoadMoreFormik={nextCollectionsFormik} />\n                )}\n              </Route> */}\n              <Route path={`${basePath}`}>\n                <List>{InboxElements}</List>\n                {nextInboxFormik && <LoadMore LoadMoreFormik={nextInboxFormik} />}\n              </Route>\n            </Switch>\n          </Wrapper>\n        </WrapperCont>\n      </HomeBox>\n    </MainContainer>\n  );\n};\n\nexport default Home;\n\nconst Title = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  height: 40px;\n  line-height: 40px;\n  border-bottom: ${props => props.theme.colors.border};\n`;\n\n// const Menu = ({ basePath }: { basePath: string }) => {\n//   return (\n//     <MenuList>\n//       <NavLink exact to={`${basePath}`}>\n//         <Trans>My Timeline</Trans>\n//       </NavLink>\n//       <>\n//         {/* <NavLink to={`${basePath}/mycommunities`}>\n//           <Trans>Joined communities</Trans>\n//         </NavLink>\n//         <NavLink to={`${basePath}/mycollections`}>\n//           <Trans>Followed collections</Trans>\n//         </NavLink> */}\n//       </>\n//     </MenuList>\n//   );\n// };\n","import { useMyInboxActivities } from 'fe/activities/inbox/my/useMyInboxActivities';\n// import { useMyFollowedCollections } from 'fe/collection/myFollowed/myFollowedCollections';\n// import { useMyFollowedCommunities } from 'fe/community/myFollowed/myFollowedCommunities';\nimport { ActivityPreviewHOC } from 'HOC/modules/previews/activity/ActivityPreview';\n// import { CollectionPreviewHOC } from 'HOC/modules/previews/collection/CollectionPreview';\n// import { CommunityPreviewHOC } from 'HOC/modules/previews/community/CommunityPreview';\nimport React, { FC, useMemo } from 'react';\nimport { Home, Props } from 'ui/pages/home';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n// import { MyFollowedCommunityDataFragment } from 'fe/community/myFollowed/myFollowedCommunities.generated';\n// import { MyFollowedCollectionDataFragment } from 'fe/collection/myFollowed/myFollowedCollections.generated';\n\nexport interface HomePageHOC {\n  basePath: string;\n}\n\nconst homeMyTimelinePageTitle = t`My Activities`;\n\nexport const HomePageHOC: FC<HomePageHOC> = ({ basePath }) => {\n  // const { myCommunityFollowsPage } = useMyFollowedCommunities();\n  // const [nextCommunitiesFormik] = useFormikPage(myCommunityFollowsPage);\n  // const FollowedCommunitiesElements = useMemo<\n  //   Props['FollowedCommunitiesElements']\n  // >(() => {\n  //   return (\n  //     <>\n  //       {myCommunityFollowsPage\n  //         .edges!.map(follow => follow.context)\n  //         .filter(\n  //           (context): context is MyFollowedCommunityDataFragment =>\n  //             context.__typename === 'Community'\n  //         )\n  //         .map(community => (\n  //           <CommunityPreviewHOC\n  //             communityId={community.id}\n  //             key={community.id}\n  //           />\n  //         ))}\n  //     </>\n  //   );\n  // }, [myCommunityFollowsPage]);\n\n  // const {\n  //   myCollectionFollowsPage: myFollowedCollectionsPage\n  // } = useMyFollowedCollections();\n  // const [nextCollectionsFormik] = useFormikPage(myFollowedCollectionsPage);\n  // const FollowedCollectionsElements = useMemo<\n  //   Props['FollowedCollectionsElements']\n  // >(() => {\n  //   return (\n  //     <>\n  //       {myFollowedCollectionsPage\n  //         .edges!.map(follow => follow.context)\n  //         .filter(\n  //           (context): context is MyFollowedCollectionDataFragment =>\n  //             context.__typename === 'Collection'\n  //         )\n  //         .map(collection => (\n  //           <CollectionPreviewHOC\n  //             collectionId={collection.id}\n  //             key={collection.id}\n  //           />\n  //         ))}\n  //     </>\n  //   );\n  // }, [myFollowedCollectionsPage]);\n  usePageTitle(homeMyTimelinePageTitle);\n\n  const { activitiesPage } = useMyInboxActivities();\n  const [nextInboxFormik] = activitiesPage.formiks;\n  const InboxElements = useMemo<Props['InboxElements']>(() => {\n    return (\n      <>\n        {activitiesPage.edges!.map(\n          userActivityEdge =>\n            userActivityEdge && (\n              <ActivityPreviewHOC activityId={userActivityEdge.id} key={userActivityEdge.id} />\n            )\n        )}\n      </>\n    );\n  }, [activitiesPage]);\n\n  const homeProps = useMemo<Props>(() => {\n    const props: Props = {\n      InboxElements,\n      // FollowedCollectionsElements,\n      // FollowedCommunitiesElements,\n      // nextCollectionsFormik,\n      // nextCommunitiesFormik,\n      nextInboxFormik,\n      basePath\n    };\n    return props;\n  }, [\n    InboxElements,\n    // FollowedCollectionsElements,\n    // FollowedCommunitiesElements,\n    // nextCollectionsFormik,\n    // nextCommunitiesFormik,\n    nextInboxFormik,\n    basePath\n  ]);\n  return <Home {...homeProps} />;\n};\n","import { useMe } from 'fe/session/useMe';\nimport React, { FC } from 'react';\nimport { Redirect } from 'react-router-dom';\ninterface Props {\n  to: string;\n}\n\nexport const RedirectAuthenticated: FC<Props> = ({ children, to }) => {\n  const { me, loading } = useMe();\n\n  if (loading) {\n    return null;\n  }\n\n  if (me) {\n    return <Redirect to={to} />;\n  }\n\n  return <>{children}</>;\n};\nexport const RedirectAuthenticatedToHome: FC = ({ children }) => (\n  <RedirectAuthenticated to=\"/\">{children}</RedirectAuthenticated>\n);\n\nexport const RedirectAnonymous: FC<Props> = ({ children, to }) => {\n  const { me, loading } = useMe();\n  if (loading) {\n    return null;\n  }\n\n  if (!me) {\n    return <Redirect to={to} />;\n  }\n\n  return <>{children}</>;\n};\n\nexport const RedirectAnonymousToLogin: FC = ({ children }) => (\n  <RedirectAnonymous to=\"/login\">{children}</RedirectAnonymous>\n);\n","import React, { FC, useMemo } from 'react';\nimport { HomePageHOC } from 'HOC/pages/home/HomeHoc';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\nimport { RedirectAnonymousToLogin } from './wrappers/RedirectBySession';\nimport { locationHelper } from './lib/helper';\n\ninterface HomePageRouter {\n  tab?: string;\n}\nconst HomePageRouter: FC<RouteComponentProps<HomePageRouter>> = ({ match }) => {\n  const homeProps: HomePageHOC | null = useMemo(\n    () => ({\n      basePath: ''\n    }),\n    []\n  );\n\n  if (!homeProps) {\n    return <NotFoundHOC />;\n  }\n  return (\n    <RedirectAnonymousToLogin>\n      <WithSidebarTemplate>\n        <HomePageHOC {...homeProps} />\n      </WithSidebarTemplate>\n    </RedirectAnonymousToLogin>\n  );\n};\n\nexport const HomePageRoute: RouteProps = {\n  exact: true,\n  path: '/',\n  component: HomePageRouter\n};\n\nexport const homeLocation = locationHelper<undefined, undefined>(HomePageRoute);\n","import { useMyFollowedCommunities } from 'fe/community/myFollowed/myFollowedCommunities';\nimport React, { FC, useMemo, useContext } from 'react';\nimport {\n  CommunityPreview,\n  Props as PropsUI,\n  Sidebar as SidebarUI,\n  Status as StatusUI\n} from 'ui/modules/Sidebar/index';\nimport { MyFollowedCommunityDataFragment } from 'fe/community/myFollowed/myFollowedCommunities.generated';\nimport { SideBarContext } from 'HOC/context/SideBar';\nimport { discoverLocation } from 'routes/DiscoverPageRoute';\nimport { homeLocation } from 'routes/HomePageRoute';\nimport { communityLocation } from 'routes/CommunityPageRoute';\n\nexport interface SidebarHOC {}\nexport const SidebarHOC: FC<SidebarHOC> = () => {\n  const { isOpen: isSidebarOpen } = useContext(SideBarContext);\n  const { myCommunityFollowsPage } = useMyFollowedCommunities();\n  const [LoadMoreFormik] = myCommunityFollowsPage.formiks;\n  const communities = useMemo(\n    () =>\n      myCommunityFollowsPage.edges\n        .map(follow => follow.context)\n        .filter(\n          (context): context is MyFollowedCommunityDataFragment =>\n            context.__typename === 'Community'\n        )\n        .map<CommunityPreview>(community => {\n          return {\n            icon: community.icon?.url || '',\n            link: communityLocation.getPath(\n              { communityId: community.id, tab: undefined },\n              undefined\n            ),\n            name: community.name\n          };\n        }),\n    [myCommunityFollowsPage]\n  );\n\n  const propsUI = useMemo<PropsUI>(() => {\n    const props: PropsUI = {\n      isSidebarOpen,\n      status: StatusUI.Loaded,\n      communities,\n      LoadMoreFormik,\n      discoverPath: discoverLocation.getPath({ tab: undefined }, undefined),\n      homePath: homeLocation.getPath(undefined, undefined)\n    };\n    return props;\n  }, [communities, isSidebarOpen, LoadMoreFormik]);\n  return <SidebarUI {...propsUI} />;\n};\n","import * as React from 'react';\nimport { Dropdown } from '../../../ui/modules/Dropdown';\nimport { Plus, PlusSquare, Users, X } from 'react-feather';\nimport { Flex, Text } from 'rebass/styled-components';\nimport { Trans } from '@lingui/macro';\nimport styled from '../../../ui/themes/styled';\n\ntype TCreateDropdown = {\n  toggleDropdown: () => void;\n  createCommunity: () => void;\n  createIntent: () => void;\n  createResource: () => void;\n};\n\nexport const CreateDropdown: React.FC<TCreateDropdown> = ({\n  toggleDropdown,\n  createCommunity,\n  createIntent,\n  createResource\n}) => {\n  return (\n    <Dropdown orientation={'top'} close={toggleDropdown}>\n      <Action>\n        <StyledClose onClick={toggleDropdown}>\n          <X color=\"#05244F\" />\n        </StyledClose>\n      </Action>\n      <List lined>\n        <Item variant=\"link\" onClick={() => createCommunity()}>\n          <span>\n            <Users size={16} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>New Community</Trans>\n          </Text>\n        </Item>\n        <Item variant=\"link\" onClick={() => createIntent()}>\n          <span>\n            <PlusSquare size={16} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>Create a new intent</Trans>\n          </Text>\n        </Item>\n        <Item variant=\"link\" onClick={() => createResource()}>\n          <span>\n            <Plus size={16} color={'#333'} />\n          </span>\n          <Text variant=\"text\">\n            <Trans>Create a new resource</Trans>\n          </Text>\n        </Item>\n      </List>\n    </Dropdown>\n  );\n};\n\nconst List = styled.div<{ lined?: boolean }>`\n  padding: 8px;\n`;\n\nconst Action = styled(Flex)`\n  justify-content: flex-end;\n  padding: 12px 20px;\n`;\nconst Item = styled(Flex)`\n  line-height: 50px;\n  height: 50px;\n  cursor: pointer;\n  align-items: center;\n\n  & span {\n    display: inline-block;\n    margin-right: 8px;\n\n    .--rtl & {\n      margin-right: 0px;\n      margin-left: 8px;\n    }\n\n    & svg {\n      vertical-align: sub;\n    }\n  }\n\n  & a {\n    color: inherit !important;\n    text-decoration: none;\n  }\n\n  &:hover {\n    color: ${props => props.theme.colors.primary};\n  }\n`;\n\nexport const StyledClose = styled.button`\n  width: 18px;\n  height: 18px;\n  position: relative;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 10;\n  margin: 0;\n  &:focus {\n    outline: none;\n  }\n`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type CreateIntentMutationVariables = {\n  name: Types.Scalars['String'],\n  action: Types.Scalars['String'],\n  communityId: Types.Scalars['ID'],\n  note?: Types.Maybe<Types.Scalars['String']>\n};\n\n\nexport type CreateIntentMutation = (\n  { __typename: 'RootMutationType' }\n  & { createIntent: Types.Maybe<(\n    { __typename: 'IntentResponse' }\n    & { intent: (\n      { __typename: 'Intent' }\n      & Pick<Types.Intent, 'id' | 'name' | 'note'>\n      & { inScopeOf: Types.Maybe<Array<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Community' } | { __typename: 'Organisation' } | { __typename: 'Organization' } | { __typename: 'Person' } | { __typename: 'Taggable' } | { __typename: 'User' }>> }\n    ) }\n  )> }\n);\n\nexport type CreateOfferMutationVariables = {\n  action: Types.Scalars['String'],\n  name: Types.Scalars['String'],\n  communityId: Types.Scalars['ID'],\n  note?: Types.Maybe<Types.Scalars['String']>,\n  hasUnit: Types.Scalars['ID'],\n  hasNumericalValue: Types.Scalars['Float'],\n  atLocation?: Types.Maybe<Types.Scalars['ID']>\n};\n\n\nexport type CreateOfferMutation = (\n  { __typename: 'RootMutationType' }\n  & { createOffer: Types.Maybe<(\n    { __typename: 'IntentResponse' }\n    & { intent: (\n      { __typename: 'Intent' }\n      & Pick<Types.Intent, 'id' | 'name' | 'note'>\n      & { inScopeOf: Types.Maybe<Array<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Community' } | { __typename: 'Organisation' } | { __typename: 'Organization' } | { __typename: 'Person' } | { __typename: 'Taggable' } | { __typename: 'User' }>>, atLocation: Types.Maybe<(\n        { __typename: 'SpatialThing' }\n        & Pick<Types.SpatialThing, 'lat' | 'long' | 'alt'>\n      )>, resourceQuantity: Types.Maybe<(\n        { __typename: 'Measure' }\n        & Pick<Types.Measure, 'hasNumericalValue'>\n        & { hasUnit: (\n          { __typename: 'Unit' }\n          & Pick<Types.Unit, 'label' | 'id'>\n        ) }\n      )> }\n    ) }\n  )> }\n);\n\n\nexport const CreateIntentDocument = gql`\n    mutation createIntent($name: String!, $action: String!, $communityId: ID!, $note: String) {\n  createIntent(intent: {action: $action, name: $name, inScopeOf: [$communityId], note: $note}) {\n    intent {\n      id\n      inScopeOf {\n        __typename\n      }\n      name\n      note\n    }\n  }\n}\n    `;\nexport type CreateIntentMutationFn = ApolloReactCommon.MutationFunction<CreateIntentMutation, CreateIntentMutationVariables>;\n\n/**\n * __useCreateIntentMutation__\n *\n * To run a mutation, you first call `useCreateIntentMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateIntentMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createIntentMutation, { data, loading, error }] = useCreateIntentMutation({\n *   variables: {\n *      name: // value for 'name'\n *      action: // value for 'action'\n *      communityId: // value for 'communityId'\n *      note: // value for 'note'\n *   },\n * });\n */\nexport function useCreateIntentMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateIntentMutation, CreateIntentMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateIntentMutation, CreateIntentMutationVariables>(CreateIntentDocument, baseOptions);\n      }\nexport type CreateIntentMutationHookResult = ReturnType<typeof useCreateIntentMutation>;\nexport type CreateIntentMutationResult = ApolloReactCommon.MutationResult<CreateIntentMutation>;\nexport type CreateIntentMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateIntentMutation, CreateIntentMutationVariables>;\nexport const CreateOfferDocument = gql`\n    mutation createOffer($action: String!, $name: String!, $communityId: ID!, $note: String, $hasUnit: ID!, $hasNumericalValue: Float!, $atLocation: ID) {\n  createOffer(intent: {action: $action, name: $name, resourceQuantity: {hasUnit: $hasUnit, hasNumericalValue: $hasNumericalValue}, atLocation: $atLocation, inScopeOf: [$communityId], note: $note}) {\n    intent {\n      id\n      inScopeOf {\n        __typename\n      }\n      name\n      note\n      atLocation {\n        lat\n        long\n        alt\n      }\n      resourceQuantity {\n        hasUnit {\n          label\n          id\n        }\n        hasNumericalValue\n      }\n    }\n  }\n}\n    `;\nexport type CreateOfferMutationFn = ApolloReactCommon.MutationFunction<CreateOfferMutation, CreateOfferMutationVariables>;\n\n/**\n * __useCreateOfferMutation__\n *\n * To run a mutation, you first call `useCreateOfferMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateOfferMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createOfferMutation, { data, loading, error }] = useCreateOfferMutation({\n *   variables: {\n *      action: // value for 'action'\n *      name: // value for 'name'\n *      communityId: // value for 'communityId'\n *      note: // value for 'note'\n *      hasUnit: // value for 'hasUnit'\n *      hasNumericalValue: // value for 'hasNumericalValue'\n *      atLocation: // value for 'atLocation'\n *   },\n * });\n */\nexport function useCreateOfferMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateOfferMutation, CreateOfferMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateOfferMutation, CreateOfferMutationVariables>(CreateOfferDocument, baseOptions);\n      }\nexport type CreateOfferMutationHookResult = ReturnType<typeof useCreateOfferMutation>;\nexport type CreateOfferMutationResult = ApolloReactCommon.MutationResult<CreateOfferMutation>;\nexport type CreateOfferMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateOfferMutation, CreateOfferMutationVariables>;\n\n\nexport interface CreateIntentMutationOperation {\n  operationName: 'createIntent'\n  result: CreateIntentMutation\n  variables: CreateIntentMutationVariables\n  type: 'mutation'\n}\nexport const CreateIntentMutationName:CreateIntentMutationOperation['operationName'] = 'createIntent'\n\nexport const CreateIntentMutationRefetch = (\n  variables:CreateIntentMutationVariables, \n  context?:any\n)=>({\n  query:CreateIntentDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface CreateOfferMutationOperation {\n  operationName: 'createOffer'\n  result: CreateOfferMutation\n  variables: CreateOfferMutationVariables\n  type: 'mutation'\n}\nexport const CreateOfferMutationName:CreateOfferMutationOperation['operationName'] = 'createOffer'\n\nexport const CreateOfferMutationRefetch = (\n  variables:CreateOfferMutationVariables, \n  context?:any\n)=>({\n  query:CreateOfferDocument,\n  variables,\n  context\n})\n      \n","import { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\nimport { useCreateOfferMutation } from './useCreateIntent.generated';\n\nexport interface CreateOffer {\n  name: string;\n  note?: string;\n  communityId: string;\n  atLocation?: string;\n  hasUnit: string;\n  hasNumericalValue: number;\n}\n\nexport const useCreateIntent = () => {\n  const [createOfferMut, createOfferMutStatus] = useCreateOfferMutation();\n\n  const create = useCallOrNotifyMustLogin(\n    async ({ name, note, communityId, atLocation, hasNumericalValue, hasUnit }: CreateOffer) => {\n      if (createOfferMutStatus.loading) {\n        return;\n      }\n\n      return createOfferMut({\n        variables: {\n          name,\n          note,\n          communityId,\n          action: 'produced',\n          atLocation,\n          hasUnit,\n          hasNumericalValue\n        }\n      });\n    },\n    [createOfferMutStatus, createOfferMut]\n  );\n\n  return useMemo(() => {\n    return {\n      create\n    };\n  }, [create]);\n};\n","import styled from '../../themes/styled';\n\nexport const Container = styled('div')<any>`\n  margin: 0 10px 12px 0;\n`;\n\nexport const FormGroup = styled('div')<any>`\n  display: block;\n  position: relative;\n`;\nexport const FormLabel = styled('label')<any>`\n  display: block;\n  font-size: 10px;\n  color: #aaa;\n  font-family: 'Arial', sans-serif;\n  text-transform: uppercase;\n  margin-bottom: 2px;\n`;\n\nexport const FormStyled = styled('form')<any>`\n  .d-flex {\n    margin-top: 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    & > div {\n      width: calc(50% - 5px);\n    }\n\n    button {\n      width: 100%;\n      background: #cdcdcd;\n    }\n  }\n`;\n\nexport const ButtonWrap = styled.div`\n  width: 100%;\n  margin-bottom: 16px;\n\n  > button {\n    width: 100%;\n  }\n\n  .event_btn {\n    height: 40px;\n    text-transform: uppercase;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    letter-spacing: 1px;\n  }\n`;\n","import React, { FC } from 'react';\nimport styled from 'ui/themes/styled';\nimport Alert from 'ui/elements/Alert';\n\nexport interface Props {\n  id: string | undefined;\n  name: string;\n  type?: string;\n  onChange: any;\n  placeholder?: string;\n  label?: string;\n  readOnly?: boolean;\n  value?: string | number;\n  disabled?: boolean;\n  hint?: {\n    class: 'error' | 'success' | 'disabled';\n    value: string;\n  };\n}\n\nconst CustomInput: FC<Props> = ({\n  id,\n  name,\n  type = 'text',\n  readOnly = false,\n  onChange,\n  placeholder = '',\n  label,\n  value = '',\n  hint = { class: 'error', value: '' },\n  disabled = false\n}) => (\n  <FieldWrapper disabled={disabled}>\n    <label htmlFor={id}>{label}</label>\n    {type !== 'textarea' && (\n      <input\n        id={id}\n        type={type}\n        name={name}\n        readOnly={readOnly}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n        disabled={disabled}\n      />\n    )}\n    {type === 'textarea' && (\n      <textarea\n        id={id}\n        name={name}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n        disabled={disabled}\n      />\n    )}\n    <span className={`hint ${hint.class}`}>{hint.value}</span>\n  </FieldWrapper>\n);\n\nexport default CustomInput;\n\nconst FieldWrapper = styled('div')<any>`\n  textarea,\n  input {\n    opacity: ${props => (props.disabled === true ? '0.7' : '1')};\n    cursor: ${props => (props.disabled === true ? 'default' : 'text')};\n    border: 1px solid #05244f;\n    border-radius: 4px;\n    height: 40px;\n    display: block;\n    width: 100%;\n    box-sizing: border-box;\n    padding: 0 10px;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #666666;\n    letter-spacing: 1px;\n    margin-bottom: 10px;\n  }\n  textarea {\n    padding: 10px;\n    height: 120px;\n\n    &#eventNote {\n      height: 60px;\n    }\n  }\n`;\n\nexport const CustomAlert = styled(Alert)`\n  background-color: transparent !important;\n  color: #ff5a5f !important;\n  text-align: right !important;\n  line-height: 1 !important;\n`;\n","import Select from 'react-select';\nimport React, { FC, useState } from 'react';\nimport styled from 'ui/themes/styled';\nimport { darken, lighten, transitions } from 'polished';\nimport { Props } from './select';\n\nconst WrapperSelect = styled(Select)`\n  margin-bottom: 10px;\n  small {\n    display: block;\n    padding-top: 6px;\n    font-size: 10px;\n    color: #aaa;\n  }\n  b,\n  .select__value-container,\n  .select__single-value {\n    display: block;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #666666;\n    letter-spacing: 1px;\n  }\n  .select__control > div {\n    height: 36px;\n  }\n  .select__value-container > div:not(.select__single-value) {\n    height: 36px;\n    padding: 0;\n    margin: 0;\n    line-height: 36px;\n  }\n  .select__value-container {\n    height: 36px;\n    padding: 0 10px;\n  }\n  .select__control--menu-is-open,\n  .select__control--is-focused {\n    border-color: #05244f !important;\n    box-shadow: none;\n\n    small {\n      display: none;\n    }\n  }\n  .select__control {\n    border: 1px solid #05244f;\n    border-radius: 4px;\n    height: 40px;\n  }\n  ${transitions('background, 0.2s')};\n  margin: '0 10px 0 0 ';\n\n  cursor: 'pointer';\n  .select__option--is-disabled {\n    opacity: 0.5;\n  }\n  &:hover && not:['disabled'] {\n    background: ${props =>\n      props.variant === 'primary' || props.variant === 'danger'\n        ? darken('0.1', props.theme.colors.primary)\n        : lighten('0.3', props.theme.colors.primary)};\n  }\n`;\n\nexport const CustomSelect: FC<Props> = ({\n  onInputChange,\n  onSelect,\n  disabled = false,\n  variant,\n  placeholder = '',\n  name,\n  options,\n  id,\n  value,\n  components,\n  noChange,\n  openMenuOnClick\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const optionsList = options\n    ? options.map(el => {\n        return el.isDisabled\n          ? {\n              id: el.id,\n              value: el.label,\n              isDisabled: el.isDisabled,\n              label: (\n                <span>\n                  <b>{el.label}</b>\n                  {el.note && <small>{el.note}</small>}\n                </span>\n              )\n            }\n          : {\n              id: el.id,\n              value: el.label,\n              label: (\n                <span>\n                  <b>{el.label}</b>\n                  {el.note && <small>{el.note}</small>}\n                  {el.displayUsername && el.id === value.id && <small>{el.displayUsername}</small>}\n                </span>\n              )\n            };\n      })\n    : [];\n\n  return (\n    <WrapperSelect\n      onChange={(option: any) => {\n        onSelect(name, {\n          id: option?.id,\n          label: option?.value,\n          displayUsername: option?.displayUsername\n        });\n        setIsOpen(false);\n      }}\n      variant={variant}\n      placeholder={placeholder}\n      disabled={disabled}\n      isOptionDisabled={(option: any) => option.isDisabled}\n      onInputChange={(value: string) => {\n        if (!noChange && value.length > 2) {\n          if (onInputChange) {\n            onInputChange(name, value);\n          }\n          setIsOpen(true);\n        } else if (!noChange && value.length < 3) {\n          setIsOpen(false);\n        }\n      }}\n      className=\"basic-single\"\n      classNamePrefix=\"select\"\n      value={optionsList.find(el => el.id === value?.id) || null}\n      isDisabled={false}\n      isLoading={false}\n      isClearable={true}\n      isRtl={false}\n      isSearchable={true}\n      name={name}\n      id={id}\n      options={optionsList}\n      components={components}\n      openMenuOnClick={openMenuOnClick}\n      menuIsOpen={isOpen}\n      onFocus={() => {\n        noChange && setIsOpen(true);\n      }}\n      onBlur={() => {\n        setIsOpen(false);\n      }}\n    />\n  );\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport React, { FC } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { Heading } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport { FormikHook } from 'ui/@types/types';\nimport { FormGroup, FormLabel } from '../EconomicEventManager/styles';\nimport Input, { CustomAlert } from '../../elements/Input';\nimport { Actions, AlertWrapper, Container, CounterChars, Header } from 'ui/modules/Modal';\nimport * as Types from 'graphql/types.generated';\nimport {\n  Hero,\n  FlexBetweenContainer,\n  CollectionContainerForm,\n  HeroInfo,\n  Description\n} from '../CreateCollectionPanel/style';\nimport { CustomSelect as Select } from 'ui/elements/CustomSelect';\n\nexport type CreateIntentFormValues = {\n  name: string;\n  note?: string;\n  communityId: string;\n  atLocation?: string;\n  hasUnit: string;\n  hasNumericalValue: number;\n};\n\nexport type TCreateIntentPanel = {\n  communities?: Array<SelectOption>;\n  cancel: () => void;\n  formik: FormikHook<CreateIntentFormValues>;\n  unitPages?: ({ __typename: 'Unit' } & Pick<Types.Unit, 'symbol' | 'label' | 'id'>)[] | null;\n  spatialThings?: Types.Maybe<\n    Types.Maybe<\n      { __typename: 'SpatialThing' } & Pick<Types.SpatialThing, 'name' | 'id' | 'lat' | 'long'>\n    >[]\n  > | null;\n};\n\nexport type SelectOption = {\n  label: string;\n  id: string;\n};\n\nexport const CreateIntentPanel: FC<TCreateIntentPanel> = ({\n  formik,\n  cancel,\n  communities,\n  unitPages,\n  spatialThings\n}) => {\n  const [unitLst, setUnitLst] = React.useState<any>([]);\n\n  React.useEffect(() => {\n    if (unitPages?.length) {\n      const unit = unitPages.map((el: any) => ({\n        id: el.id,\n        label: `${el.label} / ${el.symbol}`\n      }));\n\n      setUnitLst(unit);\n    }\n  }, [unitPages]);\n\n  return (\n    <Container>\n      <form onSubmit={formik.handleSubmit}>\n        <Header>\n          <Heading m={2}>\n            <Trans>Create an intent</Trans>\n          </Heading>\n        </Header>\n\n        <Hero>\n          <HeroInfo>\n            <CollectionContainerForm>\n              <FormGroup>\n                <FormLabel>{i18nMark('Resource')}</FormLabel>\n                <Input\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                  disabled={formik.isSubmitting}\n                  onChange={formik.handleChange}\n                  hint={{ class: 'error', value: '' }}\n                  placeholder={i18nMark('Name of your resource')}\n                  value={formik.values.name}\n                />\n              </FormGroup>\n              <CounterChars>{60 - formik.values.name.length}</CounterChars>\n              {formik.errors.name && (\n                <AlertWrapper>\n                  <CustomAlert variant=\"negative\">{formik.errors.name}</CustomAlert>\n                </AlertWrapper>\n              )}\n            </CollectionContainerForm>\n            <CollectionContainerForm>\n              <FormLabel>{i18nMark('community name')}</FormLabel>\n              <Select\n                onSelect={(name, option) => {\n                  formik.setValues({ ...formik.values, [name]: option.id });\n                }}\n                value={{ id: formik.values.communityId, label: '' }}\n                variant=\"primary\"\n                id=\"communityId\"\n                name=\"communityId\"\n                options={communities as any}\n              />\n              {formik.errors.communityId && (\n                <AlertWrapper>\n                  <CustomAlert variant=\"negative\">{formik.errors.communityId}</CustomAlert>\n                </AlertWrapper>\n              )}\n            </CollectionContainerForm>\n\n            <FlexBetweenContainer>\n              <FormGroup>\n                <FormLabel>{i18nMark('unit')}</FormLabel>\n                <Select\n                  onSelect={(name, option) => {\n                    formik.setValues({ ...formik.values, [name]: option.id });\n                  }}\n                  options={unitLst}\n                  placeholder={i18nMark('unit')}\n                  value={{ id: formik.values.hasUnit, label: '' }}\n                  variant=\"primary\"\n                  id=\"hasUnit\"\n                  name=\"hasUnit\"\n                />\n                {formik.errors.hasUnit && (\n                  <AlertWrapper>\n                    <CustomAlert variant=\"negative\">{formik.errors.hasUnit}</CustomAlert>\n                  </AlertWrapper>\n                )}\n              </FormGroup>\n              <FormGroup>\n                <FormLabel>{i18nMark('Numerical Value')}</FormLabel>\n                <Input\n                  type=\"number\"\n                  id=\"hasNumericalValue\"\n                  name=\"hasNumericalValue\"\n                  onChange={formik.handleChange}\n                  hint={{ class: 'error', value: '' }}\n                  placeholder={i18nMark('Numerical Value')}\n                  value={formik.values.hasNumericalValue.toString()}\n                />\n                {formik.errors.hasNumericalValue && (\n                  <AlertWrapper>\n                    <CustomAlert variant=\"negative\">{formik.errors.hasNumericalValue}</CustomAlert>\n                  </AlertWrapper>\n                )}\n              </FormGroup>\n            </FlexBetweenContainer>\n\n            <CollectionContainerForm>\n              <FormLabel>{i18nMark('location')}</FormLabel>\n              <Select\n                onSelect={(name, option) => {\n                  formik.setValues({ ...formik.values, [name]: option.id });\n                }}\n                options={spatialThings?.map((el: any) => ({\n                  id: el.id,\n                  value: el.id,\n                  label: el.name\n                }))}\n                placeholder={i18nMark('CustomSelect location')}\n                value={{ id: formik.values.atLocation || '', label: '' }}\n                variant=\"primary\"\n                id=\"atLocation\"\n                name=\"atLocation\"\n              />\n            </CollectionContainerForm>\n            <CollectionContainerForm>\n              <Description mt={2}>\n                <FormGroup>\n                  <FormLabel>{i18nMark('description')}</FormLabel>\n                  <Input\n                    type=\"textarea\"\n                    id=\"note\"\n                    name=\"note\"\n                    onChange={formik.handleChange}\n                    disabled={formik.isSubmitting}\n                    hint={{ class: 'error', value: '' }}\n                    placeholder={i18nMark('A description of your intent')}\n                    value={formik.values.note}\n                  />\n                </FormGroup>\n                <CounterChars>\n                  {formik.values.note ? 500 - formik.values.note.length : 500}\n                </CounterChars>\n                {formik.errors.note && (\n                  <AlertWrapper>\n                    <CustomAlert variant=\"negative\">{formik.errors.note}</CustomAlert>\n                  </AlertWrapper>\n                )}\n              </Description>\n            </CollectionContainerForm>\n          </HeroInfo>\n        </Hero>\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n          >\n            <Trans>Save</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={cancel}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n      <ToastContainer />\n    </Container>\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type SpatialThingsPagesQueryVariables = {};\n\n\nexport type SpatialThingsPagesQuery = (\n  { __typename: 'RootQueryType' }\n  & { spatialThingsPages: (\n    { __typename: 'SpatialThingsPage' }\n    & { edges: Types.Maybe<Array<Types.Maybe<(\n      { __typename: 'SpatialThing' }\n      & Pick<Types.SpatialThing, 'id' | 'name' | 'lat' | 'long'>\n    )>>> }\n  ) }\n);\n\nexport type EconomicEventsFilteredQueryVariables = {\n  action: Types.Scalars['ID']\n};\n\n\nexport type EconomicEventsFilteredQuery = (\n  { __typename: 'RootQueryType' }\n  & { economicEventsFiltered: Types.Maybe<Array<(\n    { __typename: 'EconomicEvent' }\n    & Pick<Types.EconomicEvent, 'id'>\n    & { provider: (\n      { __typename: 'Organization' }\n      & Pick<Types.Organization, 'id' | 'name' | 'displayUsername'>\n    ) | (\n      { __typename: 'Person' }\n      & Pick<Types.Person, 'id' | 'name' | 'displayUsername'>\n    ), receiver: (\n      { __typename: 'Organization' }\n      & Pick<Types.Organization, 'id' | 'name' | 'displayUsername'>\n    ) | (\n      { __typename: 'Person' }\n      & Pick<Types.Person, 'id' | 'name' | 'displayUsername'>\n    ) }\n  )>> }\n);\n\nexport type UnitsPagesQueryVariables = {};\n\n\nexport type UnitsPagesQuery = (\n  { __typename: 'RootQueryType' }\n  & { unitsPages: (\n    { __typename: 'UnitsPage' }\n    & { edges: Types.Maybe<Array<(\n      { __typename: 'Unit' }\n      & Pick<Types.Unit, 'id' | 'symbol' | 'label'>\n    )>> }\n  ) }\n);\n\nexport type UsersQueryVariables = {};\n\n\nexport type UsersQuery = (\n  { __typename: 'RootQueryType' }\n  & { users: (\n    { __typename: 'UsersPage' }\n    & { edges: Array<(\n      { __typename: 'User' }\n      & Pick<Types.User, 'id' | 'name'>\n    )> }\n  ) }\n);\n\n\nexport const SpatialThingsPagesDocument = gql`\n    query spatialThingsPages {\n  spatialThingsPages(limit: 15) {\n    edges {\n      id\n      name\n      lat\n      long\n    }\n  }\n}\n    `;\n\n/**\n * __useSpatialThingsPagesQuery__\n *\n * To run a query within a React component, call `useSpatialThingsPagesQuery` and pass it any options that fit your needs.\n * When your component renders, `useSpatialThingsPagesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useSpatialThingsPagesQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useSpatialThingsPagesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<SpatialThingsPagesQuery, SpatialThingsPagesQueryVariables>) {\n        return ApolloReactHooks.useQuery<SpatialThingsPagesQuery, SpatialThingsPagesQueryVariables>(SpatialThingsPagesDocument, baseOptions);\n      }\nexport function useSpatialThingsPagesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<SpatialThingsPagesQuery, SpatialThingsPagesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<SpatialThingsPagesQuery, SpatialThingsPagesQueryVariables>(SpatialThingsPagesDocument, baseOptions);\n        }\nexport type SpatialThingsPagesQueryHookResult = ReturnType<typeof useSpatialThingsPagesQuery>;\nexport type SpatialThingsPagesLazyQueryHookResult = ReturnType<typeof useSpatialThingsPagesLazyQuery>;\nexport type SpatialThingsPagesQueryResult = ApolloReactCommon.QueryResult<SpatialThingsPagesQuery, SpatialThingsPagesQueryVariables>;\nexport const EconomicEventsFilteredDocument = gql`\n    query economicEventsFiltered($action: ID!) {\n  economicEventsFiltered(action: $action) {\n    id\n    provider {\n      id\n      name\n      displayUsername\n    }\n    receiver {\n      id\n      name\n      displayUsername\n    }\n  }\n}\n    `;\n\n/**\n * __useEconomicEventsFilteredQuery__\n *\n * To run a query within a React component, call `useEconomicEventsFilteredQuery` and pass it any options that fit your needs.\n * When your component renders, `useEconomicEventsFilteredQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useEconomicEventsFilteredQuery({\n *   variables: {\n *      action: // value for 'action'\n *   },\n * });\n */\nexport function useEconomicEventsFilteredQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<EconomicEventsFilteredQuery, EconomicEventsFilteredQueryVariables>) {\n        return ApolloReactHooks.useQuery<EconomicEventsFilteredQuery, EconomicEventsFilteredQueryVariables>(EconomicEventsFilteredDocument, baseOptions);\n      }\nexport function useEconomicEventsFilteredLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<EconomicEventsFilteredQuery, EconomicEventsFilteredQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<EconomicEventsFilteredQuery, EconomicEventsFilteredQueryVariables>(EconomicEventsFilteredDocument, baseOptions);\n        }\nexport type EconomicEventsFilteredQueryHookResult = ReturnType<typeof useEconomicEventsFilteredQuery>;\nexport type EconomicEventsFilteredLazyQueryHookResult = ReturnType<typeof useEconomicEventsFilteredLazyQuery>;\nexport type EconomicEventsFilteredQueryResult = ApolloReactCommon.QueryResult<EconomicEventsFilteredQuery, EconomicEventsFilteredQueryVariables>;\nexport const UnitsPagesDocument = gql`\n    query unitsPages {\n  unitsPages(limit: 30) {\n    edges {\n      id\n      symbol\n      label\n    }\n  }\n}\n    `;\n\n/**\n * __useUnitsPagesQuery__\n *\n * To run a query within a React component, call `useUnitsPagesQuery` and pass it any options that fit your needs.\n * When your component renders, `useUnitsPagesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUnitsPagesQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useUnitsPagesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UnitsPagesQuery, UnitsPagesQueryVariables>) {\n        return ApolloReactHooks.useQuery<UnitsPagesQuery, UnitsPagesQueryVariables>(UnitsPagesDocument, baseOptions);\n      }\nexport function useUnitsPagesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UnitsPagesQuery, UnitsPagesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UnitsPagesQuery, UnitsPagesQueryVariables>(UnitsPagesDocument, baseOptions);\n        }\nexport type UnitsPagesQueryHookResult = ReturnType<typeof useUnitsPagesQuery>;\nexport type UnitsPagesLazyQueryHookResult = ReturnType<typeof useUnitsPagesLazyQuery>;\nexport type UnitsPagesQueryResult = ApolloReactCommon.QueryResult<UnitsPagesQuery, UnitsPagesQueryVariables>;\nexport const UsersDocument = gql`\n    query users {\n  users {\n    edges {\n      id\n      name\n    }\n  }\n}\n    `;\n\n/**\n * __useUsersQuery__\n *\n * To run a query within a React component, call `useUsersQuery` and pass it any options that fit your needs.\n * When your component renders, `useUsersQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUsersQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useUsersQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UsersQuery, UsersQueryVariables>) {\n        return ApolloReactHooks.useQuery<UsersQuery, UsersQueryVariables>(UsersDocument, baseOptions);\n      }\nexport function useUsersLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UsersQuery, UsersQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UsersQuery, UsersQueryVariables>(UsersDocument, baseOptions);\n        }\nexport type UsersQueryHookResult = ReturnType<typeof useUsersQuery>;\nexport type UsersLazyQueryHookResult = ReturnType<typeof useUsersLazyQuery>;\nexport type UsersQueryResult = ApolloReactCommon.QueryResult<UsersQuery, UsersQueryVariables>;\n\n\nexport interface SpatialThingsPagesQueryOperation {\n  operationName: 'spatialThingsPages'\n  result: SpatialThingsPagesQuery\n  variables: SpatialThingsPagesQueryVariables\n  type: 'query'\n}\nexport const SpatialThingsPagesQueryName:SpatialThingsPagesQueryOperation['operationName'] = 'spatialThingsPages'\n\nexport const SpatialThingsPagesQueryRefetch = (\n  variables:SpatialThingsPagesQueryVariables, \n  context?:any\n)=>({\n  query:SpatialThingsPagesDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface EconomicEventsFilteredQueryOperation {\n  operationName: 'economicEventsFiltered'\n  result: EconomicEventsFilteredQuery\n  variables: EconomicEventsFilteredQueryVariables\n  type: 'query'\n}\nexport const EconomicEventsFilteredQueryName:EconomicEventsFilteredQueryOperation['operationName'] = 'economicEventsFiltered'\n\nexport const EconomicEventsFilteredQueryRefetch = (\n  variables:EconomicEventsFilteredQueryVariables, \n  context?:any\n)=>({\n  query:EconomicEventsFilteredDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface UnitsPagesQueryOperation {\n  operationName: 'unitsPages'\n  result: UnitsPagesQuery\n  variables: UnitsPagesQueryVariables\n  type: 'query'\n}\nexport const UnitsPagesQueryName:UnitsPagesQueryOperation['operationName'] = 'unitsPages'\n\nexport const UnitsPagesQueryRefetch = (\n  variables:UnitsPagesQueryVariables, \n  context?:any\n)=>({\n  query:UnitsPagesDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface UsersQueryOperation {\n  operationName: 'users'\n  result: UsersQuery\n  variables: UsersQueryVariables\n  type: 'query'\n}\nexport const UsersQueryName:UsersQueryOperation['operationName'] = 'users'\n\nexport const UsersQueryRefetch = (\n  variables:UsersQueryVariables, \n  context?:any\n)=>({\n  query:UsersDocument,\n  variables,\n  context\n})\n      \n","import { MyFollowedCommunityDataFragment } from 'fe/community/myFollowed/myFollowedCommunities.generated';\nimport { useCreateIntent } from 'fe/intent/create/useCreateIntent';\nimport { useFormik } from 'formik';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useMyFollowedCommunities } from 'fe/community/myFollowed/myFollowedCommunities';\nimport { Slide, toast } from 'react-toastify';\nimport {\n  CreateIntentPanel,\n  CreateIntentFormValues,\n  SelectOption,\n  TCreateIntentPanel\n} from 'ui/modules/CreateIntentPanel';\nimport { useHistory } from 'react-router';\nimport { useUnitsPagesQuery } from '../EconomicEventManager/EconomicEventManager.generated';\nimport { useSpatialThingsPagesQuery } from '../EconomicEventManager/EconomicEventManager.generated';\n\nimport * as Yup from 'yup';\nexport type TCreateIntentPanelHOC = {\n  done: () => void;\n  communityId?: string;\n};\n\nexport interface CreateOfferFormValues {\n  name: string;\n  communityId: string;\n  note: string;\n  atLocation?: string;\n  hasUnit: string;\n  hasNumericalValue: number;\n}\n\nexport const CreateIntentPanelHOC: React.FC<TCreateIntentPanelHOC> = ({ done, communityId }) => {\n  const history = useHistory();\n  const { create } = useCreateIntent();\n  const { myCommunityFollowsPage } = useMyFollowedCommunities();\n  const communities = useMemo<SelectOption[]>(() => {\n    return myCommunityFollowsPage.edges\n      .map((follow: any) => follow.context)\n      .filter(\n        (context: any): context is MyFollowedCommunityDataFragment =>\n          context.__typename === 'Community'\n      )\n      .map<{ id: string; label: string }>(community => {\n        return {\n          id: community.id,\n          label: community.name\n        };\n      });\n  }, [myCommunityFollowsPage]);\n\n  const unitPagesQ = useUnitsPagesQuery();\n  const unitPages = unitPagesQ.data?.unitsPages;\n\n  const spatialThingsQ = useSpatialThingsPagesQuery();\n  const spatialThings = spatialThingsQ.data?.spatialThingsPages;\n\n  const SignupSchema = Yup.object().shape({\n    name: Yup.string()\n      .max(60, 'Too Long!')\n      .required('Required'),\n    note: Yup.string().max(500, 'Too Long!'),\n    communityId: Yup.string().required('Required'),\n    hasUnit: Yup.string().required('Required'),\n    hasNumericalValue: Yup.string()\n      .required('Required')\n      .notOneOf([0, '0', null, undefined], 'Not null')\n  });\n\n  const formik = useFormik<CreateIntentFormValues>({\n    initialValues: {\n      name: '',\n      communityId: communityId || '',\n      note: '',\n      atLocation: '',\n      hasUnit: '',\n      hasNumericalValue: 0\n    },\n    validateOnChange: false,\n    validateOnBlur: false,\n    validationSchema: SignupSchema,\n    enableReinitialize: true,\n    onSubmit: (values: any) => {\n      return create({\n        name: values.name,\n        communityId: values.communityId,\n        note: values.note,\n        atLocation: values.atLocation,\n        hasUnit: values.hasUnit,\n        hasNumericalValue: values.hasNumericalValue\n      })\n        .then((response: any) => {\n          const redirect = `/communities/${values.communityId}`;\n\n          !response.errors && history.replace(redirect);\n          !response.errors && done();\n          !response.errors &&\n            toast.success('Intent was created', {\n              position: 'top-right',\n              transition: Slide,\n              autoClose: 3000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true\n            });\n        })\n        .catch((error: any) => console.log(error));\n    }\n  });\n\n  const createIntentPanelProps: TCreateIntentPanel = {\n    communities: communities,\n    formik: formik,\n    unitPages: unitPages?.edges,\n    spatialThings: spatialThings?.edges || null,\n    cancel: done\n  };\n\n  return <CreateIntentPanel {...createIntentPanelProps} />;\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type CreateSpatialThingMutationVariables = {\n  lat?: Types.Maybe<Types.Scalars['Float']>,\n  long?: Types.Maybe<Types.Scalars['Float']>,\n  name: Types.Scalars['String'],\n  note?: Types.Maybe<Types.Scalars['String']>\n};\n\n\nexport type CreateSpatialThingMutation = (\n  { __typename: 'RootMutationType' }\n  & { createSpatialThing: Types.Maybe<(\n    { __typename: 'SpatialThingResponse' }\n    & { spatialThing: Types.Maybe<(\n      { __typename: 'SpatialThing' }\n      & Pick<Types.SpatialThing, 'id' | 'lat' | 'long' | 'name' | 'note'>\n    )> }\n  )> }\n);\n\n\nexport const CreateSpatialThingDocument = gql`\n    mutation createSpatialThing($lat: Float, $long: Float, $name: String!, $note: String) {\n  createSpatialThing(spatialThing: {lat: $lat, long: $long, name: $name, note: $note}) {\n    spatialThing {\n      id\n      lat\n      long\n      name\n      note\n    }\n  }\n}\n    `;\nexport type CreateSpatialThingMutationFn = ApolloReactCommon.MutationFunction<CreateSpatialThingMutation, CreateSpatialThingMutationVariables>;\n\n/**\n * __useCreateSpatialThingMutation__\n *\n * To run a mutation, you first call `useCreateSpatialThingMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateSpatialThingMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createSpatialThingMutation, { data, loading, error }] = useCreateSpatialThingMutation({\n *   variables: {\n *      lat: // value for 'lat'\n *      long: // value for 'long'\n *      name: // value for 'name'\n *      note: // value for 'note'\n *   },\n * });\n */\nexport function useCreateSpatialThingMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateSpatialThingMutation, CreateSpatialThingMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateSpatialThingMutation, CreateSpatialThingMutationVariables>(CreateSpatialThingDocument, baseOptions);\n      }\nexport type CreateSpatialThingMutationHookResult = ReturnType<typeof useCreateSpatialThingMutation>;\nexport type CreateSpatialThingMutationResult = ApolloReactCommon.MutationResult<CreateSpatialThingMutation>;\nexport type CreateSpatialThingMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateSpatialThingMutation, CreateSpatialThingMutationVariables>;\n\n\nexport interface CreateSpatialThingMutationOperation {\n  operationName: 'createSpatialThing'\n  result: CreateSpatialThingMutation\n  variables: CreateSpatialThingMutationVariables\n  type: 'mutation'\n}\nexport const CreateSpatialThingMutationName:CreateSpatialThingMutationOperation['operationName'] = 'createSpatialThing'\n\nexport const CreateSpatialThingMutationRefetch = (\n  variables:CreateSpatialThingMutationVariables, \n  context?:any\n)=>({\n  query:CreateSpatialThingDocument,\n  variables,\n  context\n})\n      \n","import { useMemo } from 'react';\nimport { SpatialThingsPagesQueryRefetch } from '../../../HOC/modules/EconomicEventManager/EconomicEventManager.generated';\nimport { useCreateSpatialThingMutation } from './useAddLocation.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\n\nexport interface AddLocation {\n  name: string;\n  lat?: number;\n  long?: number;\n  note?: string;\n}\nexport const useAddLocation = () => {\n  const [createSpatialThing, createSpatialThingStatus] = useCreateSpatialThingMutation();\n\n  const createLocation: any = useCallOrNotifyMustLogin(\n    async ({ name, lat, long, note }: AddLocation) => {\n      if (createSpatialThingStatus.loading) {\n        return;\n      }\n\n      return createSpatialThing({\n        variables: {\n          lat,\n          long,\n          name,\n          note\n        },\n        refetchQueries: [SpatialThingsPagesQueryRefetch({})]\n      });\n    },\n    [createSpatialThing, createSpatialThingStatus]\n  );\n  return useMemo(() => {\n    return {\n      createLocation\n    };\n  }, [createLocation]);\n};\n","import { Dispatch, FC } from 'react';\nimport * as React from 'react';\nimport GooglePlacesAutocomplete, { geocodeByAddress } from 'react-google-places-autocomplete';\nimport styled from '../../themes/styled';\n\ntype LocationPikerProps = {\n  formik: any;\n  onSelect: Dispatch<any>;\n};\n\ninterface LatLng {\n  lat: number;\n  lng: number;\n}\n\ninterface AutocompletionRequest {\n  bounds?: [LatLng, LatLng];\n  componentRestrictions?: { country: string | string[] };\n  location?: LatLng;\n  offset?: number;\n  radius?: number;\n  types?: string[];\n}\n\nexport const LocationPiker: FC<LocationPikerProps> = ({ formik, onSelect }) => {\n  const autocompleteSelect = (address: any) => {\n    geocodeByAddress(address.label).then((results: any) => {\n      if (!results[0]) return;\n      onSelect(true);\n      formik.handleChange({ target: { name: 'name', value: results[0].formatted_address } });\n      formik.handleChange({ target: { name: 'lat', value: results[0].geometry.location.lat() } });\n      formik.handleChange({ target: { name: 'long', value: results[0].geometry.location.lng() } });\n    });\n  };\n\n  return (\n    <WrapperSelect>\n      <GooglePlacesAutocomplete\n        selectProps={{\n          placeholder: 'Please add your city and country location',\n          onChange: autocompleteSelect,\n          classNamePrefix: 'zenpub'\n        }}\n        onLoadFailed={error => console.error('Could not inject Google script', error)}\n        apiKey=\"AIzaSyBlbsdiikbCINjPLwD7NNwtsA8-vTcrr0g\"\n      />\n    </WrapperSelect>\n  );\n};\n\nconst WrapperSelect = styled('div')`\n  margin-bottom: 10px;\n  position: relative;\n  z-index: 100;\n  small {\n    display: block;\n    padding-top: 6px;\n    font-size: 10px;\n    color: #aaa;\n  }\n [class*=\"css-2b097c-container\"] > div > div,\n [class*=\"css-2b097c-container\"] > div {\n    display: flex;\n    height: 36px;\n    margin: 0;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #666666;\n    letter-spacing: 1px;\n    text-transform: uppercase;\n  }\n \n  .css-2b097c-container > div {\n    border-color: #05244f !important;\n    box-shadow: none;\n\n    small {\n      display: none;\n    }\n  }\n  \n  .zenpub__menu > div {\n    display: block !important;\n    background: #fff;\n    min-height: 120px;\n    min-width: 100%;\n    padding: 20px;\n    z-index: 200;\n    box-shadow: 0px 2px 4px 0px #0000001f;\n  }\n  .zenpub__menuList > * ,\n  .zenpub__menuList > * > * {\n     display: block;\n  }\n  .zenpub__input {\n    width: 100%;\n    height: 36px;\n    margin: 0;\n  }\n  .select__control {\n    border: 1px solid #05244f;\n    border-radius: 4px;\n    height: 40px;\n  }\n  cursor: 'pointer';\n  }\n`;\n","import React, { FC } from 'react';\nimport { Map as LeafletMap, Marker, Popup, TileLayer } from 'react-leaflet';\nimport './leaflet.css';\nimport styled from 'styled-components';\nimport { theme } from 'ui/themes/default.theme';\nimport { divIcon, LatLngBounds, LatLngLiteral } from 'leaflet';\nimport { MapPin } from 'react-feather';\nimport ReactDOMServer from 'react-dom/server';\nimport media from 'styled-media-query';\n\nexport interface MarkerProps {\n  position: LatLngLiteral;\n  popup?: React.ReactNode;\n}\n\nexport interface MapProps {\n  tileUrl?: string;\n  tileAttribution?: string;\n  center?: LatLngLiteral;\n  markers?: Array<MarkerProps>;\n  zoom?: number;\n}\n\nconst defaultAttribution =\n  '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors';\nconst defaultTileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\nconst mapPin = ReactDOMServer.renderToString(\n  <MapPin size=\"30\" color={theme.colors.primary} fill={theme.colors.secondary} />\n);\nconst markerIcon = divIcon({ className: 'maker--pin', html: mapPin, iconSize: [30, 30] });\n\nconst getCenter = (markers: Array<MarkerProps>, center?: MapProps['center']) => {\n  if (center) {\n    return center;\n  } else if (markers.length === 1) {\n    return markers[0].position;\n  } else if (markers.length > 1) {\n    const bounds = new LatLngBounds(markers.map(({ position }) => [position.lat, position.lng]));\n    return bounds.getCenter();\n  }\n};\n\nexport const Map: FC<MapProps> = ({\n  center,\n  zoom = 20,\n  markers = [],\n  tileAttribution = defaultAttribution\n}) => {\n  const mapCenter = getCenter(markers, center);\n\n  return (\n    <Wrapper>\n      {mapCenter && (\n        <LeafletMap center={mapCenter} zoom={zoom} style={{ height: '100%', width: '100%' }}>\n          <TileLayer url={defaultTileUrl} attribution={tileAttribution} />\n          {markers.map(({ position, popup }, i) => (\n            <Marker icon={markerIcon} key={i} position={position}>\n              {popup && <Popup>{popup}</Popup>}\n            </Marker>\n          ))}\n        </LeafletMap>\n      )}\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 400px;\n  position: relative;\n  z-index: 0;\n\n  ${media.lessThan('medium')`\n    height: 200px;\n  `};\n`;\n\nexport default Map;\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { FC, useState } from 'react';\nimport * as React from 'react';\nimport { CustomAlert, Heading } from 'rebass/styled-components';\nimport { CollectionContainerForm } from '../../modules/CreateCollectionPanel/style';\nimport { FormGroup, FormLabel } from '../../modules/EconomicEventManager/styles';\nimport styled from '../../themes/styled';\nimport Button from '../Button';\nimport { LocationPiker } from '../LocationPiker';\nimport Input from '../Input';\nimport { Map } from '../Map';\nimport { Container, CounterChars, Header } from 'ui/modules/Modal';\nimport { Hero, HeroInfo } from 'ui/modules/CreateCollectionPanel/style';\nimport media from 'styled-media-query';\n\nexport type LocationPanelProps = {\n  formik: any;\n};\n\nexport const LocationPanel: FC<LocationPanelProps> = ({ formik }) => {\n  const [showLocationPanel, setShowLocationData] = useState(false);\n\n  return (\n    <Container>\n      <form\n        onSubmit={e => {\n          e.preventDefault();\n          formik.handleSubmit();\n        }}\n      >\n        <Header>\n          <Heading m={2}>\n            <Trans>{i18nMark('Create Location')}</Trans>\n          </Heading>\n        </Header>\n\n        <Hero>\n          <HeroInfo>\n            <WrapperSelect>\n              <CollectionContainerForm>\n                <LocationPiker formik={formik} onSelect={setShowLocationData} />\n              </CollectionContainerForm>\n              {showLocationPanel && (\n                <div className=\"d-flex\">\n                  <div className=\"item_col-6\">\n                    <Map\n                      center={{ lat: formik.values.lat, lng: formik.values.long }}\n                      zoom={12}\n                    ></Map>\n                  </div>\n                  <div className=\"item_col-6\">\n                    <FormGroup>\n                      <FormLabel>{i18nMark('Name')}</FormLabel>\n                      <Input\n                        type=\"text\"\n                        id=\"name\"\n                        name=\"name\"\n                        disabled={formik.isSubmitting}\n                        onChange={formik.handleChange}\n                        placeholder={i18nMark('Location name')}\n                        value={formik.values.name}\n                      />\n                      <CounterChars>{60 - formik.values.name.length}</CounterChars>\n                    </FormGroup>\n                    {formik.errors.name && (\n                      <CustomAlert variant=\"negative\">{formik.errors.name}</CustomAlert>\n                    )}\n                    <div className=\"coordinate-container\">\n                      <div className=\"coordinate\">\n                        <FormGroup>\n                          <FormLabel>{i18nMark('Lat')}</FormLabel>\n                          <Input\n                            type=\"text\"\n                            id=\"lat\"\n                            name=\"lat\"\n                            readOnly={true}\n                            disabled={formik.isSubmitting}\n                            onChange={formik.handleChange}\n                            placeholder={i18nMark('Name')}\n                            value={formik.values.lat}\n                          />\n                        </FormGroup>\n                      </div>\n\n                      <div className=\"coordinate\">\n                        <FormGroup>\n                          <FormLabel>{i18nMark('Long')}</FormLabel>\n                          <Input\n                            type=\"text\"\n                            id=\"long\"\n                            name=\"long\"\n                            readOnly={true}\n                            disabled={formik.isSubmitting}\n                            onChange={formik.handleChange}\n                            value={formik.values.long}\n                          />\n                        </FormGroup>\n                      </div>\n                    </div>\n\n                    <FormGroup>\n                      <FormLabel>note</FormLabel>\n                      <Input\n                        id=\"note\"\n                        type=\"textarea\"\n                        name=\"note\"\n                        onChange={formik.handleChange}\n                        placeholder={i18nMark('Note')}\n                        value={formik.values.note}\n                      />\n                    </FormGroup>\n                    {formik.errors.note && (\n                      <CustomAlert variant=\"negative\">{formik.errors.note}</CustomAlert>\n                    )}\n\n                    <Button\n                      variant=\"primary\"\n                      type=\"submit\"\n                      onClick={formik.handleSubmit}\n                      style={{ width: '100%' }}\n                    >\n                      <Trans>Create Location</Trans>\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </WrapperSelect>\n          </HeroInfo>\n        </Hero>\n      </form>\n    </Container>\n  );\n};\n\nconst WrapperSelect = styled('div')`\n  margin-bottom: 10px;\n  \n  .d-flex {\n    display: flex;\n    justify-content: space-between;\n    align-items: stretch;\n    ${media.lessThan('medium')`\n        display: block;\n      `};\n\n    .item_col-6 {\n      flex-basis: calc(50% - 5px);\n      ${media.lessThan('medium')`\n         flex-basis: unset;\n      `};\n    }\n    \n    .coordinate-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: stretch;\n    }\n    .coordinate {\n      flex-basis: calc(50% - 5px);\n    }\n  }\n  small {\n    display: block;\n    padding-top: 6px;\n    font-size: 10px;\n    color: #aaa;\n  }\n [class*=\"css-2b097c-container\"] > div > div,\n [class*=\"css-2b097c-container\"] > div {\n    display: flex;\n    height: 36px;\n    margin: 0;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #666666;\n    letter-spacing: 1px;\n    text-transform: uppercase;\n  }\n \n  .css-2b097c-container > div {\n    border-color: #05244f !important;\n    box-shadow: none;\n\n    small {\n      display: none;\n    }\n  }\n  \n  .zenpub__menu {\n    background: #fff;\n    max-height: 200px;\n    padding: 20;\n    box-shadow: 0px 2px 4px 0px #0000001f;\n  }\n  \n  .zenpub__input {\n    width: 100%;\n    height: 36px;\n    margin: 0;\n  }\n  .select__control {\n    border: 1px solid #05244f;\n    border-radius: 4px;\n    height: 40px;\n  }\n  cursor: 'pointer';\n  }\n`;\n","import { useFormik } from 'formik';\nimport React, { Dispatch, FC } from 'react';\nimport { Slide, toast } from 'react-toastify';\nimport { BasicCreateCollectionFormValues } from 'ui/modules/CreateCollectionPanel';\nimport * as Yup from 'yup';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\nimport { useAddLocation } from '../../../fe/location/add/useAddLocation';\n\nimport { LocationPanel, LocationPanelProps } from '../../../ui/elements/LocationPanel';\n\ntype CreateLocationValues = {\n  name: string;\n  lat: number;\n  long: number;\n  note: string;\n};\n\nexport const validationSchema: Yup.ObjectSchema<BasicCreateCollectionFormValues> = Yup.object<\n  BasicCreateCollectionFormValues\n>({\n  name: Yup.string()\n    .min(2)\n    .max(60)\n    .required(),\n  summary: Yup.string().max(500),\n  icon: Yup.mixed<string | File>().test(...TestUrlOrFile)\n});\n\nexport interface Props {\n  done: Dispatch<boolean>;\n}\n\nexport const CreateLocationPanelHOC: FC<Props> = ({ done }) => {\n  const { createLocation } = useAddLocation();\n\n  const SignupSchema = Yup.object().shape({\n    name: Yup.string()\n      .max(60, 'Too Long!')\n      .required('Required'),\n    note: Yup.string().max(500, 'Too Long!')\n  });\n\n  const formik = useFormik<any>({\n    initialValues: {\n      name: '',\n      lat: '',\n      long: '',\n      note: ''\n    },\n    validateOnChange: false,\n    validateOnBlur: false,\n    validationSchema: SignupSchema,\n    enableReinitialize: true,\n\n    onSubmit: (values: CreateLocationValues) => {\n      return createLocation({\n        name: values.name,\n        lat: values.lat,\n        long: values.long,\n        note: values.note\n      })\n        .then((response: any) => {\n          if (!response.errors) {\n            done(false);\n            toast.success('Location was created', {\n              position: 'top-right',\n              transition: Slide,\n              autoClose: 3000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true\n            });\n          }\n        })\n        .catch((error: any) => console.log(error));\n    }\n  });\n\n  const CreateResourcePanelProps: LocationPanelProps = {\n    formik\n  };\n\n  return <LocationPanel {...CreateResourcePanelProps} />;\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type CreateEconomicEventAndNewResourceMutationVariables = {\n  note?: Types.Maybe<Types.Scalars['String']>,\n  atLocation?: Types.Maybe<Types.Scalars['ID']>,\n  action: Types.Scalars['ID'],\n  provider: Types.Scalars['ID'],\n  receiver: Types.Scalars['ID'],\n  hasUnit: Types.Scalars['ID'],\n  hasNumericalValue: Types.Scalars['Float'],\n  name?: Types.Maybe<Types.Scalars['String']>,\n  image?: Types.Maybe<Types.Scalars['URI']>,\n  eventNote?: Types.Maybe<Types.Scalars['String']>,\n  hasPointInTime?: Types.Maybe<Types.Scalars['DateTime']>\n};\n\n\nexport type CreateEconomicEventAndNewResourceMutation = (\n  { __typename: 'RootMutationType' }\n  & { createEconomicEvent: Types.Maybe<(\n    { __typename: 'EconomicEventResponse' }\n    & { economicEvent: (\n      { __typename: 'EconomicEvent' }\n      & Pick<Types.EconomicEvent, 'id' | 'hasPointInTime'>\n      & { track: Types.Maybe<Array<{ __typename: 'EconomicResource' } | { __typename: 'Process' }>> }\n    ), economicResource: Types.Maybe<(\n      { __typename: 'EconomicResource' }\n      & Pick<Types.EconomicResource, 'id'>\n    )> }\n  )> }\n);\n\nexport type CreateEconomicEventAndExistResourceMutationVariables = {\n  id: Types.Scalars['ID'],\n  action: Types.Scalars['ID'],\n  provider: Types.Scalars['ID'],\n  receiver: Types.Scalars['ID'],\n  hasUnit: Types.Scalars['ID'],\n  hasNumericalValue: Types.Scalars['Float'],\n  eventNote?: Types.Maybe<Types.Scalars['String']>,\n  hasPointInTime?: Types.Maybe<Types.Scalars['DateTime']>\n};\n\n\nexport type CreateEconomicEventAndExistResourceMutation = (\n  { __typename: 'RootMutationType' }\n  & { createEconomicEvent: Types.Maybe<(\n    { __typename: 'EconomicEventResponse' }\n    & { economicEvent: (\n      { __typename: 'EconomicEvent' }\n      & Pick<Types.EconomicEvent, 'id' | 'hasPointInTime'>\n    ), economicResource: Types.Maybe<(\n      { __typename: 'EconomicResource' }\n      & Pick<Types.EconomicResource, 'id'>\n    )> }\n  )> }\n);\n\n\nexport const CreateEconomicEventAndNewResourceDocument = gql`\n    mutation createEconomicEventAndNewResource($note: String, $atLocation: ID, $action: ID!, $provider: ID!, $receiver: ID!, $hasUnit: ID!, $hasNumericalValue: Float!, $name: String, $image: URI, $eventNote: String, $hasPointInTime: DateTime) {\n  createEconomicEvent(event: {action: $action, atLocation: $atLocation, provider: $provider, receiver: $receiver, note: $eventNote, hasPointInTime: $hasPointInTime, resourceQuantity: {hasUnit: $hasUnit, hasNumericalValue: $hasNumericalValue}}, newInventoriedResource: {note: $note, name: $name, image: $image, currentLocation: $atLocation}) {\n    economicEvent {\n      id\n      hasPointInTime\n      track {\n        __typename\n      }\n    }\n    economicResource {\n      id\n    }\n  }\n}\n    `;\nexport type CreateEconomicEventAndNewResourceMutationFn = ApolloReactCommon.MutationFunction<CreateEconomicEventAndNewResourceMutation, CreateEconomicEventAndNewResourceMutationVariables>;\n\n/**\n * __useCreateEconomicEventAndNewResourceMutation__\n *\n * To run a mutation, you first call `useCreateEconomicEventAndNewResourceMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateEconomicEventAndNewResourceMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createEconomicEventAndNewResourceMutation, { data, loading, error }] = useCreateEconomicEventAndNewResourceMutation({\n *   variables: {\n *      note: // value for 'note'\n *      atLocation: // value for 'atLocation'\n *      action: // value for 'action'\n *      provider: // value for 'provider'\n *      receiver: // value for 'receiver'\n *      hasUnit: // value for 'hasUnit'\n *      hasNumericalValue: // value for 'hasNumericalValue'\n *      name: // value for 'name'\n *      image: // value for 'image'\n *      eventNote: // value for 'eventNote'\n *      hasPointInTime: // value for 'hasPointInTime'\n *   },\n * });\n */\nexport function useCreateEconomicEventAndNewResourceMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateEconomicEventAndNewResourceMutation, CreateEconomicEventAndNewResourceMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateEconomicEventAndNewResourceMutation, CreateEconomicEventAndNewResourceMutationVariables>(CreateEconomicEventAndNewResourceDocument, baseOptions);\n      }\nexport type CreateEconomicEventAndNewResourceMutationHookResult = ReturnType<typeof useCreateEconomicEventAndNewResourceMutation>;\nexport type CreateEconomicEventAndNewResourceMutationResult = ApolloReactCommon.MutationResult<CreateEconomicEventAndNewResourceMutation>;\nexport type CreateEconomicEventAndNewResourceMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateEconomicEventAndNewResourceMutation, CreateEconomicEventAndNewResourceMutationVariables>;\nexport const CreateEconomicEventAndExistResourceDocument = gql`\n    mutation createEconomicEventAndExistResource($id: ID!, $action: ID!, $provider: ID!, $receiver: ID!, $hasUnit: ID!, $hasNumericalValue: Float!, $eventNote: String, $hasPointInTime: DateTime) {\n  createEconomicEvent(event: {resourceInventoriedAs: $id, note: $eventNote, action: $action, provider: $provider, receiver: $receiver, resourceQuantity: {hasUnit: $hasUnit, hasNumericalValue: $hasNumericalValue}, hasPointInTime: $hasPointInTime}) {\n    economicEvent {\n      id\n      hasPointInTime\n    }\n    economicResource {\n      id\n    }\n  }\n}\n    `;\nexport type CreateEconomicEventAndExistResourceMutationFn = ApolloReactCommon.MutationFunction<CreateEconomicEventAndExistResourceMutation, CreateEconomicEventAndExistResourceMutationVariables>;\n\n/**\n * __useCreateEconomicEventAndExistResourceMutation__\n *\n * To run a mutation, you first call `useCreateEconomicEventAndExistResourceMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateEconomicEventAndExistResourceMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createEconomicEventAndExistResourceMutation, { data, loading, error }] = useCreateEconomicEventAndExistResourceMutation({\n *   variables: {\n *      id: // value for 'id'\n *      action: // value for 'action'\n *      provider: // value for 'provider'\n *      receiver: // value for 'receiver'\n *      hasUnit: // value for 'hasUnit'\n *      hasNumericalValue: // value for 'hasNumericalValue'\n *      eventNote: // value for 'eventNote'\n *      hasPointInTime: // value for 'hasPointInTime'\n *   },\n * });\n */\nexport function useCreateEconomicEventAndExistResourceMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateEconomicEventAndExistResourceMutation, CreateEconomicEventAndExistResourceMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateEconomicEventAndExistResourceMutation, CreateEconomicEventAndExistResourceMutationVariables>(CreateEconomicEventAndExistResourceDocument, baseOptions);\n      }\nexport type CreateEconomicEventAndExistResourceMutationHookResult = ReturnType<typeof useCreateEconomicEventAndExistResourceMutation>;\nexport type CreateEconomicEventAndExistResourceMutationResult = ApolloReactCommon.MutationResult<CreateEconomicEventAndExistResourceMutation>;\nexport type CreateEconomicEventAndExistResourceMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateEconomicEventAndExistResourceMutation, CreateEconomicEventAndExistResourceMutationVariables>;\n\n\nexport interface CreateEconomicEventAndNewResourceMutationOperation {\n  operationName: 'createEconomicEventAndNewResource'\n  result: CreateEconomicEventAndNewResourceMutation\n  variables: CreateEconomicEventAndNewResourceMutationVariables\n  type: 'mutation'\n}\nexport const CreateEconomicEventAndNewResourceMutationName:CreateEconomicEventAndNewResourceMutationOperation['operationName'] = 'createEconomicEventAndNewResource'\n\nexport const CreateEconomicEventAndNewResourceMutationRefetch = (\n  variables:CreateEconomicEventAndNewResourceMutationVariables, \n  context?:any\n)=>({\n  query:CreateEconomicEventAndNewResourceDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface CreateEconomicEventAndExistResourceMutationOperation {\n  operationName: 'createEconomicEventAndExistResource'\n  result: CreateEconomicEventAndExistResourceMutation\n  variables: CreateEconomicEventAndExistResourceMutationVariables\n  type: 'mutation'\n}\nexport const CreateEconomicEventAndExistResourceMutationName:CreateEconomicEventAndExistResourceMutationOperation['operationName'] = 'createEconomicEventAndExistResource'\n\nexport const CreateEconomicEventAndExistResourceMutationRefetch = (\n  variables:CreateEconomicEventAndExistResourceMutationVariables, \n  context?:any\n)=>({\n  query:CreateEconomicEventAndExistResourceDocument,\n  variables,\n  context\n})\n      \n","import { useMemo } from 'react';\nimport { useCallOrNotifyMustLogin } from '../../../HOC/lib/notifyMustLogin';\nimport { useCreateEconomicEventAndNewResourceMutation } from './useCreateResource.generated';\n\nexport interface CreateResource {\n  name: string;\n  note?: string;\n  eventNote?: string;\n  hasPointInTime?: string;\n  atLocation: string;\n  action: string;\n  provider: string;\n  receiver: string;\n  hasUnit: string;\n  hasNumericalValue: number;\n  image: string | File | undefined;\n}\n\nexport const useCreateResource = () => {\n  const [\n    createResourceMut,\n    createResourceMutStatus\n  ] = useCreateEconomicEventAndNewResourceMutation();\n\n  const create = useCallOrNotifyMustLogin(\n    async ({\n      name,\n      note,\n      eventNote,\n      hasPointInTime,\n      action,\n      atLocation,\n      provider,\n      receiver,\n      hasUnit,\n      hasNumericalValue,\n      image\n    }: CreateResource) => {\n      if (createResourceMutStatus.loading) {\n        return;\n      }\n\n      return createResourceMut({\n        variables: {\n          name,\n          note,\n          eventNote,\n          hasPointInTime,\n          atLocation,\n          action,\n          provider,\n          receiver,\n          hasUnit,\n          hasNumericalValue,\n          image\n        }\n      });\n    },\n    [createResourceMutStatus, createResourceMut]\n  );\n  return useMemo(() => {\n    return {\n      create\n    };\n  }, [create]);\n};\n","import { IntentActions } from '../../modules/EconomicEventManager';\n\nexport interface Props {\n  onSelect: (name: string, option: IntentActions) => void;\n  onInputChange?: (name: string, value: string) => void;\n  options?: IntentActions[];\n  disabled?: boolean;\n  placeholder?: string;\n  variant: string;\n  id: string | number;\n  name: string;\n  value: IntentActions;\n  components?: any;\n  noChange?: boolean;\n  openMenuOnClick?: boolean;\n}\n\n// You may pass variables as a string and get this string in option label\n// If you want to get a complex string consisting of several variables\n// pass the array of variables in the order they are used in the template and the template string\nexport const setSelectOption = (\n  arr: any[] | null | undefined,\n  variables: string | { variables: string[]; template: string }\n) => {\n  if (typeof variables === 'string') {\n    return arr?.length\n      ? arr.map((el: any) => ({\n          id: el.id,\n          label: el[variables],\n          displayUsername: el.displayUsername\n        }))\n      : [];\n  }\n  const getLabel = (element: any) => {\n    let label = `${variables.template}`;\n\n    variables.variables.forEach(variable => {\n      label = label.replace(variable, `${element[variable]}`);\n    });\n\n    return label;\n  };\n\n  return arr?.length\n    ? arr.map((el: any) => {\n        return {\n          id: el.id,\n          label: getLabel(el)\n        };\n      })\n    : [];\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport React, { FC } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { Box, Heading } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport { FormikHook } from 'ui/@types/types';\nimport { CustomSelect as Select } from 'ui/elements/CustomSelect';\nimport { useMe } from '../../../fe/session/useMe';\nimport * as Types from '../../../graphql/types.generated';\nimport { EconomicResource } from '../../../HOC/pages/inventory/InventoryPage';\nimport { setSelectOption } from '../../elements/CustomSelect/select';\nimport styled from '../../themes/styled';\nimport DropzoneArea from '../DropzoneModal';\nimport { IntentActions } from '../EconomicEventManager';\nimport { FormGroup, FormLabel } from '../EconomicEventManager/styles';\nimport Input, { CustomAlert } from '../../elements/Input';\nimport { Actions, Container, CounterChars, Header } from 'ui/modules/Modal';\nimport { Hero, CollectionContainerForm, HeroInfo } from '../CreateCollectionPanel/style';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nexport type CreateIntentFormValues = {\n  name: string;\n  note?: string;\n  eventNote?: string;\n  hasPointInTime: string;\n  atLocation: IntentActions;\n  action: IntentActions;\n  provider: IntentActions;\n  receiver: IntentActions;\n  hasUnit: IntentActions;\n  hasNumericalValue: number;\n  image: string | File | undefined;\n};\n\nexport type TCreateResourcePanel = {\n  title: string;\n  done: () => void;\n  resource?: EconomicResource;\n  spatialThings?: Types.Maybe<\n    Types.Maybe<\n      { __typename: 'SpatialThing' } & Pick<Types.SpatialThing, 'name' | 'id' | 'lat' | 'long'>\n    >[]\n  > | null;\n  formik: FormikHook<CreateIntentFormValues>;\n  unitPages?: any;\n  actionList?: any;\n  providerList?: null | { id: string; name: string }[];\n  receiverList?: null | { id: string; name: string }[];\n  toggleCreateLocation: (isShow: boolean) => void;\n  setAction?: (name: string) => void;\n};\n\nexport type SelectOption = {\n  label: string;\n  id: string;\n  displayUsername: string;\n};\n\nexport const CreateResourcePanel: FC<TCreateResourcePanel> = ({\n  title,\n  formik,\n  done,\n  unitPages,\n  actionList,\n  spatialThings,\n  providerList,\n  receiverList,\n  toggleCreateLocation,\n  setAction = () => {}\n}) => {\n  const [providerArr, setProviderArr] = React.useState<any>([]);\n  const [receiverArr, setReceiverArr] = React.useState<any>([]);\n  const [unitLst, setUnitLst] = React.useState<any>([]);\n  const [startDate, setStartDate] = React.useState<any>(new Date());\n  const onIconFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, image: file }),\n    [formik]\n  );\n  const { me } = useMe();\n\n  React.useEffect(() => {\n    if (unitPages?.length) {\n      const unit = unitPages.map((el: { id: string; label: string; symbol: string }) => ({\n        id: el.id,\n        label: `${el.label} / ${el.symbol}`\n      }));\n\n      setUnitLst(unit);\n    }\n  }, [unitPages]);\n  /* eslint-disable */\n  React.useEffect(() => {\n    setProviderArr(\n      setSelectOption(providerList, {\n        variables: ['name', 'displayUsername'],\n        template: 'name / displayUsername'\n      })\n    );\n    setReceiverArr(\n      setSelectOption(receiverList, {\n        variables: ['name', 'displayUsername'],\n        template: 'name / displayUsername'\n      })\n    );\n\n    formik.setValues({\n      ...formik.values,\n      hasPointInTime: new Date().toISOString(),\n      provider: {\n        id: providerList?.find((el: any) => el.id === me?.user?.id)?.id || '',\n        label: providerList?.find((el: any) => el.id === me?.user?.id)?.name || ''\n      },\n      receiver: {\n        id: receiverList?.find((el: any) => el.id === me?.user?.id)?.id || '',\n        label: receiverList?.find((el: any) => el.id === me?.user?.id)?.name || ''\n      }\n    });\n  }, [providerList, receiverList, me]);\n\n  React.useEffect(() => {\n    setUnitLst(\n      setSelectOption(unitPages?.edges, {\n        variables: ['label', 'symbol'],\n        template: 'label / symbol'\n      })\n    );\n  }, [unitPages]);\n\n  const initialIconUrl = 'string' === typeof formik.values.image ? formik.values.image : '';\n\n  return (\n    <Container>\n      <form onSubmit={formik.handleSubmit}>\n        <Header>\n          <Heading m={2}>\n            <Trans>{title}</Trans>\n          </Heading>\n        </Header>\n\n        <Hero>\n          <HeroInfo>\n            <CollectionContainerForm>\n              <div className=\"d-flex\">\n                <Box sx={{ width: '140', height: '140' }} className=\"item_photo\">\n                  <DropzoneArea\n                    initialUrl={initialIconUrl}\n                    onFileSelect={onIconFileSelected}\n                    filePattern=\"image/*\"\n                  />\n                </Box>\n                <div className=\"item_info\">\n                  <Box>\n                    <FormGroup>\n                      <FormLabel>{i18nMark('Resource')}</FormLabel>\n                      <Input\n                        type=\"text\"\n                        id=\"name\"\n                        name=\"name\"\n                        disabled={formik.isSubmitting}\n                        onChange={formik.handleChange}\n                        placeholder={i18nMark('Name of your resource')}\n                        value={formik.values.name}\n                      />\n                      <CounterChars>{60 - formik.values.name.length}</CounterChars>\n                    </FormGroup>\n                    {formik.errors.name && (\n                      <CustomAlert variant=\"negative\">{formik.errors.name}</CustomAlert>\n                    )}\n                  </Box>\n                  <Box>\n                    <FormGroup>\n                      <FormLabel>Event note</FormLabel>\n                      <Input\n                        id=\"eventNote\"\n                        type=\"textarea\"\n                        name=\"eventNote\"\n                        onChange={formik.handleChange}\n                        placeholder={i18nMark('Event Note')}\n                        value={formik.values.eventNote}\n                      />\n                    </FormGroup>\n                    <CounterChars>\n                      {formik.values.eventNote ? 500 - formik.values.eventNote.length : 500}\n                    </CounterChars>\n                    {formik.errors.eventNote && (\n                      <CustomAlert variant=\"negative\">{formik.errors.eventNote}</CustomAlert>\n                    )}\n                  </Box>\n                </div>\n              </div>\n            </CollectionContainerForm>\n\n            <CollectionContainerForm>\n              <div className=\"d-flex\">\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>Provider</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      placeholder={i18nMark('Provider')}\n                      options={providerArr}\n                      variant=\"primary\"\n                      value={formik.values.provider}\n                      id=\"provider\"\n                      name=\"provider\"\n                      components={{ DropdownIndicator: () => null }}\n                      onInputChange={(name: string, value: string) => {\n                        let newList = providerList?.filter(item =>\n                          // @ts-ignore\n                          item?.displayUsername?.toLowerCase().includes(value.toLowerCase())\n                        );\n\n                        setProviderArr(\n                          setSelectOption(newList, {\n                            variables: ['name', 'displayUsername'],\n                            template: 'name / displayUsername'\n                          })\n                        );\n                      }}\n                      openMenuOnClick={false}\n                    />\n                  </FormGroup>\n                  {formik.errors.provider && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.provider && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>Receiver</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      placeholder={i18nMark('Receiver')}\n                      options={receiverArr}\n                      variant=\"primary\"\n                      value={formik.values.receiver}\n                      id=\"receiver\"\n                      name=\"receiver\"\n                      components={{ DropdownIndicator: () => null }}\n                      onInputChange={(name: string, value: string) => {\n                        let newList = receiverList?.filter(item =>\n                          // @ts-ignore\n                          item?.displayUsername?.toLowerCase().includes(value.toLowerCase())\n                        );\n\n                        setReceiverArr(\n                          setSelectOption(newList, {\n                            variables: ['name', 'displayUsername'],\n                            template: 'name / displayUsername'\n                          })\n                        );\n                      }}\n                      openMenuOnClick={false}\n                    />\n                  </FormGroup>\n                  {formik.errors.receiver && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.receiver && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n              </div>\n            </CollectionContainerForm>\n\n            <CollectionContainerForm>\n              <div className=\"d-flex\">\n                <div className=\"item_col-6\">\n                  <Box>\n                    <FormGroup>\n                      <FormLabel>Actions</FormLabel>\n                      <Select\n                        onSelect={(name, option) => {\n                          setAction(option.id);\n                          formik.setValues({ ...formik.values, action: option });\n                        }}\n                        options={actionList}\n                        variant=\"primary\"\n                        id=\"actions\"\n                        name=\"actions\"\n                        placeholder={i18nMark('Select action')}\n                        value={formik.values.action}\n                        noChange={true}\n                        onInputChange={() => {}}\n                        openMenuOnClick={true}\n                      />\n                    </FormGroup>\n                    {formik.errors.action && (\n                      <CustomAlert variant=\"negative\">\n                        {formik.errors.action && 'Required'}\n                      </CustomAlert>\n                    )}\n                  </Box>\n                  <Box>\n                    <FormLabel>Event date</FormLabel>\n                    <div style={{ width: '100%', border: '1px solid #05244f', padding: '0 10px' }}>\n                      <DatePicker\n                        selected={startDate}\n                        onChange={(date: any) => {\n                          setStartDate(date);\n                          formik.setValues({\n                            ...formik.values,\n                            // @ts-ignore\n                            hasPointInTime: date.toISOString()\n                          });\n                        }}\n                        dateFormat=\"dd/MM/yyyy\"\n                      />\n                    </div>\n                  </Box>\n                </div>\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>Location</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      options={spatialThings?.map((el: any) => ({\n                        id: el.id,\n                        value: el.id,\n                        label: el.name\n                      }))}\n                      placeholder={i18nMark('CustomSelect location')}\n                      value={formik.values.atLocation}\n                      variant=\"primary\"\n                      id=\"atLocation\"\n                      name=\"atLocation\"\n                      noChange={true}\n                      onInputChange={() => {}}\n                      openMenuOnClick={true}\n                    />\n                    <LocationBlockStyle>\n                      <FormLabel>\n                        {i18nMark(\n                          'If you did not find your locations in the list, you can create it'\n                        )}\n                      </FormLabel>\n                      <Button variant=\"show-more\" onClick={() => toggleCreateLocation(true)}>\n                        <Trans>Create Location</Trans>\n                      </Button>\n                    </LocationBlockStyle>\n                  </FormGroup>\n                </div>\n              </div>\n            </CollectionContainerForm>\n\n            <CollectionContainerForm>\n              <div className=\"d-flex\">\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>unit</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      options={unitLst}\n                      variant=\"primary\"\n                      id=\"hasUnit\"\n                      name=\"hasUnit\"\n                      placeholder={i18nMark('Unit')}\n                      value={formik.values.hasUnit}\n                      noChange={true}\n                      onInputChange={() => {}}\n                      openMenuOnClick={true}\n                    />\n                  </FormGroup>\n                  {formik.errors.hasUnit && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.hasUnit && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>numerical value</FormLabel>\n                    <Input\n                      type=\"number\"\n                      id=\"hasNumericalValue\"\n                      name=\"hasNumericalValue\"\n                      onChange={formik.handleChange}\n                      placeholder={i18nMark('Numerical Value')}\n                      value={formik.values.hasNumericalValue}\n                    />\n                  </FormGroup>\n                  {formik.errors.hasNumericalValue && (\n                    <CustomAlert variant=\"negative\">{formik.errors.hasNumericalValue}</CustomAlert>\n                  )}\n                </div>\n              </div>\n            </CollectionContainerForm>\n\n            <CollectionContainerForm>\n              <FormGroup>\n                <FormLabel>Resource note</FormLabel>\n                <Input\n                  id=\"note\"\n                  type=\"textarea\"\n                  name=\"note\"\n                  onChange={formik.handleChange}\n                  placeholder={i18nMark('Resource note')}\n                  value={formik.values.note}\n                />\n              </FormGroup>\n              <CounterChars>\n                {formik.values.note ? 500 - formik.values.note.length : 500}\n              </CounterChars>\n              {formik.errors.note && (\n                <CustomAlert variant=\"negative\">{formik.errors.note}</CustomAlert>\n              )}\n            </CollectionContainerForm>\n          </HeroInfo>\n        </Hero>\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n          >\n            <Trans>Save</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={done}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n      <ToastContainer />\n    </Container>\n  );\n};\n\nconst LocationBlockStyle = styled('div')`\n  text-align: right;\n  margin: 10px 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-end;\n\n  & > * {\n    padding: 5px 0;\n  }\n`;\n","import * as Types from '../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type CreateDefaultEconomicEventMutationVariables = {\n  name?: Types.Maybe<Types.Scalars['String']>,\n  note?: Types.Maybe<Types.Scalars['String']>,\n  action: Types.Scalars['ID']\n};\n\n\nexport type CreateDefaultEconomicEventMutation = (\n  { __typename: 'RootMutationType' }\n  & { createEconomicEvent: Types.Maybe<(\n    { __typename: 'EconomicEventResponse' }\n    & { economicEvent: (\n      { __typename: 'EconomicEvent' }\n      & Pick<Types.EconomicEvent, 'id' | 'note'>\n    ) }\n  )> }\n);\n\nexport type AgentsQueryVariables = {};\n\n\nexport type AgentsQuery = (\n  { __typename: 'RootQueryType' }\n  & { agents: Types.Maybe<Array<(\n    { __typename: 'Organization' }\n    & Pick<Types.Organization, 'id' | 'name' | 'displayUsername'>\n  ) | (\n    { __typename: 'Person' }\n    & Pick<Types.Person, 'id' | 'name' | 'displayUsername'>\n  )>> }\n);\n\n\nexport const CreateDefaultEconomicEventDocument = gql`\n    mutation createDefaultEconomicEvent($name: String, $note: String, $action: ID!) {\n  createEconomicEvent(event: {action: $action, note: $note}, newInventoriedResource: {name: $name, note: $note}) {\n    economicEvent {\n      id\n      note\n    }\n  }\n}\n    `;\nexport type CreateDefaultEconomicEventMutationFn = ApolloReactCommon.MutationFunction<CreateDefaultEconomicEventMutation, CreateDefaultEconomicEventMutationVariables>;\n\n/**\n * __useCreateDefaultEconomicEventMutation__\n *\n * To run a mutation, you first call `useCreateDefaultEconomicEventMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateDefaultEconomicEventMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createDefaultEconomicEventMutation, { data, loading, error }] = useCreateDefaultEconomicEventMutation({\n *   variables: {\n *      name: // value for 'name'\n *      note: // value for 'note'\n *      action: // value for 'action'\n *   },\n * });\n */\nexport function useCreateDefaultEconomicEventMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateDefaultEconomicEventMutation, CreateDefaultEconomicEventMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateDefaultEconomicEventMutation, CreateDefaultEconomicEventMutationVariables>(CreateDefaultEconomicEventDocument, baseOptions);\n      }\nexport type CreateDefaultEconomicEventMutationHookResult = ReturnType<typeof useCreateDefaultEconomicEventMutation>;\nexport type CreateDefaultEconomicEventMutationResult = ApolloReactCommon.MutationResult<CreateDefaultEconomicEventMutation>;\nexport type CreateDefaultEconomicEventMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateDefaultEconomicEventMutation, CreateDefaultEconomicEventMutationVariables>;\nexport const AgentsDocument = gql`\n    query agents {\n  agents {\n    id\n    name\n    displayUsername\n  }\n}\n    `;\n\n/**\n * __useAgentsQuery__\n *\n * To run a query within a React component, call `useAgentsQuery` and pass it any options that fit your needs.\n * When your component renders, `useAgentsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useAgentsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useAgentsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<AgentsQuery, AgentsQueryVariables>) {\n        return ApolloReactHooks.useQuery<AgentsQuery, AgentsQueryVariables>(AgentsDocument, baseOptions);\n      }\nexport function useAgentsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<AgentsQuery, AgentsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<AgentsQuery, AgentsQueryVariables>(AgentsDocument, baseOptions);\n        }\nexport type AgentsQueryHookResult = ReturnType<typeof useAgentsQuery>;\nexport type AgentsLazyQueryHookResult = ReturnType<typeof useAgentsLazyQuery>;\nexport type AgentsQueryResult = ApolloReactCommon.QueryResult<AgentsQuery, AgentsQueryVariables>;\n\n\nexport interface CreateDefaultEconomicEventMutationOperation {\n  operationName: 'createDefaultEconomicEvent'\n  result: CreateDefaultEconomicEventMutation\n  variables: CreateDefaultEconomicEventMutationVariables\n  type: 'mutation'\n}\nexport const CreateDefaultEconomicEventMutationName:CreateDefaultEconomicEventMutationOperation['operationName'] = 'createDefaultEconomicEvent'\n\nexport const CreateDefaultEconomicEventMutationRefetch = (\n  variables:CreateDefaultEconomicEventMutationVariables, \n  context?:any\n)=>({\n  query:CreateDefaultEconomicEventDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface AgentsQueryOperation {\n  operationName: 'agents'\n  result: AgentsQuery\n  variables: AgentsQueryVariables\n  type: 'query'\n}\nexport const AgentsQueryName:AgentsQueryOperation['operationName'] = 'agents'\n\nexport const AgentsQueryRefetch = (\n  variables:AgentsQueryVariables, \n  context?:any\n)=>({\n  query:AgentsDocument,\n  variables,\n  context\n})\n      \n","import { useMemo, useState, useEffect } from 'react';\nimport { Slide, toast } from 'react-toastify';\n\nimport { useCallOrNotifyMustLogin } from '../../HOC/lib/notifyMustLogin';\nimport { EconomicEventsFilteredQueryRefetch } from '../../HOC/modules/EconomicEventManager/EconomicEventManager.generated';\nimport { useEconomicEventsFilteredQuery } from '../../HOC/modules/EconomicEventManager/EconomicEventManager.generated';\nimport { useMe } from '../session/useMe';\nimport { useCreateDefaultEconomicEventMutation } from './useCreateResource.generated';\n\n// https://github.com/reflow-project/weloop/issues/87\n// solution:\n// 1) get providers list and check - is User in this list?\n// 2) if user is  - he is sign in\n// 3) else he is sign in and create default resource\n\nexport interface TCreateDefaultResource {\n  note: string;\n  name: string;\n  action: string;\n}\n\nexport const useCreateDefaultResource = () => {\n  const [createResourceMut, createResourceMutStatus] = useCreateDefaultEconomicEventMutation();\n  const { me } = useMe();\n\n  const { data } = useEconomicEventsFilteredQuery({\n    variables: { action: 'transfer' }\n  });\n  const providers = data?.economicEventsFiltered?.map(el => el.provider);\n  const [isAgent, setIsAgent] = useState(true);\n\n  useEffect(() => {\n    if (providers === undefined || me === undefined) return;\n\n    setIsAgent(!!providers?.some(agent => agent.id === me?.user.id));\n  }, [providers, me]);\n\n  const create = useCallOrNotifyMustLogin(\n    async ({ note, name, action }: TCreateDefaultResource) => {\n      if (createResourceMutStatus.loading) {\n        return;\n      }\n\n      return createResourceMut({\n        variables: {\n          note,\n          name,\n          action\n        },\n        refetchQueries: [EconomicEventsFilteredQueryRefetch({ action: 'transfer' })]\n      })\n        .then(() => {\n          setIsAgent(true);\n          toast.success(`You name added in providers list`, {\n            position: 'top-right',\n            transition: Slide,\n            autoClose: 3000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true\n          });\n        })\n        .catch((error: any) => {\n          toast.error(`You name does not add in providers list: ${error}`, {\n            position: 'top-right',\n            transition: Slide,\n            autoClose: 3000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true\n          });\n        });\n    },\n    [createResourceMutStatus, createResourceMut]\n  );\n  const createDefaultResource = isAgent ? null : create;\n\n  return useMemo(() => {\n    return {\n      createDefaultResource,\n      isAgent\n    };\n  }, [createDefaultResource, isAgent]);\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type ActionsQueryVariables = {};\n\n\nexport type ActionsQuery = (\n  { __typename: 'RootQueryType' }\n  & { actions: Types.Maybe<Array<(\n    { __typename: 'Action' }\n    & Pick<Types.Action, 'label' | 'id' | 'note'>\n  )>> }\n);\n\n\nexport const ActionsDocument = gql`\n    query actions {\n  actions {\n    label\n    id\n    note\n  }\n}\n    `;\n\n/**\n * __useActionsQuery__\n *\n * To run a query within a React component, call `useActionsQuery` and pass it any options that fit your needs.\n * When your component renders, `useActionsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useActionsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useActionsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<ActionsQuery, ActionsQueryVariables>) {\n        return ApolloReactHooks.useQuery<ActionsQuery, ActionsQueryVariables>(ActionsDocument, baseOptions);\n      }\nexport function useActionsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ActionsQuery, ActionsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<ActionsQuery, ActionsQueryVariables>(ActionsDocument, baseOptions);\n        }\nexport type ActionsQueryHookResult = ReturnType<typeof useActionsQuery>;\nexport type ActionsLazyQueryHookResult = ReturnType<typeof useActionsLazyQuery>;\nexport type ActionsQueryResult = ApolloReactCommon.QueryResult<ActionsQuery, ActionsQueryVariables>;\n\n\nexport interface ActionsQueryOperation {\n  operationName: 'actions'\n  result: ActionsQuery\n  variables: ActionsQueryVariables\n  type: 'query'\n}\nexport const ActionsQueryName:ActionsQueryOperation['operationName'] = 'actions'\n\nexport const ActionsQueryRefetch = (\n  variables:ActionsQueryVariables, \n  context?:any\n)=>({\n  query:ActionsDocument,\n  variables,\n  context\n})\n      \n","/* eslint react-hooks/exhaustive-deps: \"off\" */\n\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { useCreateDefaultResource } from '../../../fe/resourceDefault/useCreateDefaultResource';\nimport { useAgentsQuery } from '../../../fe/resourceDefault/useCreateResource.generated';\nimport { useActionsQuery } from '../IntentPanel/Actions.generated';\nimport { EconomicEventManagerProps } from '../../../ui/modules/EconomicEventManager';\nimport { useUnitsPagesQuery } from './EconomicEventManager.generated';\n\nexport const EconomicEventManagerHOC: FC = ({ children }) => {\n  const [providerList, setProviderList] = React.useState<\n    null | undefined | [] | { id: string; name: string }[]\n  >([]);\n  const [receiverList, setReceiverList] = React.useState<\n    null | undefined | [] | { id: string; name: string }[]\n  >([]);\n\n  const intentActionsQ = useActionsQuery();\n  const { data } = useAgentsQuery();\n\n  const { createDefaultResource, isAgent } = useCreateDefaultResource();\n\n  React.useEffect(() => {\n    if (isAgent) return;\n\n    createDefaultResource &&\n      createDefaultResource({\n        name: 'My first inventory',\n        note: 'Created automatically',\n        action: 'transfer'\n      });\n    // eslint-disable-line react-hooks/exhaustive-deps\n  }, [isAgent]);\n\n  React.useEffect(() => {\n    // setFulUserList(users?.data?.users.edges || { id: '', name: '' })\n    // const providers = data?.economicEventsFiltered?.map(el => el.provider);\n    // const receivers = data?.economicEventsFiltered?.map(el => el.receiver);\n\n    const providers = data?.agents;\n    const receivers = data?.agents;\n\n    const uniqueProviders: { id: string; name: string }[] = [];\n    providers?.length &&\n      providers.forEach(el => {\n        !uniqueProviders.some(arrItem => arrItem.id === el.id) && uniqueProviders.push(el);\n      });\n    const uniqueReceivers: { id: string; name: string }[] = [];\n    receivers?.length &&\n      receivers.forEach(el => {\n        !uniqueReceivers.some(arrItem => arrItem.id === el.id) && uniqueReceivers.push(el);\n      });\n\n    setProviderList(uniqueProviders);\n    setReceiverList(uniqueReceivers);\n  }, [data]);\n\n  const unitPagesQ = useUnitsPagesQuery();\n\n  const intentActions = intentActionsQ.data?.actions;\n  const unitPages = unitPagesQ.data?.unitsPages;\n  const economicEventManager: EconomicEventManagerProps = {\n    actionList: intentActions?.map((el: any) => {\n      return !['transfer', 'consume', 'produce'].includes(el.id)\n        ? { ...el, isDisabled: true }\n        : { ...el, isDisabled: false };\n    }),\n    providerList: providerList,\n    receiverList: receiverList,\n    unitPages,\n    setAction: () => {}\n  };\n\n  const childrenWithProps = React.Children.map(children, child => {\n    if (React.isValidElement(child)) {\n      return React.cloneElement(child, { ...economicEventManager });\n    }\n    return child;\n  });\n\n  return <div>{childrenWithProps}</div>;\n};\n","import { useFormik } from 'formik';\nimport React, { FC } from 'react';\nimport { Slide, toast } from 'react-toastify';\nimport { BasicCreateCollectionFormValues } from 'ui/modules/CreateCollectionPanel';\nimport * as Yup from 'yup';\nimport { useHistory } from 'react-router-dom';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\nimport { useCreateResource } from '../../../fe/resource/create/useCreateResource';\n\nimport {\n  CreateResourcePanel,\n  TCreateResourcePanel,\n  CreateIntentFormValues\n} from '../../../ui/modules/CreateResourcePanel';\nimport { EconomicResource } from '../../pages/inventory/InventoryPage';\nimport { useSpatialThingsPagesQuery } from '../EconomicEventManager/EconomicEventManager.generated';\nimport { EconomicEventManagerHOC } from '../EconomicEventManager/EconomicEventManagerHOC';\n\nexport const validationSchema: Yup.ObjectSchema<BasicCreateCollectionFormValues> = Yup.object<\n  BasicCreateCollectionFormValues\n>({\n  name: Yup.string()\n    .min(2)\n    .max(60)\n    .required(),\n  summary: Yup.string().max(500),\n  icon: Yup.mixed<string | File>().test(...TestUrlOrFile)\n});\n\nexport interface Props {\n  done: () => void;\n  toggleCreateLocation: (isShow: boolean) => void;\n  resource?: EconomicResource;\n}\n\nexport const CreateResourcePanelHOC: FC<Props> = ({\n  done,\n  resource,\n  toggleCreateLocation,\n  ...props\n}) => {\n  const history = useHistory();\n  const { create } = useCreateResource();\n\n  const spatialThingsQ = useSpatialThingsPagesQuery();\n  const spatialThings = spatialThingsQ.data?.spatialThingsPages;\n\n  const SignupSchema = Yup.object().shape({\n    name: Yup.string()\n      .max(60, 'Too Long!')\n      .required('Required'),\n    note: Yup.string().max(500, 'Too Long!'),\n    action: Yup.object().shape({\n      id: Yup.string().required('Required')\n    }),\n    provider: Yup.object().shape({\n      id: Yup.string().required('Required')\n    }),\n    receiver: Yup.object().shape({\n      id: Yup.string().required('Required')\n    }),\n    hasUnit: Yup.object().shape({\n      id: Yup.string().required('Required')\n    }),\n    hasNumericalValue: Yup.string()\n      .required('Required')\n      .notOneOf([0, '0', null, undefined], 'Not null')\n  });\n\n  const formik = useFormik<any>({\n    initialValues: {\n      name: resource?.name || '',\n      note: resource?.note || '',\n      eventNote: resource?.eventNote || '',\n      hasPointInTime: resource?.hasPointInTime || '',\n      image: resource?.image || '',\n      atLocation: {\n        id: resource?.currentLocation?.id || '',\n        label: ''\n      },\n      action: {\n        id: '',\n        label: ''\n      },\n      provider: {\n        id: '',\n        label: '',\n        note: ''\n      },\n      receiver: {\n        id: '',\n        label: '',\n        note: ''\n      },\n      hasUnit: {\n        id: '',\n        label: '',\n        note: ''\n      },\n      hasNumericalValue: 0\n    },\n    validateOnChange: false,\n    validateOnBlur: false,\n    validationSchema: SignupSchema,\n    enableReinitialize: true,\n\n    onSubmit: (values: CreateIntentFormValues) => {\n      return create({\n        name: values.name,\n        action: values.action.id,\n        note: values.note,\n        eventNote: values.eventNote,\n        hasPointInTime: values.hasPointInTime,\n        atLocation: values.atLocation?.id || '',\n        provider: values.provider.id,\n        receiver: values.receiver.id,\n        hasUnit: values.hasUnit.id,\n        hasNumericalValue: values.hasNumericalValue,\n        image: values.image\n      })\n        .then((response: any) => {\n          if (!response.errors) {\n            const newId = response?.data?.createEconomicEvent?.economicResource?.id;\n            const redirect = `/resource/${newId} `;\n            done();\n            history.replace(redirect);\n\n            toast.success('Resource was created', {\n              position: 'top-right',\n              transition: Slide,\n              autoClose: 3000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true\n            });\n          }\n        })\n        .catch((error: any) => console.log(error));\n    }\n  });\n\n  const CreateResourcePanelProps: TCreateResourcePanel = {\n    ...props,\n    title: 'Create a new Resource',\n    formik,\n    spatialThings: spatialThings?.edges || null,\n    toggleCreateLocation,\n    done\n  };\n\n  return (\n    <EconomicEventManagerHOC>\n      <CreateResourcePanel {...CreateResourcePanelProps} />\n    </EconomicEventManagerHOC>\n  );\n};\n","import React, { useReducer } from 'react';\nimport { CreateDropdown } from './CreateDropdown';\nimport Modal from '../../../ui/modules/Modal';\nimport { CreateCommunityPanelHOC } from '../CreateCommunityPanel/createCommunityPanelHOC';\nimport { CreateIntentPanelHOC } from '../CreateIntentPanel/createIntentPanelHOC';\nimport { CreateLocationPanelHOC } from '../CreateLocationPanel/CreateLocationPanelHOK';\nimport { CreateResourcePanelHOC } from '../CreateResourcePanel/CreateResourcePanelHOC';\nimport { useNotifyMustLogin } from '../../lib/notifyMustLogin';\n\nexport type Props = {\n  open: boolean;\n  openHandler: (open: boolean) => void;\n};\n\nexport const CreateMenuHOK: React.FC<Props> = ({ open, openHandler }: Props) => {\n  const notifiedMustLogin = useNotifyMustLogin();\n  const [showCreateLocation, toggleShowCreateLocation] = React.useState(false);\n  const [showCreateCommunity, toggleShowCreateCommunity] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const [showCreateIntent, toggleShowCreateIntent] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const [showCreateResource, toggleShowCreateResource] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const CreateCommunityModal = showCreateCommunity ? (\n    <Modal closeModal={toggleShowCreateCommunity}>\n      <CreateCommunityPanelHOC done={toggleShowCreateCommunity} />\n    </Modal>\n  ) : null;\n\n  const CreateIntentModal = showCreateIntent ? (\n    <Modal closeModal={toggleShowCreateIntent}>\n      <CreateIntentPanelHOC done={toggleShowCreateIntent} />\n    </Modal>\n  ) : null;\n\n  const CreateResourceModal = showCreateResource ? (\n    <Modal closeModal={toggleShowCreateResource}>\n      {showCreateLocation ? (\n        <CreateLocationPanelHOC done={toggleShowCreateLocation} />\n      ) : (\n        <CreateResourcePanelHOC\n          done={toggleShowCreateResource}\n          toggleCreateLocation={toggleShowCreateLocation}\n        />\n      )}\n    </Modal>\n  ) : null;\n\n  return (\n    <>\n      {CreateCommunityModal}\n      {CreateIntentModal}\n      {CreateResourceModal}\n      {open && (\n        <CreateDropdown\n          createCommunity={toggleShowCreateCommunity}\n          createResource={toggleShowCreateIntent}\n          createIntent={toggleShowCreateResource}\n          toggleDropdown={() => {\n            openHandler(!open);\n          }}\n        />\n      )}\n    </>\n  );\n};\n","import styled from 'ui/themes/styled';\nimport React, { FC, ReactElement, useState } from 'react';\nimport media from 'styled-media-query';\nimport { Box, Flex } from 'rebass/styled-components';\nimport { Settings, LogOut, PlusSquare } from 'react-feather';\nimport Avatar from 'ui/elements/Avatar';\nimport { NavLink } from 'react-router-dom';\nimport { CreateMenuHOK } from '../../../HOC/modules/CreateMenuHOK/CreateMenuHOK';\n\nexport const Burger: FC<{ open: boolean; setOpen: (_: boolean) => unknown }> = ({\n  open,\n  setOpen\n}) => {\n  return (\n    <StyledBurger open={open} onClick={() => setOpen(!open)}>\n      <div />\n      <div />\n      <div />\n    </StyledBurger>\n  );\n};\nexport interface MenuProps {\n  open: boolean;\n  Side: ReactElement;\n  setOpen(_: boolean): any;\n  userImage: string;\n  name: string;\n  username: string;\n  signout(): any;\n}\nexport const Menu: FC<MenuProps> = ({\n  open,\n  Side,\n  setOpen,\n  userImage,\n  name,\n  username,\n  signout\n}) => {\n  const [isCreateOpen, toggleCreate] = useState(false);\n\n  return (\n    <div>\n      {open && <Background onClick={() => setOpen(false)} />}\n      <StyledMenu open={open}>\n        <Profile>\n          <User>\n            <Avatar size=\"s\" src={userImage} />\n            <Title>{name}</Title>\n            <Username>{username}</Username>\n            <RightMenuWrapper>\n              <CreateMenuHOK open={isCreateOpen} openHandler={toggleCreate} />\n              <Span to={'/settings'}>\n                <Settings size=\"24\" strokeWidth={1} color={'#333'} />\n              </Span>\n              <CreateMenuSpan role=\"button\" onClick={() => toggleCreate(!isCreateOpen)}>\n                <PlusSquare size={16} color={'#333'} />\n                <span>Create</span>\n              </CreateMenuSpan>\n            </RightMenuWrapper>\n          </User>\n          {/* <Button variant=\"primary\">Create a new community</Button> */}\n        </Profile>\n\n        <Communities>{Side}</Communities>\n\n        <Bottom>\n          <List>\n            <Item onClick={signout}>\n              <LogOut size={18} />\n              <Box ml={2}>Sign out</Box>\n            </Item>\n          </List>\n        </Bottom>\n      </StyledMenu>\n    </div>\n  );\n};\n\nconst Bottom = styled(Box)``;\n\nconst Profile = styled(Box)`\n  padding: 16px;\n  border-bottom: ${props => props.theme.colors.border};\n`;\nconst User = styled(Box)`\n  position: relative;\n  > div:first-of-type {\n    width: 60px;\n    height: 60px;\n    border-radius: 60px;\n  }\n`;\n\nconst RightMenuWrapper = styled('div')`\n  position: absolute;\n  top: 0;\n  right: 0;\n  line-height: initial;\n  ${media.lessThan('small')`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 120px;\n  `}\n`;\nconst CreateMenuSpan = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #333;\n  padding: 4px;\n  border-radius: 4px;\n  border: 1px solid #333;\n\n  svg {\n    margin-right: 10px;\n  }\n`;\n\nconst Span = styled(NavLink)`\n  display: inline-block;\n  margin-right: 12px;\n`;\n\nconst Title = styled(Box)`\n  line-height: initial;\n  margin-top: 8px;\n  font-weight: 700;\n  color: ${props => props.theme.colors.dark};\n`;\nconst Username = styled(Box)`\n  line-height: initial;\n  margin-top: 8px;\n  font-weight: 500;\n  color: ${props => props.theme.colors.mediumdark};\n`;\nconst Communities = styled(Box)`\n  overflow: scroll;\n  padding: 16px;\n`;\n\nconst List = styled.div<{ lined?: boolean }>`\n  border-top: 1px solid ${props => props.theme.colors.medium};\n`;\nconst Item = styled(Flex)`\n  line-height: 60px;\n  height: 60px;\n  cursor: pointer;\n  align-items: center;\n  margin: 0 auto;\n  text-align: center;\n  width: 100px;\n  svg {\n    stroke: ${props => props.theme.colors.dark};\n  }\n  div {\n    font-weight: 600;\n    color: ${props => props.theme.colors.dark};\n  }\n  & span {\n    display: inline-block;\n    margin-right: 8px;\n  }\n  & a {\n    color: inherit !important;\n    text-decoration: none;\n  }\n  &:hover {\n    color: ${props => props.theme.colors.primary};\n  }\n`;\n\nconst Background = styled(Box)<{ open: boolean }>`\n  z-index: 4000;\n  background: rgba(0, 0, 0, 0.9);\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  height: calc(100vh - 65px);\n  cursor: pointer;\n  transition: opacity 0.3s ease-in-out;\n`;\n\nexport const StyledBurger = styled.button<{ open: boolean }>`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 18px;\n  height: 18px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 10;\n  line-height: 75px;\n  margin: 0 auto;\n  margin-top: 26px;\n  &:focus {\n    outline: none;\n  }\n\n  div {\n    width: 18px;\n    height: 2px;\n    background: ${({ theme, open }) => (open ? theme.colors.primary : theme.colors.darker)};\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n\n    :first-child {\n      transform: ${({ open }) => (open ? 'rotate(45deg)' : 'rotate(0)')};\n    }\n\n    :nth-child(2) {\n      opacity: ${({ open }) => (open ? '0' : '1')};\n      transform: ${({ open }) => (open ? 'translateX(20px)' : 'translateX(0)')};\n    }\n\n    :nth-child(3) {\n      transform: ${({ open }) => (open ? 'rotate(-45deg)' : 'rotate(0)')};\n    }\n  }\n`;\n\nexport const StyledMenu = styled.nav<{ open: boolean }>`\n  background: ${({ theme }) => theme.colors.appInverse};\n  height: calc(100vh - 65px);\n  min-width: 230px;\n  text-align: left;\n  position: fixed;\n  z-index: 4020;\n  top: 0;\n  left: 0;\n  right: 80px;\n  transition: transform 0.3s ease-in-out;\n  transform: ${({ open }) => (open ? 'translateX(0)' : 'translateX(-100%)')};\n  overflow: hidden;\n  display: grid;\n  grid-template-rows: 160px 1fr 60px;\n  ${media.lessThan('small')`\n    width: 100%;\n    right: 0;\n  `}\n`;\n","import React, { ReactElement } from 'react';\nimport { Box } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\nimport media from 'styled-media-query';\nimport { ChevronLeft } from 'react-feather';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { Burger, Menu } from 'ui/modules/Burger';\nimport Avatar from 'ui/elements/Avatar';\nimport { Image } from 'rebass';\nimport { logo_small_url } from 'mn-constants';\n\nexport interface SidebarProps {\n  SidebarBox: ReactElement;\n  HeaderBox: ReactElement;\n  SearchBox: ReactElement;\n  userImage: string;\n  userLink: string;\n  username: string;\n  name: string;\n  signout(): any;\n}\n\nexport const WithSidebar: React.FC<SidebarProps> = ({\n  SidebarBox,\n  HeaderBox,\n  SearchBox,\n  children,\n  userImage,\n  userLink,\n  username,\n  name,\n  signout\n}) => {\n  const [open, setOpen] = React.useState(false);\n  const history = useHistory();\n  return (\n    <Page>\n      <Menu\n        username={username}\n        name={name}\n        userImage={userImage}\n        signout={signout}\n        open={open}\n        setOpen={setOpen}\n        Side={SidebarBox}\n      />\n      <SearchBar>\n        <Icon onClick={() => history.goBack()}>\n          <ChevronLeft size=\"20\" />\n        </Icon>\n        {SearchBox}\n      </SearchBar>\n      <Header>{HeaderBox}</Header>\n      <Wrapper>\n        <Panel className=\"panel_sidebar\">\n          <Sidebar>{SidebarBox}</Sidebar>\n        </Panel>\n        <Panel>\n          <Content>{children}</Content>\n        </Panel>\n      </Wrapper>\n      <Footer>\n        <FootWrapper>\n          <Burger open={open} setOpen={setOpen} />\n        </FootWrapper>\n        <FootWrapper>\n          <NavLink to=\"/\">\n            <Logo>\n              <Image src={logo_small_url} />\n            </Logo>\n            {/* <Home size=\"18\" /> */}\n          </NavLink>\n        </FootWrapper>\n        <FootWrapper>\n          <Bavatar>\n            <NavLink to={userLink}>\n              <Avatar src={userImage} size=\"m\" />\n            </NavLink>\n          </Bavatar>\n        </FootWrapper>\n      </Footer>\n    </Page>\n  );\n};\n\nconst Logo = styled(Box)`\n  img {\n    width: 36px;\n    height: 36px;\n    border-radius: 36px;\n    margin-top: 15px;\n  }\n`;\n\nconst Bavatar = styled(Box)`\n  div {\n    max-width: 36px;\n    height: 36px;\n    min-width: 36px;\n    margin: 15px auto 0;\n    border-radius: 36px;\n  }\n`;\n\nexport const Icon = styled(Box)`\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  border-radius: 40px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: ${props => props.theme.colors.lighter};\n    svg {\n      stroke: ${props => props.theme.colors.primary};\n    }\n  }\n  svg {\n    stroke: ${props => props.theme.colors.mediumdark};\n    margin: 0 auto;\n  }\n`;\n\nconst SearchBar = styled(Box)`\nheight: 75px;\nline-height: 75px;\ntext-align: center;\nbackground: ${props => props.theme.colors.appInverse}\nborder-bottom: ${props => props.theme.colors.border};\ndisplay: flex;\nalign-items: center;\ninput {\n  width: 100%;\n  border-radius: 4px;\n  max-width: 500px;\n  height: 40px;\n  margin: 0;\n  border: 0;\n  background: ${props => props.theme.colors.app};\n}\n.ais-SearchBox {\n  border: 0;\n  height: auto;\n  margin: 0;\n  width: auto;\n  margin: 0;\n  margin-right: 24px;\n  flex:1;\n}\n${media.greaterThan('medium')`\n    display: none;\n  `}\n`;\n\nconst FootWrapper = styled(Box)`\n  height: 75px;\n  line-height: 75px;\n  text-align: center;\n`;\n\nconst Footer = styled(Box)`\n  position: fixed;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 500;\n  background: ${props => props.theme.colors.appInverse}\n  display: grid;\n  border-top: ${props => props.theme.colors.border};\n  grid-template-columns: 1fr 1fr 1fr;\n  ${media.greaterThan('medium')`\n    display: none;\n  `}\n`;\n\nconst Panel = styled(Box)`\n  display: grid;\n  grid-template-rows: auto;\n  &.panel_sidebar {\n    ${media.lessThan('medium')`\n    display: none;\n  `}\n  }\n`;\n\nconst Page = styled(Box)`\n  display: grid;\n  // ${media.greaterThan('large')`\n  //   grid-template-rows: 50px auto;\n  //   row-gap: 8px;\n  // `}\n  ${media.lessThan('medium')`\n    display: block;\n  `}\n`;\n\nconst Wrapper = styled(Box)`\n  max-width: 1096px;\n  margin: 0 auto;\n  display: grid;\n  \n  ${media.greaterThan('medium')`\n  grid-template-rows: auto;\n  grid-template-columns: 240px 1fr;\n  column-gap: 8px;\n  `}\n  ${media.lessThan('medium')`\n    overflow: overlay;\n    grid-template-rows: auto;\n    grid-template-columns:1fr;\n    column-gap: 0px;\n    margin: 0;\n  `}\n  ${media.lessThan('small')`\n    grid-template-rows: auto;\n    grid-template-columns:1fr;\n    column-gap: 0px;\n    margin: 0;\n  `}\n`;\n\nconst Sidebar = styled(Box)`\n  overflow: auto;\n`;\n\nconst Content = styled(Box)`\n  // Enable to put the right side scrollbar next to the content\n  //overflow: auto;\n`;\n\nconst Header = styled(Box)`\n  ${media.lessThan('medium')`\n    display: none;\n  `}\n`;\n","import { useMe } from 'fe/session/useMe';\nimport { MainHeaderHOC } from 'HOC/modules/Header/Header';\nimport { SidebarHOC } from 'HOC/modules/Sidebar/Sidebar';\nimport React, { FC, useMemo } from 'react';\nimport { SidebarProps, WithSidebar } from 'ui/templates/withSidebar';\nimport { GuestTemplate } from '../Guest/Guest';\nimport { ProvideSideBarContext } from 'HOC/context/SideBar';\nimport { SearchBox } from 'HOC/modules/SearchBox/SearchBox';\nimport { userLocation } from 'routes/UserPageRoute';\n\nexport interface WithSidebarTemplate {}\nexport const WithSidebarTemplate: FC<WithSidebarTemplate> = ({ children }) => {\n  const { loading, me, logout } = useMe();\n\n  const withSidebarProps = useMemo<null | SidebarProps>(() => {\n    const user = me?.user;\n    if (!user || loading) {\n      return null;\n    }\n    const userImage = user.icon?.url || '';\n    const userLink = userLocation.getPath({ tab: undefined, userId: user.id }, undefined);\n    const props: SidebarProps = {\n      SidebarBox: <SidebarHOC />,\n      HeaderBox: <MainHeaderHOC />,\n      SearchBox: <SearchBox />,\n      userImage,\n      userLink,\n      signout: logout,\n      username: user.displayUsername || '',\n      name: user.preferredUsername || ''\n    };\n    return props;\n  }, [loading, logout, me]);\n  // console.log('withSidebarProps', withSidebarProps);\n  return withSidebarProps ? (\n    <ProvideSideBarContext>\n      <WithSidebar {...withSidebarProps}>{children}</WithSidebar>\n    </ProvideSideBarContext>\n  ) : (\n    <GuestTemplate>{children}</GuestTemplate>\n  );\n};\n","import React, { FC, useMemo } from 'react';\nimport { CollectionPageTab, CollectionPage } from 'HOC/pages/collection/CollectionPage';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport { locationHelper } from './lib/helper';\n\ninterface CollectionPageRouter {\n  collectionId: string;\n  tab?: string;\n}\nconst CollectionPageRouter: FC<RouteComponentProps<CollectionPageRouter>> = ({ match }) => {\n  const collectionId = match.params.collectionId;\n  const maybeTabStr = match.params.tab;\n  const tab =\n    maybeTabStr === 'followers'\n      ? CollectionPageTab.Followers\n      : !maybeTabStr\n      ? CollectionPageTab.Publications\n      : null;\n\n  const props = useMemo<CollectionPage | null>(\n    () =>\n      tab === null\n        ? null\n        : {\n            collectionId,\n            tab,\n            basePath: `/collections/${collectionId}`\n          },\n    [collectionId, tab]\n  );\n\n  if (!props) {\n    return <NotFoundHOC />;\n  }\n\n  return (\n    <WithSidebarTemplate>\n      <CollectionPage {...props} />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const CollectionPageRoute: RouteProps = {\n  exact: true,\n  path: '/collections/:collectionId/:tab(followers)?',\n  component: CollectionPageRouter\n};\n\ntype Tab = undefined | 'followers';\ntype Params = {\n  collectionId: string;\n  tab: Tab;\n};\n\nexport const collectionLocation = locationHelper<Params, undefined>(CollectionPageRoute);\n","import { Trans } from '@lingui/macro';\nimport { typography } from 'mn-constants';\nimport { ellipsis } from 'polished';\nimport * as React from 'react';\nimport { ExternalLink, Flag, MoreHorizontal, Paperclip, Star } from 'react-feather';\nimport { NavLink } from 'react-router-dom';\n// import { FileText, ExternalLink, Star } from 'react-feather';\nimport { Box, Flex, Heading, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport Avatar from 'ui/elements/Avatar';\n// import { ellipsis } from 'polished';\nimport { Dropdown, DropdownItem } from 'ui/modules/Dropdown';\nimport styled from 'ui/themes/styled';\nimport { Search } from './Collection';\n// import {Link} from 'react-router-dom'\n\n// const LicenseIcon0 = require('./cc-zero.png');\n// const LicenseIcon1 = require('./by.png');\n// const LicenseIcon2 = require('./by-sa.png');\nexport interface LikeActions {\n  toggleLikeFormik: FormikHook<{}>;\n  totalLikes: number;\n  iLikeIt: boolean;\n}\n\nexport interface Props {\n  icon: string;\n  name: string;\n  summary: string;\n  link: string;\n  like: null | LikeActions;\n  license: string | null;\n  // acceptedLicenses?: string[];\n  isFile: boolean;\n  // type?: string;\n  isFlagged: boolean;\n  hideActions?: boolean;\n  isSearch?: boolean;\n  collectionLink: string;\n  collectionName: string;\n  isOpenDropdown: boolean;\n  toggleDropdown(): unknown;\n  sendToMoodle(): unknown;\n  toggleFlag: null | (() => unknown);\n  // sendToMoodle:null|(()=>unknown)\n}\n\nexport const Resource: React.FC<Props> = ({\n  icon,\n  name,\n  summary,\n  link,\n  collectionLink,\n  collectionName,\n  like,\n  isFile,\n  license,\n  // acceptedLicenses,\n  // type,\n  isFlagged,\n  isSearch,\n  // sendToMoodle,\n  hideActions,\n  isOpenDropdown,\n  toggleDropdown,\n  toggleFlag,\n  sendToMoodle\n}) => {\n  const PaperClipOrExternalLink = isFile ? Paperclip : ExternalLink;\n  return (\n    <Bordered>\n      {isSearch && (\n        <Search>\n          <Trans>Resource</Trans>\n        </Search>\n      )}\n      <Wrapper p={2}>\n        {icon !== '' ? (\n          <Avatar size=\"m\" src={icon} />\n        ) : (\n          <ResourceThumb>\n            <IconWrapper>\n              <PaperClipOrExternalLink strokeWidth=\"2\" size={64} />\n            </IconWrapper>\n          </ResourceThumb>\n        )}\n        <Infos flex={1} ml={3}>\n          <TitleLink href={link} target=\"_blank\">\n            {/* <Badge mt={1}>Video</Badge> */}\n            <Title flex=\"1\">\n              <PaperClipOrExternalLink strokeWidth=\"1\" size={18} />\n              {name}\n            </Title>\n          </TitleLink>\n          {isFile ? (\n            <TypeItem mt={1}>{license}</TypeItem>\n          ) : (\n            <LinkResource>\n              <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n                <TextLink flex={1}>{link}</TextLink>\n              </a>\n            </LinkResource>\n          )}\n          <Summary variant=\"text\" mt={2}>\n            {summary}\n          </Summary>\n        </Infos>\n      </Wrapper>\n      <Meta>\n        <Collection ml={2}>\n          Added in: <NavLink to={collectionLink}> {collectionName}</NavLink>\n        </Collection>\n        {hideActions ? null : (\n          <Actions>\n            {like && (\n              <ActionItem\n                bordered\n                liked={like.iLikeIt ? true : false}\n                onClick={like.toggleLikeFormik.submitForm}\n              >\n                <ActionIcon>\n                  <Star strokeWidth=\"1\" size=\"18\" />\n                </ActionIcon>\n                <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  {like.totalLikes}\n                </ActionText>\n              </ActionItem>\n            )}\n            <MoreItem onClick={toggleDropdown} sx={{ position: 'relative' }}>\n              <ActionIcon>\n                <MoreHorizontal className=\"hover\" size={18} />\n              </ActionIcon>\n              {isOpenDropdown && (\n                <Right>\n                  <Dropdown orientation=\"bottom\" close={toggleDropdown}>\n                    {toggleFlag && (\n                      <DropdownItem onClick={toggleFlag}>\n                        <Flag size={18} />\n                        <Text sx={{ flex: 1 }} ml={2}>\n                          {!isFlagged ? (\n                            <Trans>Flag this resource</Trans>\n                          ) : (\n                            <Trans>Unflag this resource</Trans>\n                          )}\n                        </Text>\n                      </DropdownItem>\n                    )}\n                  </Dropdown>\n                </Right>\n              )}\n            </MoreItem>\n          </Actions>\n        )}\n      </Meta>\n    </Bordered>\n  );\n};\n\nconst Right = styled(Box)`\n  .dropdown {\n    right: 0;\n    left: auto;\n  }\n`;\n\nconst Meta = styled(Flex)`\n  align-items: center;\n`;\n\nconst Collection = styled(Flex)`\n  flex: 1;\n  a {\n    text-decoration: underline;\n    font-weight: 600;\n    color: ${props => props.theme.colors.dark};\n  }\n`;\n\nconst Summary = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n  word-break: break-word;\n`;\nconst ActionText = styled(Text)`\n  font-size: ${typography.size.s1};\n  color: ${props => props.theme.colors.darker};\n`;\nconst ActionIcon = styled(Box)`\n  width: 30px;\n  height: 30px;\n  border-radius: 99999px;\n  display: inline-flex;\n  align-items: center;\n  align-content: center;\n  text-align: center;\n  margin-left: -8px;\n  svg {\n    margin: 0 auto;\n  }\n`;\n\nconst LinkResource = styled(Box)`\n  align-items: center;\n  color: ${props => props.theme.colors.mediumdark};\n  cursor: pointer;\n  font-size: ${typography.size.s2};\n  text-decoration: none;\n  margin-top: 4px;\n\n  a {\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n    text-decoration: none;\n  }\n`;\n\nconst Actions = styled(Flex)`\n  justify-content: start;\n  padding: 8px;\n  padding-top: 0;\n`;\n\nconst MoreItem = styled(Flex)`\n  align-items: center;\n  cursor: pointer;\n  margin-right: 8px;\n  margin-left: 8px;\n`;\n\nconst ActionItem = styled(Flex)<{ liked?: boolean; bordered?: boolean }>`\n  align-items: center;\n  color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  div {\n    color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  cursor: pointer;\n  background: ${props => (props.liked ? props.theme.colors.primary : 'transparent')};\n  border: 1px solid ${props => (props.liked ? props.theme.colors.primary : 'transparent')};\n  border: 1px solid ${props => (props.bordered ? props.theme.colors.primary : 'transparent')};\n  border-radius: 4px;\n  padding: 0 8px;\n  margin-right: 8px;\n  text-align: center;\n  font-size: ${typography.size.s1};\n  svg {\n    stroke: none;\n    fill: ${props => (props.liked ? props.theme.colors.lightest : props.theme.colors.primary)};\n  }\n  a {\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n  }\n  &:hover {\n    svg {\n      fill: ${props => (props.liked ? props.theme.colors.lightest : props.theme.colors.lightest)};\n    }\n    div {\n      color: ${props => (props.liked ? props.theme.colors.lightest : props.theme.colors.lightest)};\n    }\n    color: ${props => (props.liked ? props.theme.colors.lightest : props.theme.colors.lightest)};\n    background: ${props =>\n      props.liked ? props.theme.colors.mediumdark : props.theme.colors.primary};\n    border-color: ${props =>\n      props.liked ? props.theme.colors.mediumdark : props.theme.colors.primary};\n  }\n`;\n\nconst TypeItem = styled(Text)`\n  border-radius: 5px;\n  color: ${props => props.theme.colors.dark};\n  text-transform: uppercase;\n  border-radius: 4px;\n  padding: 4px 8px;\n  font-weight: 600;\n  cursor: default;\n  margin-right: 4px;\n  display: inline-flex;\n  border: 1px solid ${props => props.theme.colors.secondary};\n`;\n\nconst ResourceThumb = styled(Box)<{ bg?: string }>`\n  border-radius: 4px;\n  min-width: 140px;\n  height: 140px;\n  display: flex;\n  align-items: center;\n\n  vertical-align: text-center;\n  background-color: ${props => props.theme.colors.light};\n`;\n\nconst IconWrapper = styled.div`\n  margin: auto;\n  & svg {\n    stroke: ${props => props.theme.colors.medium};\n  }\n`;\n\n// const ResourceType = styled(Text)`\n//   border-radius: 5px;\n//   color: ${props => props.theme.colors.primary};\n//   text-transform: uppercase;\n//   border-radius: 10px;\n//   border: 1px solid;\n//   padding: 0px 6px;\n//   cursor: default;\n//   margin-right: 6px;\n//   display: inline-flex;\n// `;\n\nconst TextLink = styled(Text)`\n  ${ellipsis('380px')};\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst Bordered = styled(Box)`\n  border: ${props => props.theme.colors.border};\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n  box-shadow: 0px 2px 4px 0px #0000001f;\n`;\n\nconst TitleLink = styled.a`\n  text-decoration: none;\n  color: ${props => props.theme.colors.darker};\n\n  svg {\n    margin: 0px;\n    margin-right: 5px;\n    display: inline-flex;\n    position: relative;\n    top: 2px;\n  }\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst Wrapper = styled(Flex)`\n  position: relative;\n  text-decoration: none;\n  background: ${props => props.theme.colors.appInverse};\n  margin-top: 0;\n  border-radius: 6px;\n`;\n\nconst Infos = styled(Box)`\n  flex: 1;\n  position: relative;\n  div {\n    text-decoration: none;\n  }\n`;\nconst Title = styled(Heading)`\n  color: ${props => props.theme.colors.darker};\n  text-decoration: none;\n`;\n","import { MoodlePanelHOC } from 'HOC/modules/MoodlePanel/MoodlePanel';\nimport { useResourcePreview } from 'fe/resource/preview/useResourcePreview';\nimport { useFormik } from 'formik';\nimport { Resource } from 'graphql/types.generated';\nimport { resourceGql2lms } from 'fe/lib/moodleLMS/mappings/gql2LMS';\nimport { useNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { FlagModalHOC } from 'HOC/modules/FlagModal/flagModalHOC';\n// import { accepted_license_types } from 'mn-constants';\nimport React, { FC, useMemo, useReducer } from 'react';\nimport { collectionLocation } from 'routes/CollectionPageRoute';\nimport Modal from 'ui/modules/Modal';\nimport {\n  Props as ResourcePreviewProps,\n  Resource as ResourcePreviewUI\n} from 'ui/modules/Previews/Resource';\nimport { ResourcePreviewFragment } from './ResourcePreview.generated';\n\nexport interface Props {\n  resourceId: Resource['id'];\n  flagged?: boolean;\n}\n\nexport const ResourcePreviewHOC: FC<Props> = ({ resourceId, flagged }) => {\n  const { resource, toggleLike } = useResourcePreview(resourceId);\n\n  const toggleLikeFormik = useFormik({\n    initialValues: {},\n    onSubmit: toggleLike\n  });\n  const notifyMustLogin = useNotifyMustLogin();\n  const [isOpenDropdown, toggleDropdown] = useReducer(is => !is, false);\n  const [isOpenSendToMoodle, toggleSendToMoodleModal] = useReducer(is => !is, false);\n  const [isOpenFlag, toggleFlagModal] = useReducer(is => (notifyMustLogin() ? false : !is), false);\n  const resourcePreviewProps = useMemo<ResourcePreviewProps | null>(() => {\n    if (!resource) {\n      return null;\n    }\n    const hideActions = flagged ? true : false;\n    return {\n      ...resourceFragment2UIProps({\n        resource,\n        like: {\n          iLikeIt: !!resource.myLike,\n          toggleLikeFormik,\n          totalLikes: resource.likers?.totalCount || 0\n        },\n        hideActions\n      }),\n      isOpenDropdown,\n      toggleDropdown,\n      sendToMoodle: toggleSendToMoodleModal,\n      toggleFlag: toggleFlagModal\n    };\n  }, [resource, flagged, toggleLikeFormik, isOpenDropdown]);\n\n  const FlagModal =\n    isOpenFlag && resource ? (\n      <Modal closeModal={toggleFlagModal}>\n        <FlagModalHOC done={toggleFlagModal} ctx={resource} />\n      </Modal>\n    ) : null;\n\n  const resourceLMS = useMemo(() => resourceGql2lms(resource), [resource]);\n  const MoodleModal =\n    resourceLMS && isOpenSendToMoodle ? (\n      <Modal closeModal={toggleSendToMoodleModal}>\n        <MoodlePanelHOC done={toggleSendToMoodleModal} resource={resourceLMS} />\n      </Modal>\n    ) : null;\n  return (\n    resourcePreviewProps && (\n      <>\n        {FlagModal}\n        {MoodleModal}\n        <ResourcePreviewUI {...resourcePreviewProps} />\n      </>\n    )\n  );\n};\n\nexport const resourceFragment2UIProps = (args: {\n  resource: ResourcePreviewFragment;\n  like: ResourcePreviewProps['like'];\n  // FlagModal: ResourcePreviewProps['FlagModal'];\n  // MoodlePanel: ResourcePreviewProps['MoodlePanel'];\n  hideActions: boolean;\n}) => {\n  const { /* FlagModal, MoodlePanel, */ hideActions, like, resource } = args;\n  const props: Omit<\n    ResourcePreviewProps,\n    'isOpenDropdown' | 'toggleDropdown' | 'sendToMoodle' | 'toggleFlag'\n  > = {\n    icon: resource.icon?.url || '',\n    link: resource.payload?.url || '',\n    name: resource.name || '',\n    summary: resource.summary || '',\n    like,\n    isFile: !!resource.payload?.upload,\n    //acceptedLicenses: accepted_license_types,\n    license: resource.license || null,\n    isFlagged: !!resource.myFlag,\n    //FlagModal,\n    // sendToMoodle,\n    // MoodlePanel,\n    // type: resource.payload?.mediaType,\n    hideActions: hideActions,\n    collectionName: resource.collection?.name || '',\n    collectionLink: collectionLocation.getPath(\n      { collectionId: resource.collection?.id || '', tab: undefined },\n      undefined\n    )\n  };\n  return props;\n};\n","import { Trans } from '@lingui/macro';\nimport DOMPurify from 'dompurify';\nimport { typography } from 'mn-constants';\nimport React from 'react';\nimport { CornerDownLeft, Star } from 'react-feather';\nimport { NavLink } from 'react-router-dom';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport styled from 'ui/themes/styled';\nimport { ActorComp } from '../ActivityPreview';\nimport { Actor } from '../ActivityPreview/types';\n\nexport interface LikeActions {\n  toggleLikeFormik: FormikHook<{}>;\n  totalLikes: number;\n  iLikeIt: boolean;\n}\nexport interface ReplyActions {\n  replyFormik: FormikHook<{ replyMessage: string }>;\n}\nexport interface CommentProps {\n  like: LikeActions;\n  content: string;\n  actor: Actor;\n  createdAt: string;\n  communityName: string;\n  communityLink: string;\n  hideActions?: boolean;\n  url: string;\n}\n\nexport const LikedComment: React.SFC<CommentProps> = ({\n  content,\n  like,\n  actor,\n  createdAt,\n  communityName,\n  communityLink,\n  hideActions,\n  url\n}) => {\n  return (\n    <Wrapper pl={2}>\n      <ActorComp\n        actor={actor}\n        createdAt={createdAt}\n        event={''}\n        communityName={communityName}\n        communityLink={communityLink}\n      />\n      <Summary\n        dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(content) }}\n        sx={{ textDecoration: 'none' }}\n        variant=\"text\"\n        mb={2}\n      />\n      <Actions mt={2}>\n        {hideActions ? null : (\n          <Box>\n            <Items>\n              <ActionItem>\n                <NavLink to={url}>\n                  <ActionIcon>\n                    <CornerDownLeft\n                      className=\"hover\"\n                      strokeWidth=\"1\"\n                      color=\"rgba(0,0,0,.4)\"\n                      size=\"18\"\n                    />\n                  </ActionIcon>\n                  <ActionText\n                    ml={1}\n                    variant={'text'}\n                    sx={{ textTransform: 'capitalize', textDecoration: 'none' }}\n                  >\n                    <Trans>Reply</Trans>\n                  </ActionText>\n                </NavLink>\n              </ActionItem>\n              <ActionItem\n                liked={like.iLikeIt ? true : false}\n                onClick={like.toggleLikeFormik.submitForm}\n              >\n                <ActionIcon>\n                  <Star strokeWidth=\"1\" size=\"18\" />\n                </ActionIcon>\n                <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  {like.totalLikes + ' '} <Trans>Star</Trans>\n                </ActionText>\n              </ActionItem>\n            </Items>\n          </Box>\n        )}\n      </Actions>\n    </Wrapper>\n  );\n};\n\nconst Summary = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n`;\n\nconst Items = styled(Flex)`\n  flex: 1;\n  justify-content: start;\n`;\n\nconst Actions = styled(Box)`\n  position: relative;\n  z-index: 999999999999999999999999999999999999;\n`;\n\nconst ActionItem = styled(Flex)<{ liked?: boolean }>`\n  align-items: center;\n  color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  div {\n    color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  cursor: pointer;\n  background: ${props =>\n    props.liked ? props.theme.colors.secondary : props.theme.colors.mediumlight};\n  border-radius: 4px;\n  padding: 0 8px;\n  margin-right: 8px;\n  text-align: center;\n  font-size: ${typography.size.s1};\n  svg {\n    stroke: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  a {\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n  }\n  &:hover {\n    svg.hover {\n      stroke: ${props => props.theme.colors.mediumdark};\n      // fill: ${props => props.theme.colors.mediumdark};\n    }\n  }\n`;\n\nconst ActionIcon = styled(Box)`\n  width: 30px;\n  height: 30px;\n  border-radius: 99999px;\n  display: inline-flex;\n  align-items: center;\n  align-content: center;\n  text-align: center;\n  margin-left: -8px;\n  svg {\n    margin: 0 auto;\n  }\n`;\n\nconst ActionText = styled(Text)`\n  font-size: ${typography.size.s1};\n`;\n\nconst Wrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  border-left: 3px solid ${props => props.theme.colors.light};\n`;\n","import { useCommentPreview } from 'fe/comment/preview/useCommentPreview';\nimport { Comment } from 'graphql/types.generated';\nimport React, { FC, useMemo } from 'react';\nimport {\n  LikedComment as LikedCommentPreviewUI,\n  CommentProps as LikedCommentProps\n} from 'ui/modules/Previews/LikedComment';\nimport { useFormik } from 'formik';\nimport { getCommunityInfoStrings } from 'fe/lib/activity/getContextCommunityInfo';\nimport { getActivityActor } from 'fe/lib/activity/getActivityActor';\nimport { threadLocation } from 'routes/ThreadPageRoute';\n\nexport interface LikedCommentPreviewHOC {\n  commentId: Comment['id'];\n}\n\nexport const LikedCommentPreviewHOC: FC<LikedCommentPreviewHOC> = ({ commentId }) => {\n  const { comment, toggleLike /* reply */ } = useCommentPreview(commentId);\n  const toggleLikeFormik = useFormik({\n    initialValues: {},\n    onSubmit: toggleLike\n  });\n\n  // const replyFormik = useFormik<{ replyMessage: string }>({\n  //   initialValues: { replyMessage: '' },\n  //   onSubmit: ({ replyMessage }) => reply(replyMessage)\n  // });\n\n  const likedCommentPreviewProps = useMemo<LikedCommentProps | null>(() => {\n    if (!comment) {\n      return null;\n    }\n    const { communityLink, communityName } = getCommunityInfoStrings(comment);\n    const props: LikedCommentProps = {\n      url: comment.thread ? threadLocation.getPath({ threadId: comment.thread.id }, undefined) : '',\n      communityLink,\n      communityName,\n      actor: comment.creator ? getActivityActor(comment.creator) : { icon: '', link: '', name: '' },\n      createdAt: comment.createdAt,\n      content: comment.content,\n      like: {\n        iLikeIt: !!comment.myLike,\n        totalLikes: comment.likerCount || 0,\n        toggleLikeFormik\n      }\n    };\n    return props;\n  }, [comment, toggleLikeFormik]);\n\n  return likedCommentPreviewProps && <LikedCommentPreviewUI {...likedCommentPreviewProps} />;\n};\n","import React, { FC } from 'react';\nimport { ActivityContextPreviewFragment } from 'fe/lib/activity/types';\nimport { CollectionPreviewHOC } from '../collection/CollectionPreview';\nimport { CommentPreviewHOC } from '../comment/CommentPreview';\nimport { CommunityPreviewHOC } from '../community/CommunityPreview';\nimport { ResourcePreviewHOC } from '../resource/ResourcePreview';\nimport { UserPreviewHOC } from '../user/UserPreview';\nimport { LikedCommentPreviewHOC } from '../commentLiked/CommentLikedPreview';\nimport { getActivityMainContext } from 'fe/lib/activity/getActivityMainContext';\n\nexport const PreviewComponent: FC<{\n  context: ActivityContextPreviewFragment;\n  flagged?: boolean;\n}> = ({ context, flagged }) => {\n  if (context.__typename === 'Collection') {\n    if (flagged) {\n      return <CollectionPreviewHOC collectionId={context.id} flagged={flagged} />;\n    } else {\n      return <CollectionPreviewHOC collectionId={context.id} />;\n    }\n  } else if (context.__typename === 'Comment') {\n    return <CommentPreviewHOC commentId={context.id} mainComment={false} />;\n  } else if (context.__typename === 'Community') {\n    if (flagged) {\n      return <CommunityPreviewHOC communityId={context.id} flagged={flagged} />;\n    } else {\n      return <CommunityPreviewHOC communityId={context.id} />;\n    }\n  } else if (context.__typename === 'Resource') {\n    if (flagged) {\n      return <ResourcePreviewHOC resourceId={context.id} flagged={flagged} />;\n    } else {\n      return <ResourcePreviewHOC resourceId={context.id} />;\n    }\n  } else if (context.__typename === 'User') {\n    if (flagged) {\n      return <UserPreviewHOC userId={context.userId} flagged={flagged} />;\n    } else {\n      return <UserPreviewHOC userId={context.userId} />;\n    }\n  } else {\n    if (context.__typename === 'Like' && context.context?.__typename === 'Comment') {\n      return <LikedCommentPreviewHOC commentId={context.context.id} />;\n    } else {\n      const mainContext = context !== undefined && getActivityMainContext(context);\n      return mainContext ? <PreviewComponent context={mainContext} /> : null;\n    }\n  }\n};\n","import { Trans } from '@lingui/macro';\nimport { ellipsis } from 'polished';\nimport * as React from 'react';\nimport { Link } from 'react-feather';\nimport { Route, Switch } from 'react-router-dom';\nimport { Box, Flex, Text } from 'rebass/styled-components';\n// import { Header } from 'ui/modules/Header';\nimport { FormikHook } from 'ui/@types/types';\nimport {\n  CollectionsWrapper,\n  HomeBox,\n  List,\n  MainContainer,\n  MenuList,\n  MenuItem,\n  ObjectsList,\n  WrapperCont,\n  ButtonIcon\n} from 'ui/elements/Layout';\nimport { Nav, NavItem, Panel, PanelTitle, WrapperPanel } from 'ui/elements/Panel';\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport styled from 'ui/themes/styled';\nimport { ReactElement } from 'react';\n\nexport interface Props {\n  ActivityBoxes: ReactElement;\n  LikesBoxes: ReactElement; // FIX ME remove ? after add LikesBoxes at HOC\n  HeroUserBox: ReactElement;\n  CommunityBoxes: ReactElement;\n  CollectionsBoxes: ReactElement;\n  UserBoxes: ReactElement;\n  InventoryBoxes: ReactElement;\n  basePath: string;\n  totalCommunities: string;\n  totalActivities: string;\n  totalCollections: string;\n  totalUsers: string;\n  userLink: string;\n  userName: string;\n  loadMoreActivities: FormikHook | null;\n  loadMoreLikes: FormikHook | null;\n  loadMoreCommunities: FormikHook | null;\n  loadMoreCollections: FormikHook | null;\n  loadMoreFollowing: FormikHook | null;\n}\n\nconst UsersIcon = require('react-feather/dist/icons/users').default;\nconst StartedIcon = require('react-feather/dist/icons/pie-chart').default;\nconst ActivityIcon = require('react-feather/dist/icons/activity').default;\nconst PackageIcon = require('react-feather/dist/icons/package').default;\n\nexport const User: React.FC<Props> = ({\n  HeroUserBox,\n  LikesBoxes,\n  ActivityBoxes,\n  CommunityBoxes,\n  CollectionsBoxes,\n  InventoryBoxes,\n  basePath,\n  totalCommunities,\n  userLink,\n  totalCollections,\n  totalUsers,\n  loadMoreActivities,\n  loadMoreLikes,\n  loadMoreCommunities,\n  loadMoreCollections\n}) => {\n  return (\n    <MainContainer>\n      <HomeBox>\n        <WrapperCont>\n          <Box mb={2}>\n            {/* <Header name={userName} /> */}\n            {HeroUserBox}\n            <Menu\n              basePath={basePath}\n              totalCommunities={totalCommunities}\n              totalCollections={totalCollections}\n              totalUsers={totalUsers}\n            />\n          </Box>\n          <Switch>\n            <Route path={`${basePath}/inventory`}>{InventoryBoxes}</Route>\n            <Route exact path={`${basePath}/`}>\n              <List>{ActivityBoxes}</List>\n              {loadMoreActivities && <LoadMore LoadMoreFormik={loadMoreActivities} />}\n            </Route>\n            <Route exact path={`${basePath}/starred`}>\n              <List>{LikesBoxes}</List>\n              {loadMoreLikes && <LoadMore LoadMoreFormik={loadMoreLikes} />}\n            </Route>\n            <Route path={`${basePath}/communities`}>\n              <ObjectsList>{CommunityBoxes}</ObjectsList>\n              {loadMoreCommunities && <LoadMore LoadMoreFormik={loadMoreCommunities} />}\n            </Route>\n            <Route path={`${basePath}/collections`}>\n              <ObjectsList>\n                <CollectionsWrapper>{CollectionsBoxes}</CollectionsWrapper>\n              </ObjectsList>\n              {loadMoreCollections && <LoadMore LoadMoreFormik={loadMoreCollections} />}\n            </Route>\n            {/* <Route path={`${basePath}/following`}>\n                {UserBoxes}\n                {loadMoreFollowing ? (\n                  <LoadMore LoadMoreFormik={loadMoreFollowing} />\n                ) : null}{' '} */}\n            {/* FIX ME after add LoadMoreFormik */}\n            {/* </Route> */}\n          </Switch>\n        </WrapperCont>\n      </HomeBox>\n      <WrapperPanel>\n        {userLink.length > 0 ? (\n          <Panel>\n            <PanelTitle fontWeight={'bold'}>Relevant links</PanelTitle>\n            <Nav>\n              <NavItem>\n                <Flex>\n                  <Link size={20} />{' '}\n                  <a href={userLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                    <TextLink ml={2} flex={1}>\n                      {userLink}\n                    </TextLink>\n                  </a>\n                </Flex>\n              </NavItem>\n            </Nav>\n          </Panel>\n        ) : null}\n      </WrapperPanel>\n    </MainContainer>\n  );\n};\n\nconst Menu = ({\n  basePath,\n  totalCommunities\n}: {\n  basePath: string;\n  totalCommunities: string;\n  totalCollections: string;\n  totalUsers: string;\n}) => {\n  return (\n    <MenuList p={3} pt={3}>\n      <MenuItem exact to={`${basePath}`}>\n        <div className=\"text-holder\">\n          <Trans>Recent activity</Trans>\n        </div>\n        <ButtonIcon className=\"icon-holder\">\n          <ActivityIcon size=\"24\" />\n        </ButtonIcon>\n      </MenuItem>\n      <MenuItem exact to={`${basePath}/starred`}>\n        <div className=\"text-holder\">\n          <Trans>Starred</Trans>\n        </div>\n        <ButtonIcon className=\"icon-holder\">\n          <StartedIcon size=\"24\" />\n        </ButtonIcon>\n      </MenuItem>\n      <MenuItem exact to={`${basePath}/communities`}>\n        <div className=\"text-holder\">\n          <Trans>{totalCommunities} communities</Trans>\n        </div>\n        <ButtonIcon className=\"icon-holder\">\n          <UsersIcon size=\"24\" />\n        </ButtonIcon>\n      </MenuItem>\n      <MenuItem exact to={`${basePath}/inventory`}>\n        <div className=\"text-holder\">\n          <Trans>Inventory</Trans>\n        </div>\n        <ButtonIcon className=\"icon-holder\">\n          <PackageIcon size=\"24\" />\n        </ButtonIcon>\n      </MenuItem>\n    </MenuList>\n  );\n};\n\nconst TextLink = styled(Text)`\n  ${ellipsis('250px')};\n  color: ${props => props.theme.colors.dark};\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Box, Text } from 'rebass/styled-components';\nimport { PrimaryAccountable } from 'HOC/pages/inventory/InventoryPage';\nimport Avatar from '../../../elements/Avatar';\nimport { Title } from '../../../pages/resource';\nimport styled from '../../../themes/styled';\n\nexport interface Props {\n  data?: PrimaryAccountable;\n}\n\nconst PrimaryAccountablePerson: React.FC<Props> = ({ data }) => {\n  return (\n    <PersonWrapper>\n      <Box mb={2} style={{ display: 'flex' }}>\n        <Avatar size=\"default\" src={`${process.env.REACT_APP_UPLOADS}/${data?.image}`} />\n        <div className=\"wrapper_info\">\n          <b>\n            <Trans>Primary Accountable: </Trans>\n          </b>\n          <Title variant=\"heading\">\n            <Trans>{data?.name}</Trans>\n          </Title>\n          <Trans>\n            <Text variant=\"text\">\n              <b>Relationships As Object: </b>\n              {data?.relationshipsAsObject + ''}\n            </Text>\n          </Trans>\n        </div>\n      </Box>\n    </PersonWrapper>\n  );\n};\n\nexport default PrimaryAccountablePerson;\n\nexport const PersonWrapper = styled('div')`\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-radius: 4px;\n  border: 1px solid #eee;\n  padding: 10px;\n  width: 100%;\n\n  .d-flex {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .wrapper_info {\n    margin-left: 20px;\n  }\n\n  .intent {\n    padding: 10px 0;\n    &:not(:last-child) {\n      border-bottom: 1px solid #eee;\n    }\n  }\n`;\n","import { Trans } from '@lingui/macro';\nimport { ApolloError } from 'apollo-client';\nimport * as React from 'react';\nimport { Box, Text } from 'rebass/styled-components';\nimport { Link } from 'react-router-dom';\nimport { EconomicResource } from '../../../HOC/pages/inventory/InventoryPage';\nimport { HomeBox, MainContainer, Wrapper, WrapperCont } from 'ui/elements/Layout';\nimport Button from 'ui/elements/Button';\nimport { PersonWrapper } from '../../modules/Resource/PrimaryAccountablePerson';\nimport styled from '../../themes/styled';\nimport { Map } from 'ui/elements/Map';\nimport media from 'styled-media-query';\nimport { format } from 'date-fns';\n\nconst ArrowDownIcon = require('react-feather/dist/icons/chevron-down').default;\nconst ArrowUpIcon = require('react-feather/dist/icons/chevron-up').default;\nconst MapIcon = require('react-feather/dist/icons/map').default;\nconst BoxIcon = require('react-feather/dist/icons/box').default;\nconst PenIcon = require('react-feather/dist/icons/edit').default;\nconst EditIcon = require('react-feather/dist/icons/edit-3').default;\nconst UserIcon = require('react-feather/dist/icons/user').default;\nconst ClockIcon = require('react-feather/dist/icons/clock').default;\nconst RemoveIcon = require('react-feather/dist/icons/trash-2').default;\nconst EyeIcon = require('react-feather/dist/icons/eye').default;\nconst Calendar = require('react-feather/dist/icons/calendar').default;\n\nconst QRCode = require('qrcode.react');\n\nexport interface Props {\n  openEditModal: () => void;\n  openUpdateResourceModal: () => void;\n  openDeleteResourceModal: () => void;\n  resource?: EconomicResource | any;\n  error?: ApolloError | undefined;\n  loading: boolean;\n}\n\nexport const ResourceItem: React.FC<Props> = ({\n  resource,\n  openEditModal,\n  openUpdateResourceModal,\n  openDeleteResourceModal\n}) => {\n  const URL = window.location.href;\n\n  const [showList, setShowList] = React.useState({\n    first: false,\n    second: false\n  });\n\n  return (\n    <MainContainer>\n      <HomeBox>\n        <WrapperCont>\n          <Wrapper>\n            <ActionsWrapper>\n              <Button mr={2} onClick={openEditModal} variant=\"button\">\n                <Trans>Perform event</Trans>\n              </Button>\n              <Button ml={2} onClick={openUpdateResourceModal} variant=\"error\">\n                <EditIcon size=\"16\" className=\"ml-2\" /> <Trans>Edit</Trans>\n              </Button>\n              <Button ml={2} onClick={openDeleteResourceModal} variant=\"error\">\n                <RemoveIcon size=\"16\" className=\"ml-2\" /> <Trans>Delete</Trans>\n              </Button>\n            </ActionsWrapper>\n            <InventoryWrapper>\n              <LeftColWrapper>\n                <ImageWrapper>\n                  {resource?.image && <img src={resource.image} alt={resource.name} />}\n                </ImageWrapper>\n                <QRCodeWrapper>{resource?.id && <QRCode value={URL} />}</QRCodeWrapper>\n              </LeftColWrapper>\n              <InfoWrapper>\n                <Box mb={2}>\n                  <Title variant=\"heading\">\n                    {' '}\n                    <Trans>{resource && resource.name}</Trans>\n                  </Title>\n                </Box>\n                <Box>\n                  <Text variant=\"text\">\n                    <Icon>\n                      <PenIcon size=\"16\" />\n                    </Icon>\n                    <b>\n                      <Trans>Note:</Trans>{' '}\n                    </b>{' '}\n                    <Trans>{resource?.note ? resource.note : 'Not provided'}</Trans>\n                  </Text>\n                </Box>\n                <Box>\n                  <Text variant=\"text\">\n                    <Icon>\n                      <MapIcon size=\"16\" />\n                    </Icon>\n                    <b>\n                      <Trans>Location:</Trans>\n                    </b>{' '}\n                    {resource?.currentLocation?.name\n                      ? resource.currentLocation.name\n                      : 'Not provided'}\n                  </Text>\n                </Box>\n                <Box>\n                  <Text variant=\"text\">\n                    <Icon>\n                      <BoxIcon size=\"16\" />\n                    </Icon>\n                    <b>Quantity in stock:</b>{' '}\n                    <span\n                      style={{\n                        color:\n                          resource?.onhandQuantity && resource.onhandQuantity.hasNumericalValue < 0\n                            ? 'red'\n                            : 'inherit'\n                      }}\n                    >\n                      {resource?.onhandQuantity\n                        ? `${resource?.onhandQuantity?.hasNumericalValue} ${resource?.onhandQuantity?.hasUnit.label}`\n                        : 'Not provided'}\n                    </span>\n                  </Text>\n                </Box>\n                <Box>\n                  <Text variant=\"text\">\n                    <Icon>\n                      <UserIcon size=\"16\" />\n                    </Icon>\n                    <b>\n                      <Trans>Owner:</Trans>\n                    </b>{' '}\n                    {resource?.primaryAccountable\n                      ? resource?.primaryAccountable.name\n                      : 'Not provided'}\n                  </Text>\n                </Box>\n                <Box p={3}>\n                  <Text variant=\"subhead\">\n                    <Icon>\n                      <ClockIcon size=\"16\" />\n                    </Icon>\n                    History:{' '}\n                    {resource?.track.length > 0 || resource?.trace.length > 0\n                      ? ''\n                      : 'Not available'}\n                  </Text>\n                </Box>\n                {resource?.track.map((track: any) => {\n                  return (\n                    <TrackWrapper key={track.id}>\n                      <Badge>\n                        {track.action ? (\n                          <Trans>{track.action.label}</Trans>\n                        ) : (\n                          <Trans>Not provided</Trans>\n                        )}\n                      </Badge>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <EyeIcon size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>Result: </Trans>\n                          </b>{' '}\n                          {track.toResourceInventoriedAs ? (\n                            <Link\n                              to={`/resource/${track.toResourceInventoriedAs.id}`}\n                              key={track.toResourceInventoriedAs.id}\n                            >\n                              {track.toResourceInventoriedAs.name}\n                            </Link>\n                          ) : (\n                            'Not available'\n                          )}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <PenIcon size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>Track note: </Trans>\n                          </b>{' '}\n                          {track.note ? track.note : 'Not provided'}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <Calendar size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>Event Date: </Trans>\n                          </b>{' '}\n                          {track.hasPointInTime\n                            ? format(new Date(track.hasPointInTime), 'dd.MM.yyyy')\n                            : 'Not provided'}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <BoxIcon size=\"16\" />\n                          </Icon>\n                          <b>Quantity: </b>{' '}\n                          {`${track.resourceQuantity?.hasNumericalValue} ${track.resourceQuantity?.hasUnit.label}`}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <UserIcon size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>Provider:</Trans>\n                          </b>{' '}\n                          {track.provider ? (\n                            <Link to={`/user/${track.provider.id}`} key={track.provider.id}>\n                              {track.provider.name}\n                            </Link>\n                          ) : (\n                            'Not available'\n                          )}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <UserIcon size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>Receiver:</Trans>\n                          </b>{' '}\n                          {track.receiver ? (\n                            <Link to={`/user/${track.receiver.id}`} key={track.receiver.id}>\n                              {track.receiver.name}\n                            </Link>\n                          ) : (\n                            'Not available'\n                          )}\n                        </Text>\n                      </Box>\n                    </TrackWrapper>\n                  );\n                })}\n                {resource?.trace.map((trace: any) => {\n                  return (\n                    <TrackWrapper key={trace.id}>\n                      <Badge>\n                        {trace.action ? (\n                          <Trans>{trace.action.label}</Trans>\n                        ) : (\n                          <Trans>Not provided</Trans>\n                        )}\n                      </Badge>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <EyeIcon size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>Source: </Trans>\n                          </b>{' '}\n                          {trace.resourceInventoriedAs ? (\n                            <Link\n                              to={`/resource/${trace.resourceInventoriedAs.id}`}\n                              key={trace.resourceInventoriedAs.id}\n                            >\n                              {trace.resourceInventoriedAs.name}\n                            </Link>\n                          ) : (\n                            'Not available'\n                          )}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <PenIcon size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>trace note: </Trans>\n                          </b>{' '}\n                          {trace.note ? trace.note : 'Not provided'}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <BoxIcon size=\"16\" />\n                          </Icon>\n                          <b>Quantity:</b>{' '}\n                          {`${trace.resourceQuantity?.hasNumericalValue} ${trace.resourceQuantity?.hasUnit.label}`}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <UserIcon size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>Provider:</Trans>\n                          </b>{' '}\n                          {trace.provider ? (\n                            <Link to={`/user/${trace.provider.id}`} key={trace.provider.id}>\n                              {trace.provider.name}\n                            </Link>\n                          ) : (\n                            'Not available'\n                          )}\n                        </Text>\n                      </Box>\n                      <Box mr={1}>\n                        <Text variant=\"text\">\n                          <Icon>\n                            <UserIcon size=\"16\" />\n                          </Icon>\n                          <b>\n                            <Trans>Receiver:</Trans>\n                          </b>{' '}\n                          {trace.receiver ? (\n                            <Link to={`/user/${trace.receiver.id}`} key={trace.receiver.id}>\n                              {trace.receiver.name}\n                            </Link>\n                          ) : (\n                            'Not available'\n                          )}\n                        </Text>\n                      </Box>\n                    </TrackWrapper>\n                  );\n                })}\n                <Box p={3}>\n                  <Text variant=\"subhead\">\n                    <Icon>\n                      <MapIcon size=\"16\" />\n                    </Icon>\n                    Location:\n                  </Text>\n                </Box>\n                <Map\n                  zoom={13}\n                  markers={[\n                    {\n                      position: {\n                        lng: resource?.currentLocation?.long || 2.2,\n                        lat: resource?.currentLocation?.lat || 41.4\n                      }\n                    }\n                  ]}\n                ></Map>\n                <PersonWrapper>\n                  <div className=\"d-flex\">\n                    <Text variant=\"heading\">\n                      <Trans>More info</Trans>\n                    </Text>\n                    <Button\n                      mr={2}\n                      onClick={() =>\n                        setShowList({\n                          ...showList,\n                          first: !showList.first\n                        })\n                      }\n                      variant=\"show-more\"\n                    >\n                      {showList.first ? (\n                        <>\n                          <ArrowUpIcon size=\"16\" />\n                          <Trans>Hide data</Trans>\n                        </>\n                      ) : (\n                        <>\n                          <ArrowDownIcon size=\"16\" />\n                          <Trans>Show data</Trans>\n                        </>\n                      )}\n                    </Button>\n                  </div>\n\n                  {showList.first ? (\n                    <div>\n                      <div className=\"intent\">\n                        <Text variant=\"text\">\n                          <b>\n                            <Trans>contained In:</Trans>\n                          </b>{' '}\n                          {resource?.containedIn + ''}\n                        </Text>\n                      </div>\n                      <div className=\"intent\">\n                        <Text variant=\"text\">\n                          <b>\n                            <Trans>contains:</Trans>\n                          </b>{' '}\n                          {resource?.contains + ''}\n                        </Text>\n                      </div>\n                      <div className=\"intent\">\n                        <Text variant=\"text\">\n                          <b>\n                            <Trans>lot:</Trans>\n                          </b>{' '}\n                          {resource?.lot + ''}\n                        </Text>\n                      </div>\n                      <div className=\"intent\">\n                        <Text variant=\"text\">\n                          <b>\n                            <Trans>stage:</Trans>\n                          </b>{' '}\n                          {resource?.stage + ''}\n                        </Text>\n                      </div>\n                      <div className=\"intent\">\n                        <Text variant=\"text\">\n                          <b>\n                            <Trans>trace length:</Trans>\n                          </b>{' '}\n                          {resource?.trace.length}\n                        </Text>\n                      </div>\n                      <div className=\"intent\">\n                        <Text variant=\"text\">\n                          <b>\n                            <Trans>tracking Identifier:</Trans>\n                          </b>{' '}\n                          {resource?.trackingIdentifier + ''}\n                        </Text>\n                      </div>\n                      <div className=\"intent\">\n                        <Text variant=\"text\">\n                          <b>\n                            <Trans>unit Of Effort:</Trans>\n                          </b>{' '}\n                          {resource?.unitOfEffort + ''}\n                        </Text>\n                      </div>\n                    </div>\n                  ) : null}\n                </PersonWrapper>\n              </InfoWrapper>\n            </InventoryWrapper>\n          </Wrapper>\n        </WrapperCont>\n      </HomeBox>\n    </MainContainer>\n  );\n};\n\nexport const Badge = styled(Text)`\n  background: ${props => props.theme.colors.primary};\n  color: ${props => props.theme.colors.light};\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 10px;\n  border-radius: 4px;\n  padding: 3px 5px;\n  width: auto;\n  display: inline-block;\n  margin-bottom: 10px;\n`;\nexport const Title = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n  text-decoration: none !important;\n`;\n\nexport const Icon = styled(Box)`\n  width: 30px;\n  display: inline-block;\n  svg {\n    stroke: ${props => props.theme.colors.mediumdark};\n  }\n`;\n\nexport const InventoryWrapper = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 0;\n  background: #fff;\n  height: auto;\n  padding: 1em;\n  margin-bottom: 10px;\n\n  ${media.lessThan('medium')`\n        display: block;\n      `};\n`;\n\nexport const LeftColWrapper = styled('div')`\n  ${media.lessThan('medium')`\n        display: flex;\n        margin-bottom: 20px;\n      `};\n`;\nexport const TrackWrapper = styled('div')`\n  padding: 10px 10px 10px 20px;\n  border-bottom: 1px solid #ccc;\n`;\n\nexport const ActionsWrapper = styled('div')`\n  display: flex;\n  justify-content: flex-end;\n  padding: 15px 0 0;\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n\n  button {\n    margin-right: 0;\n  }\n\n  ${media.lessThan('medium')`\n        padding: 10px 15px 0;\n      `};\n`;\n\nexport const InfoWrapper = styled('div')`\n  flex-basis: calc(100% - 160px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n`;\n\nexport const ImageWrapper = styled('div')`\n  flex-basis: 140px;\n  width: 140px;\n  height: 140px;\n  border-radius: 4px;\n  background-color: #f3f3f3;\n\n  img {\n    width: 100%;\n    height: 140px;\n    object-fit: cover;\n    border-radius: 4px;\n  }\n`;\nexport const QRCodeWrapper = styled(ImageWrapper)`\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  ${media.lessThan('medium')`\n        margin-top: 0;\n        margin-left: 20px;\n      `};\n`;\n\nexport const IconWrapper = styled(ImageWrapper)`\n  flex-basis: 100px;\n  width: 100px;\n  height: 100px;\n\n  img {\n    height: 100px;\n  }\n`;\n","export const PAGE_LIMIT = 5;\nexport const PAGE_START = 1;\nexport const MAX_PAGINATION_NUMBERS = 4;\nexport const NAME = 'name';\nexport const CREATE = 'create';\nexport const ASC = 'ASC';\nexport const DES = 'DES';\nexport const DEFAULT_SORT_PARAM = 'name';\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { ReactElement, useReducer } from 'react';\nimport { Plus } from 'react-feather';\nimport { Route, Switch } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport { Button } from 'rebass/styled-components';\nimport {\n  ButtonIcon,\n  HomeBox,\n  List,\n  MainContainer,\n  MenuItem,\n  MenuList,\n  ObjectsList,\n  Wrapper,\n  WrapperCont\n} from 'ui/elements/Layout';\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport SocialText from 'ui/modules/SocialText';\nimport styled from 'ui/themes/styled';\nimport { i18n } from '../../../context/global/localizationCtx';\nimport { useNotifyMustLogin } from '../../../HOC/lib/notifyMustLogin';\nimport { CreateLocationPanelHOC } from '../../../HOC/modules/CreateLocationPanel/CreateLocationPanelHOK';\nimport { CreateResourcePanelHOC } from '../../../HOC/modules/CreateResourcePanel/CreateResourcePanelHOC';\nimport { CreateIntentPanelHOC } from 'HOC/modules/CreateIntentPanel/createIntentPanelHOC';\nimport Modal from '../../modules/Modal';\nimport media from 'styled-media-query';\n\nexport interface Props {\n  isJoined: boolean;\n  communityId: string;\n  Activities: ReactElement[];\n  Members: ReactElement[];\n  Intents: ReactElement[];\n  // Inventory: ReactElement[];\n  // Collections: ReactElement[];\n  HeroCommunity: ReactElement;\n  Threads: ReactElement[];\n  newThreadFormik: null | FormikHook<{ text: string }>;\n  createCollection: () => unknown;\n  loadMoreActivities: FormikHook | null;\n  loadMoreCollections: FormikHook | null;\n  loadMoreThreads: FormikHook | null;\n  tabPaths: {\n    timeline: string;\n    members: string;\n    discussions: string;\n    // collections: string;\n    intents: string;\n    // inventory: string;\n  };\n}\n\nexport const Community: React.FC<Props> = ({\n  Activities,\n  HeroCommunity,\n  // Collections,\n  Members,\n  Intents,\n  // Inventory,\n  tabPaths,\n  newThreadFormik,\n  isJoined,\n  Threads,\n  loadMoreActivities,\n  communityId,\n  // loadMoreCollections,\n  loadMoreThreads\n  // createCollection\n}) => {\n  const notifiedMustJoin = (msg: string) => {\n    if (!isJoined) {\n      toast(msg, { type: 'warning' });\n      return true;\n    }\n    return false;\n  };\n  const notifiedMustLogin = useNotifyMustLogin();\n  const [showCreateResource, toggleShowCreateResource] = useReducer(\n    is =>\n      !notifiedMustJoin(i18n._(`You should join this community to create new resource`)) &&\n      !notifiedMustLogin() &&\n      !is,\n    false\n  );\n  const [showCreateLocation, toggleShowCreateLocation] = React.useState(false);\n  const [openIntent, setOpenIntent] = useReducer(\n    is =>\n      !notifiedMustJoin(i18n._(`You should join this community to create new intent`)) &&\n      !notifiedMustLogin() &&\n      !is,\n    false\n  );\n\n  const CreateResourceModal = showCreateResource ? (\n    <Modal closeModal={toggleShowCreateResource}>\n      {showCreateLocation ? (\n        <CreateLocationPanelHOC done={toggleShowCreateLocation} />\n      ) : (\n        <CreateResourcePanelHOC\n          done={toggleShowCreateResource}\n          toggleCreateLocation={toggleShowCreateLocation}\n        />\n      )}\n    </Modal>\n  ) : null;\n\n  const OpenIntentModal = openIntent ? (\n    <Modal\n      closeModal={() => {\n        setOpenIntent();\n      }}\n    >\n      <CreateIntentPanelHOC done={setOpenIntent} communityId={communityId} />\n    </Modal>\n  ) : null;\n\n  return (\n    <MainContainer>\n      {CreateResourceModal}\n      {OpenIntentModal}\n      <HomeBox>\n        <WrapperCont>\n          <Wrapper>\n            {HeroCommunity}\n            <Menu tabPaths={tabPaths} />\n            <Switch>\n              <Route exact path={tabPaths.intents}>\n                <ButtonWrapper>\n                  <CreateItemButton variant=\"primary\" onClick={setOpenIntent}>\n                    <Plus size={16} color={'#fff'} />\n                    <Text variant=\"button\">\n                      <Trans>Create a new intent</Trans>\n                    </Text>\n                  </CreateItemButton>\n                </ButtonWrapper>\n                <ObjectsList>{Intents}</ObjectsList>\n              </Route>\n              <Route exact path={tabPaths.timeline}>\n                <>\n                  <List mt={2}>{Activities}</List>\n                  {loadMoreActivities && <LoadMore LoadMoreFormik={loadMoreActivities} />}\n                </>\n              </Route>\n              {/*<Route exact path={tabPaths.collections}>*/}\n              {/*  <>*/}\n              {/*    <Title px={3} mt={2}>*/}\n              {/*      <Text sx={{ flex: 1 }} variant=\"suptitle\">*/}\n              {/*        <Trans>All collections</Trans>*/}\n              {/*      </Text>*/}\n              {/*      <CreateCollectionButton variant=\"outline\" onClick={createCollection}>*/}\n              {/*        <Trans>Create a new collection</Trans>*/}\n              {/*      </CreateCollectionButton>*/}\n              {/*    </Title>*/}\n              {/*    <ObjectsList>*/}\n              {/*      <CollectionsBoxes>{Collections}</CollectionsBoxes>*/}\n              {/*    </ObjectsList>*/}\n              {/*    {loadMoreCollections && <LoadMore LoadMoreFormik={loadMoreCollections} />}*/}\n              {/*  </>*/}\n              {/*</Route>*/}\n              <Route exact path={tabPaths.discussions}>\n                <>\n                  <WrapSocialText p={3} mb={2}>\n                    {newThreadFormik && (\n                      <SocialText\n                        placeholder=\"Start a new thread...\"\n                        submit={text => {\n                          newThreadFormik.setValues({ text });\n                          newThreadFormik.submitForm();\n                        }}\n                      />\n                    )}\n                  </WrapSocialText>\n                  <Title px={3} mt={2}>\n                    <Text variant=\"suptitle\">All discussions</Text>\n                  </Title>\n                  <ObjectsList>{Threads}</ObjectsList>\n                  {loadMoreThreads && <LoadMore LoadMoreFormik={loadMoreThreads} />}\n                </>\n              </Route>\n              <Route path={tabPaths.members}>\n                <ObjectsList>{Members}</ObjectsList>\n              </Route>\n            </Switch>\n          </Wrapper>\n        </WrapperCont>\n      </HomeBox>\n    </MainContainer>\n  );\n};\n\nexport const ButtonWrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  height: 34px;\n  margin: 10px 0;\n  position: relative;\n\n  ${media.lessThan('medium')`\n      justify-content: space-between;\n      margin: 10px;\n  `};\n`;\nexport const CreateItemButton = styled(Button)`\n  margin: 0 10px;\n  height: 34px;\n  text-transform: capitalize;\n  line-height: 34px;\n  padding: 0 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  &:not(:last-child) {\n    margin-right: 20px;\n  }\n\n  & > svg {\n    display: inline-block;\n    margin-right: 8px;\n    margin-left: 16px;\n  }\n  & > div {\n    color: #fff;\n    display: inline-block;\n  }\n\n  ${media.lessThan('medium')`\n      margin: 0 10px;\n  `};\n  &:hover {\n    background: ${props => props.theme.colors.primary};\n    color: ${props => props.theme.colors.appInverse};\n  }\n`;\n//\n// const CollectionsBoxes = styled(Box)`\n//   display: grid;\n//   grid-template-columns: 1fr 1fr;\n//   column-gap: 16px;\n//   row-gap: 16px;\n//   margin: 16px;\n//   margin-bottom: 24px !important;\n//   ${media.lessThan('medium')`\n//   grid-template-columns: 1fr;\n//   > div {\n//     margin: 0 auto;\n//     width: 300px;\n//   }\n//   `}\n// `;\n\n// const FollowersMenu = ({ basePath }: { basePath: string }) => (\n//   <MenuList m={2}>\n//     <NavLink exact to={`${basePath}`}>\n//       Members\n//     </NavLink>\n//   </MenuList>\n// );\n\nconst UsersIcon = require('react-feather/dist/icons/users').default;\nconst InboxIcon = require('react-feather/dist/icons/inbox').default;\nconst ActivityIcon = require('react-feather/dist/icons/activity').default;\nconst MessageIcon = require('react-feather/dist/icons/message-circle').default;\n\nconst Menu: React.FC<{ tabPaths: Props['tabPaths'] }> = ({ tabPaths }) => (\n  <MenuList p={3} pt={0}>\n    <MenuItem exact to={tabPaths.intents}>\n      <div className=\"text-holder\">\n        <Trans>Intents</Trans>\n      </div>\n      <ButtonIcon className=\"icon-holder\">\n        <InboxIcon size=\"24\" />\n      </ButtonIcon>\n    </MenuItem>\n    <MenuItem exact to={tabPaths.timeline}>\n      <div className=\"text-holder\">\n        <Trans>Recent activity</Trans>\n      </div>\n      <ButtonIcon className=\"icon-holder\">\n        <ActivityIcon size=\"24\" />\n      </ButtonIcon>\n    </MenuItem>\n    <MenuItem exact to={tabPaths.discussions}>\n      <div className=\"text-holder\">\n        <Trans>Discussions</Trans>\n      </div>\n      <ButtonIcon className=\"icon-holder\">\n        <MessageIcon size=\"24\" />\n      </ButtonIcon>\n    </MenuItem>\n    <MenuItem exact to={`${tabPaths.members}`}>\n      <div className=\"text-holder\">\n        <Trans>Members</Trans>\n      </div>\n      <ButtonIcon className=\"icon-holder\">\n        <UsersIcon size=\"24\" />\n      </ButtonIcon>\n    </MenuItem>\n  </MenuList>\n);\n\nconst Title = styled(Flex)`\n  background: ${props => props.theme.colors.appInverse};\n  height: 50px;\n  line-height: 50px;\n  align-items: center;\n  border-bottom: ${props => props.theme.colors.border};\n  button {\n    width: 190px;\n    text-transform: inherit;\n    letter-spacing: 0;\n    padding: 0;\n    height: 32px;\n    line-height: 32px;\n    background: #ffe5cd;\n    color: #ca6a11;\n    border: none;\n  }\n`;\n\n// const Container = styled(Box)`\n//   background: ${props => props.theme.colors.appInverse};\n// `;\n\nconst WrapSocialText = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n`;\n\nexport default Community;\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport PaginationComponent from 'react-reactstrap-pagination';\nimport { Plus } from 'react-feather';\nimport { NavLink } from 'react-router-dom';\nimport { Box, Text } from 'rebass/styled-components';\nimport { EconomicResource } from 'HOC/pages/inventory/InventoryPage';\nimport { EconomicResourcesFilteredQuery } from 'HOC/pages/inventory/InventoryPage.generated';\nimport { InventoryWrapper, InfoWrapper, ImageWrapper, Icon } from 'ui/pages/resource';\nimport { Wrapper } from 'ui/elements/Layout';\nimport { PAGE_LIMIT, PAGE_START, MAX_PAGINATION_NUMBERS } from 'util/constants/pagination';\nimport { typography } from '../../../mn-constants';\nimport styled from '../../themes/styled';\nimport { ButtonWrapper, CreateItemButton } from '../community';\nimport { useMe } from 'fe/session/useMe';\nimport { useEffect, useState } from 'react';\n\nconst BoxIcon = require('react-feather/dist/icons/box').default;\nconst PenIcon = require('react-feather/dist/icons/edit').default;\nconst UserIcon = require('react-feather/dist/icons/user').default;\n\nexport interface Props {\n  done: () => void;\n  inventory: EconomicResourcesFilteredQuery['economicResourcesFiltered'] | any;\n  owner: string;\n}\n\nexport const Inventory: React.FC<Props> = ({ inventory, done, children, owner }) => {\n  const { me } = useMe();\n  const currentUser = me?.user?.id;\n  const [currentList, setCurrentList] = useState<any>([]);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const handlePagination = (page: number) => {\n    setCurrentPage(page);\n  };\n\n  useEffect(() => {\n    if (inventory.length) {\n      const newList = inventory.slice(\n        (currentPage - 1) * PAGE_LIMIT,\n        (currentPage - 1) * PAGE_LIMIT + PAGE_LIMIT\n      );\n      setCurrentList(newList);\n    } else {\n      setCurrentList([]);\n    }\n  }, [inventory, currentPage]);\n\n  useEffect(() => {\n    setCurrentPage(PAGE_START);\n  }, [inventory.length]);\n\n  return (\n    <>\n      <ButtonWrapper>\n        {me?.user.id === owner && (\n          <CreateItemButton variant=\"primary\" onClick={done}>\n            <Plus size={16} color={'#fff'} />\n            <Text variant=\"button\">\n              <Trans>Create a new resource</Trans>\n            </Text>\n          </CreateItemButton>\n        )}\n      </ButtonWrapper>\n      <div style={{ position: 'relative' }}>{children}</div>\n      <Wrapper>\n        {!!currentList.length &&\n          currentList.map(\n            ({ id, name, note, image, onhandQuantity, primaryAccountable }: EconomicResource) => (\n              <WrapperLink to={`/resource/${id}`} key={id}>\n                <InventoryWrapper key={id}>\n                  <ImageWrapper>{image && <img src={image} alt={name} />}</ImageWrapper>\n                  <InfoWrapper>\n                    <Title variant=\"subhead\">{name}</Title>\n                    <Box mr={1}>\n                      <Text variant=\"text\">\n                        <Icon>\n                          <PenIcon size=\"16\" />\n                        </Icon>\n                        <b>\n                          <Trans>Note:</Trans>{' '}\n                        </b>{' '}\n                        <Trans>{note ? note : 'Not provided'}</Trans>\n                      </Text>\n                    </Box>\n                    <Box mr={1}>\n                      <Text variant=\"text\">\n                        <Icon>\n                          <BoxIcon size=\"16\" />\n                        </Icon>\n                        <b>Quantity in stock:</b>{' '}\n                        <span\n                          style={{\n                            color:\n                              onhandQuantity && onhandQuantity.hasNumericalValue < 0\n                                ? 'red'\n                                : 'inherit'\n                          }}\n                        >\n                          {onhandQuantity\n                            ? `${onhandQuantity.hasNumericalValue} ${onhandQuantity.hasUnit.label}`\n                            : 'Not provided'}\n                        </span>\n                      </Text>\n                    </Box>\n                    <Box mr={1}>\n                      <Text variant=\"text\">\n                        <Icon>\n                          <UserIcon size=\"16\" />\n                        </Icon>\n                        <b>\n                          <Trans>Owner:</Trans>\n                        </b>{' '}\n                        {primaryAccountable?.id === currentUser ? 'Me' : primaryAccountable?.name}\n                      </Text>\n                    </Box>\n                  </InfoWrapper>\n                </InventoryWrapper>\n              </WrapperLink>\n            )\n          )}\n        {!!currentList.length && (\n          <PaginationWrapper>\n            <PaginationComponent\n              size=\"sm\"\n              totalItems={inventory.length}\n              pageSize={PAGE_LIMIT}\n              onSelect={handlePagination}\n              maxPaginationNumbers={MAX_PAGINATION_NUMBERS}\n              defaultActivePage={PAGE_START}\n              previousPageText=\"Prev\"\n            />\n          </PaginationWrapper>\n        )}\n        {!currentList.length && (\n          <p style={{ textAlign: 'center', fontWeight: 600, color: '#444444', paddingBottom: 40 }}>\n            No results\n          </p>\n        )}\n      </Wrapper>\n    </>\n  );\n};\n\nexport default Inventory;\n\nconst PaginationWrapper = styled('div')`\n  text-align: center;\n\n  ul {\n    padding: 10px 0 20px;\n    margin: 0;\n  }\n\n  .page-link {\n    line-height: 30px;\n    border: 1px solid #999;\n    color: #999;\n    background-color: #fff;\n    border-radius: 4px;\n    margin: 2px;\n  }\n\n  .page-item.active .page-link {\n    border: 1px solid #02e379;\n    color: #02e379;\n  }\n`;\n\nconst WrapperLink = styled(NavLink)`\n  text-decoration: none !important;\n\n  * {\n    text-decoration: none !important;\n  }\n`;\n\nconst Title = styled(Text)`\n  font-size: ${typography.size.m1};\n  color: ${props => props.theme.colors.dark};\n  text-decoration: none !important;\n  margin-bottom: 10px;\n\n  &:hover {\n    text-decoration: underline !important;\n  }\n`;\n","import React from 'react';\nimport styled from 'ui/themes/styled';\nimport { Input as InputStrap, Label } from 'reactstrap';\nimport { Button } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { i18nMark } from '@lingui/react';\nimport Input from '../../elements/Input';\nimport { FilterType } from 'HOC/pages/inventory/InventoryPage';\nimport { CollectionContainerForm } from '../CreateCollectionPanel/style';\nimport { FormGroup, FormLabel } from '../EconomicEventManager/styles';\nimport { ASC, DES, NAME } from '../../../util/constants/pagination';\n\ntype Props = {\n  isOpen: boolean;\n  filterSet: FilterType;\n  triggerOpen: (value: boolean) => void;\n  onChange: (props: { [field: string]: string | boolean }, isClear?: boolean) => void;\n  onClear: () => void;\n};\nconst ArrowUp = require('react-feather/dist/icons/arrow-up').default;\nconst ArrowDown = require('react-feather/dist/icons/arrow-down').default;\nconst FilterIcon = require('react-feather/dist/icons/filter').default;\nconst ClearIcon = require('react-feather/dist/icons/x').default;\n\nexport const Filter: React.FC<Props> = ({ isOpen, filterSet, triggerOpen, onChange, onClear }) => {\n  const handleSorting = async (event: React.SyntheticEvent<HTMLButtonElement>) => {\n    const buttonName = event.currentTarget.name;\n\n    onChange({ sort: buttonName, order: filterSet.order === DES ? ASC : DES });\n  };\n\n  return (\n    <div>\n      <FilterButton onClick={() => triggerOpen(!isOpen)} type=\"button\">\n        {isOpen ? <ClearIcon size=\"16\" /> : <FilterIcon size=\"16\" />}\n      </FilterButton>\n      {isOpen ? (\n        <>\n          <FilterWrapper>\n            <div className=\"d-flex\">\n              <div className=\"item_col-6 align-center\">\n                <SortButton\n                  onClick={handleSorting}\n                  name={NAME}\n                  className={filterSet.sort === NAME && 'active'}\n                >\n                  Sort by Name:\n                  {filterSet.sort === NAME && filterSet.order === ASC ? (\n                    <SortButtonInner>\n                      {' '}\n                      <ArrowUp size={16} /> {ASC}\n                    </SortButtonInner>\n                  ) : (\n                    <SortButtonInner>\n                      {' '}\n                      <ArrowDown size={16} /> {DES}\n                    </SortButtonInner>\n                  )}\n                </SortButton>\n              </div>\n            </div>\n            <FormGroup>\n              <FormLabel>Name</FormLabel>\n              <Input\n                type=\"text\"\n                id=\"name\"\n                name=\"search\"\n                onChange={({ currentTarget }: any) => onChange({ search: currentTarget.value })}\n                placeholder={i18nMark('Search query')}\n                value={filterSet.search}\n              />\n            </FormGroup>\n            <div className=\"d-flex\">\n              <div className=\"item_col-6\">\n                <FormGroupChek>\n                  <LabelCustom>\n                    <InputStrap\n                      style={{ width: 'auto' }}\n                      name=\"trace\"\n                      id=\"trace\"\n                      type=\"checkbox\"\n                      checked={filterSet.trace || false}\n                      onChange={() => onChange({ trace: !filterSet.trace })}\n                    />\n                    <span>Resulted from a previous resource</span>\n                  </LabelCustom>\n                </FormGroupChek>\n              </div>\n              <div className=\"item_col-6\">\n                <FormGroupChek>\n                  <LabelCustom>\n                    <InputStrap\n                      style={{ width: 'auto' }}\n                      name=\"track\"\n                      id=\"track\"\n                      type=\"checkbox\"\n                      checked={filterSet.track || false}\n                      onChange={() => onChange({ track: !filterSet.track })}\n                    />\n                    <span>Created further resources</span>\n                  </LabelCustom>\n                </FormGroupChek>\n              </div>\n            </div>\n            <div className=\"d-flex\">\n              <ClearButton\n                onClick={() => {\n                  onClear();\n                  triggerOpen(false);\n                }}\n                type=\"button\"\n              >\n                <ClearIcon size={16} />\n                Clear\n              </ClearButton>\n            </div>\n          </FilterWrapper>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nconst ClearButton = styled(Button)`\n  margin-left: auto;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 20px;\n\n  svg {\n    margin-right: 10px;\n  }\n`;\n\nconst FilterWrapper = styled(CollectionContainerForm)`\n  padding: 10px;\n  background-color: #fff;\n  border: 1px solid #05244f;\n  border-radius: 4px;\n  margin-bottom: 10px;\n`;\n\nconst SortButtonInner = styled.span`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 40px;\n  line-height: 40px;\n  margin: 0 20px;\n`;\n\nconst SortButton = styled(Button)`\n  background-color: transparent;\n  border: none;\n  color: #999;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &.active {\n    color: #05244f;\n  }\n`;\n\nconst FormGroupChek = styled.span`\n  text-transform: uppercase;\n  color: #999;\n  font-weight: 600;\n  letter-spacing: 1px;\n  padding: 0;\n\n  & > div {\n    display: flex;\n    padding: 10px 0;\n\n    input {\n      flex-basis: 20px;\n      height: 20px;\n    }\n  }\n`;\n\nconst LabelCustom = styled(Label)`\n  flex-basis: calc(100% - 30px);\n  font-family: Arial, sans-serif;\n  font-size: 14px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  span {\n    display: inline-block;\n    margin-left: 20px;\n  }\n`;\nconst FilterButton = styled(Button)`\n  background-color: #fff;\n  border: 1px solid #05244f;\n  border-radius: 4px;\n  color: #05244f;\n  padding: 0;\n  margin: 0;\n  height: 34px;\n  width: 34px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  top: -44px;\n\n  ${media.lessThan('medium')`\n     margin: 0 15px 0 0;\n     left: 15px;\n  `};\n`;\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type EconomicResourcesFilteredQueryVariables = {\n  agent?: Types.Maybe<Array<Types.Maybe<Types.Scalars['ID']>>>\n};\n\n\nexport type EconomicResourcesFilteredQuery = (\n  { __typename: 'RootQueryType' }\n  & { economicResourcesFiltered: Types.Maybe<Array<Types.Maybe<(\n    { __typename: 'EconomicResource' }\n    & Pick<Types.EconomicResource, 'id' | 'name' | 'note' | 'image'>\n    & { currentLocation: Types.Maybe<(\n      { __typename: 'SpatialThing' }\n      & Pick<Types.SpatialThing, 'name'>\n    )>, trace: Types.Maybe<Array<(\n      { __typename: 'EconomicEvent' }\n      & Pick<Types.EconomicEvent, 'id' | 'note' | 'hasPointInTime'>\n    )>>, track: Types.Maybe<Array<(\n      { __typename: 'EconomicEvent' }\n      & Pick<Types.EconomicEvent, 'id' | 'note' | 'hasPointInTime'>\n    )>>, onhandQuantity: Types.Maybe<(\n      { __typename: 'Measure' }\n      & Pick<Types.Measure, 'hasNumericalValue'>\n      & { hasUnit: (\n        { __typename: 'Unit' }\n        & Pick<Types.Unit, 'id' | 'label'>\n      ) }\n    )>, primaryAccountable: Types.Maybe<(\n      { __typename: 'Organization' }\n      & Pick<Types.Organization, 'id' | 'name'>\n    ) | (\n      { __typename: 'Person' }\n      & Pick<Types.Person, 'id' | 'name'>\n    )> }\n  )>>> }\n);\n\n\nexport const EconomicResourcesFilteredDocument = gql`\n    query economicResourcesFiltered($agent: [ID]) {\n  economicResourcesFiltered(agent: $agent) {\n    id\n    name\n    note\n    image\n    currentLocation {\n      name\n    }\n    trace {\n      id\n      note\n      hasPointInTime\n    }\n    track {\n      id\n      note\n      hasPointInTime\n    }\n    onhandQuantity {\n      hasUnit {\n        id\n        label\n      }\n      hasNumericalValue\n    }\n    primaryAccountable {\n      id\n      name\n    }\n  }\n}\n    `;\n\n/**\n * __useEconomicResourcesFilteredQuery__\n *\n * To run a query within a React component, call `useEconomicResourcesFilteredQuery` and pass it any options that fit your needs.\n * When your component renders, `useEconomicResourcesFilteredQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useEconomicResourcesFilteredQuery({\n *   variables: {\n *      agent: // value for 'agent'\n *   },\n * });\n */\nexport function useEconomicResourcesFilteredQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<EconomicResourcesFilteredQuery, EconomicResourcesFilteredQueryVariables>) {\n        return ApolloReactHooks.useQuery<EconomicResourcesFilteredQuery, EconomicResourcesFilteredQueryVariables>(EconomicResourcesFilteredDocument, baseOptions);\n      }\nexport function useEconomicResourcesFilteredLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<EconomicResourcesFilteredQuery, EconomicResourcesFilteredQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<EconomicResourcesFilteredQuery, EconomicResourcesFilteredQueryVariables>(EconomicResourcesFilteredDocument, baseOptions);\n        }\nexport type EconomicResourcesFilteredQueryHookResult = ReturnType<typeof useEconomicResourcesFilteredQuery>;\nexport type EconomicResourcesFilteredLazyQueryHookResult = ReturnType<typeof useEconomicResourcesFilteredLazyQuery>;\nexport type EconomicResourcesFilteredQueryResult = ApolloReactCommon.QueryResult<EconomicResourcesFilteredQuery, EconomicResourcesFilteredQueryVariables>;\n\n\nexport interface EconomicResourcesFilteredQueryOperation {\n  operationName: 'economicResourcesFiltered'\n  result: EconomicResourcesFilteredQuery\n  variables: EconomicResourcesFilteredQueryVariables\n  type: 'query'\n}\nexport const EconomicResourcesFilteredQueryName:EconomicResourcesFilteredQueryOperation['operationName'] = 'economicResourcesFiltered'\n\nexport const EconomicResourcesFilteredQueryRefetch = (\n  variables:EconomicResourcesFilteredQueryVariables, \n  context?:any\n)=>({\n  query:EconomicResourcesFilteredDocument,\n  variables,\n  context\n})\n      \n","import { useUserOutboxActivities } from 'fe/activities/outbox/user/useUserOutboxActivities';\nimport { useUserFollowedCollections } from 'fe/collection/user/useUserFollowedCollections';\nimport { UserFollowedCollectionFragment } from 'fe/collection/user/useUserFollowedCollections.generated';\nimport { useUserFollowedCommunities } from 'fe/community/user/useUserFollowedCommunities';\nimport { UserFollowedCommunityFragment } from 'fe/community/user/useUserFollowedCommunities.generated';\nimport { getActivityActor } from 'fe/lib/activity/getActivityActor';\nimport { getEventStringByContext } from 'fe/lib/activity/getActivityEventString';\nimport { getCommunityInfoStrings } from 'fe/lib/activity/getContextCommunityInfo';\nimport { useUserLikes } from 'fe/likes/user/useUserLikes';\nimport { useUserFollowedUsers } from 'fe/user/followed/user/useUserFollowedUsers';\nimport { UserFollowedUserFragment } from 'fe/user/followed/user/useUserFollowedUsers.generated';\nimport { useUser } from 'fe/user/useUser';\nimport { ActivityVerb, User } from 'graphql/types.generated';\nimport { HeroUser } from 'HOC/modules/HeroUser/HeroUser';\nimport { ActivityPreviewHOC } from 'HOC/modules/previews/activity/ActivityPreview';\nimport { PreviewComponent } from 'HOC/modules/previews/activity/PreviewComponent';\nimport { CollectionPreviewHOC } from 'HOC/modules/previews/collection/CollectionPreview';\nimport { LikedCommentPreviewHOC } from 'HOC/modules/previews/commentLiked/CommentLikedPreview';\nimport { CommunityPreviewHOC } from 'HOC/modules/previews/community/CommunityPreview';\nimport { UserPreviewHOC } from 'HOC/modules/previews/user/UserPreview';\nimport React, { FC, useMemo } from 'react';\nimport { Box } from 'rebass';\nimport { ActivityPreview, Status, Props as ActivityPreviewProps } from 'ui/modules/ActivityPreview';\nimport { Props, User as UserPageUI } from 'ui/pages/user';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\nimport { InventoryPage } from '../inventory/InventoryPage';\nexport interface UserPage {\n  userId: User['id'];\n  tab: UserPageTab;\n  basePath: string;\n}\nexport enum UserPageTab {\n  Starred,\n  Communities,\n  Collections,\n  Following,\n  Activities,\n  Inventory\n}\n\nconst userStarredPageTitle = t`User {name} - Starred`;\nconst userCommunitiesPageTitle = t`User {name} - Communities`;\nconst userCollectionsPageTitle = t`User {name} - Collections`;\nconst userFollowingPageTitle = t`User {name} - Following`;\nconst userActivitiesPageTitle = t`User {name} - Activities`;\nconst userInventoryPageTitle = t`User {name} - Inventory`;\n\nexport const UserPage: FC<UserPage> = ({ userId, basePath, tab }) => {\n  const userInfo = useUser(userId);\n\n  const userPageTitle =\n    tab === UserPageTab.Starred\n      ? userStarredPageTitle\n      : tab === UserPageTab.Communities\n      ? userCommunitiesPageTitle\n      : tab === UserPageTab.Collections\n      ? userCollectionsPageTitle\n      : tab === UserPageTab.Following\n      ? userFollowingPageTitle\n      : tab === UserPageTab.Activities\n      ? userActivitiesPageTitle\n      : tab === UserPageTab.Inventory\n      ? userInventoryPageTitle\n      : userInventoryPageTitle; //never\n  usePageTitle(!!userInfo?.user?.name && userPageTitle, userInfo.user);\n\n  const { likesPage } = useUserLikes(userId);\n  const [loadMoreLikes] = likesPage.formiks;\n\n  const { activitiesPage } = useUserOutboxActivities(userId);\n  const [loadMoreActivities] = activitiesPage.formiks;\n\n  const { followedCollectionsPage } = useUserFollowedCollections(userId);\n  const [loadMoreCollections] = followedCollectionsPage.formiks;\n\n  const { followedCommunitiesPage } = useUserFollowedCommunities(userId);\n  const [loadMoreCommunities] = followedCommunitiesPage.formiks;\n\n  const { followedUsersPage } = useUserFollowedUsers(userId);\n  const [loadMoreFollowing] = followedUsersPage.formiks;\n\n  const userPageProps = useMemo<Props>(() => {\n    const { totalActivities, totalCollections, totalCommunities, totalUsers } = userInfo;\n    const LikesBoxes = (\n      <>\n        {likesPage.edges.map(like => {\n          const likeContext =\n            like.context.__typename !== 'Category' &&\n            like.context.__typename !== 'Flag' &&\n            like.context.__typename !== 'Follow' &&\n            like.context.__typename !== 'Like' &&\n            like.context.__typename !== 'SpatialThing' &&\n            like.context.__typename !== 'Organisation' &&\n            like.context.__typename !== 'Taggable' &&\n            like.context.__typename !== 'Intent'\n              ? like.context\n              : null;\n          const { communityLink, communityName } = getCommunityInfoStrings(likeContext);\n          const actor = userInfo.user ? getActivityActor(userInfo.user) : null;\n          const activityContext = like;\n          const event = getEventStringByContext(activityContext, ActivityVerb.Created);\n          const preview =\n            like.context.__typename === 'Comment' ? (\n              <LikedCommentPreviewHOC key={like.id} commentId={like.context.id} />\n            ) : (\n              <PreviewComponent context={activityContext} />\n            );\n          const activityProps: ActivityPreviewProps = {\n            actor,\n            communityLink,\n            communityName,\n            createdAt: like.createdAt,\n            event,\n            status: Status.Loaded,\n            preview\n          };\n          // console.log(activityProps, likesPage);\n          return <ActivityPreview {...activityProps} key={activityContext.id} />;\n        })}\n      </>\n    );\n    const ActivityBoxes = (\n      <>\n        {activitiesPage.edges.map(activity => (\n          <ActivityPreviewHOC activityId={activity.id} key={activity.id} />\n        ))}\n      </>\n    );\n    const CollectionsBoxes = (\n      <>\n        {followedCollectionsPage.edges\n          .map(follow => follow.context)\n          .filter(\n            (context): context is UserFollowedCollectionFragment =>\n              context.__typename === 'Collection'\n          )\n          .map(followedCollection => (\n            <Box m={2} mb={0} key={followedCollection.id}>\n              <CollectionPreviewHOC\n                collectionId={followedCollection.id}\n                key={followedCollection.id}\n              />\n            </Box>\n          ))}\n      </>\n    );\n    const CommunityBoxes = (\n      <>\n        {followedCommunitiesPage.edges\n          .map(follow => follow.context)\n          .filter(\n            (context): context is UserFollowedCommunityFragment =>\n              context.__typename === 'Community'\n          )\n          .map(followedCommunity => (\n            <CommunityPreviewHOC communityId={followedCommunity.id} key={followedCommunity.id} />\n          ))}\n      </>\n    );\n\n    const InventoryBoxes = <InventoryPage />;\n\n    const UserBoxes = (\n      <>\n        {followedUsersPage.edges\n          .map(follow => follow.context)\n          .filter((context): context is UserFollowedUserFragment => context.__typename === 'User')\n          .map(followedUser => (\n            <UserPreviewHOC userId={followedUser.userId} key={followedUser.userId} />\n          ))}\n      </>\n    );\n\n    const HeroUserBox = <HeroUser userId={userId} />;\n\n    const props: Props = {\n      basePath,\n      ActivityBoxes,\n      LikesBoxes,\n      HeroUserBox,\n      CollectionsBoxes,\n      CommunityBoxes,\n      InventoryBoxes,\n      UserBoxes,\n      userName: userInfo.user?.name || '',\n      totalActivities: `${totalActivities || '0'}`,\n      totalCollections: `${totalCollections || '0'}`,\n      totalCommunities: `${totalCommunities || '0'}`,\n      totalUsers: `${totalUsers || '0'}`,\n      userLink: userInfo.user?.website || '',\n      loadMoreActivities,\n      loadMoreCollections,\n      loadMoreCommunities,\n      loadMoreFollowing,\n      loadMoreLikes\n    };\n    return props;\n  }, [\n    userInfo,\n    likesPage,\n    activitiesPage.edges,\n    followedCollectionsPage.edges,\n    followedCommunitiesPage.edges,\n    followedUsersPage.edges,\n    userId,\n    basePath,\n    loadMoreActivities,\n    loadMoreCollections,\n    loadMoreCommunities,\n    loadMoreFollowing,\n    loadMoreLikes\n  ]);\n  return <UserPageUI {...userPageProps} />;\n};\n","import React, { FC, useEffect, useReducer, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Modal from 'ui/modules/Modal';\nimport { Inventory } from 'ui/pages/inventory';\nimport { Filter } from 'ui/modules/Filter';\nimport { useNotifyMustLogin } from '../../lib/notifyMustLogin';\nimport { CreateLocationPanelHOC } from '../../modules/CreateLocationPanel/CreateLocationPanelHOK';\nimport { CreateResourcePanelHOC } from '../../modules/CreateResourcePanel/CreateResourcePanelHOC';\nimport { useEconomicResourcesFilteredQuery } from './InventoryPage.generated';\nimport { ASC } from 'util/constants/pagination';\nimport { notEmptyValue } from 'util/main';\n\nconst queryString = require('query-string');\n\nexport interface PrimaryAccountable {\n  id: string;\n  name: string;\n  image: string;\n  relationshipsAsObject?: any;\n  intents: {\n    id: string;\n    name: string;\n    note?: string;\n    image?: string | null;\n  }[];\n  onhandQuantity?: {\n    hasNumericalValue: string;\n    hasUnit?: {\n      label: string;\n      symbol: string;\n    };\n  };\n  accountingQuantity?: {\n    hasNumericalValue: number;\n    hasUnit?: {\n      label: string;\n      symbol: string;\n    };\n  };\n}\n\nexport interface EconomicResource {\n  id: string;\n  name: string;\n  note: string;\n  eventNote?: string;\n  hasPointInTime?: string;\n  image?: string;\n  primaryAccountable: PrimaryAccountable;\n  currentLocation?: {\n    id: string;\n    name: string;\n    lat: string;\n    long: string;\n  };\n  unitOfEffort: any;\n  containedIn: any;\n  contains: any;\n  lot: any;\n  stage: any;\n  trackingIdentifier?: string | null;\n  onhandQuantity?: {\n    id: string;\n    hasNumericalValue: number;\n    hasUnit: {\n      id: string;\n      label: string;\n    };\n  };\n  trace?: {\n    id: string;\n    hasTimePoint?: string;\n  };\n  track?: {\n    id: string;\n    note: string;\n    hasTimePoint?: string;\n    resourceQuantity: {\n      hasNumericalValue: number;\n      hasUnit: {\n        id: string;\n        label: string;\n      };\n    };\n    action?: {\n      id: string;\n      label: string;\n    };\n    provider: {\n      id: string;\n      name: string;\n    };\n    receiver: {\n      id: string;\n      name: string;\n    };\n  }[];\n}\n\nconst INITIAL_FILTER = {\n  sort: '',\n  order: '',\n  search: '',\n  trace: false,\n  track: false\n};\n\nexport type FilterType = {\n  sort?: string;\n  order?: string;\n  search?: string;\n  trace?: boolean;\n  track?: boolean;\n};\n\nexport const InventoryPage: FC<{ triggerTab?: boolean }> = ({\n  triggerTab\n}: {\n  triggerTab?: boolean;\n}) => {\n  const location = useLocation();\n  let history = useHistory();\n  const currentUser = location.pathname.split('/')[2];\n  const [showCreateLocation, toggleShowCreateLocation] = React.useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n  const [filter, setFilter] = useState(INITIAL_FILTER);\n\n  useEffect(() => {\n    const query = location.search;\n    const queryStringGetter = queryString.parse(query);\n\n    query?.length && setIsOpen(true);\n    setFilter(queryStringGetter);\n    // eslint-disable-next-line\n  }, []);\n\n  const notifiedMustLogin = useNotifyMustLogin();\n  const [showCreateResource, toggleShowCreateResource] = useReducer(\n    is => !notifiedMustLogin() && !is,\n    false\n  );\n  const CreateResourceModal = showCreateResource ? (\n    <Modal closeModal={toggleShowCreateResource}>\n      {showCreateLocation ? (\n        <CreateLocationPanelHOC done={toggleShowCreateLocation} />\n      ) : (\n        <CreateResourcePanelHOC\n          done={toggleShowCreateResource}\n          toggleCreateLocation={toggleShowCreateLocation}\n        />\n      )}\n    </Modal>\n  ) : null;\n\n  const { data } = useEconomicResourcesFilteredQuery({\n    variables: { agent: currentUser ? [currentUser] : [] }\n  });\n  const inventory = data?.economicResourcesFiltered || [];\n  const [filteredInventory, setFilteredInventory] = useState<Array<any>>([...inventory]);\n  useEffect(() => {\n    if (inventory.length) {\n      const query = location.search;\n      if (query.length) {\n        let newList = [...inventory];\n        if (filter.trace === true) {\n          newList = newList.filter((item: any) => item.trace.length);\n        }\n        if (filter.track === true) {\n          newList = newList.filter((item: any) => item.track.length);\n        }\n        if (filter.search) {\n          newList = newList.filter(item =>\n            item?.name?.toLowerCase().includes(filter.search.toLowerCase())\n          );\n        }\n        if (filter.order) {\n          newList = newList.sort(function(a: any, b: any) {\n            if (a[filter.sort] > b[filter.sort]) {\n              return 1;\n            }\n            if (a[filter.sort] < b[filter.sort]) {\n              return -1;\n            }\n            return 0;\n          });\n        }\n\n        if (filter.order && filter.order !== ASC) {\n          setFilteredInventory(newList);\n        } else {\n          setFilteredInventory(newList.reverse());\n        }\n        setFilteredInventory(newList);\n      } else {\n        setFilteredInventory(inventory);\n      }\n    }\n    // eslint-disable-next-line\n  }, [inventory]);\n\n  const triggerOpen = (value: boolean) => {\n    setIsOpen(value);\n  };\n\n  useEffect(() => {\n    checkFilter(filter.trace);\n    // eslint-disable-next-line\n  }, [filter.trace]);\n\n  useEffect(() => {\n    checkFilter(filter.track);\n    // eslint-disable-next-line\n  }, [filter.track]);\n\n  useEffect(() => {\n    setFilteredInventory(\n      inventory.filter(item =>\n        item?.name?.toLowerCase()?.includes(filter?.search?.toLowerCase() || '')\n      )\n    );\n    // eslint-disable-next-line\n  }, [filter.search, inventory]);\n\n  useEffect(() => {\n    let newInventory = [...filteredInventory];\n    newInventory = newInventory.sort(function(a: any, b: any) {\n      if (a[filter.sort] > b[filter.sort]) {\n        return 1;\n      }\n      if (a[filter.sort] < b[filter.sort]) {\n        return -1;\n      }\n\n      return 0;\n    });\n\n    if (filter.order !== ASC) {\n      setFilteredInventory(newInventory);\n    } else {\n      setFilteredInventory(newInventory.reverse());\n    }\n    // eslint-disable-next-line\n  }, [filter.order]);\n\n  useEffect(() => {\n    const queryStringSetter = queryString.stringify(notEmptyValue(filter));\n    history.push({\n      search: queryStringSetter\n    });\n    checkFilter(true);\n    // eslint-disable-next-line\n  }, [filter]);\n\n  const handleFilterChange = (prop: FilterType, isClear?: boolean) => {\n    if (isClear) {\n      setFilter(INITIAL_FILTER);\n      return;\n    }\n    setFilter(prev => ({\n      ...prev,\n      ...prop\n    }));\n  };\n\n  const handleClear = () => {\n    setFilter(INITIAL_FILTER);\n    setFilteredInventory(inventory);\n  };\n\n  const checkFilter = (data: any) => {\n    const query = location.search;\n\n    if (query.length || data) {\n      let newList = [...inventory];\n      if (filter.trace) {\n        newList = newList.filter((item: any) => item.trace.length);\n      }\n      if (filter.track) {\n        newList = newList.filter((item: any) => item.track.length);\n      }\n      if (filter.search) {\n        newList = newList.filter(item =>\n          item?.name?.toLowerCase().includes(filter.search.toLowerCase())\n        );\n      }\n      if (filter.order) {\n        newList = newList.sort(function(a: any, b: any) {\n          if (a[filter.sort] > b[filter.sort]) {\n            return 1;\n          }\n          if (a[filter.sort] < b[filter.sort]) {\n            return -1;\n          }\n\n          return 0;\n        });\n      }\n\n      if (filter.order && filter.order !== ASC) {\n        setFilteredInventory(newList);\n      } else {\n        setFilteredInventory(newList.reverse());\n      }\n\n      setFilteredInventory(newList);\n    } else {\n      setFilteredInventory(inventory);\n    }\n  };\n\n  return (\n    <>\n      {CreateResourceModal}\n      <Inventory inventory={filteredInventory} done={toggleShowCreateResource} owner={currentUser}>\n        <Filter\n          isOpen={isOpen}\n          triggerOpen={triggerOpen}\n          onChange={handleFilterChange}\n          onClear={handleClear}\n          filterSet={filter}\n        />\n      </Inventory>\n    </>\n  );\n};\n","type objectWithEmptyFields = { [field: string]: boolean | string | number };\n\nexport const notEmptyValue = (obj: objectWithEmptyFields) => {\n  const notEmptyObj: objectWithEmptyFields = {};\n  Object.keys(obj).forEach(key => {\n    if (\n      (typeof obj[key] === 'boolean' && obj[key] === true) ||\n      typeof obj[key] === 'number' ||\n      (typeof obj[key] === 'string' && obj[key] !== '')\n    ) {\n      notEmptyObj[key] = obj[key];\n    }\n  });\n\n  return notEmptyObj;\n};\n","import React, { FC, useMemo } from 'react';\nimport { UserPage, UserPageTab } from 'HOC/pages/user/UserPage';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport { locationHelper } from './lib/helper';\n\ninterface UserPageRouter {\n  userId: string;\n  tab?: string;\n}\nconst UserPageRouter: FC<RouteComponentProps<UserPageRouter>> = ({ match }) => {\n  const userId = match.params.userId;\n  const maybeTabStr = match.params.tab as Tab;\n  const tab =\n    maybeTabStr === 'starred'\n      ? UserPageTab.Starred\n      : maybeTabStr === 'communities'\n      ? UserPageTab.Communities\n      : maybeTabStr === 'collections'\n      ? UserPageTab.Collections\n      : maybeTabStr === 'following'\n      ? UserPageTab.Following\n      : maybeTabStr === 'inventory'\n      ? UserPageTab.Inventory\n      : !maybeTabStr\n      ? UserPageTab.Activities\n      : null;\n\n  const props = useMemo<UserPage | null>(\n    () =>\n      tab === null\n        ? null\n        : {\n            tab,\n            userId,\n            basePath: userLocation.getPath({ tab: undefined, userId }, undefined)\n          },\n    [tab, userId]\n  );\n  if (!props) {\n    return <NotFoundHOC />;\n  }\n  return (\n    <WithSidebarTemplate>\n      <UserPage {...props} />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const UserPageRoute: RouteProps = {\n  exact: true,\n  path: '/user/:userId/:tab(starred|communities|collections|inventory|following)?',\n  component: UserPageRouter\n};\n\ntype Tab = undefined | 'starred' | 'communities' | 'collections' | 'inventory' | 'following';\ntype Params = {\n  userId: string;\n  tab: Tab;\n};\n\nexport const userLocation = locationHelper<Params, undefined>(UserPageRoute);\n","import { userLocation } from 'routes/UserPageRoute';\nimport * as UIT from 'ui/modules/ActivityPreview/types';\nimport { UserPreviewFragment } from '../../../HOC/modules/previews/user/UserPreview.generated';\nexport const getActivityActor = (\n  usr: Pick<UserPreviewFragment, 'icon' | 'image' | 'userName' | 'userId' | '__typename'>\n): UIT.Actor => {\n  return {\n    icon: usr.icon?.url || usr.image?.url || '',\n    name: usr.userName || '',\n    link: userLocation.getPath({ tab: undefined, userId: usr.userId }, undefined)\n  };\n};\n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { Thread } from 'graphql/types.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\nimport { useMemo } from 'react';\nimport { useThreadCommentsQuery } from './useThreadComments.generated';\nexport const useThreadComments = (threadId: Thread['id']) => {\n  const threadPreviewQ = useThreadCommentsQuery({\n    variables: { threadId, limit: DEFAULT_PAGE_SIZE }\n  });\n  const commentPage = usePage(\n    threadPreviewQ.data?.thread?.comments,\n    ({ cursor, update }) => {\n      return threadPreviewQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE, threadId },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.thread?.comments && prev.thread?.comments\n            ? {\n                ...fetchMoreResult,\n                thread: {\n                  ...fetchMoreResult.thread,\n                  comments: update({\n                    prev: prev.thread.comments,\n                    fetched: fetchMoreResult.thread.comments\n                  })\n                }\n              }\n            : prev;\n        }\n      });\n    }\n  );\n\n  return useMemo(() => {\n    return {\n      commentPage\n    };\n  }, [commentPage]);\n};\n","import React from 'react';\nimport styled from 'ui/themes/styled';\nimport { Box, Text, Flex } from 'rebass/styled-components';\nimport { DateTime } from 'luxon';\nimport { Trans } from '@lingui/macro';\nimport { NavLink } from 'react-router-dom';\nimport { MessageSquare, Star } from 'react-feather';\n\nexport interface CommentProps {\n  content: string;\n  // title: string;\n  lastActivity: string;\n  totalReplies: string;\n  totalLikes: string;\n  members: string[];\n  link: string;\n}\n\nexport const Thread: React.SFC<CommentProps> = ({\n  content,\n  // title,\n  lastActivity,\n  totalReplies,\n  totalLikes,\n  members,\n  link\n}) => {\n  return (\n    <Wrapper p={3}>\n      {/* <Text variant=\"heading\" sx={{ fontSize: '16px' }}>\n        {title || 'no title'}\n      </Text> */}\n      <NavLink to={link}>\n        <Summary variant=\"text\">{content}</Summary>\n        <Flex mt={2} alignItems=\"center\">\n          <Flex flex={1}>\n            <Date>\n              <Trans>Last activity</Trans> {DateTime.fromSQL(lastActivity).toRelative()}\n            </Date>\n            <Meta>\n              <Flex alignItems=\"center\">\n                <Icon mr={1}>\n                  <MessageSquare size={16} />\n                </Icon>{' '}\n                {totalReplies || 0}\n              </Flex>\n              <Flex ml={3} alignItems=\"center\">\n                <Icon mr={1}>\n                  <Star size={16} />\n                </Icon>\n                {totalLikes || 0}\n              </Flex>\n            </Meta>\n          </Flex>\n          <Flex>\n            {members.map((m, i) => (\n              <Member ml={1} src={m} />\n            ))}\n          </Flex>\n        </Flex>\n      </NavLink>\n    </Wrapper>\n  );\n};\n\nconst Icon = styled(Box)`\n  svg {\n    vertical-align: middle;\n  }\n`;\n\nconst Summary = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n`;\n\nconst Member = styled(Box)<{ src: string }>`\n  max-width: 28px !important;\n  max-height: 28px !important;\n  border-radius: 28px !important;\n  background: url(\"${props => props.src}\");\n  background-repeat: no-repeat;\n  background-position: cover;\n  width: 28px;\n  height: 28px;\n  background-size: cover;\n`;\n\nconst Meta = styled(Flex)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n`;\n\nconst Date = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n  flex: 1;\n`;\n\nconst Wrapper = styled(Box)`\n  border-bottom: ${props => props.theme.colors.border};\n  background: ${props => props.theme.colors.appInverse};\n  cursor: pointer;\n  &:hover {\n    background: ${props => props.theme.colors.lighter};\n  }\n  a {\n    text-decoration: none;\n    * {\n      text-decoration: none;\n    }\n  }\n`;\n","import { useThreadPreview } from 'fe/thread/preview/useThreadPreview';\nimport { Thread } from 'graphql/types.generated';\nimport React, { FC, useMemo } from 'react';\nimport {\n  CommentProps as ThreadPreviewUIProps,\n  Thread as ThreadPreviewUI\n} from 'ui/modules/Previews/Thread';\n\nexport interface Props {\n  threadId: Thread['id'];\n}\n\nexport const ThreadPreviewHOC: FC<Props> = ({ threadId }) => {\n  const { mainComment, totalReplies } = useThreadPreview(threadId);\n\n  const threadPreviewProps = useMemo<ThreadPreviewUIProps | null>(() => {\n    if (!mainComment) {\n      return null;\n    }\n\n    const props: ThreadPreviewUIProps = {\n      content: mainComment.content,\n      // lastActivity: lastActivity ? `${lastActivity}` : '',\n      lastActivity: mainComment.createdAt,\n      members: [],\n      totalLikes: `${mainComment.likerCount || 0}`,\n      totalReplies: totalReplies ? `${totalReplies}` : '',\n      link: `/thread/${threadId}`\n    };\n\n    return props;\n  }, [mainComment, totalReplies, threadId]);\n\n  return threadPreviewProps && <ThreadPreviewUI {...threadPreviewProps} />;\n};\n","import React, { FC } from 'react';\nimport {\n  Activity,\n  Collection,\n  Comment,\n  Community,\n  Flag,\n  Follow,\n  Like,\n  Resource,\n  Thread,\n  User\n} from 'graphql/types.generated';\nimport { ActivityPreviewHOC } from './activity/ActivityPreview';\nimport { CollectionPreviewHOC } from './collection/CollectionPreview';\nimport { CommentPreviewHOC } from './comment/CommentPreview';\nimport { CommunityPreviewHOC } from './community/CommunityPreview';\nimport { ResourcePreviewHOC } from './resource/ResourcePreview';\nimport { ThreadPreviewHOC } from './thread/ThreadPreview';\nimport { UserPreviewHOC } from './user/UserPreview';\nimport Maybe from 'graphql/tsutils/Maybe';\n\nexport type Ctx = Pick<\n  Activity | Collection | Comment | Community | Resource | Thread | User | Flag | Follow | Like,\n  'id' | '__typename'\n>;\ninterface PreviewIndex {\n  ctx: Maybe<Ctx>;\n}\n\nexport const PreviewIndex: FC<PreviewIndex> = ({ ctx }) => {\n  if (!ctx) {\n    return null;\n  }\n  switch (ctx.__typename) {\n    case 'Activity':\n      return <ActivityPreviewHOC activityId={ctx.id} />;\n    case 'Collection':\n      return <CollectionPreviewHOC collectionId={ctx.id} />;\n    case 'Comment':\n      return <CommentPreviewHOC commentId={ctx.id} mainComment={false} />;\n    case 'Community':\n      return <CommunityPreviewHOC communityId={ctx.id} />;\n    case 'Resource':\n      return <ResourcePreviewHOC resourceId={ctx.id} />;\n    case 'Thread':\n      return <ThreadPreviewHOC threadId={ctx.id} />;\n    case 'User':\n      return <UserPreviewHOC userId={ctx.id} />;\n    default:\n      return null;\n  }\n};\n","import React, { useMemo, FC } from 'react';\nimport { Thread as ThreadPageUI, Props } from 'ui/pages/thread';\nimport { CommentPreviewHOC } from 'HOC/modules/previews/comment/CommentPreview';\nimport { useThreadPreview } from 'fe/thread/preview/useThreadPreview';\nimport { Thread } from 'graphql/types.generated';\nimport { getCommunityInfoStrings } from 'fe/lib/activity/getContextCommunityInfo';\nimport {\n  ActivityPreview,\n  Status as ActivityPreviewStatus,\n  ActivityLoaded as ActivityPreviewProps\n} from 'ui/modules/ActivityPreview';\nimport { getActivityActor } from 'fe/lib/activity/getActivityActor';\nimport { useThreadComments } from 'fe/comment/thread/useThreadComments';\nimport { PreviewIndex } from 'HOC/modules/previews';\nimport { useFormik } from 'formik';\nimport { Box } from 'rebass';\nimport { usePageTitle } from 'context/global/pageCtx';\nimport { t } from '@lingui/macro';\nimport { getActivityMainContext } from 'fe/lib/activity/getActivityMainContext';\n\nexport interface ThreadPage {\n  threadId: Thread['id'];\n}\nconst threadPageTitle = t`Discussion: {excerpt}`;\n\nexport const ThreadPage: FC<ThreadPage> = ({ threadId }) => {\n  const { commentPage } = useThreadComments(threadId);\n  const [loadMoreComments] = commentPage.formiks;\n  const thread = useThreadPreview(threadId);\n  const titleValues = thread.mainComment && {\n    excerpt: `${thread.mainComment.content.substring(0, 30)} ...`\n  };\n  usePageTitle(!!titleValues && threadPageTitle, titleValues);\n  const replyFormik = useFormik<{ replyMessage: string }>({\n    initialValues: { replyMessage: '' },\n    onSubmit: ({ replyMessage }) => thread.reply(replyMessage)\n  });\n\n  const uiProps = useMemo<null | Props>(() => {\n    const { context: threadContext, mainComment } = thread;\n    if (\n      threadContext &&\n      (threadContext.__typename === 'User' ||\n        threadContext.__typename === 'Like' ||\n        threadContext.__typename === 'Follow' ||\n        threadContext.__typename === 'Comment')\n    ) {\n      return null;\n    }\n\n    const context = getActivityMainContext(threadContext);\n    if (!(mainComment && context)) {\n      return null;\n    }\n\n    const { communityName, communityId, communityIcon } = getCommunityInfoStrings(context);\n\n    const activityProps: Pick<\n      ActivityPreviewProps,\n      'status' | 'communityLink' | 'communityName' | 'event'\n    > = {\n      communityLink: `/communities/${communityId}`,\n      communityName,\n      event: 'started a discussion',\n      status: ActivityPreviewStatus.Loaded\n    };\n\n    const MainThread = (\n      <ActivityPreview\n        {...{\n          ...activityProps,\n          actor: mainComment.creator ? getActivityActor(mainComment.creator) : null,\n          preview: <CommentPreviewHOC commentId={mainComment.id} mainComment={true} />,\n          createdAt: mainComment.createdAt\n        }}\n      />\n    );\n\n    const Comments = (\n      <>\n        {commentPage.edges\n          .filter(comment => comment.id !== thread.mainComment?.id)\n          .map(comment => (\n            <Box mb={1} key={comment.id}>\n              <ActivityPreview\n                {...{\n                  ...activityProps,\n                  event: 'replied',\n                  actor: comment.creator\n                    ? getActivityActor(comment.creator)\n                    : { icon: '', link: '', name: '' },\n                  preview: (\n                    <CommentPreviewHOC\n                      commentId={comment.id}\n                      mainComment={false}\n                      hideActions={true}\n                    />\n                  ),\n                  createdAt: comment.createdAt\n                }}\n              />\n            </Box>\n          ))}\n      </>\n    );\n\n    const Context = (\n      <PreviewIndex\n        ctx={context.__typename === 'User' ? { ...context, id: context.userId } : context}\n      />\n    );\n    const props: Props = {\n      Comments,\n      Context,\n      MainThread,\n      communityIcon,\n      communityId,\n      communityName,\n      reply: thread.canReply\n        ? {\n            replyFormik\n          }\n        : null,\n      isCommunityContext: thread.context?.__typename === 'Community',\n      loadMoreComments\n    };\n\n    return props;\n  }, [thread, commentPage, loadMoreComments, replyFormik]);\n  return uiProps && <ThreadPageUI {...uiProps} />;\n};\n","import React, { FC, useMemo } from 'react';\nimport { ThreadPage } from 'HOC/pages/thread/ThreadPage';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport { locationHelper } from './lib/helper';\n\ninterface ThreadPageRouter {\n  threadId: string;\n}\nconst ThreadPageRouter: FC<RouteComponentProps<ThreadPageRouter>> = ({ match }) => {\n  const threadId = match.params.threadId;\n\n  const props = useMemo<ThreadPage>(\n    () => ({\n      threadId\n    }),\n    [threadId]\n  );\n\n  return (\n    <WithSidebarTemplate>\n      <ThreadPage {...props} />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const ThreadPageRoute: RouteProps = {\n  exact: true,\n  path: '/thread/:threadId',\n  component: ThreadPageRouter\n};\n\ntype Params = {\n  threadId: string;\n};\n\nexport const threadLocation = locationHelper<Params, undefined>(ThreadPageRoute);\n","import { Activity } from 'graphql/types.generated';\nimport { useActivityPreviewQuery } from './useActivityPreview.generated';\nimport { useMemo } from 'react';\nimport { getActivityMainContext } from 'fe/lib/activity/getActivityMainContext';\nimport { getEventString } from 'fe/lib/activity/getActivityEventString';\nimport { getActivitySimpleLink } from 'fe/lib/activity/getActivitySimpleLink';\nimport { getCommunityInfoStrings } from 'fe/lib/activity/getContextCommunityInfo';\n\nexport const useActivityPreview = (activityId: Activity['id']) => {\n  const activityPreviewQ = useActivityPreviewQuery({\n    variables: { activityId }\n  });\n  const activity = activityPreviewQ.data?.activity;\n  const mainContext = getActivityMainContext(activity?.context);\n  const eventString = getEventString(activity) || '';\n  const link = getActivitySimpleLink(mainContext);\n  const communityInfoStrings = getCommunityInfoStrings(mainContext);\n\n  return useMemo(() => {\n    return {\n      activity,\n      mainContext,\n      eventString,\n      link,\n      communityInfoStrings\n    };\n  }, [activity, mainContext, eventString, link, communityInfoStrings]);\n};\n","import { CollectionPreviewFragment } from 'HOC/modules/previews/collection/CollectionPreview.generated';\nimport { CommentPreviewFragment } from 'HOC/modules/previews/comment/CommentPreview.generated';\nimport { CommunityPreviewFragment } from 'HOC/modules/previews/community/CommunityPreview.generated';\nimport { ResourcePreviewFragment } from 'HOC/modules/previews/resource/ResourcePreview.generated';\nimport { UserPreviewFragment } from 'HOC/modules/previews/user/UserPreview.generated';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { threadLocation } from 'routes/ThreadPageRoute';\nimport { userLocation } from 'routes/UserPageRoute';\nimport { collectionLocation } from 'routes/CollectionPageRoute';\nimport { communityLocation } from 'routes/CommunityPageRoute';\nimport { Category, Intent, Organisation, SpatialThing, Taggable } from 'graphql/types.generated';\nimport { FlagPreviewFragment } from 'HOC/modules/previews/flag/FlagPreview.generated';\nimport { FollowPreviewFragment } from 'HOC/modules/previews/follow/FollowPreview.generated';\nimport { LikePreviewFragment } from 'HOC/modules/previews/like/LikePreview.generated';\n\ntype LinkCtx =\n  | Pick<UserPreviewFragment, '__typename' | 'userId'>\n  | Pick<CommentPreviewFragment, '__typename' | 'thread'>\n  | Pick<ResourcePreviewFragment, '__typename' | 'payload'>\n  | Pick<CollectionPreviewFragment | CommunityPreviewFragment, '__typename' | 'id'>\n  | Pick<Category, '__typename'>\n  | Pick<FlagPreviewFragment, '__typename'>\n  | Pick<FollowPreviewFragment, '__typename'>\n  | Pick<Intent, '__typename'>\n  | Pick<LikePreviewFragment, '__typename'>\n  | Pick<Organisation, '__typename'>\n  | Pick<SpatialThing, '__typename'>\n  | Pick<Taggable, '__typename'>;\n\nexport const getActivitySimpleLink = (ctx: Maybe<LinkCtx>) => {\n  if (!ctx) {\n    return '';\n  } else if (ctx.__typename === 'Comment') {\n    return ctx.thread ? threadLocation.getPath({ threadId: ctx.thread.id }, undefined) : '';\n  } else if (ctx.__typename === 'Resource') {\n    return ctx.payload ? ctx.payload.url : '';\n  } else if (ctx.__typename === 'User') {\n    return userLocation.getPath({ userId: ctx.userId, tab: undefined }, undefined);\n  } else if (ctx.__typename === 'Collection') {\n    return collectionLocation.getPath({ collectionId: ctx.id, tab: undefined }, undefined);\n  } else if (ctx.__typename === 'Community') {\n    return communityLocation.getPath({ communityId: ctx.id, tab: undefined }, undefined);\n  }\n  return null;\n};\n","import { useActivityPreview } from 'fe/activities/preview/useActivityPreview';\nimport { getActivityActor } from 'fe/lib/activity/getActivityActor';\nimport * as GQL from 'graphql/types.generated';\nimport React, { FC, useMemo } from 'react';\nimport * as UI from 'ui/modules/ActivityPreview';\nimport { PreviewComponent } from './PreviewComponent';\nimport { threadLocation } from 'routes/ThreadPageRoute';\n\nexport interface Props {\n  activityId: GQL.Activity['id'];\n}\nexport const ActivityPreviewHOC: FC<Props> = ({ activityId }) => {\n  const activityBox = useActivityPreview(activityId);\n  const props = useMemo<null | UI.Props>(() => {\n    const { activity, communityInfoStrings, eventString } = activityBox;\n    if (!activity) {\n      return { status: UI.Status.Loading };\n    } else {\n      if (!activity.context) {\n        console.error('ActivityPreviewHOC: user or context :null', activity);\n        return null;\n      }\n\n      const threadId =\n        activity.context.__typename === 'Comment'\n          ? activity.context.thread?.id\n          : activity.context.__typename === 'Like' &&\n            activity.context.context?.__typename === 'Comment'\n          ? activity.context.context.thread?.id\n          : undefined;\n\n      let preview = <></>;\n      if (\n        activity.context.__typename !== 'Category' &&\n        activity.context.__typename !== 'Intent' &&\n        activity.context.__typename !== 'Organisation' &&\n        activity.context.__typename !== 'SpatialThing' &&\n        activity.context.__typename !== 'Taggable'\n      ) {\n        preview = <PreviewComponent context={activity.context} />;\n      }\n\n      const props: UI.Props = {\n        status: UI.Status.Loaded,\n        createdAt: activity.createdAt,\n        actor: activity.user && getActivityActor(activity.user),\n        threadUrl: threadId && threadLocation.getPath({ threadId }, undefined),\n        event: eventString,\n        ...communityInfoStrings,\n        preview\n      };\n      return props;\n    }\n  }, [activityBox]);\n\n  return props && <UI.ActivityPreview {...props} />;\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type IntentPreviewFragment = (\n  { __typename: 'Intent' }\n  & Pick<Types.Intent, 'id' | 'name' | 'note'>\n  & { tags: Types.Maybe<Array<Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }>>> }\n);\n\nexport type CommunityIntentsQueryVariables = {\n  communityId?: Types.Maybe<Types.Scalars['ID']>\n};\n\n\nexport type CommunityIntentsQuery = (\n  { __typename: 'RootQueryType' }\n  & { intentsFiltered: Types.Maybe<Array<Types.Maybe<(\n    { __typename: 'Intent' }\n    & IntentPreviewFragment\n  )>>> }\n);\n\nexport const IntentPreviewFragmentDoc = gql`\n    fragment IntentPreview on Intent {\n  id\n  name\n  note\n  tags {\n    __typename\n  }\n}\n    `;\nexport const CommunityIntentsDocument = gql`\n    query communityIntents($communityId: ID) {\n  intentsFiltered(inScopeOf: [$communityId]) {\n    ...IntentPreview\n  }\n}\n    ${IntentPreviewFragmentDoc}`;\n\n/**\n * __useCommunityIntentsQuery__\n *\n * To run a query within a React component, call `useCommunityIntentsQuery` and pass it any options that fit your needs.\n * When your component renders, `useCommunityIntentsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCommunityIntentsQuery({\n *   variables: {\n *      communityId: // value for 'communityId'\n *   },\n * });\n */\nexport function useCommunityIntentsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CommunityIntentsQuery, CommunityIntentsQueryVariables>) {\n        return ApolloReactHooks.useQuery<CommunityIntentsQuery, CommunityIntentsQueryVariables>(CommunityIntentsDocument, baseOptions);\n      }\nexport function useCommunityIntentsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CommunityIntentsQuery, CommunityIntentsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CommunityIntentsQuery, CommunityIntentsQueryVariables>(CommunityIntentsDocument, baseOptions);\n        }\nexport type CommunityIntentsQueryHookResult = ReturnType<typeof useCommunityIntentsQuery>;\nexport type CommunityIntentsLazyQueryHookResult = ReturnType<typeof useCommunityIntentsLazyQuery>;\nexport type CommunityIntentsQueryResult = ApolloReactCommon.QueryResult<CommunityIntentsQuery, CommunityIntentsQueryVariables>;\n\n\nexport interface CommunityIntentsQueryOperation {\n  operationName: 'communityIntents'\n  result: CommunityIntentsQuery\n  variables: CommunityIntentsQueryVariables\n  type: 'query'\n}\nexport const CommunityIntentsQueryName:CommunityIntentsQueryOperation['operationName'] = 'communityIntents'\n\nexport const CommunityIntentsQueryRefetch = (\n  variables:CommunityIntentsQueryVariables, \n  context?:any\n)=>({\n  query:CommunityIntentsDocument,\n  variables,\n  context\n})\n      \n","import { Community } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport * as GQL from './useCommunityIntents.generated';\n\nexport const useCommunityIntents = (communityId: Community['id']) => {\n  const communityIntentdQ = GQL.useCommunityIntentsQuery({\n    variables: { communityId }\n  });\n\n  const communityIntents = communityIntentdQ.data?.intentsFiltered ?? [];\n\n  return useMemo(\n    () => ({\n      communityIntents\n    }),\n    [communityIntents]\n  );\n};\n","import * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport { typography } from 'mn-constants';\nimport { Star } from 'react-feather';\nimport { NavLink } from 'react-router-dom';\nimport { Box, Flex, Heading, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport Avatar from 'ui/elements/Avatar';\nimport styled from 'ui/themes/styled';\nimport { Search } from './Collection';\n\nexport interface LikeActions {\n  toggleLikeFormik: FormikHook<{}>;\n  totalLikes: number;\n  iLikeIt: boolean;\n}\n\nexport interface Props {\n  icon?: string;\n  name: string;\n  summary?: string;\n  link: string;\n  like: null | LikeActions;\n  hideActions?: boolean;\n  isSearch?: boolean;\n  collectionLink: string;\n  collectionName: string;\n  onOpen?: (id: string) => void;\n}\n\nexport const Intent: React.FC<Props> = ({\n  icon,\n  name,\n  summary,\n  link,\n  collectionLink,\n  collectionName,\n  like,\n  isSearch,\n  hideActions,\n  onOpen\n}) => {\n  return (\n    <Bordered>\n      {isSearch && (\n        <Search>\n          <Trans>Intent</Trans>\n        </Search>\n      )}\n      <Wrapper p={2}>\n        {icon !== '' && <Avatar size=\"m\" src={icon} />}\n        <Infos flex={1} ml={3}>\n          <TitleLink\n            onClick={() => {\n              onOpen && onOpen(link);\n            }}\n          >\n            <Title flex=\"1\">{name}</Title>\n          </TitleLink>\n          {summary && (\n            <Summary variant=\"text\" mt={2}>\n              {summary}\n            </Summary>\n          )}\n        </Infos>\n      </Wrapper>\n      <Meta>\n        <Collection ml={2} mb={2}>\n          Added in <NavLink to={collectionLink}> +{collectionName}</NavLink>\n        </Collection>\n        {hideActions ? null : (\n          <Actions>\n            {like && (\n              <ActionItem\n                bordered\n                liked={like.iLikeIt ? true : false}\n                onClick={like.toggleLikeFormik.submitForm}\n              >\n                <ActionIcon>\n                  <Star strokeWidth=\"1\" size=\"18\" />\n                </ActionIcon>\n                <ActionText variant={'text'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  {like.totalLikes}\n                </ActionText>\n              </ActionItem>\n            )}\n          </Actions>\n        )}\n      </Meta>\n    </Bordered>\n  );\n};\n\nconst Meta = styled(Flex)`\n  align-items: center;\n`;\n\nconst Collection = styled(Flex)`\n  flex: 1;\n  a {\n    text-decoration: underline;\n    font-weight: 600;\n    color: ${props => props.theme.colors.dark};\n  }\n`;\n\nconst Summary = styled(Text)`\n  color: ${props => props.theme.colors.dark};\n  word-break: break-word;\n`;\nconst ActionText = styled(Text)`\n  font-size: ${typography.size.s1};\n  color: ${props => props.theme.colors.darker};\n`;\nconst ActionIcon = styled(Box)`\n  width: 30px;\n  height: 30px;\n  border-radius: 99999px;\n  display: inline-flex;\n  align-items: center;\n  align-content: center;\n  text-align: center;\n  margin-left: -8px;\n  svg {\n    margin: 0 auto;\n  }\n`;\n\nconst Actions = styled(Flex)`\n  justify-content: start;\n  padding: 8px;\n  padding-top: 0;\n`;\n\nconst ActionItem = styled(Flex)<{ liked?: boolean; bordered?: boolean }>`\n  align-items: center;\n  color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  div {\n    color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  cursor: pointer;\n  background: ${props => (props.liked ? props.theme.colors.primary : 'transparent')};\n  border: 1px solid ${props => (props.liked ? props.theme.colors.primary : 'transparent')};\n  border: 1px solid ${props => (props.bordered ? props.theme.colors.primary : 'transparent')};\n  border-radius: 4px;\n  padding: 0 8px;\n  margin-right: 8px;\n  text-align: center;\n  font-size: ${typography.size.s1};\n  svg {\n    stroke: none;\n    fill: ${props => (props.liked ? props.theme.colors.lightest : props.theme.colors.primary)};\n  }\n  a {\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n  }\n  &:hover {\n    svg {\n      fill: ${props => (props.liked ? props.theme.colors.lightest : props.theme.colors.lightest)};\n    }\n    div {\n      color: ${props => (props.liked ? props.theme.colors.lightest : props.theme.colors.lightest)};\n    }\n    color: ${props => (props.liked ? props.theme.colors.lightest : props.theme.colors.lightest)};\n    background: ${props =>\n      props.liked ? props.theme.colors.mediumdark : props.theme.colors.primary};\n    border-color: ${props =>\n      props.liked ? props.theme.colors.mediumdark : props.theme.colors.primary};\n  }\n`;\n\nconst Bordered = styled(Box)`\n  border: ${props => props.theme.colors.border};\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n  box-shadow: 0px 2px 4px 0px #0000001f;\n  margin: 10px;\n`;\n\nconst TitleLink = styled.button`\n  text-decoration: none;\n  color: ${props => props.theme.colors.darker};\n  background: 0;\n  border: 0;\n\n  svg {\n    margin: 0px;\n    margin-right: 5px;\n    display: inline-flex;\n    position: relative;\n    top: 2px;\n  }\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst Wrapper = styled(Flex)`\n  position: relative;\n  text-decoration: none;\n  background: ${props => props.theme.colors.appInverse};\n  margin-top: 0;\n  border-radius: 6px;\n`;\n\nconst Infos = styled(Box)`\n  flex: 1;\n  position: relative;\n  div {\n    text-decoration: none;\n  }\n`;\nconst Title = styled(Heading)`\n  color: ${props => props.theme.colors.darker};\n  text-decoration: none;\n`;\n","import { Intent } from 'graphql/types.generated';\nimport React, { FC } from 'react';\nimport { Intent as IntentPreviewUI, Props as IntentProps } from 'ui/modules/Previews/Intent';\n\nexport interface Props {\n  intentId: Intent['id'];\n  name: string;\n  note: string;\n  communityLink: string;\n  communityName: string;\n  onOpen: (id: string) => void;\n}\n\nexport const IntentPreviewHOC: FC<Props> = ({\n  intentId,\n  name,\n  note,\n  communityLink,\n  communityName,\n  onOpen\n}) => {\n  const intentPreviewProps: IntentProps = {\n    name,\n    summary: note,\n    link: intentId,\n    like: null,\n    hideActions: true,\n    collectionLink: communityLink,\n    collectionName: communityName,\n    onOpen\n  };\n\n  return intentPreviewProps && <IntentPreviewUI {...intentPreviewProps} />;\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type CreateEconomicEventMutationVariables = {\n  note?: Types.Maybe<Types.Scalars['String']>,\n  action: Types.Scalars['ID'],\n  provider: Types.Scalars['ID'],\n  receiver: Types.Scalars['ID'],\n  hasUnit: Types.Scalars['ID'],\n  hasNumericalValue: Types.Scalars['Float']\n};\n\n\nexport type CreateEconomicEventMutation = (\n  { __typename: 'RootMutationType' }\n  & { createEconomicEvent: Types.Maybe<(\n    { __typename: 'EconomicEventResponse' }\n    & { economicEvent: (\n      { __typename: 'EconomicEvent' }\n      & Pick<Types.EconomicEvent, 'id'>\n    ), economicResource: Types.Maybe<(\n      { __typename: 'EconomicResource' }\n      & Pick<Types.EconomicResource, 'id'>\n    )> }\n  )> }\n);\n\nexport type IntentPanelQueryVariables = {\n  intentId?: Types.Maybe<Types.Scalars['ID']>\n};\n\n\nexport type IntentPanelQuery = (\n  { __typename: 'RootQueryType' }\n  & { intent: Types.Maybe<(\n    { __typename: 'Intent' }\n    & { resourceInventoriedAs: Types.Maybe<(\n      { __typename: 'EconomicResource' }\n      & Pick<Types.EconomicResource, 'id'>\n      & { trace: Types.Maybe<Array<(\n        { __typename: 'EconomicEvent' }\n        & Pick<Types.EconomicEvent, 'hasPointInTime'>\n        & { action: (\n          { __typename: 'Action' }\n          & Pick<Types.Action, 'label'>\n        ) }\n      )>> }\n    )> }\n  )> }\n);\n\n\nexport const CreateEconomicEventDocument = gql`\n    mutation createEconomicEvent($note: String, $action: ID!, $provider: ID!, $receiver: ID!, $hasUnit: ID!, $hasNumericalValue: Float!) {\n  createEconomicEvent(event: {note: $note, action: $action, provider: $provider, receiver: $receiver, resourceQuantity: {hasUnit: $hasUnit, hasNumericalValue: $hasNumericalValue}}) {\n    economicEvent {\n      id\n    }\n    economicResource {\n      id\n    }\n  }\n}\n    `;\nexport type CreateEconomicEventMutationFn = ApolloReactCommon.MutationFunction<CreateEconomicEventMutation, CreateEconomicEventMutationVariables>;\n\n/**\n * __useCreateEconomicEventMutation__\n *\n * To run a mutation, you first call `useCreateEconomicEventMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateEconomicEventMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createEconomicEventMutation, { data, loading, error }] = useCreateEconomicEventMutation({\n *   variables: {\n *      note: // value for 'note'\n *      action: // value for 'action'\n *      provider: // value for 'provider'\n *      receiver: // value for 'receiver'\n *      hasUnit: // value for 'hasUnit'\n *      hasNumericalValue: // value for 'hasNumericalValue'\n *   },\n * });\n */\nexport function useCreateEconomicEventMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<CreateEconomicEventMutation, CreateEconomicEventMutationVariables>) {\n        return ApolloReactHooks.useMutation<CreateEconomicEventMutation, CreateEconomicEventMutationVariables>(CreateEconomicEventDocument, baseOptions);\n      }\nexport type CreateEconomicEventMutationHookResult = ReturnType<typeof useCreateEconomicEventMutation>;\nexport type CreateEconomicEventMutationResult = ApolloReactCommon.MutationResult<CreateEconomicEventMutation>;\nexport type CreateEconomicEventMutationOptions = ApolloReactCommon.BaseMutationOptions<CreateEconomicEventMutation, CreateEconomicEventMutationVariables>;\nexport const IntentPanelDocument = gql`\n    query intentPanel($intentId: ID) {\n  intent(id: $intentId) {\n    resourceInventoriedAs {\n      id\n      trace {\n        hasPointInTime\n        action {\n          label\n        }\n      }\n    }\n  }\n}\n    `;\n\n/**\n * __useIntentPanelQuery__\n *\n * To run a query within a React component, call `useIntentPanelQuery` and pass it any options that fit your needs.\n * When your component renders, `useIntentPanelQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useIntentPanelQuery({\n *   variables: {\n *      intentId: // value for 'intentId'\n *   },\n * });\n */\nexport function useIntentPanelQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<IntentPanelQuery, IntentPanelQueryVariables>) {\n        return ApolloReactHooks.useQuery<IntentPanelQuery, IntentPanelQueryVariables>(IntentPanelDocument, baseOptions);\n      }\nexport function useIntentPanelLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<IntentPanelQuery, IntentPanelQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<IntentPanelQuery, IntentPanelQueryVariables>(IntentPanelDocument, baseOptions);\n        }\nexport type IntentPanelQueryHookResult = ReturnType<typeof useIntentPanelQuery>;\nexport type IntentPanelLazyQueryHookResult = ReturnType<typeof useIntentPanelLazyQuery>;\nexport type IntentPanelQueryResult = ApolloReactCommon.QueryResult<IntentPanelQuery, IntentPanelQueryVariables>;\n\n\nexport interface CreateEconomicEventMutationOperation {\n  operationName: 'createEconomicEvent'\n  result: CreateEconomicEventMutation\n  variables: CreateEconomicEventMutationVariables\n  type: 'mutation'\n}\nexport const CreateEconomicEventMutationName:CreateEconomicEventMutationOperation['operationName'] = 'createEconomicEvent'\n\nexport const CreateEconomicEventMutationRefetch = (\n  variables:CreateEconomicEventMutationVariables, \n  context?:any\n)=>({\n  query:CreateEconomicEventDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface IntentPanelQueryOperation {\n  operationName: 'intentPanel'\n  result: IntentPanelQuery\n  variables: IntentPanelQueryVariables\n  type: 'query'\n}\nexport const IntentPanelQueryName:IntentPanelQueryOperation['operationName'] = 'intentPanel'\n\nexport const IntentPanelQueryRefetch = (\n  variables:IntentPanelQueryVariables, \n  context?:any\n)=>({\n  query:IntentPanelDocument,\n  variables,\n  context\n})\n      \n","import { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\nimport * as GQL from './useCreateEvent.generated';\n\nexport const useCreateEvent = () => {\n  const [createMut, createMutStatus] = GQL.useCreateEconomicEventMutation();\n\n  const create = useCallOrNotifyMustLogin(\n    async ({\n      note,\n      action,\n      provider,\n      receiver,\n      hasUnit,\n      hasNumericalValue\n    }: GQL.CreateEconomicEventMutationVariables) => {\n      if (createMutStatus.loading) {\n        return;\n      }\n      return createMut({\n        variables: {\n          note,\n          action,\n          provider,\n          receiver,\n          hasUnit,\n          hasNumericalValue\n        }\n      });\n    },\n    []\n  );\n  return useMemo(() => {\n    return {\n      create\n    };\n  }, [create]);\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { useFormik } from 'formik';\nimport * as React from 'react';\nimport { ToastContainer, Slide, toast } from 'react-toastify';\nimport { Box } from 'rebass/styled-components';\nimport * as Yup from 'yup';\nimport { useCreateEvent } from '../../../fe/intent/createEvent/useCreateEvent';\nimport Button from '../../elements/Button';\nimport Input, { CustomAlert } from '../../elements/Input';\nimport { CustomSelect as Select } from 'ui/elements/CustomSelect';\nimport { setSelectOption } from '../../elements/CustomSelect/select';\nimport { CollectionContainerForm } from '../CreateCollectionPanel/style';\nimport { CreateIntentFormValues } from '../CreateResourcePanel';\nimport { CounterChars } from '../Modal';\nimport { FormLabel, FormGroup, FormStyled, ButtonWrap, Container } from './styles';\n\nexport type IntentActions = {\n  id: string;\n  label: string;\n  note?: string;\n  isDisabled?: boolean;\n  displayUsername?: string;\n};\n\nexport type EconomicEventVariables = {\n  note: string;\n  action: string;\n  provider: string;\n  receiver: string;\n  hasUnit: string;\n  hasNumericalValue: number | string | undefined;\n};\n\nexport type EconomicEventManagerProps = {\n  actionList?: any;\n  providerList: null | undefined | [] | { id: string; name: string }[];\n  receiverList: null | undefined | [] | { id: string; name: string }[];\n  unitPages?: {\n    edges: any;\n  };\n  setAction?: (name: string) => void;\n};\n\nexport const validationSchema = Yup.object().shape({\n  note: Yup.string().max(500, 'Too Long!'),\n  action: Yup.object().shape({\n    id: Yup.string().required('Required')\n  }),\n  provider: Yup.object().shape({\n    id: Yup.string().required('Required')\n  }),\n  receiver: Yup.object().shape({\n    id: Yup.string().required('Required')\n  }),\n  hasUnit: Yup.object().shape({\n    id: Yup.string().required('Required')\n  }),\n  hasNumericalValue: Yup.string()\n    .required('Required')\n    .notOneOf([0, '0', null, undefined], 'Not null')\n});\n\nexport const EconomicEventManager: React.FC<any> = ({\n  actionList,\n  setAction,\n  providerList,\n  receiverList,\n  unitPages\n}) => {\n  const [providerArr, setProviderArr] = React.useState<any>([]);\n  const [receiverArr, setReceiverArr] = React.useState<any>([]);\n  const [unitLst, setUnitLst] = React.useState<any>([]);\n\n  React.useEffect(() => {\n    setProviderArr(setSelectOption(providerList, 'name'));\n    setReceiverArr(setSelectOption(receiverList, 'name'));\n  }, [providerList, receiverList]);\n\n  React.useEffect(() => {\n    setUnitLst(\n      setSelectOption(unitPages?.edges, {\n        variables: ['label', 'symbol'],\n        template: 'label / symbol'\n      })\n    );\n  }, [unitPages]);\n\n  const { create } = useCreateEvent();\n\n  const formik = useFormik<any>({\n    initialValues: {\n      name: '',\n      note: '',\n      image: undefined,\n      action: {\n        id: '',\n        label: ''\n      },\n      provider: {\n        id: '',\n        label: '',\n        note: '',\n        displayUsername: ''\n      },\n      receiver: {\n        id: '',\n        label: '',\n        note: '',\n        displayUsername: ''\n      },\n      hasUnit: {\n        id: '',\n        label: '',\n        note: ''\n      },\n      hasNumericalValue: 0\n    },\n    validateOnChange: false,\n    validateOnBlur: false,\n    validationSchema: validationSchema,\n    enableReinitialize: true,\n\n    onSubmit: (values: CreateIntentFormValues) => {\n      return create({\n        action: values.action.id,\n        note: values.note,\n        provider: values.provider.id,\n        receiver: values.receiver.id,\n        hasUnit: values.hasUnit.id,\n        hasNumericalValue: values.hasNumericalValue\n      })\n        .then((response: any) => {\n          if (!response.errors) {\n            toast.success('Event was created', {\n              position: 'top-right',\n              transition: Slide,\n              autoClose: 3000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true\n            });\n          }\n        })\n        .catch((error: any) => console.log(error));\n    }\n  });\n\n  return (\n    <Container>\n      <FormStyled onSubmit={formik.handleSubmit}>\n        <Box>\n          <FormGroup>\n            <Select\n              onSelect={(name, option) => {\n                setAction(option.id);\n                formik.setValues({ ...formik.values, action: option });\n              }}\n              options={actionList}\n              variant=\"primary\"\n              id=\"actions\"\n              name=\"actions\"\n              placeholder={i18nMark('Select action')}\n              value={formik.values.action}\n            />\n          </FormGroup>\n          {formik.errors.action && (\n            <CustomAlert variant=\"negative\">{formik.errors.action && 'Required'}</CustomAlert>\n          )}\n        </Box>\n        {formik.values.action.id ? (\n          <div>\n            <CollectionContainerForm>\n              <div className=\"d-flex\">\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>Provider</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      placeholder={i18nMark('Provider')}\n                      options={providerArr}\n                      variant=\"primary\"\n                      value={formik.values.provider}\n                      id=\"provider\"\n                      name=\"provider\"\n                      onInputChange={(name: string, value: string) => {\n                        let newList = providerList?.filter((item: { displayUsername: string }) =>\n                          item?.displayUsername?.toLowerCase().includes(value.toLowerCase())\n                        );\n\n                        setProviderArr(setSelectOption(newList, 'name'));\n                      }}\n                    />\n                  </FormGroup>\n                  {formik.errors.provider && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.provider && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>Receiver</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      placeholder={i18nMark('Receiver')}\n                      options={receiverArr}\n                      variant=\"primary\"\n                      value={formik.values.receiver}\n                      id=\"receiver\"\n                      name=\"receiver\"\n                      onInputChange={(name: string, value: string) => {\n                        let newList = receiverList?.filter((item: { displayUsername: string }) =>\n                          item?.displayUsername?.toLowerCase().includes(value.toLowerCase())\n                        );\n\n                        setReceiverArr(setSelectOption(newList, 'name'));\n                      }}\n                    />\n                  </FormGroup>\n                  {formik.errors.receiver && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.receiver && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n              </div>\n            </CollectionContainerForm>\n            <CollectionContainerForm>\n              <div className=\"d-flex\">\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>unit</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      options={unitLst}\n                      variant=\"primary\"\n                      id=\"hasUnit\"\n                      name=\"hasUnit\"\n                      placeholder={i18nMark('Unit')}\n                      value={formik.values.hasUnit}\n                    />\n                  </FormGroup>\n                  {formik.errors.hasUnit && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.hasUnit && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>numerical value</FormLabel>\n                    <Input\n                      type=\"number\"\n                      id=\"hasNumericalValue\"\n                      name=\"hasNumericalValue\"\n                      onChange={formik.handleChange}\n                      placeholder={i18nMark('Numerical Value')}\n                      value={formik.values.hasNumericalValue}\n                    />\n                  </FormGroup>\n                  {formik.errors.hasNumericalValue && (\n                    <CustomAlert variant=\"negative\">{formik.errors.hasNumericalValue}</CustomAlert>\n                  )}\n                </div>\n              </div>\n            </CollectionContainerForm>\n            <CollectionContainerForm>\n              <FormGroup>\n                <FormLabel>note</FormLabel>\n                <Input\n                  id=\"note\"\n                  type=\"textarea\"\n                  name=\"note\"\n                  onChange={formik.handleChange}\n                  placeholder={i18nMark('Note')}\n                  value={formik.values.note}\n                />\n              </FormGroup>\n              <CounterChars>\n                {formik.values.note ? 500 - formik.values.note.length : 500}\n              </CounterChars>\n              {formik.errors.note && (\n                <CustomAlert variant=\"negative\">{formik.errors.note}</CustomAlert>\n              )}\n            </CollectionContainerForm>\n            <ButtonWrap>\n              <Button variant=\"info\" type=\"submit\" className=\"event_btn\">\n                <Trans>Create Event</Trans>\n              </Button>\n            </ButtonWrap>\n          </div>\n        ) : null}\n      </FormStyled>\n      <ToastContainer />\n    </Container>\n  );\n};\n\nexport default EconomicEventManager;\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { EconomicEventManagerHOC } from '../../../HOC/modules/EconomicEventManager/EconomicEventManagerHOC';\nimport EconomicEventManager from '../EconomicEventManager';\nimport Button from 'ui/elements/Button';\nimport { clearFix } from 'polished';\nimport styled from 'ui/themes/styled';\nimport { Flex, Text, Box, Heading } from 'rebass/styled-components';\nimport { Container, Header } from 'ui/modules/Modal';\nimport { IProposedIntent } from '../Previews/ProposedIntent';\nimport { ActorComp } from '../ActivityPreview';\nimport { Actor } from '../ActivityPreview/types';\nimport { Clock } from 'react-feather';\nimport { theme } from 'ui/themes/default.theme';\nimport { format } from 'date-fns';\nimport media from 'styled-media-query';\n\nexport type IProposedIntentHistoryItem = {\n  date: string | null;\n  action: string;\n};\n\nexport type IProposedIntentPanel = IProposedIntent & {\n  actor: Actor | null;\n  createdAt: string | null;\n  tags?: Array<string>;\n  resourceQuantity: number;\n  history?: Array<IProposedIntentHistoryItem>;\n};\n\nexport const ProposedIntentPanel: React.FC<IProposedIntentPanel> = ({\n  actor,\n  createdAt,\n  link,\n  name,\n  collectionName,\n  icon,\n  resourceQuantity,\n  history\n}) => {\n  const [showHistory, toggleHistory] = React.useState(false);\n  return (\n    <Container>\n      <Header>\n        <Heading m={2}>{name}</Heading>\n        <ActorComp\n          actor={actor ?? undefined}\n          createdAt={createdAt ?? ''}\n          event={'Created a resource'}\n          communityLink={link}\n          communityName={collectionName}\n        />\n      </Header>\n      <Hero>\n        <HeroInfo>\n          <Title fontWeight={'bold'}></Title>\n        </HeroInfo>\n      </Hero>\n\n      <ContentWrap>\n        <Box>\n          {icon && icon !== '' && (\n            <ImgWrwap>\n              <img src={icon} alt={name} />\n            </ImgWrwap>\n          )}\n          <ButtonWrap>\n            <Button variant=\"outline\">\n              <Trans>Follow</Trans>\n            </Button>\n          </ButtonWrap>\n          <ButtonWrap>\n            <Button variant=\"outline\">\n              <Trans>Comment</Trans>\n            </Button>\n          </ButtonWrap>\n          <ButtonWrap>\n            <Button variant=\"outline\">\n              <Trans>Remaining</Trans> {resourceQuantity}\n            </Button>\n          </ButtonWrap>\n          <ButtonWrap>\n            <Button\n              style={{\n                background: showHistory ? theme.colors.darkest : 'transparent',\n                color: showHistory ? theme.colors.light : theme.colors.dark\n              }}\n              variant=\"outline\"\n              onClick={() => {\n                toggleHistory(!showHistory);\n              }}\n            >\n              <span\n                style={{\n                  height: '24px',\n                  display: 'inline-block',\n                  marginTop: '-12px',\n                  marginRight: 6,\n                  verticalAlign: 'middle'\n                }}\n              >\n                <Trans>History</Trans>\n                <span style={{ marginLeft: 6 }}></span>\n                {history && history.length}\n              </span>\n              <Clock style={{ display: 'inline-block' }} />\n            </Button>\n          </ButtonWrap>\n          <ButtonWrap>\n            {showHistory && (\n              <History>\n                {history &&\n                  history.map((item, i) => (\n                    <li key={i}>\n                      <span>{item.action}</span>\n                      {item.date && <span>{format(new Date(item.date), 'dd MMM yyyy')}</span>}\n                    </li>\n                  ))}\n              </History>\n            )}\n          </ButtonWrap>\n        </Box>\n        <Box>\n          <EconomicEventManagerHOC>\n            <EconomicEventManager />\n          </EconomicEventManagerHOC>\n        </Box>\n      </ContentWrap>\n    </Container>\n  );\n};\n\nconst History = styled.ul`\n  list-style: none;\n  > li {\n    display: flex;\n    padding: 10px;\n    margin-bottom: 10px;\n    background: ${props => props.theme.colors.darkest};\n    border-radius: 3px;\n    color: ${props => props.theme.colors.light};\n    > span:last-child {\n      margin-left: auto;\n    }\n  }\n`;\n\nconst ButtonWrap = styled.div`\n  width: 100%;\n  margin-bottom: 16px;\n  > button {\n    width: 100%;\n  }\n`;\n\nconst ContentWrap = styled.div`\n  display: grid;\n  grid-column-gap: 16px;\n  grid-template-columns: 1fr 1fr;\n  padding: 16px;\n  ${media.lessThan('medium')`\n    display: block;\n  `};\n`;\n\nconst ImgWrwap = styled.div`\n  margin-bottom: 16px;\n  > img {\n    max-width: 100%;\n  }\n`;\n\nconst Title = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n`;\n\nconst HeroInfo = styled.div`\n  flex: 1;\n  margin-left: 16px;\n  position: relative;\n  ${clearFix()};\n  & h2 {\n    margin: 0;\n    line-height: 32px !important;\n    font-size: 24px !important;\n    color: ${props => props.theme.colors.mediumdark};\n    ${media.lessThan('medium')`\n      margin-top: 8px;\n    `};\n  }\n  & p {\n    margin: 0;\n    color: rgba(0, 0, 0, 0.8);\n    font-size: 15px;\n    margin-top: 8px;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n  .--rtl & {\n    margin-right: 16px;\n    margin-left: 0px;\n  }\n`;\n\nconst Hero = styled(Flex)`\n  width: 100%;\n  position: relative;\n  padding: 16px;\n  ${media.lessThan('medium')`\n  text-align: center;\n  display: block;\n`};\n`;\n\nexport default ProposedIntentPanel;\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type IntentItemQueryVariables = {\n  intentId?: Types.Maybe<Types.Scalars['ID']>\n};\n\n\nexport type IntentItemQuery = (\n  { __typename: 'RootQueryType' }\n  & { intent: Types.Maybe<(\n    { __typename: 'Intent' }\n    & Pick<Types.Intent, 'hasBeginning' | 'hasPointInTime' | 'name' | 'note' | 'image'>\n    & { tags: Types.Maybe<Array<Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | (\n      { __typename: 'Taggable' }\n      & Pick<Types.Taggable, 'name'>\n    ) | { __typename: 'User' }>>>, resourceQuantity: Types.Maybe<(\n      { __typename: 'Measure' }\n      & Pick<Types.Measure, 'hasNumericalValue'>\n      & { hasUnit: (\n        { __typename: 'Unit' }\n        & Pick<Types.Unit, 'label'>\n      ) }\n    )>, resourceInventoriedAs: Types.Maybe<(\n      { __typename: 'EconomicResource' }\n      & Pick<Types.EconomicResource, 'id'>\n      & { trace: Types.Maybe<Array<(\n        { __typename: 'EconomicEvent' }\n        & Pick<Types.EconomicEvent, 'hasPointInTime'>\n        & { action: (\n          { __typename: 'Action' }\n          & Pick<Types.Action, 'label'>\n        ) }\n      )>> }\n    )>, provider: Types.Maybe<(\n      { __typename: 'Organization' }\n      & Pick<Types.Organization, 'name' | 'image' | 'id'>\n    ) | (\n      { __typename: 'Person' }\n      & Pick<Types.Person, 'name' | 'image' | 'id'>\n    )> }\n  )> }\n);\n\n\nexport const IntentItemDocument = gql`\n    query intentItem($intentId: ID) {\n  intent(id: $intentId) {\n    hasBeginning\n    hasPointInTime\n    name\n    note\n    image\n    tags {\n      ... on Taggable {\n        name\n      }\n    }\n    resourceQuantity {\n      hasUnit {\n        label\n      }\n      hasNumericalValue\n    }\n    resourceInventoriedAs {\n      id\n      trace {\n        hasPointInTime\n        action {\n          label\n        }\n      }\n    }\n    provider {\n      name\n      image\n      id\n    }\n  }\n}\n    `;\n\n/**\n * __useIntentItemQuery__\n *\n * To run a query within a React component, call `useIntentItemQuery` and pass it any options that fit your needs.\n * When your component renders, `useIntentItemQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useIntentItemQuery({\n *   variables: {\n *      intentId: // value for 'intentId'\n *   },\n * });\n */\nexport function useIntentItemQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<IntentItemQuery, IntentItemQueryVariables>) {\n        return ApolloReactHooks.useQuery<IntentItemQuery, IntentItemQueryVariables>(IntentItemDocument, baseOptions);\n      }\nexport function useIntentItemLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<IntentItemQuery, IntentItemQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<IntentItemQuery, IntentItemQueryVariables>(IntentItemDocument, baseOptions);\n        }\nexport type IntentItemQueryHookResult = ReturnType<typeof useIntentItemQuery>;\nexport type IntentItemLazyQueryHookResult = ReturnType<typeof useIntentItemLazyQuery>;\nexport type IntentItemQueryResult = ApolloReactCommon.QueryResult<IntentItemQuery, IntentItemQueryVariables>;\n\n\nexport interface IntentItemQueryOperation {\n  operationName: 'intentItem'\n  result: IntentItemQuery\n  variables: IntentItemQueryVariables\n  type: 'query'\n}\nexport const IntentItemQueryName:IntentItemQueryOperation['operationName'] = 'intentItem'\n\nexport const IntentItemQueryRefetch = (\n  variables:IntentItemQueryVariables, \n  context?:any\n)=>({\n  query:IntentItemDocument,\n  variables,\n  context\n})\n      \n","import { t } from '@lingui/macro';\nimport { i18n } from 'context/global/localizationCtx';\nimport { usePageTitle } from 'context/global/pageCtx';\nimport { useCommunityOutboxActivities } from 'fe/activities/outbox/community/useCommunityOutboxActivities';\nimport { useCommunityCollections } from 'fe/collection/community/useCommunityCollections';\nimport { useCommunity } from 'fe/community/useCommunity';\nimport { useCommunityThreads } from 'fe/thread/community/useCommunityThreads';\nimport { useCommunityFollowers } from 'fe/user/followers/community/useCommunityFollowers';\nimport { useFormik } from 'formik';\nimport { Community } from 'graphql/types.generated';\nimport { useNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { CreateCollectionPanelHOC } from 'HOC/modules/CreateCollectionPanel/createCollectionPanelHOC';\nimport { HeroCommunity } from 'HOC/modules/HeroCommunity/HeroCommunity';\nimport { ActivityPreviewHOC } from 'HOC/modules/previews/activity/ActivityPreview';\nimport { ThreadPreviewHOC } from 'HOC/modules/previews/thread/ThreadPreview';\nimport { UserPreviewHOC } from 'HOC/modules/previews/user/UserPreview';\nimport React, { FC, ReactElement, useMemo, useReducer, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Box } from 'rebass/styled-components';\nimport Modal from 'ui/modules/Modal';\nimport CommunityPageUI, { Props as CommunityProps } from 'ui/pages/community';\nimport { communityLocation } from 'routes/CommunityPageRoute';\nimport { useCommunityIntents } from 'fe/intent/community/useCommunityIntents';\nimport { IntentPreviewHOC } from 'HOC/modules/previews/intent/IntentPreview';\nimport { IntentPanelHOC } from 'HOC/modules/IntentPanel/IntentPanelHOC';\n// import { useCommunityInventory } from 'fe/inventory/community/useCommunityInventory';\n\nexport enum CommunityPageTab {\n  Activities,\n  Intents,\n  // Inventory,\n  // Collections,\n  Discussions,\n  Members\n}\n\nexport interface CommunityPage {\n  communityId: Community['id'];\n  tab: CommunityPageTab;\n  basePath: string;\n}\n\nconst communityIntentsPageTitle = t`Community {name} - Intents`;\nconst communityActivitiesPageTitle = t`Community {name} - Activities`;\n// const communityCollectionsPageTitle = t`Community {name} - Collections`;\nconst communityDiscussionsPageTitle = t`Community {name} - Discussions`;\nconst communityMembersPageTitle = t`Community {name} - Members`;\n// const communityInventoryPageTitle = t`Community {name} - Inventory`;\n\nexport const CommunityPage: FC<CommunityPage> = ({ communityId, basePath, tab }) => {\n  const { community, createThread } = useCommunity(communityId);\n  const [openIntent, setOpenIntent] = useState<string | null>(null);\n\n  const communityPageTitle =\n    tab === CommunityPageTab.Members\n      ? communityMembersPageTitle\n      : tab === CommunityPageTab.Activities\n      ? communityActivitiesPageTitle\n      : tab === CommunityPageTab.Discussions\n      ? communityDiscussionsPageTitle\n      : // : tab === CommunityPageTab.Inventory\n      // ? communityInventoryPageTitle\n      tab === CommunityPageTab.Intents\n      ? communityIntentsPageTitle\n      : communityIntentsPageTitle; //never\n  usePageTitle(!!community?.name && communityPageTitle, community);\n  const { communityFollowersPage } = useCommunityFollowers(communityId);\n  const { threadsPage } = useCommunityThreads(communityId);\n  const [loadMoreThreads] = threadsPage.formiks;\n  const { collectionsPage } = useCommunityCollections(communityId);\n  const [loadMoreCollections] = collectionsPage.formiks;\n  const { activitiesPage } = useCommunityOutboxActivities(communityId);\n  const [loadMoreActivities] = activitiesPage.formiks;\n  const { communityIntents } = useCommunityIntents(communityId);\n  // const { communityInventory } = useCommunityInventory();\n\n  const isJoined = !!community?.myFollow;\n  const notifiedMustJoin = (msg: string) => {\n    if (!isJoined) {\n      toast(msg, { type: 'warning' });\n      return true;\n    }\n    return false;\n  };\n\n  const history = useHistory();\n  const newThreadFormik = useFormik<{ text: string }>({\n    initialValues: { text: '' },\n    // validationSchema,\n    onSubmit: ({ text }) =>\n      notifiedMustJoin(i18n._(`You should join this community to create a new trhead`))\n        ? undefined\n        : createThread(text).then(newThreadId => {\n            history.push(`/thread/${newThreadId}`);\n          })\n  });\n\n  const Activities = activitiesPage.edges.map(activity => (\n    <ActivityPreviewHOC activityId={activity.id} key={activity.id} />\n  ));\n  //\n  // const Collections = collectionsPage.edges.map(collection => (\n  //   <Box key={collection.id}>\n  //     <CollectionPreviewHOC collectionId={collection.id} key={collection.id} />\n  //   </Box>\n  // ));\n\n  const Threads = threadsPage.edges\n    .map(thread =>\n      thread.comments?.edges[0] ? (\n        <Box key={thread.id}>\n          <ThreadPreviewHOC threadId={thread.id} />\n        </Box>\n      ) : (\n        (console.warn(\n          `Found a thread [id:${thread.id}] with an empty comments edges .. skipping`,\n          thread\n        ),\n        null)\n      )\n    )\n    .filter((_): _ is ReactElement => !!_);\n\n  const Members = communityFollowersPage.edges\n    .map(\n      follow => follow.creator && <UserPreviewHOC key={follow.id} userId={follow.creator?.userId} />\n    )\n    .filter((_): _ is ReactElement => !!_);\n\n  const HeroCommunityBox = <HeroCommunity communityId={communityId} basePath={basePath} />;\n\n  const Intents = communityIntents\n    .map(\n      (intent, i) =>\n        intent && (\n          <IntentPreviewHOC\n            key={i}\n            name={intent?.name ?? ''}\n            intentId={intent.id}\n            note={intent?.note ?? ''}\n            communityName={community?.name ?? ''}\n            communityLink={`/communities/${communityId}`}\n            onOpen={setOpenIntent}\n          />\n        )\n    )\n    .filter((_): _ is ReactElement => !!_);\n\n  // const Inventory = communityInventory\n  //   .map(\n  //     (resource, i) =>\n  //       resource && (\n  //         <IntentPreviewHOC\n  //           key={i}\n  //           name={resource?.name ?? ''}\n  //           intentId={resource.id}\n  //           note={resource?.note ?? ''}\n  //           communityName={community?.name ?? ''}\n  //           communityLink={`/inventory/${resource.id}`}\n  //           onOpen={() => history.push(`/inventory/${resource.id}`)}\n  //         />\n  //       )\n  //   )\n  //   .filter((_): _ is ReactElement => !!_);\n\n  const notifiedMustLogin = useNotifyMustLogin();\n  const [showCreateCollectionModal, toggleShowCreateCollectionModal] = useReducer(\n    is =>\n      !notifiedMustJoin(i18n._(`You should join this community to create new collections`)) &&\n      !notifiedMustLogin() &&\n      !is,\n    false\n  );\n\n  const CreateCollectionModal = showCreateCollectionModal ? (\n    <Modal closeModal={toggleShowCreateCollectionModal}>\n      <CreateCollectionPanelHOC done={toggleShowCreateCollectionModal} communityId={communityId} />\n    </Modal>\n  ) : null;\n\n  const OpenIntentModal = openIntent ? (\n    <Modal\n      closeModal={() => {\n        setOpenIntent(null);\n      }}\n    >\n      <IntentPanelHOC communityName={community?.name ?? ''} intentId={openIntent} />\n    </Modal>\n  ) : null;\n\n  // TODO: add CreateIntentModal here\n\n  const communityPageProps = useMemo<CommunityProps | null>(() => {\n    if (!community) {\n      return null;\n    }\n\n    const tabPaths: CommunityProps['tabPaths'] = {\n      // collections: communityLocation.getPath({ communityId, tab: undefined }, undefined),\n      discussions: communityLocation.getPath({ communityId, tab: 'discussions' }, undefined),\n      members: communityLocation.getPath({ communityId, tab: 'members' }, undefined),\n      timeline: communityLocation.getPath({ communityId, tab: 'timeline' }, undefined),\n      // inventory: communityLocation.getPath({ communityId, tab: 'inventory' }, undefined),\n      intents: communityLocation.getPath({ communityId, tab: undefined }, undefined)\n    };\n    const props: CommunityProps = {\n      Members,\n      Intents,\n      // Inventory,\n      Activities,\n      // Collections,\n      HeroCommunity: HeroCommunityBox,\n      Threads,\n      tabPaths,\n      isJoined,\n      communityId,\n      newThreadFormik: isJoined ? newThreadFormik : null,\n      loadMoreActivities,\n      loadMoreCollections,\n      loadMoreThreads,\n      createCollection: toggleShowCreateCollectionModal\n    };\n\n    return props;\n  }, [\n    community,\n    communityId,\n    Members,\n    Intents,\n    // Inventory,\n    Activities,\n    // Collections,\n    HeroCommunityBox,\n    Threads,\n    isJoined,\n    newThreadFormik,\n    loadMoreActivities,\n    loadMoreCollections,\n    loadMoreThreads\n  ]);\n\n  return (\n    communityPageProps && (\n      <>\n        {CreateCollectionModal}\n        {OpenIntentModal}\n        <CommunityPageUI {...communityPageProps} />\n      </>\n    )\n  );\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Taggable } from 'graphql/types.generated';\nimport { Actor } from 'ui/modules/ActivityPreview/types';\nimport ProposedIntentPanel, { IProposedIntentPanel } from 'ui/modules/ProposedIntentPanel';\nimport * as GQL from './IntentPanel.generated';\n\nexport type Props = {\n  intentId: string;\n  communityName: string;\n};\n\nexport const IntentPanelHOC: FC<Props> = ({ intentId, communityName }) => {\n  const intentPanelQ = GQL.useIntentItemQuery({\n    variables: { intentId }\n  });\n  const intentPanelData = intentPanelQ.data?.intent;\n\n  if (!intentPanelData) {\n    return null;\n  }\n\n  const { provider } = intentPanelData;\n\n  const actor: Actor = {\n    icon: (provider && 'image' in provider && provider.image) || '',\n    name: provider?.name ?? '',\n    link: provider?.id ?? ''\n  };\n\n  const tags = (intentPanelData?.tags ?? []) as Array<Taggable>;\n  const resourceQuantity = (intentPanelData.resourceQuantity?.hasNumericalValue ?? 0) as number;\n  const history =\n    intentPanelData.resourceInventoriedAs?.trace?.map(item => {\n      return {\n        action: item.action.label,\n        date: item.hasPointInTime ?? null\n      };\n    }) ?? [];\n\n  const intentPanelProps: IProposedIntentPanel = {\n    actor: actor,\n    collectionName: communityName,\n    link: intentId,\n    createdAt: intentPanelData?.hasPointInTime ?? null,\n    name: intentPanelData?.name ?? '',\n    tags: tags.map(tag => tag.name ?? ''),\n    icon: intentPanelData?.image,\n    resourceQuantity,\n    history,\n    like: null,\n    isFlagged: false,\n    isOpenDropdown: false,\n    toggleDropdown: () => {},\n    toggleFlag: null,\n    collectionLink: communityName\n  };\n\n  return <ProposedIntentPanel {...intentPanelProps} />;\n};\n","import { CommunityPage, CommunityPageTab } from 'HOC/pages/community/CommunityPage';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport React, { FC, useMemo } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { locationHelper } from './lib/helper';\n\ninterface CommunityPageRouter {\n  communityId: string;\n  tab?: string;\n}\nconst CommunityPageRouter: FC<RouteComponentProps<CommunityPageRouter>> = ({ match }) => {\n  const communityId = match.params.communityId;\n  const maybeTabStr = match.params.tab;\n\n  const tab =\n    maybeTabStr === 'timeline'\n      ? CommunityPageTab.Activities\n      : // : maybeTabStr === 'inventory'\n      // ? CommunityPageTab.Inventory\n      maybeTabStr === 'members'\n      ? CommunityPageTab.Members\n      : maybeTabStr === 'discussions'\n      ? CommunityPageTab.Discussions\n      : !maybeTabStr\n      ? // ? CommunityPageTab.Collections\n        // maybeTabStr\n        CommunityPageTab.Intents\n      : null;\n\n  const props = useMemo<CommunityPage | null>(() => {\n    return tab === null\n      ? null\n      : {\n          communityId,\n          tab,\n          basePath: `/communities/${communityId}`\n        };\n  }, [tab, communityId]);\n\n  if (props === null) {\n    return <NotFoundHOC />;\n  }\n\n  return (\n    <WithSidebarTemplate>\n      <CommunityPage {...props} />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const CommunityPageRoute: RouteProps = {\n  exact: true,\n  path: '/communities/:communityId/:tab(timeline|members|discussions|intents)?',\n  component: CommunityPageRouter\n};\n\ntype Tab = undefined | 'timeline' | 'members' | 'discussions' | 'intents';\nexport type CommunityPageRouterParams = {\n  communityId: string;\n  tab: Tab;\n};\n\nexport const communityLocation = locationHelper<CommunityPageRouterParams, undefined>(\n  CommunityPageRoute\n);\n","import { LocaleContext } from 'context/global/localizationCtx';\nimport { logo_small_url, prompt_signin } from 'mn-constants';\nimport { darken, ellipsis } from 'polished';\nimport React, { ReactElement, useState } from 'react';\nimport { ChevronDown, ChevronLeft, MapPin } from 'react-feather';\n// import { Link } from 'react-router-dom';\nimport { useHistory, useLocation, useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\n// import {Input} from '@rebass/forms'\nimport Avatar from 'ui/elements/Avatar';\nimport styled from 'ui/themes/styled';\n// import Avatar from 'ui/elements/Avatar';\nimport { DropdownSidebar, CreateDropdown } from './dropdown';\nimport { communityLocation, CommunityPageRouterParams } from 'routes/CommunityPageRoute';\n\nexport interface Props {\n  user: null | {\n    icon: string;\n    name: string;\n    link: string;\n    isAdmin: boolean;\n    logout(): unknown;\n  };\n  Search: ReactElement;\n  toggleSideBar(): unknown;\n  createCommunity(): unknown;\n  createIntent(): unknown;\n  createResource: any;\n  isOpenDropdown: boolean;\n  toggleDropdown(): unknown;\n}\n\nexport const MainHeader: React.FC<Props> = props => {\n  const history = useHistory();\n  const { i18n } = React.useContext(LocaleContext);\n  const location = useLocation();\n  const params = useParams<CommunityPageRouterParams>();\n  const isCommunityPage = communityLocation.is(location.pathname);\n  const [isCreateOpen, toggleCreate] = useState(false);\n\n  return (\n    <HeaderWrapper>\n      <Container>\n        <Left>\n          <Icon onClick={() => history.goBack()}>\n            <ChevronLeft size=\"20\" />\n          </Icon>\n          {/* <HamburgerIcon onClick={props.toggleSideBar}>\n            <Menu size=\"20\" />\n          </HamburgerIcon> */}\n          <HomeLink to={props.user ? '/' : '/discover'}>\n            <Avatar size=\"s\" src={logo_small_url} />\n          </HomeLink>\n          <Search>\n            {/* <Input /> */}\n            {props.Search}\n          </Search>\n          {isCommunityPage && (\n            <MapLink to={`/communities/${params.communityId}/map/`} title=\"Map\">\n              <MapPin size=\"20\" />\n            </MapLink>\n          )}\n        </Left>\n        <CreateNav>\n          {props.user && (\n            <NavItem sx={{ position: 'relative' }} alignItems=\"center\" onClick={toggleCreate}>\n              <HeaderName ml={2} variant=\"link\">\n                Create\n              </HeaderName>\n              <Right>\n                <ChevronDown size=\"20\" />\n              </Right>\n              {isCreateOpen && (\n                <CreateDropdown\n                  createCommunity={props.createCommunity}\n                  createResource={props.createResource}\n                  createIntent={props.createIntent}\n                  toggleDropdown={() => {\n                    toggleCreate(!isCreateOpen);\n                  }}\n                />\n              )}\n            </NavItem>\n          )}\n        </CreateNav>\n        <Header alignItems={'center'}>\n          {props.user ? (\n            <NavItem\n              sx={{ position: 'relative' }}\n              alignItems=\"center\"\n              onClick={props.toggleDropdown}\n            >\n              <Avatar\n                size=\"s\"\n                initials={props.user.name.substring(0, 2)}\n                src={props.user.icon}\n                variant=\"avatar\"\n              />\n              <HeaderName ml={2} variant=\"link\">\n                {props.user.name}\n              </HeaderName>\n              <Right ml={2}>\n                <ChevronDown size=\"20\" />\n              </Right>\n              {props.isOpenDropdown && (\n                <DropdownSidebar\n                  isAdmin={props.user.isAdmin}\n                  logout={props.user.logout}\n                  userLink={props.user.link}\n                  toggleDropdown={props.toggleDropdown}\n                />\n              )}\n            </NavItem>\n          ) : (\n            <Box>\n              <Signin>\n                <Link to=\"/\">\n                  <Text variant=\"link\">{i18n._(prompt_signin)}</Text>\n                </Link>\n              </Signin>\n            </Box>\n          )}\n        </Header>\n      </Container>\n    </HeaderWrapper>\n  );\n};\n\nconst Container = styled(Box)`\n  max-width: 1096px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr 120px 200px;\n`;\nconst Search = styled(Box)`\n  display: flex;\n  margin-top: 7px;\n  input {\n    width: 100%;\n    border-radius: 4px;\n    max-width: 500px;\n    height: 36px;\n    margin: 0;\n    border: 0;\n    background: ${props => props.theme.colors.app};\n  }\n`;\n\nconst MapLink = styled(Link)`\n  display: flex;\n  align-items: center;\n`;\n\nconst Right = styled(Box)`\n  color: ${props => props.theme.colors.medium};\n`;\n\nconst HeaderName = styled(Text)`\n  ${ellipsis('180px')};\n  color: ${props => props.theme.colors.darker};\n`;\n\nconst NavItem = styled(Flex)`\n  border-radius: 0px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  &:hover {\n    background: ${props => props.theme.colors.lighter};\n  }\n  ${media.lessThan('1280px')`\n    img {\n        margin-right: 0;\n    }\n  `};\n`;\n\nconst Header = styled(Box)`\n  cursor: pointer;\n  display: flex;\n  flex: 0 0 200px;\n  order: 2;\n  justify-content: flex-end;\n  align-items: center;\n  img {\n    min-width: 36px;\n    height: 36px;\n    border-radius: 36px;\n  }\n`;\nconst CreateNav = styled(Box)`\n  cursor: pointer;\n  display: flex;\n  flex: 0 0 120px;\n  order: 2;\n  justify-content: center;\n  align-items: center;\n  img {\n    min-width: 36px;\n    height: 36px;\n    border-radius: 36px;\n  }\n`;\nconst Signin = styled(NavItem)`\n  height: 30px;\n  line-height: 30px;\n  text-decoration: none;\n  padding: 0 8px;\n  background: ${props => props.theme.colors.primary};\n  color: ${props => props.theme.colors.lighter};\n  border-radius: 4px;\n  margin-top: 10px;\n  &:hover {\n    background: ${props => darken('0.1', props.theme.colors.primary)};\n  }\n  a {\n    text-decoration: none;\n  }\n  div {\n    text-decoration: none;\n    color: ${props => props.theme.colors.lighter};\n  }\n`;\nconst Icon = styled(Box)`\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  border-radius: 40px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: ${props => props.theme.colors.lighter};\n    svg {\n      stroke: ${props => props.theme.colors.primary};\n    }\n  }\n  svg {\n    stroke: ${props => props.theme.colors.mediumdark};\n    margin: 0 auto;\n  }\n`;\n\nconst Left = styled(Box)`\n  display: grid;\n  grid-template-columns: auto auto 1fr auto;\n  column-gap: 8px;\n`;\n\nconst HeaderWrapper = styled(Box)`\n  border-bottom: ${props => props.theme.colors.border};\n  height: 50px;\n  background: ${props => props.theme.colors.appInverse};\n`;\n\n// const HamburgerIcon = styled(Icon)`\n//   display: none;\n//   min-width: 40px;\n//   ${media.lessThan('medium')`\n//       display: flex;\n//   `};\n// `;\n\nconst HomeLink = styled(Link)`\n  margin-top: 9px;\n  cursor: pointer;\n`;\n","import { useMe } from 'fe/session/useMe';\nimport { SideBarContext } from 'HOC/context/SideBar';\nimport { useNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { CreateCommunityPanelHOC } from 'HOC/modules/CreateCommunityPanel/createCommunityPanelHOC';\nimport { SearchBox } from 'HOC/modules/SearchBox/SearchBox';\nimport React, { FC, useContext, useMemo, useReducer } from 'react';\nimport { MainHeader, Props as MainHeaderProps } from 'ui/modules/MainHeader';\nimport Modal from 'ui/modules/Modal';\nimport { CreateLocationPanelHOC } from '../CreateLocationPanel/CreateLocationPanelHOK';\nimport { CreateResourcePanelHOC } from '../CreateResourcePanel/CreateResourcePanelHOC';\nimport { CreateIntentPanelHOC } from '../CreateIntentPanel/createIntentPanelHOC';\n\nexport interface MainHeaderHOC {}\nexport const MainHeaderHOC: FC<MainHeaderHOC> = () => {\n  const meQ = useMe();\n  const user = meQ.me?.user;\n  const notifiedMustLogin = useNotifyMustLogin();\n\n  const [showCreateLocation, toggleShowCreateLocation] = React.useState(false);\n\n  const [showCreateCommunity, toggleShowCreateCommunity] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const [showCreateIntent, toggleShowCreateIntent] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const [showCreateResource, toggleShowCreateResource] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const CreateCommunityModal = showCreateCommunity ? (\n    <Modal closeModal={toggleShowCreateCommunity}>\n      <CreateCommunityPanelHOC done={toggleShowCreateCommunity} />\n    </Modal>\n  ) : null;\n\n  const CreateIntentModal = showCreateIntent ? (\n    <Modal closeModal={toggleShowCreateIntent}>\n      <CreateIntentPanelHOC done={toggleShowCreateIntent} />\n    </Modal>\n  ) : null;\n\n  const CreateResourceModal = showCreateResource ? (\n    <Modal closeModal={toggleShowCreateResource}>\n      {showCreateLocation ? (\n        <CreateLocationPanelHOC done={toggleShowCreateLocation} />\n      ) : (\n        <CreateResourcePanelHOC\n          done={toggleShowCreateResource}\n          toggleCreateLocation={toggleShowCreateLocation}\n        />\n      )}\n    </Modal>\n  ) : null;\n\n  const { toggleOpen: toggleSideBar } = useContext(SideBarContext);\n\n  const [isOpenDropdown, toggleDropdown] = useReducer(is => !is, false);\n  const headerProps = useMemo<MainHeaderProps>(() => {\n    const props: MainHeaderProps = {\n      Search: <SearchBox key=\"search\" />,\n      user: user\n        ? {\n            isAdmin: meQ.isAdmin,\n            logout: meQ.logout,\n            icon: user.icon?.url || '',\n            link: `/user/${user.id}`,\n            name: user.name || ''\n          }\n        : null,\n      toggleSideBar,\n      createCommunity: toggleShowCreateCommunity,\n      createIntent: toggleShowCreateIntent,\n      createResource: toggleShowCreateResource,\n      isOpenDropdown,\n      toggleDropdown\n    };\n    return props;\n  }, [user, meQ.isAdmin, meQ.logout, toggleSideBar, isOpenDropdown]);\n  return (\n    <>\n      {CreateCommunityModal}\n      {CreateIntentModal}\n      {CreateResourceModal}\n      <MainHeader {...headerProps} />\n    </>\n  );\n};\n","import React, { ReactElement } from 'react';\nimport { Box } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\nimport { useHistory } from 'react-router';\nimport { ChevronLeft } from 'react-feather';\nimport media from 'styled-media-query';\nimport { Link } from 'react-router-dom';\n\nexport interface Props {\n  HeaderBox?: ReactElement;\n  SearchBox: ReactElement;\n}\nexport const Guest: React.FC<Props> = ({ children, HeaderBox, SearchBox }) => {\n  const history = useHistory();\n\n  return (\n    <Page>\n      <SearchBar>\n        <Icon onClick={() => history.goBack()}>\n          <ChevronLeft size=\"20\" />\n        </Icon>\n        {SearchBox}\n        <Link to=\"/login\">Log in</Link>\n      </SearchBar>\n      <Header>{HeaderBox}</Header>\n      <Wrapper>{children}</Wrapper>\n      {/* <Footer /> */}\n    </Page>\n  );\n};\n\nconst Icon = styled(Box)`\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  border-radius: 40px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: ${props => props.theme.colors.lighter};\n    svg {\n      stroke: ${props => props.theme.colors.primary};\n    }\n  }\n  svg {\n    stroke: ${props => props.theme.colors.mediumdark};\n    margin: 0 auto;\n  }\n`;\n\nconst Header = styled(Box)`\n  ${media.lessThan('medium')`\n    display: none;\n  `}\n`;\n\nconst SearchBar = styled(Box)`\na {\n  height: 40px;\n  line-height: 40px;\n  padding: 0 8px;\n  border-radius: 4px;\n  text-decoration: none;\n  background: ${props => props.theme.colors.primary};\n  color: ${props => props.theme.colors.lighter};\n  margin-right: 8px;\n}\nheight: 75px;\nline-height: 75px;\ntext-align: center;\nbackground: ${props => props.theme.colors.appInverse}\nborder-bottom: ${props => props.theme.colors.border};\ndisplay: flex;\nalign-items: center;\ninput {\n  width: 100%;\n  border-radius: 4px;\n  max-width: 500px;\n  height: 40px;\n  margin: 0;\n  border: 0;\n  background: ${props => props.theme.colors.app};\n}\n.ais-SearchBox {\n  border: 0;\n  height: auto;\n  margin: 0;\n  width: auto;\n  margin: 0;\n  margin-right: 8px;\n  margin-left: 8px;\n  flex:1;\n}\n${media.greaterThan('medium')`\n    display: none;\n  `}\n`;\n\nconst Page = styled(Box)`\n  height: 100vh;\n  grid-template-rows: 50px auto;\n  row-gap: 8px;\n  display: grid;\n`;\n\nconst Wrapper = styled(Box)`\n  max-width: 1096px;\n  margin: 0 auto;\n  height: calc(100vh - 66px);\n  display: grid;\n  grid-template-rows: auto;\n  grid-template-columns: 1fr;\n  column-gap: 8px;\n`;\n","import { MainHeaderHOC } from 'HOC/modules/Header/Header';\nimport React, { FC } from 'react';\nimport { Guest, Props } from 'ui/templates/guest';\nimport { ProvideSideBarContext } from 'HOC/context/SideBar';\nimport { SearchBox } from 'HOC/modules/SearchBox/SearchBox';\n\nexport interface GuestTemplate {\n  withoutHeader?: boolean;\n}\nexport const GuestTemplate: FC<GuestTemplate> = ({ children, withoutHeader = false }) => {\n  const HeaderBox = withoutHeader ? undefined : <MainHeaderHOC />;\n  const props: Props = {\n    HeaderBox,\n    SearchBox: <SearchBox />\n  };\n  return (\n    <ProvideSideBarContext>\n      <Guest {...props}>{children}</Guest>\n    </ProvideSideBarContext>\n  );\n};\n","import { LoginPageHOC } from 'HOC/pages/login/LoginPage';\nimport { GuestTemplate } from 'HOC/templates/Guest/Guest';\nimport React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { RedirectAuthenticatedToHome } from './wrappers/RedirectBySession';\nimport { locationHelper } from './lib/helper';\n\ninterface LoginPageRouter {}\nconst LoginPageRouter: FC<RouteComponentProps<LoginPageRouter>> = ({ match }) => {\n  return (\n    <RedirectAuthenticatedToHome>\n      <GuestTemplate withoutHeader>\n        <LoginPageHOC />\n      </GuestTemplate>\n    </RedirectAuthenticatedToHome>\n  );\n};\n\nexport const LoginPageRoute: RouteProps = {\n  exact: true,\n  path: '/login',\n  component: LoginPageRouter\n};\n\nexport const loginLocation = locationHelper<undefined, undefined>(LoginPageRoute);\n","import { useMe } from 'fe/session/useMe';\nimport React, { useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast, ToastContent, ToastOptions } from 'react-toastify';\nimport { Trans } from '@lingui/macro';\nimport { loginLocation } from 'routes/LoginPageRoute';\n\nexport interface Opts {\n  content?: ToastContent | (() => ToastContent);\n  opts?: ToastOptions;\n}\nconst defaultOpts: Opts = {\n  content: () => (\n    <Trans>\n      You need to <Link to={loginLocation.getPath(undefined, undefined)}>login</Link> for that\n    </Trans>\n  ),\n  opts: { type: 'warning' }\n};\n\nexport function useCallOrNotifyMustLogin<T, Args extends any[]>(\n  _fn: (...args: Args) => Promise<T>,\n  deps: any[],\n  opts?: Opts\n): (...args: Args) => Promise<T | null> {\n  const fn = useCallback(_fn, deps);\n  const notify = useNotifyMustLogin(opts);\n  return useCallback<(...args: Args) => Promise<T | null>>(\n    async (...args: Args) => {\n      return notify() ? null : fn(...args);\n    },\n    [fn, notify]\n  );\n}\n\nexport const useNotifyMustLogin = (options?: Opts) => {\n  const { me } = useMe();\n  const loggedIn = !!me?.user?.id;\n\n  return useCallback(() => {\n    const { content, opts } = { ...defaultOpts, ...options };\n    !loggedIn && toast(content, opts);\n    return !loggedIn;\n  }, [loggedIn, options]);\n};\n","import { MyCollectionFollowsQueryRefetch } from 'fe/collection/myFollowed/myFollowedCollections.generated';\nimport { MyCommunityFollowsQueryRefetch } from 'fe/community/myFollowed/myFollowedCommunities.generated';\nimport { mnCtx } from 'fe/lib/graphql/ctx';\nimport { isOptimisticId, OPTIMISTIC_ID_STRING } from 'fe/lib/helpers/mutations';\nimport * as GQL from 'fe/mutation/follow/useMutateFollow.generated';\nimport { CollectionFollowersQueryRefetch } from 'fe/user/followers/collection/useCollectionFollowers.generated';\nimport { CommunityFollowersQueryRefetch } from 'fe/user/followers/community/useCommunityFollowers.generated';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { Collection, Community, User, Follow } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\nimport { SIDEBAR_MY_JOINED_LIST_LIMIT } from 'fe/community/myFollowed/myFollowedCommunities';\n\ntype Context = Collection | Community | User; //| Thread;\n\nexport type UseFollowContext = Maybe<\n  Pick<Context, 'id' | 'followerCount' | '__typename' | 'name'> & {\n    myFollow: Maybe<Pick<Follow, 'id'>>;\n  }\n>;\n\nexport const useFollowContext = (ctx: UseFollowContext) => {\n  const [followMut, followMutStatus] = GQL.useFollowMutation();\n  const [unfollowMut, unfollowMutStatus] = GQL.useUnfollowMutation();\n  const mutating = followMutStatus.loading || unfollowMutStatus.loading;\n  const toggleFollow = useCallOrNotifyMustLogin(async () => {\n    const { id, followerCount, myFollow, __typename, name } = ctx || {};\n    if (!id || mutating) {\n      return;\n    }\n    if (!myFollow) {\n      const context = mnCtx({\n        ctx:\n          __typename === 'Collection'\n            ? `Following Collection ${name}`\n            : __typename === 'User'\n            ? `Following User ${name}`\n            : __typename === 'Community'\n            ? `Joined Community ${name}`\n            : void 0\n      });\n      return followMut({\n        variables: {\n          contextId: id\n        },\n        context,\n        optimisticResponse: optimisticFollow(__typename, id, followerCount || 0),\n        refetchQueries:\n          __typename === 'Community'\n            ? [\n                MyCommunityFollowsQueryRefetch({\n                  limit: SIDEBAR_MY_JOINED_LIST_LIMIT\n                }),\n                CommunityFollowersQueryRefetch({ communityId: id })\n              ]\n            : __typename === 'Collection'\n            ? [\n                MyCollectionFollowsQueryRefetch({\n                  limit: SIDEBAR_MY_JOINED_LIST_LIMIT\n                }),\n                CollectionFollowersQueryRefetch({ collectionId: id })\n              ]\n            : []\n      });\n    } else {\n      const context = mnCtx({\n        ctx:\n          __typename === 'Collection'\n            ? `Unfollowing Collection ${name}`\n            : __typename === 'User'\n            ? `Unfollowing User ${name}`\n            : __typename === 'Community'\n            ? `Leaving Community ${name}`\n            : void 0\n      });\n\n      return isOptimisticId(myFollow.id)\n        ? undefined\n        : unfollowMut({\n            variables: {\n              contextId: myFollow.id\n            },\n            context,\n            optimisticResponse: optimisticUnfollow(__typename, id, followerCount || 1),\n            refetchQueries:\n              __typename === 'Community'\n                ? [\n                    MyCommunityFollowsQueryRefetch({}),\n                    CommunityFollowersQueryRefetch({ communityId: id })\n                  ]\n                : __typename === 'Collection'\n                ? [\n                    MyCollectionFollowsQueryRefetch({}),\n                    CollectionFollowersQueryRefetch({ collectionId: id })\n                  ]\n                : []\n          });\n    }\n  }, [ctx, mutating]);\n\n  return useMemo(\n    () => ({\n      toggleFollow\n    }),\n    [toggleFollow]\n  );\n};\n\nconst optimisticFollow = (\n  __typename: any,\n  id: string,\n  followerCount: number\n): GQL.FollowMutation => ({\n  __typename: 'RootMutationType',\n  createFollow: {\n    __typename: 'Follow',\n    context: {\n      __typename,\n      id,\n      myFollow: { __typename: 'Follow', id: OPTIMISTIC_ID_STRING },\n      followerCount: followerCount + 1\n    }\n  }\n});\nconst optimisticUnfollow = (\n  __typename: any,\n  id: string,\n  followerCount: number\n): GQL.UnfollowMutation => ({\n  __typename: 'RootMutationType',\n  delete: {\n    __typename: 'Follow',\n    context: {\n      __typename,\n      id,\n      myFollow: null,\n      followerCount: followerCount - 1\n    }\n  }\n});\n","import * as Types from '../../../graphql/types.generated';\n\nimport { CollectionPreviewFragment } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport gql from 'graphql-tag';\nimport { CollectionPreviewFragmentDoc } from '../../../HOC/modules/previews/collection/CollectionPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type CollectionPreviewQueryVariables = {\n  collectionId: Types.Scalars['String']\n};\n\n\nexport type CollectionPreviewQuery = (\n  { __typename: 'RootQueryType' }\n  & { collection: Types.Maybe<(\n    { __typename: 'Collection' }\n    & Pick<Types.Collection, 'id'>\n    & CollectionPreviewFragment\n  )> }\n);\n\n\nexport const CollectionPreviewDocument = gql`\n    query collectionPreview($collectionId: String!) {\n  collection(collectionId: $collectionId) {\n    id\n    ...CollectionPreview\n  }\n}\n    ${CollectionPreviewFragmentDoc}`;\n\n/**\n * __useCollectionPreviewQuery__\n *\n * To run a query within a React component, call `useCollectionPreviewQuery` and pass it any options that fit your needs.\n * When your component renders, `useCollectionPreviewQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCollectionPreviewQuery({\n *   variables: {\n *      collectionId: // value for 'collectionId'\n *   },\n * });\n */\nexport function useCollectionPreviewQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<CollectionPreviewQuery, CollectionPreviewQueryVariables>) {\n        return ApolloReactHooks.useQuery<CollectionPreviewQuery, CollectionPreviewQueryVariables>(CollectionPreviewDocument, baseOptions);\n      }\nexport function useCollectionPreviewLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<CollectionPreviewQuery, CollectionPreviewQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<CollectionPreviewQuery, CollectionPreviewQueryVariables>(CollectionPreviewDocument, baseOptions);\n        }\nexport type CollectionPreviewQueryHookResult = ReturnType<typeof useCollectionPreviewQuery>;\nexport type CollectionPreviewLazyQueryHookResult = ReturnType<typeof useCollectionPreviewLazyQuery>;\nexport type CollectionPreviewQueryResult = ApolloReactCommon.QueryResult<CollectionPreviewQuery, CollectionPreviewQueryVariables>;\n\n\nexport interface CollectionPreviewQueryOperation {\n  operationName: 'collectionPreview'\n  result: CollectionPreviewQuery\n  variables: CollectionPreviewQueryVariables\n  type: 'query'\n}\nexport const CollectionPreviewQueryName:CollectionPreviewQueryOperation['operationName'] = 'collectionPreview'\n\nexport const CollectionPreviewQueryRefetch = (\n  variables:CollectionPreviewQueryVariables, \n  context?:any\n)=>({\n  query:CollectionPreviewDocument,\n  variables,\n  context\n})\n      \n","import { useFollowContext } from 'fe/context/follow/useFollowContext';\nimport { Collection } from 'graphql/types.generated';\nimport { useMemo } from 'react';\nimport { useCollectionPreviewQuery } from './useCollectionPreview.generated';\n\nexport const useCollectionPreview = (collectionId: Collection['id']) => {\n  const collectionPreviewQ = useCollectionPreviewQuery({\n    variables: { collectionId }\n  });\n  const { toggleFollow } = useFollowContext(\n    collectionPreviewQ.data?.collection\n  );\n  return useMemo(() => {\n    return {\n      collection: collectionPreviewQ.data?.collection,\n      toggleFollow\n    };\n  }, [collectionPreviewQ, toggleFollow]);\n};\n","import { Collection } from 'graphql/types.generated';\nimport React, { FC, useMemo } from 'react';\nimport {\n  Collection as CollectionPreviewUI,\n  Props as CollectionPreviewProps\n} from 'ui/modules/Previews/Collection';\nimport { useCollectionPreview } from 'fe/collection/preview/useCollectionPreview';\nimport { useFormik } from 'formik';\nimport { CollectionPreviewFragment } from './CollectionPreview.generated';\nimport { FormikHook } from 'ui/@types/types';\n\nexport interface Props {\n  collectionId: Collection['id'];\n  flagged?: boolean;\n}\n\nexport const CollectionPreviewHOC: FC<Props> = ({ collectionId, flagged }) => {\n  const { collection, toggleFollow } = useCollectionPreview(collectionId);\n  const toggleFollowFormik = useFormik({\n    initialValues: {},\n    onSubmit: toggleFollow\n  });\n\n  const collectionPreviewProps = useMemo<CollectionPreviewProps | null>(() => {\n    if (!collection) {\n      return null;\n    }\n\n    const hideActions = flagged ? true : false;\n    return collectionFragment2UIProps({\n      collection,\n      toggleFollowFormik,\n      hideActions\n    });\n  }, [collection, toggleFollowFormik, flagged]);\n\n  return collectionPreviewProps && <CollectionPreviewUI {...collectionPreviewProps} />;\n};\n\nexport const collectionFragment2UIProps = (args: {\n  collection: CollectionPreviewFragment;\n  toggleFollowFormik: FormikHook;\n  hideActions: boolean;\n}) => {\n  const { collection, hideActions, toggleFollowFormik } = args;\n  const {\n    id,\n    icon,\n    isLocal,\n    canonicalUrl,\n    name,\n    summary,\n    resourceCount,\n    displayUsername,\n    myFollow\n  } = collection;\n\n  const props: CollectionPreviewProps = {\n    displayUsername,\n    icon: icon?.url || '',\n    isFollowing: !!myFollow,\n    link: {\n      url: isLocal ? `/collections/${id}` : canonicalUrl || '',\n      external: !isLocal\n    },\n    name,\n    summary: summary || '',\n    totalResources: resourceCount || null,\n    toggleFollowFormik,\n    hideActions: hideActions\n  };\n  return props;\n};\n","import React, { FC, useMemo } from 'react';\nimport {\n  AllCollections as AllCollectionsUI,\n  Props as AllCollectionsUIProps\n} from 'ui/pages/allCollections';\nimport { useAllCollections } from 'fe/collection/all/useAllCollections';\nimport { CollectionPreviewHOC } from 'HOC/modules/previews/collection/CollectionPreview';\nimport { useFormik } from 'formik';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n\nconst allCollectionsPageTitle = t`All Collections`;\n\nexport interface AllCollectionsPage {}\nexport const AllCollectionsPage: FC<AllCollectionsPage> = () => {\n  usePageTitle(allCollectionsPageTitle);\n  const { allCollectionsPage } = useAllCollections();\n  const LoadMoreFormik = useFormik({\n    initialValues: {},\n    onSubmit: () => (allCollectionsPage.ready ? allCollectionsPage.next() : undefined)\n  });\n  const allCollectionsUIProps = useMemo<AllCollectionsUIProps>(() => {\n    const CollectionsBoxes = (\n      <>\n        {allCollectionsPage.edges.map(collectionPreview => (\n          <CollectionPreviewHOC collectionId={collectionPreview.id} />\n        ))}\n      </>\n    );\n    const props: AllCollectionsUIProps = {\n      CollectionsBoxes,\n      LoadMoreFormik\n    };\n\n    return props;\n  }, [allCollectionsPage, LoadMoreFormik]);\n\n  return <AllCollectionsUI {...allCollectionsUIProps} />;\n};\n","import { AllCollectionsPage } from 'HOC/pages/all-collections/AllCollection';\nimport React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\n\ninterface AllCollectionsPageRouter {}\nconst AllCollectionsPageRouter: FC<RouteComponentProps<\n  AllCollectionsPageRouter\n>> = () => {\n  //const props: AllCollectionsPage = {};\n  return (\n    <WithSidebarTemplate>\n      <AllCollectionsPage />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const AllCollectionsPageRoute: RouteProps = {\n  exact: true,\n  path: '/collections',\n  component: AllCollectionsPageRouter\n};\n","import { Trans } from '@lingui/macro';\nimport { useLayoutEffect, useReducer, useState } from 'react';\nimport * as React from 'react';\nimport { Plus } from 'react-feather';\nimport { Text } from 'rebass/styled-components';\nimport { Header } from 'ui/modules/Header';\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport { FormikHook } from 'ui/@types/types';\nimport { Container } from 'ui/modules/Modal';\nimport { Wrapper, MainContainer, HomeBox, ObjectsList } from 'ui/elements/Layout';\nimport { useNotifyMustLogin } from '../../../HOC/lib/notifyMustLogin';\nimport { CreateIntentPanelHOC } from '../../../HOC/modules/CreateIntentPanel/createIntentPanelHOC';\nimport { CreateLocationPanelHOC } from '../../../HOC/modules/CreateLocationPanel/CreateLocationPanelHOK';\nimport { CreateResourcePanelHOC } from '../../../HOC/modules/CreateResourcePanel/CreateResourcePanelHOC';\nimport Modal from '../../modules/Modal';\nimport { ButtonWrapper, CreateItemButton } from '../community';\n\nexport interface Props {\n  CommunitiesBoxes: React.ReactElement;\n  LoadMoreFormik: FormikHook;\n}\n\nexport const AllCommunities: React.FC<Props> = ({ CommunitiesBoxes, LoadMoreFormik }) => {\n  const notifiedMustLogin = useNotifyMustLogin();\n  const [showCreateResource, toggleShowCreateResource] = useReducer(\n    is => !notifiedMustLogin() && !is,\n    false\n  );\n  const [showCreateLocation, toggleShowCreateLocation] = React.useState(false);\n  const [openIntent, setOpenIntent] = useReducer(is => !notifiedMustLogin() && !is, false);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n\n  useLayoutEffect(() => {\n    setWindowWidth(window.innerWidth);\n  }, []);\n\n  const CreateResourceModal = showCreateResource ? (\n    <Modal closeModal={toggleShowCreateResource}>\n      {showCreateLocation ? (\n        <CreateLocationPanelHOC done={toggleShowCreateLocation} />\n      ) : (\n        <CreateResourcePanelHOC\n          done={toggleShowCreateResource}\n          toggleCreateLocation={toggleShowCreateLocation}\n        />\n      )}\n    </Modal>\n  ) : null;\n\n  const OpenIntentModal = openIntent ? (\n    <Modal\n      closeModal={() => {\n        setOpenIntent();\n      }}\n    >\n      <CreateIntentPanelHOC done={setOpenIntent} />\n    </Modal>\n  ) : null;\n\n  return (\n    <MainContainer>\n      {CreateResourceModal}\n      {OpenIntentModal}\n      <HomeBox>\n        <Container>\n          <Wrapper>\n            <Header name=\"All Communities\" />\n            <ButtonWrapper>\n              <CreateItemButton variant=\"primary\" onClick={setOpenIntent}>\n                <Plus size={16} color={'#fff'} />\n                <Text variant=\"button\">\n                  <Trans>{windowWidth < 998 ? 'Add intent' : 'Create a new intent'}</Trans>\n                </Text>\n              </CreateItemButton>\n              <CreateItemButton variant=\"primary\" onClick={() => toggleShowCreateResource()}>\n                <Plus size={16} color={'#fff'} />\n                <Text variant=\"button\">\n                  <Trans>{windowWidth < 998 ? 'Add resource' : 'Create a new resource'}</Trans>\n                </Text>\n              </CreateItemButton>\n            </ButtonWrapper>\n            <ObjectsList>{CommunitiesBoxes}</ObjectsList>\n            <LoadMore LoadMoreFormik={LoadMoreFormik} />\n          </Wrapper>\n        </Container>\n      </HomeBox>\n    </MainContainer>\n  );\n};\n","import { useAllCommunities } from 'fe/community/all/useAllCommunities';\nimport { CommunityPreviewHOC } from 'HOC/modules/previews/community/CommunityPreview';\nimport React, { FC, useMemo } from 'react';\nimport {\n  AllCommunities as AllCommunitiesUI,\n  Props as AllCommunitiesUIProps\n} from 'ui/pages/allCommunities';\nimport { useFormik } from 'formik';\nimport { Box } from 'rebass';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n\nconst allCommunitiesPageTitle = t`All Communities`;\n\nexport interface AllCommunitiesPage {}\nexport const AllCommunitiesPage: FC<AllCommunitiesPage> = () => {\n  usePageTitle(allCommunitiesPageTitle);\n  const { allCommunitiesPage } = useAllCommunities();\n  const LoadMoreFormik = useFormik({\n    initialValues: {},\n    onSubmit: () => (allCommunitiesPage.ready ? allCommunitiesPage.next() : undefined)\n  });\n\n  const allCommunitiesUIProps = useMemo<AllCommunitiesUIProps>(() => {\n    const CommunitiesBoxes = (\n      <Box m={2}>\n        {allCommunitiesPage.edges.map(communityPreview => (\n          <CommunityPreviewHOC communityId={communityPreview.id} />\n        ))}\n      </Box>\n    );\n    const props: AllCommunitiesUIProps = {\n      CommunitiesBoxes,\n      LoadMoreFormik\n    };\n\n    return props;\n  }, [allCommunitiesPage, LoadMoreFormik]);\n\n  return <AllCommunitiesUI {...allCommunitiesUIProps} />;\n};\n","import { AllCommunitiesPage } from 'HOC/pages/all-communities/AllCommunities';\nimport React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\n\ninterface AllCommunitiesPageRouter {}\nconst AllCommunitiesPageRouter: FC<RouteComponentProps<\n  AllCommunitiesPageRouter\n>> = () => {\n  //const props: AllCommunitiesPage = {};\n  return (\n    <WithSidebarTemplate>\n      <AllCommunitiesPage />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const AllCommunitiesPageRoute: RouteProps = {\n  exact: true,\n  path: '/communities',\n  component: AllCommunitiesPageRouter\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Box, Text } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport LogoContainer from 'ui/elements/Logo';\nimport styled from 'ui/themes/styled';\n\nconst LoginWrapper = styled.div`\n  display: grid;\n  grid-column-gap: 16px;\n  grid-template-columns: 1fr;\n  grid-template-areas: 'form' 'footer';\n`;\n\nconst Container = styled.div`\n  margin: 0 auto;\n  width: 100%;\n  max-width: 900px;\n  margin-top: 60px;\n  padding: 16px;\n  padding-bottom: 50px;\n \n  }\n`;\n\nconst FormWrapper = styled(Box)`\n  margin-bottom: 100px;\n  width: 432px;\n`;\n\nexport interface Props {\n  result:\n    | null\n    | {\n        error: null;\n        username: string;\n      }\n    | {\n        error: string;\n      };\n}\n\nexport const ConfirmEmail: React.FC<Props> = ({ result }) => {\n  return (\n    <>\n      <Container>\n        <LoginWrapper>\n          <FormWrapper>\n            <LogoContainer />\n            <Wrapper>\n              <Box>\n                {!result ? (\n                  <Text variant=\"text\">Checking ...</Text>\n                ) : result.error === null ? (\n                  <>\n                    <Text variant=\"text\">Email confirmed</Text>\n                    <Text variant=\"text\" sx={{ fontWeight: 'bold', marginTop: '5px' }}>\n                      Welcome {result.username}!\n                    </Text>\n                  </>\n                ) : (\n                  <Text variant=\"text\">Error in email confirmation: {result.error}</Text>\n                )}\n              </Box>\n              <Browse>\n                <Link to={'/'}>\n                  <Button mt={3} variant=\"primary\">\n                    <Trans>Sign in</Trans>\n                  </Button>\n                </Link>\n              </Browse>\n            </Wrapper>\n          </FormWrapper>\n        </LoginWrapper>\n      </Container>\n    </>\n  );\n};\n\nexport default ConfirmEmail;\n\nconst Browse = styled(Box)`\n  text-align: center;\n  margin-top: 10px;\n`;\n\nconst Wrapper = styled.div`\n  background: #fff;\n  border-radius: 4px;\n  height: inherit;\n  padding: 30px 20px;\n  text-align: center;\n  height: fit-content;\n`;\n","import { useAnon } from 'fe/session/useAnon';\nimport React, { FC, useEffect, useMemo } from 'react';\nimport ConfirmEmailUI, { Props } from 'ui/pages/confirmEmail';\nimport { useHistory } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n\nexport interface ConfirmEmailPage {\n  token: string;\n}\n\nconst confirmEmailPageTitle = t`Confirm your email`;\n\nexport const ConfirmEmailPage: FC<ConfirmEmailPage> = ({ token }) => {\n  usePageTitle(confirmEmailPageTitle);\n  const { push } = useHistory();\n  const { confirmEmail, confirmEmailStatus } = useAnon();\n  const welcomeUsername = confirmEmailStatus.data?.confirmEmail?.me.user.name;\n  useEffect(() => {\n    if (welcomeUsername) {\n      setTimeout(() => push('/'), 2000);\n    }\n  }, [welcomeUsername, push]);\n\n  useEffect(() => {\n    confirmEmail(token);\n  }, [token, confirmEmail]);\n\n  const props = useMemo<Props>(\n    () =>\n      confirmEmailStatus.loading\n        ? { result: null }\n        : confirmEmailStatus.error\n        ? { result: { error: confirmEmailStatus.error.message } }\n        : welcomeUsername\n        ? { result: { error: null, username: welcomeUsername } }\n        : { result: { error: 'No Data Received' } },\n\n    [confirmEmailStatus, welcomeUsername]\n  );\n\n  return <ConfirmEmailUI {...props} />;\n};\n","import { ConfirmEmailPage } from 'HOC/pages/confirmEmail/ConfirmEmailPage';\nimport { GuestTemplate } from 'HOC/templates/Guest/Guest';\nimport React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { RedirectAuthenticated } from './wrappers/RedirectBySession';\n\ninterface ConfirmEmailRouter {\n  token: string;\n}\nconst ConfirmEmailRouter: FC<RouteComponentProps<ConfirmEmailRouter>> = ({\n  match\n}) => {\n  return (\n    <RedirectAuthenticated to=\"/#welcome\">\n      <GuestTemplate>\n        <ConfirmEmailPage token={match.params.token} />\n      </GuestTemplate>\n    </RedirectAuthenticated>\n  );\n};\n\nexport const ConfirmEmailRoute: RouteProps = {\n  exact: true,\n  path: '/confirm-email/:token',\n  component: ConfirmEmailRouter\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input } from '@rebass/forms';\nimport * as React from 'react';\nimport { FormikHook } from 'ui/@types/types';\nimport Alert from 'ui/elements/Alert';\nimport Button from 'ui/elements/Button';\nimport LogoContainer from 'ui/elements/Logo';\nimport { AlertWrapper } from 'ui/modules/Modal';\nimport styled from 'ui/themes/styled';\n\nexport interface NewPasswordFormValues {\n  password: string;\n  passwordConfirm: string;\n}\n\nexport interface Props {\n  formik: FormikHook<NewPasswordFormValues>;\n}\n\nlet tt = {\n  placeholders: {\n    password: i18nMark('Enter your new password'),\n    passwordConfirm: i18nMark('Confirm your new password')\n  }\n};\n\nexport const CreateNewPassword: React.FC<Props> = ({ formik }) => {\n  return (\n    <>\n      <Container>\n        <LoginWrapper>\n          <FormWrapper>\n            <LogoContainer />\n            <Input\n              placeholder={tt.placeholders.password}\n              name=\"password\"\n              type=\"password\"\n              value={formik.values.password}\n              onChange={formik.handleChange}\n            />\n            {formik.errors.password && (\n              <AlertWrapper>\n                <Alert variant=\"negative\">{formik.errors.password}</Alert>\n              </AlertWrapper>\n            )}\n            <Spacer />\n            <Input\n              placeholder={tt.placeholders.passwordConfirm}\n              name=\"passwordConfirm\"\n              type=\"password\"\n              value={formik.values.passwordConfirm}\n              onChange={formik.handleChange}\n            />\n            {formik.errors.passwordConfirm && (\n              <AlertWrapper>\n                <Alert variant=\"negative\">{formik.errors.passwordConfirm}</Alert>\n              </AlertWrapper>\n            )}\n            <Button\n              variant=\"primary\"\n              isSubmitting={formik.isSubmitting}\n              isDisabled={formik.isSubmitting}\n              type=\"submit\"\n              onClick={formik.submitForm}\n            >\n              <Trans>Save the new password</Trans>\n            </Button>\n          </FormWrapper>\n        </LoginWrapper>\n      </Container>\n    </>\n  );\n};\n\nexport default CreateNewPassword;\n\nconst LoginWrapper = styled.div`\n  display: grid;\n  grid-column-gap: 16px;\n  grid-template-columns: 1fr;\n  grid-template-areas: 'form';\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: white;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n`;\n\nconst Container = styled.div`\n  margin: 0 auto;\n  width: 432px;\n  margin-top: 60px;\n  padding: 16px;\n  & button {\n    margin-top: 16px;\n    width: 100%;\n    &:hover {\n      background: #d67218 !important;\n    }\n  }\n`;\n\nconst FormWrapper = styled.div`\n  grid-area: form;\n`;\n\nconst Spacer = styled.div`\n  width: 10px;\n  height: 10px;\n`;\n","import React, { FC, useMemo } from 'react';\nimport CreateNewPassword, { Props, NewPasswordFormValues } from 'ui/pages/createNewPassword';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { useAnon } from 'fe/session/useAnon';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n\nconst validationSchema = Yup.object().shape({\n  password: Yup.string()\n    .min(6)\n    .max(50)\n    .required('Password is required'),\n  passwordConfirm: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\n    .required('Password confirm is required')\n});\nconst initialValues = { password: '', passwordConfirm: '' };\n\nexport interface CreateNewPasswordPageHOC {\n  token: string;\n}\n\nconst createNewPasswordPageTitle = t`reate new Password`;\n\nexport const CreateNewPasswordPageHOC: FC<CreateNewPasswordPageHOC> = ({ token }) => {\n  usePageTitle(createNewPasswordPageTitle);\n  const { resetPwd } = useAnon();\n  const formik = useFormik<NewPasswordFormValues>({\n    onSubmit: ({ password }) => resetPwd({ password, token }),\n    initialValues,\n    validationSchema\n  });\n  const props = useMemo<Props>(() => {\n    return {\n      formik\n    };\n  }, [formik]);\n\n  return <CreateNewPassword {...props} />;\n};\n","import { CreateNewPasswordPageHOC } from 'HOC/pages/createNewPassword/CreateNewPassword';\nimport { GuestTemplate } from 'HOC/templates/Guest/Guest';\nimport React, { FC, useMemo } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { RedirectAuthenticatedToHome } from './wrappers/RedirectBySession';\n\ninterface CreateNewPasswordPageRouter {\n  token: string;\n}\nconst CreateNewPasswordPageRouter: FC<RouteComponentProps<\n  CreateNewPasswordPageRouter\n>> = ({\n  match: {\n    params: { token }\n  }\n}) => {\n  const props = useMemo<CreateNewPasswordPageHOC>(() => {\n    return {\n      token\n    };\n  }, [token]);\n\n  return (\n    <RedirectAuthenticatedToHome>\n      <GuestTemplate withoutHeader>\n        <CreateNewPasswordPageHOC {...props} />\n      </GuestTemplate>\n    </RedirectAuthenticatedToHome>\n  );\n};\n\nexport const CreateNewPasswordPageRoute: RouteProps = {\n  exact: true,\n  path: '/reset/:token',\n  component: CreateNewPasswordPageRouter\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport React, { FC } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { Box, Heading, Text } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport { FormikHook } from 'ui/@types/types';\nimport { CustomSelect as Select } from 'ui/elements/CustomSelect';\nimport { setSelectOption } from '../../elements/CustomSelect/select';\nimport { ImageWrapper, Title } from '../../pages/resource';\nimport { IntentActions } from '../EconomicEventManager';\nimport { FormGroup, FormLabel } from '../EconomicEventManager/styles';\nimport Input, { CustomAlert } from '../../elements/Input';\nimport { Actions, Container, CounterChars, Header } from 'ui/modules/Modal';\nimport { Hero, CollectionContainerForm, HeroInfo } from '../CreateCollectionPanel/style';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { useMe } from '../../../fe/session/useMe';\n\nexport type CreateEventOnResourceFormValues = {\n  name: string;\n  note?: string;\n  atLocation: { id: string; value: string; label: string };\n  eventNote?: string;\n  hasPointInTime: string;\n  action: IntentActions;\n  provider: IntentActions;\n  receiver: IntentActions;\n  hasUnit: IntentActions;\n  hasNumericalValue: number;\n  image: string | File | undefined | any;\n};\n\nexport type TCreateEventOnResourcePanel = {\n  title: string;\n  done: any;\n  formik: FormikHook<CreateEventOnResourceFormValues>;\n  unitPages?: any;\n  actionList?: any;\n  providerList?: null | { id: string; name: string; displayUsername: string }[];\n  receiverList?: null | { id: string; name: string; displayUsername: string }[];\n  setAction?: (name: string) => void;\n};\n\nexport type SelectOption = {\n  label: string;\n  id: string;\n};\n\nexport const CreateEventOnResourcePanel: FC<TCreateEventOnResourcePanel> = ({\n  title,\n  formik,\n  done,\n  actionList,\n  providerList,\n  receiverList,\n  setAction = () => {}\n}) => {\n  const [providerArr, setProviderArr] = React.useState<any>([]);\n  const [receiverArr, setReceiverArr] = React.useState<any>([]);\n  const [startDate, setStartDate] = React.useState<any>(new Date());\n  const { me } = useMe();\n\n  React.useEffect(() => {\n    setProviderArr(\n      setSelectOption(providerList, {\n        variables: ['name', 'displayUsername'],\n        template: 'name / displayUsername'\n      })\n    );\n    setReceiverArr(\n      setSelectOption(receiverList, {\n        variables: ['name', 'displayUsername'],\n        template: 'name / displayUsername'\n      })\n    );\n\n    formik.setValues({\n      ...formik.values,\n      hasPointInTime: new Date().toISOString(),\n      provider: {\n        id: providerList?.find((el: any) => el.id === me?.user?.id)?.id || '',\n        label: providerList?.find((el: any) => el.id === me?.user?.id)?.name || ''\n      },\n      receiver: {\n        id: receiverList?.find((el: any) => el.id === me?.user?.id)?.id || '',\n        label: receiverList?.find((el: any) => el.id === me?.user?.id)?.name || ''\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [providerList, receiverList]);\n\n  return (\n    <Container>\n      <form onSubmit={formik.handleSubmit}>\n        <Header>\n          <Heading m={2}>\n            <Trans>{title}</Trans>\n          </Heading>\n        </Header>\n\n        <Hero>\n          <HeroInfo>\n            <CollectionContainerForm>\n              <div className=\"d-flex d-flex-image\">\n                <Box sx={{ width: '140', height: '140' }} className=\"item_photo\">\n                  <ImageWrapper>\n                    <img\n                      src={\n                        typeof formik.values.image !== 'object'\n                          ? formik.values.image\n                          : formik.values.image.path\n                      }\n                      alt=\"img\"\n                    />\n                  </ImageWrapper>\n                </Box>\n                <div className=\"item_info\">\n                  <Box mr={1} mb={2}>\n                    <Title variant=\"heading\">\n                      {' '}\n                      <Trans>{formik.values.name}</Trans>\n                    </Title>\n                  </Box>\n                  <Box mr={1} mb={2}>\n                    <Text variant=\"text\">\n                      <b>\n                        <Trans>Location:</Trans>{' '}\n                      </b>{' '}\n                      <Trans>{formik.values.atLocation?.label}</Trans>\n                    </Text>\n                  </Box>\n                  <Box mr={1}>\n                    <Text variant=\"text\">\n                      <b>\n                        <Trans>Note:</Trans>{' '}\n                      </b>{' '}\n                      <Trans>{formik.values.note}</Trans>\n                    </Text>\n                  </Box>\n                </div>\n              </div>\n            </CollectionContainerForm>\n            <CollectionContainerForm>\n              <Box>\n                <FormGroup>\n                  <FormLabel>Actions</FormLabel>\n                  <Select\n                    onSelect={(name, option) => {\n                      setAction(option.id);\n                      formik.setValues({ ...formik.values, action: option });\n                    }}\n                    options={actionList}\n                    variant=\"primary\"\n                    id=\"actions\"\n                    name=\"actions\"\n                    placeholder={i18nMark('Select action')}\n                    value={formik.values.action}\n                    noChange={true}\n                    onInputChange={() => {}}\n                    openMenuOnClick={true}\n                  />\n                </FormGroup>\n                {formik.errors.action && (\n                  <CustomAlert variant=\"negative\">{formik.errors.action && 'Required'}</CustomAlert>\n                )}\n              </Box>\n\n              <div className=\"d-flex\">\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>Provider</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      placeholder={i18nMark('Provider')}\n                      options={providerArr}\n                      variant=\"primary\"\n                      value={formik.values.provider}\n                      id=\"provider\"\n                      name=\"provider\"\n                      components={{ DropdownIndicator: () => null }}\n                      onInputChange={(name: string, value: string) => {\n                        let newList = providerList?.filter(item =>\n                          item?.displayUsername?.toLowerCase().includes(value.toLowerCase())\n                        );\n\n                        setProviderArr(\n                          setSelectOption(newList, {\n                            variables: ['name', 'displayUsername'],\n                            template: 'name / displayUsername'\n                          })\n                        );\n                      }}\n                      openMenuOnClick={false}\n                    />\n                  </FormGroup>\n                  {formik.errors.provider && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.provider && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>Receiver</FormLabel>\n                    <Select\n                      onSelect={(name, option) => {\n                        formik.setValues({ ...formik.values, [name]: option });\n                      }}\n                      placeholder={i18nMark('Receiver')}\n                      options={receiverArr}\n                      variant=\"primary\"\n                      value={formik.values.receiver}\n                      id=\"receiver\"\n                      name=\"receiver\"\n                      components={{ DropdownIndicator: () => null }}\n                      onInputChange={(name: string, value: string) => {\n                        let newList = receiverList?.filter(item =>\n                          item?.displayUsername?.toLowerCase().includes(value.toLowerCase())\n                        );\n\n                        setReceiverArr(\n                          setSelectOption(newList, {\n                            variables: ['name', 'displayUsername'],\n                            template: 'name / displayUsername'\n                          })\n                        );\n                      }}\n                      openMenuOnClick={false}\n                    />\n                  </FormGroup>\n                  {formik.errors.receiver && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.receiver && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n              </div>\n            </CollectionContainerForm>\n            <CollectionContainerForm>\n              <div className=\"d-flex\">\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>unit</FormLabel>\n                    <Input\n                      type=\"text\"\n                      id=\"hasUnit\"\n                      name=\"hasUnit\"\n                      disabled={true}\n                      onChange={formik.handleChange}\n                      value={formik.values.hasUnit.label}\n                    />\n                  </FormGroup>\n                  {formik.errors.hasUnit && (\n                    <CustomAlert variant=\"negative\">\n                      {formik.errors.hasUnit && 'Required'}\n                    </CustomAlert>\n                  )}\n                </div>\n                <div className=\"item_col-6\">\n                  <FormGroup>\n                    <FormLabel>numerical value</FormLabel>\n                    <Input\n                      type=\"number\"\n                      id=\"hasNumericalValue\"\n                      name=\"hasNumericalValue\"\n                      onChange={formik.handleChange}\n                      placeholder={i18nMark('Numerical Value')}\n                      value={formik.values.hasNumericalValue}\n                    />\n                  </FormGroup>\n                  {formik.errors.hasNumericalValue && (\n                    <CustomAlert variant=\"negative\">{formik.errors.hasNumericalValue}</CustomAlert>\n                  )}\n                </div>\n              </div>\n            </CollectionContainerForm>\n\n            <CollectionContainerForm>\n              <FormLabel>Event date</FormLabel>\n              <div\n                style={{\n                  width: '100%',\n                  border: '1px solid #05244f',\n                  padding: '0 10px',\n                  marginBottom: 10\n                }}\n              >\n                <DatePicker\n                  selected={startDate}\n                  onChange={(date: any) => {\n                    setStartDate(date);\n                    // @ts-ignore\n                    formik.setValues({ ...formik.values, hasPointInTime: date.toISOString() });\n                  }}\n                  dateFormat=\"dd/MM/yyyy\"\n                />\n              </div>\n            </CollectionContainerForm>\n            <CollectionContainerForm>\n              <FormGroup>\n                <FormLabel>Event Note</FormLabel>\n                <Input\n                  id=\"eventNote\"\n                  type=\"textarea\"\n                  name=\"eventNote\"\n                  onChange={formik.handleChange}\n                  placeholder={i18nMark('Event Note')}\n                  value={formik.values.eventNote}\n                />\n              </FormGroup>\n              <CounterChars>\n                {formik.values.eventNote ? 500 - formik.values.eventNote.length : 500}\n              </CounterChars>\n              {formik.errors.eventNote && (\n                <CustomAlert variant=\"negative\">{formik.errors.eventNote}</CustomAlert>\n              )}\n            </CollectionContainerForm>\n          </HeroInfo>\n        </Hero>\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n          >\n            <Trans>Save</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={done}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n      <ToastContainer />\n    </Container>\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type EconomicResourceQueryVariables = {\n  id: Types.Scalars['ID']\n};\n\n\nexport type EconomicResourceQuery = (\n  { __typename: 'RootQueryType' }\n  & { economicResource: Types.Maybe<(\n    { __typename: 'EconomicResource' }\n    & Pick<Types.EconomicResource, 'id' | 'trackingIdentifier' | 'name' | 'note' | 'image'>\n    & { primaryAccountable: Types.Maybe<(\n      { __typename: 'Organization' }\n      & Pick<Types.Organization, 'id' | 'name' | 'image'>\n      & { relationshipsAsObject: Types.Maybe<Array<(\n        { __typename: 'AgentRelationship' }\n        & Pick<Types.AgentRelationship, 'id'>\n        & { relationship: (\n          { __typename: 'AgentRelationshipRole' }\n          & Pick<Types.AgentRelationshipRole, 'id' | 'inverseRoleLabel'>\n        ) }\n      )>> }\n    ) | (\n      { __typename: 'Person' }\n      & Pick<Types.Person, 'id' | 'name' | 'image'>\n      & { relationshipsAsObject: Types.Maybe<Array<(\n        { __typename: 'AgentRelationship' }\n        & Pick<Types.AgentRelationship, 'id'>\n        & { relationship: (\n          { __typename: 'AgentRelationshipRole' }\n          & Pick<Types.AgentRelationshipRole, 'id' | 'inverseRoleLabel'>\n        ) }\n      )>> }\n    )>, stage: Types.Maybe<(\n      { __typename: 'ProcessSpecification' }\n      & Pick<Types.ProcessSpecification, 'id' | 'name' | 'note'>\n    )>, contains: Types.Maybe<Array<(\n      { __typename: 'EconomicResource' }\n      & Pick<Types.EconomicResource, 'image'>\n      & { track: Types.Maybe<Array<(\n        { __typename: 'EconomicEvent' }\n        & Pick<Types.EconomicEvent, 'id'>\n        & { action: (\n          { __typename: 'Action' }\n          & Pick<Types.Action, 'id'>\n        ), fulfills: Types.Maybe<Array<(\n          { __typename: 'Fulfillment' }\n          & { effortQuantity: Types.Maybe<(\n            { __typename: 'Measure' }\n            & Pick<Types.Measure, 'id'>\n            & { hasUnit: (\n              { __typename: 'Unit' }\n              & Pick<Types.Unit, 'id' | 'label' | 'symbol'>\n            ) }\n          )> }\n        )>> }\n      )>> }\n    )>>, containedIn: Types.Maybe<(\n      { __typename: 'EconomicResource' }\n      & Pick<Types.EconomicResource, 'id' | 'name'>\n      & { trace: Types.Maybe<Array<(\n        { __typename: 'EconomicEvent' }\n        & Pick<Types.EconomicEvent, 'id' | 'note'>\n      )>>, track: Types.Maybe<Array<(\n        { __typename: 'EconomicEvent' }\n        & Pick<Types.EconomicEvent, 'id' | 'note'>\n      )>> }\n    )>, currentLocation: Types.Maybe<(\n      { __typename: 'SpatialThing' }\n      & Pick<Types.SpatialThing, 'id' | 'name' | 'lat' | 'long'>\n    )>, lot: Types.Maybe<(\n      { __typename: 'ProductBatch' }\n      & Pick<Types.ProductBatch, 'id' | 'expiryDate' | 'batchNumber'>\n    )>, trace: Types.Maybe<Array<(\n      { __typename: 'EconomicEvent' }\n      & Pick<Types.EconomicEvent, 'id' | 'note'>\n      & { action: (\n        { __typename: 'Action' }\n        & Pick<Types.Action, 'id' | 'label'>\n      ), resourceQuantity: Types.Maybe<(\n        { __typename: 'Measure' }\n        & Pick<Types.Measure, 'id' | 'hasNumericalValue'>\n        & { hasUnit: (\n          { __typename: 'Unit' }\n          & Pick<Types.Unit, 'id' | 'label'>\n        ) }\n      )>, resourceInventoriedAs: Types.Maybe<(\n        { __typename: 'EconomicResource' }\n        & Pick<Types.EconomicResource, 'id' | 'name'>\n      )>, toResourceInventoriedAs: Types.Maybe<(\n        { __typename: 'EconomicResource' }\n        & Pick<Types.EconomicResource, 'id' | 'name'>\n      )>, provider: (\n        { __typename: 'Organization' }\n        & Pick<Types.Organization, 'id' | 'name'>\n      ) | (\n        { __typename: 'Person' }\n        & Pick<Types.Person, 'id' | 'name'>\n      ), receiver: (\n        { __typename: 'Organization' }\n        & Pick<Types.Organization, 'id' | 'name'>\n      ) | (\n        { __typename: 'Person' }\n        & Pick<Types.Person, 'id' | 'name'>\n      ) }\n    )>>, track: Types.Maybe<Array<(\n      { __typename: 'EconomicEvent' }\n      & Pick<Types.EconomicEvent, 'id' | 'note' | 'hasPointInTime'>\n      & { resourceQuantity: Types.Maybe<(\n        { __typename: 'Measure' }\n        & Pick<Types.Measure, 'id' | 'hasNumericalValue'>\n        & { hasUnit: (\n          { __typename: 'Unit' }\n          & Pick<Types.Unit, 'id' | 'label'>\n        ) }\n      )>, resourceInventoriedAs: Types.Maybe<(\n        { __typename: 'EconomicResource' }\n        & Pick<Types.EconomicResource, 'id' | 'name'>\n      )>, toResourceInventoriedAs: Types.Maybe<(\n        { __typename: 'EconomicResource' }\n        & Pick<Types.EconomicResource, 'id' | 'name'>\n      )>, action: (\n        { __typename: 'Action' }\n        & Pick<Types.Action, 'id' | 'label'>\n      ), provider: (\n        { __typename: 'Organization' }\n        & Pick<Types.Organization, 'id' | 'name'>\n      ) | (\n        { __typename: 'Person' }\n        & Pick<Types.Person, 'id' | 'name'>\n      ), receiver: (\n        { __typename: 'Organization' }\n        & Pick<Types.Organization, 'id' | 'name'>\n      ) | (\n        { __typename: 'Person' }\n        & Pick<Types.Person, 'id' | 'name'>\n      ) }\n    )>>, unitOfEffort: Types.Maybe<(\n      { __typename: 'Unit' }\n      & Pick<Types.Unit, 'id' | 'label'>\n    )>, onhandQuantity: Types.Maybe<(\n      { __typename: 'Measure' }\n      & Pick<Types.Measure, 'id' | 'hasNumericalValue'>\n      & { hasUnit: (\n        { __typename: 'Unit' }\n        & Pick<Types.Unit, 'id' | 'label'>\n      ) }\n    )> }\n  )> }\n);\n\n\nexport const EconomicResourceDocument = gql`\n    query economicResource($id: ID!) {\n  economicResource(id: $id) {\n    id\n    trackingIdentifier\n    primaryAccountable {\n      id\n      name\n      image\n      relationshipsAsObject {\n        id\n        relationship {\n          id\n          inverseRoleLabel\n        }\n      }\n    }\n    name\n    note\n    image\n    stage {\n      id\n      name\n      note\n    }\n    contains {\n      image\n      track {\n        id\n        action {\n          id\n        }\n        fulfills {\n          effortQuantity {\n            id\n            hasUnit {\n              id\n              label\n              symbol\n            }\n          }\n        }\n      }\n    }\n    stage {\n      id\n      name\n      note\n    }\n    containedIn {\n      id\n      name\n      trace {\n        id\n        note\n      }\n      track {\n        id\n        note\n      }\n    }\n    currentLocation {\n      id\n      name\n      lat\n      long\n    }\n    lot {\n      id\n      expiryDate\n      batchNumber\n    }\n    trace {\n      id\n      note\n      action {\n        id\n        label\n      }\n      resourceQuantity {\n        id\n        hasUnit {\n          id\n          label\n        }\n        hasNumericalValue\n      }\n      resourceInventoriedAs {\n        id\n        name\n      }\n      toResourceInventoriedAs {\n        id\n        name\n      }\n      provider {\n        id\n        name\n      }\n      receiver {\n        id\n        name\n      }\n    }\n    trace {\n      id\n      note\n      resourceQuantity {\n        id\n        hasUnit {\n          id\n          label\n        }\n        hasNumericalValue\n      }\n      resourceInventoriedAs {\n        id\n        name\n      }\n      toResourceInventoriedAs {\n        id\n        name\n      }\n      action {\n        id\n        label\n      }\n      provider {\n        id\n        name\n      }\n      receiver {\n        id\n        name\n      }\n    }\n    track {\n      id\n      note\n      hasPointInTime\n      resourceQuantity {\n        id\n        hasUnit {\n          id\n          label\n        }\n        hasNumericalValue\n      }\n      resourceInventoriedAs {\n        id\n        name\n      }\n      toResourceInventoriedAs {\n        id\n        name\n      }\n      action {\n        id\n        label\n      }\n      provider {\n        id\n        name\n      }\n      receiver {\n        id\n        name\n      }\n    }\n    unitOfEffort {\n      id\n      label\n    }\n    onhandQuantity {\n      id\n      hasNumericalValue\n      hasUnit {\n        id\n        label\n      }\n    }\n  }\n}\n    `;\n\n/**\n * __useEconomicResourceQuery__\n *\n * To run a query within a React component, call `useEconomicResourceQuery` and pass it any options that fit your needs.\n * When your component renders, `useEconomicResourceQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useEconomicResourceQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useEconomicResourceQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<EconomicResourceQuery, EconomicResourceQueryVariables>) {\n        return ApolloReactHooks.useQuery<EconomicResourceQuery, EconomicResourceQueryVariables>(EconomicResourceDocument, baseOptions);\n      }\nexport function useEconomicResourceLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<EconomicResourceQuery, EconomicResourceQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<EconomicResourceQuery, EconomicResourceQueryVariables>(EconomicResourceDocument, baseOptions);\n        }\nexport type EconomicResourceQueryHookResult = ReturnType<typeof useEconomicResourceQuery>;\nexport type EconomicResourceLazyQueryHookResult = ReturnType<typeof useEconomicResourceLazyQuery>;\nexport type EconomicResourceQueryResult = ApolloReactCommon.QueryResult<EconomicResourceQuery, EconomicResourceQueryVariables>;\n\n\nexport interface EconomicResourceQueryOperation {\n  operationName: 'economicResource'\n  result: EconomicResourceQuery\n  variables: EconomicResourceQueryVariables\n  type: 'query'\n}\nexport const EconomicResourceQueryName:EconomicResourceQueryOperation['operationName'] = 'economicResource'\n\nexport const EconomicResourceQueryRefetch = (\n  variables:EconomicResourceQueryVariables, \n  context?:any\n)=>({\n  query:EconomicResourceDocument,\n  variables,\n  context\n})\n      \n","import { useMemo } from 'react';\nimport { useCallOrNotifyMustLogin } from '../../../HOC/lib/notifyMustLogin';\nimport { EconomicResourceQueryRefetch } from '../../../HOC/pages/resource/EconomicResource.generated';\nimport { useCreateEconomicEventAndExistResourceMutation } from './useCreateResource.generated';\n\nexport interface CreateResource {\n  id: string;\n  eventNote: string;\n  hasPointInTime: string;\n  atLocation: string;\n  name: string;\n  note?: string;\n  action: string;\n  provider: string;\n  receiver: string;\n  hasUnit: string;\n  hasNumericalValue: number;\n  image: string | File | undefined;\n}\n\nexport const useCreateEventOnResource = () => {\n  const [\n    createResourceMut,\n    createResourceMutStatus\n  ] = useCreateEconomicEventAndExistResourceMutation();\n\n  const create = useCallOrNotifyMustLogin(\n    async ({\n      id,\n      action,\n      provider,\n      receiver,\n      hasUnit,\n      hasNumericalValue,\n      eventNote,\n      hasPointInTime\n    }: CreateResource) => {\n      if (createResourceMutStatus.loading) {\n        return;\n      }\n\n      return createResourceMut({\n        variables: {\n          id,\n          action,\n          provider,\n          receiver,\n          hasUnit,\n          hasNumericalValue,\n          eventNote,\n          hasPointInTime\n        },\n        refetchQueries: [EconomicResourceQueryRefetch({ id: id })]\n      });\n    },\n    [createResourceMutStatus, createResourceMut]\n  );\n  return useMemo(() => {\n    return {\n      create\n    };\n  }, [create]);\n};\n","import { useFormik } from 'formik';\nimport React, { FC, useState } from 'react';\nimport { Slide, toast } from 'react-toastify';\nimport { CreateEventOnResourcePanel } from '../../../ui/modules/CreateEventOnResourcePanel';\nimport * as Yup from 'yup';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\nimport { useCreateEventOnResource } from '../../../fe/resource/create/useCreateEventOnResource';\nimport {\n  TCreateEventOnResourcePanel,\n  CreateEventOnResourceFormValues\n} from '../../../ui/modules/CreateEventOnResourcePanel';\nimport { EconomicResource } from '../../pages/inventory/InventoryPage';\nimport { EconomicEventManagerHOC } from '../EconomicEventManager/EconomicEventManagerHOC';\n\nimport styled from 'ui/themes/styled';\nimport { Flex } from 'rebass/styled-components';\nimport { Trans } from '@lingui/macro';\nimport { CreateLocationPanelHOC } from '../CreateLocationPanel/CreateLocationPanelHOK';\nimport { CreateResourcePanelHOC } from '../CreateResourcePanel/CreateResourcePanelHOC';\n\nexport interface BasicCreateEventFormValues {\n  name: string;\n  summary: string;\n  image: File | string | undefined;\n}\n\nexport const validationSchema: Yup.ObjectSchema<BasicCreateEventFormValues> = Yup.object<\n  BasicCreateEventFormValues\n>({\n  name: Yup.string()\n    .min(2)\n    .max(60)\n    .required(),\n  summary: Yup.string().max(500),\n  image: Yup.mixed<string | File>().test(...TestUrlOrFile)\n});\n\nexport interface Props {\n  done: () => void;\n  resource: EconomicResource | any;\n}\n\nexport const CreateEconomicEventOnResourcePanelHOC: FC<Props> = ({ done, resource, ...props }) => {\n  const { create } = useCreateEventOnResource();\n\n  const SignupSchema = Yup.object().shape({\n    name: Yup.string()\n      .max(60, 'Too Long!')\n      .required('Required'),\n    note: Yup.string().max(500, 'Too Long!'),\n    eventNote: Yup.string().max(500, 'Too Long!'),\n    action: Yup.object().shape({\n      id: Yup.string().required('Required')\n    }),\n    provider: Yup.object().shape({\n      id: Yup.string().required('Required')\n    }),\n    receiver: Yup.object().shape({\n      id: Yup.string().required('Required')\n    }),\n    hasUnit: Yup.object().shape({\n      id: Yup.string().required('Required')\n    }),\n    hasNumericalValue: Yup.string()\n      .required('Required')\n      .notOneOf([0, '0', null, undefined], 'Not null')\n  });\n\n  const formik = useFormik<any>({\n    initialValues: React.useMemo(() => {\n      let values = {\n        name: '',\n        note: '',\n        image: '' || undefined,\n        atLocation: {\n          id: '',\n          label: '',\n          value: ''\n        },\n        action: {\n          id: '',\n          label: ''\n        },\n        provider: {\n          id: '',\n          label: ''\n        },\n        receiver: {\n          id: '',\n          label: ''\n        },\n        hasUnit: {\n          id: '',\n          label: ''\n        },\n        hasNumericalValue: 0,\n        eventNote: '',\n        hasPointInTime: ''\n      };\n      if (resource) {\n        values = {\n          name: resource.name || '',\n          note: resource.note || '',\n          hasPointInTime: resource?.hasPointInTime || '',\n          //@ts-ignore\n          image: resource.image || undefined,\n          action: {\n            id: '',\n            label: ''\n          },\n          provider: {\n            id: resource.track[0]?.provider?.id || '',\n            label: resource.track[0]?.provider?.name || ''\n          },\n          receiver: {\n            id: resource.track[0]?.receiver?.id || '',\n            label: resource.track[0]?.receiver?.name || ''\n          },\n          hasUnit: {\n            id: resource.onhandQuantity?.hasUnit.id || '',\n            label: resource.onhandQuantity?.hasUnit.label || ''\n          },\n          hasNumericalValue: resource.onhandQuantity?.hasNumericalValue || 0,\n          eventNote: resource.track[0]?.note || '',\n          atLocation: resource.currentLocation\n            ? {\n                id: resource.currentLocation.id,\n                value: resource.currentLocation.id,\n                label: resource.currentLocation.name\n              }\n            : { id: '', label: '', value: '' }\n        };\n      }\n      return values;\n    }, [resource]),\n    validateOnChange: false,\n    validateOnBlur: false,\n    validationSchema: SignupSchema,\n    enableReinitialize: true,\n\n    onSubmit: (values: CreateEventOnResourceFormValues) => {\n      return create({\n        id: resource.id,\n        name: values.name,\n        atLocation: values.atLocation.id,\n        eventNote: values.eventNote || '',\n        action: values.action.id,\n        note: values.note,\n        provider: values.provider.id,\n        receiver: values.receiver.id,\n        hasUnit: values.hasUnit.id,\n        hasNumericalValue: values.hasNumericalValue,\n        image: values.image,\n        hasPointInTime: values.hasPointInTime\n      })\n        .then((response: any) => {\n          if (!response.errors) {\n            toast.success(`Event on resource ${resource.name} created`, {\n              position: 'top-right',\n              transition: Slide,\n              autoClose: 3000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true\n            });\n            done();\n          } else {\n            console.log(response.errors[0].message);\n          }\n        })\n        .catch((error: any) => console.log(error));\n    }\n  });\n\n  const CreateEventOnResourcePanelProps: TCreateEventOnResourcePanel = {\n    ...props,\n    title: `Create a new event on resource ${resource.name}`,\n    formik,\n    done\n  };\n\n  const handlerCloseSecondTab = () => {\n    toggleTab(0);\n    done();\n  };\n  const [showCreateLocation, toggleShowCreateLocation] = useState(false);\n  const CreateResourceModal = (\n    <>\n      {showCreateLocation ? (\n        <CreateLocationPanelHOC done={toggleShowCreateLocation} />\n      ) : (\n        <CreateResourcePanelHOC\n          done={handlerCloseSecondTab}\n          toggleCreateLocation={toggleShowCreateLocation}\n          resource={formik.values}\n        />\n      )}\n    </>\n  );\n\n  const CreateEventOnExistResourceModal = (\n    <CreateEventOnResourcePanel {...CreateEventOnResourcePanelProps} />\n  );\n\n  const [tab, toggleTab] = useState(0);\n  const [switchOn, toggleSwitch] = useState(true);\n  return (\n    <EconomicEventManagerHOC>\n      <TabController>\n        <Switcher>\n          <input\n            type=\"checkbox\"\n            name=\"toggleSwitch\"\n            id=\"toggleSwitch\"\n            checked={switchOn}\n            onChange={() => {\n              toggleSwitch(!switchOn);\n              toggleTab(tab === 0 ? 1 : 0);\n            }}\n          />\n          <span className=\"slider round\"></span>\n          <Trans>\n            {switchOn\n              ? 'Create a new event on exist resource'\n              : 'Create an event that results in a new resource'}\n          </Trans>\n        </Switcher>\n      </TabController>\n      {tab ? CreateResourceModal : CreateEventOnExistResourceModal}\n    </EconomicEventManagerHOC>\n  );\n};\n\nexport const Switcher = styled('label')`\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  font-size: 16px;\n  font-weight: bold;\n  color: #666666;\n  cursor: pointer;\n\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  .slider {\n    position: relative;\n    cursor: pointer;\n    width: 60px;\n    height: 30px;\n    margin-right: 16px;\n    background-color: #ccc;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    box-shadow: 0 3px 22px -6px #c5bcbc;\n    border-radius: 34px;\n  }\n\n  .slider:before {\n    position: absolute;\n    border-radius: 50%;\n    content: '';\n    height: 30px;\n    width: 30px;\n    left: 30px;\n    bottom: 0;\n    background-color: white;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n  }\n\n  input:checked + .slider {\n    background-color: #05244f;\n  }\n\n  input:focus + .slider {\n    box-shadow: 0 0 1px #2196f3;\n  }\n\n  input:checked + .slider:before {\n    transform: translateX(-30px);\n  }\n`;\n\nexport const TabController = styled(Flex)`\n  width: 100%;\n  justify-content: stretch;\n  align-items: stretch;\n  flex-grow: 1;\n  flex-direction: row;\n  border-bottom: 1px solid #05244f;\n`;\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport React, { FC } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { Box, Heading } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport { FormikHook } from 'ui/@types/types';\nimport DropzoneArea from '../DropzoneModal';\nimport { FormGroup, FormLabel } from '../EconomicEventManager/styles';\nimport Input, { CustomAlert } from '../../elements/Input';\nimport { Actions, Container, CounterChars, Header } from 'ui/modules/Modal';\nimport { Hero, CollectionContainerForm, HeroInfo } from '../CreateCollectionPanel/style';\nimport * as Types from '../../../graphql/types.generated';\n\nexport type UpdateResourceVariables = {\n  name: string;\n  note?: string;\n  atLocation?: { id: string; value: string; label: string };\n  image: string | File | undefined | any;\n};\n\nexport type TUpdateResourcePanel = {\n  title: string;\n  done: any;\n  formik: FormikHook<UpdateResourceVariables>;\n  spatialThings?:\n    | Types.Maybe<\n        { __typename: 'SpatialThing' } & Pick<Types.SpatialThing, 'name' | 'id' | 'lat' | 'long'>\n      >[]\n    | null;\n};\n\nexport const UpdateResourcePanel: FC<TUpdateResourcePanel> = ({\n  title,\n  formik,\n  done,\n  spatialThings\n}) => {\n  const onIconFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, image: file }),\n    [formik]\n  );\n\n  const initialIconUrl = 'string' === typeof formik.values.image ? formik.values.image : '';\n  return (\n    <Container>\n      <form onSubmit={formik.handleSubmit}>\n        <Header>\n          <Heading m={2}>\n            <Trans>{title}</Trans>\n          </Heading>\n        </Header>\n\n        <Hero>\n          <HeroInfo>\n            <CollectionContainerForm>\n              <div className=\"d-flex d-flex-image\">\n                <Box sx={{ width: '140', height: '140' }} className=\"item_photo\">\n                  <DropzoneArea\n                    initialUrl={initialIconUrl}\n                    onFileSelect={onIconFileSelected}\n                    filePattern=\"image/*\"\n                  />\n                  <p />\n                  <FormLabel>Image URL</FormLabel>\n                  <Input\n                    type=\"text\"\n                    id=\"image\"\n                    name=\"image\"\n                    onChange={formik.handleChange}\n                    placeholder={i18nMark('Image')}\n                    value={\n                      typeof formik.values.image !== 'object'\n                        ? formik.values.image\n                        : formik.values.image.path\n                    }\n                  />\n                </Box>\n\n                <div className=\"item_info\">\n                  <CollectionContainerForm>\n                    <FormGroup>\n                      <FormLabel>{i18nMark('Note')}</FormLabel>\n                      <Input\n                        type=\"textarea\"\n                        id=\"note\"\n                        name=\"note\"\n                        onChange={formik.handleChange}\n                        placeholder={i18nMark('Note')}\n                        value={formik.values.note}\n                      />\n                      <CounterChars>\n                        {formik.values.note ? 500 - formik.values.note.length : 500}\n                      </CounterChars>\n                    </FormGroup>\n                    {formik.errors.note && (\n                      <CustomAlert variant=\"negative\">{formik.errors.note}</CustomAlert>\n                    )}\n                  </CollectionContainerForm>\n                </div>\n              </div>\n            </CollectionContainerForm>\n          </HeroInfo>\n        </Hero>\n        <Actions>\n          <Button\n            variant=\"primary\"\n            isSubmitting={formik.isSubmitting}\n            isDisabled={formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n          >\n            <Trans>Update</Trans>\n          </Button>\n          <Button variant=\"outline\" onClick={done}>\n            <Trans>Cancel</Trans>\n          </Button>\n        </Actions>\n      </form>\n      <ToastContainer />\n    </Container>\n  );\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type UpdateEconomicResourceMutationVariables = {\n  id: Types.Scalars['ID'],\n  note?: Types.Maybe<Types.Scalars['String']>,\n  image?: Types.Maybe<Types.Scalars['URI']>\n};\n\n\nexport type UpdateEconomicResourceMutation = (\n  { __typename: 'RootMutationType' }\n  & { updateEconomicResource: Types.Maybe<(\n    { __typename: 'EconomicResourceResponse' }\n    & { economicResource: (\n      { __typename: 'EconomicResource' }\n      & Pick<Types.EconomicResource, 'id'>\n    ) }\n  )> }\n);\n\n\nexport const UpdateEconomicResourceDocument = gql`\n    mutation updateEconomicResource($id: ID!, $note: String, $image: URI) {\n  updateEconomicResource(resource: {id: $id, note: $note, image: $image}) {\n    economicResource {\n      id\n    }\n  }\n}\n    `;\nexport type UpdateEconomicResourceMutationFn = ApolloReactCommon.MutationFunction<UpdateEconomicResourceMutation, UpdateEconomicResourceMutationVariables>;\n\n/**\n * __useUpdateEconomicResourceMutation__\n *\n * To run a mutation, you first call `useUpdateEconomicResourceMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUpdateEconomicResourceMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [updateEconomicResourceMutation, { data, loading, error }] = useUpdateEconomicResourceMutation({\n *   variables: {\n *      id: // value for 'id'\n *      note: // value for 'note'\n *      image: // value for 'image'\n *   },\n * });\n */\nexport function useUpdateEconomicResourceMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<UpdateEconomicResourceMutation, UpdateEconomicResourceMutationVariables>) {\n        return ApolloReactHooks.useMutation<UpdateEconomicResourceMutation, UpdateEconomicResourceMutationVariables>(UpdateEconomicResourceDocument, baseOptions);\n      }\nexport type UpdateEconomicResourceMutationHookResult = ReturnType<typeof useUpdateEconomicResourceMutation>;\nexport type UpdateEconomicResourceMutationResult = ApolloReactCommon.MutationResult<UpdateEconomicResourceMutation>;\nexport type UpdateEconomicResourceMutationOptions = ApolloReactCommon.BaseMutationOptions<UpdateEconomicResourceMutation, UpdateEconomicResourceMutationVariables>;\n\n\nexport interface UpdateEconomicResourceMutationOperation {\n  operationName: 'updateEconomicResource'\n  result: UpdateEconomicResourceMutation\n  variables: UpdateEconomicResourceMutationVariables\n  type: 'mutation'\n}\nexport const UpdateEconomicResourceMutationName:UpdateEconomicResourceMutationOperation['operationName'] = 'updateEconomicResource'\n\nexport const UpdateEconomicResourceMutationRefetch = (\n  variables:UpdateEconomicResourceMutationVariables, \n  context?:any\n)=>({\n  query:UpdateEconomicResourceDocument,\n  variables,\n  context\n})\n      \n","import { useMemo } from 'react';\nimport { useCallOrNotifyMustLogin } from '../../../HOC/lib/notifyMustLogin';\nimport { EconomicResourceQueryRefetch } from '../../../HOC/pages/resource/EconomicResource.generated';\nimport { useUpdateEconomicResourceMutation } from './useUpdateResource.generated';\n\nexport interface UpdateResource {\n  name: string;\n  note?: string;\n  action: string;\n  provider: string;\n  receiver: string;\n  hasUnit: string;\n  hasNumericalValue: number;\n  image: string | File | undefined;\n}\n\nexport const useUpdateResource = () => {\n  const [updateResourceMut, updateResourceMutStatus] = useUpdateEconomicResourceMutation();\n\n  const update = useCallOrNotifyMustLogin(\n    async ({ id, note, image }: any) => {\n      if (updateResourceMutStatus.loading) {\n        return;\n      }\n\n      return updateResourceMut({\n        variables: {\n          id,\n          note,\n          image\n        },\n        refetchQueries: [EconomicResourceQueryRefetch({ id: id })]\n      });\n    },\n    [updateResourceMutStatus, updateResourceMut]\n  );\n  return useMemo(() => {\n    return {\n      update\n    };\n  }, [update]);\n};\n","import { useFormik } from 'formik';\nimport React, { FC } from 'react';\nimport { Slide, toast } from 'react-toastify';\nimport {\n  UpdateResourcePanel,\n  TUpdateResourcePanel,\n  UpdateResourceVariables\n} from '../../../ui/modules/UpdateResourcePanel';\nimport * as Yup from 'yup';\nimport { TestUrlOrFile } from 'HOC/lib/formik-validations';\nimport { useUpdateResource } from '../../../fe/resource/update/useUpdateResource';\nimport { EconomicResource } from '../../pages/inventory/InventoryPage';\nimport * as GQL from '../EconomicEventManager/EconomicEventManager.generated';\n\nexport const validationSchema: Yup.ObjectSchema<UpdateResourceVariables> = Yup.object<\n  UpdateResourceVariables\n>({\n  name: Yup.string()\n    .min(2)\n    .max(60)\n    .required(),\n  note: Yup.string().max(500),\n  image: Yup.mixed<string | File>().test(...TestUrlOrFile)\n});\n\nexport interface Props {\n  done: () => void;\n  resource: EconomicResource | any;\n}\n\nexport const UpdateEconomicResourceHOC: FC<Props> = ({ done, resource, ...props }) => {\n  const { update } = useUpdateResource();\n\n  const SignupSchema = Yup.object().shape({\n    note: Yup.string().max(500, 'Too Long!')\n  });\n  const spatialThingsQ = GQL.useSpatialThingsPagesQuery();\n  const spatialThings = spatialThingsQ.data?.spatialThingsPages;\n\n  const formik = useFormik<any>({\n    initialValues: React.useMemo(() => {\n      let values = {\n        note: '',\n        image: '' || undefined\n      };\n      if (resource) {\n        values = {\n          //@ts-ignore\n          note: resource.note || '',\n          image: resource.image || undefined\n        };\n      }\n      return values;\n    }, [resource]),\n    validateOnChange: false,\n    validateOnBlur: false,\n    validationSchema: SignupSchema,\n    enableReinitialize: true,\n\n    onSubmit: (values: UpdateResourceVariables) => {\n      return update({\n        id: resource.id,\n        note: values.note,\n        image: values.image\n      })\n        .then((response: any) => {\n          if (!response.errors) {\n            toast.success(`Resource was updated`, {\n              position: 'top-right',\n              transition: Slide,\n              autoClose: 3000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true\n            });\n            done();\n          } else {\n            console.log(response.errors[0].message);\n          }\n        })\n        .catch((error: any) => console.log(error));\n    }\n  });\n\n  const UpdateResourcePanelProps: TUpdateResourcePanel = {\n    ...props,\n    spatialThings: spatialThings?.edges,\n    title: `Update resource ${resource.name}`,\n    formik,\n    done\n  };\n\n  return <UpdateResourcePanel {...UpdateResourcePanelProps} />;\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type DeleteEconomicResourceMutationVariables = {\n  id: Types.Scalars['ID']\n};\n\n\nexport type DeleteEconomicResourceMutation = (\n  { __typename: 'RootMutationType' }\n  & Pick<Types.RootMutationType, 'deleteEconomicResource'>\n);\n\n\nexport const DeleteEconomicResourceDocument = gql`\n    mutation deleteEconomicResource($id: ID!) {\n  deleteEconomicResource(id: $id)\n}\n    `;\nexport type DeleteEconomicResourceMutationFn = ApolloReactCommon.MutationFunction<DeleteEconomicResourceMutation, DeleteEconomicResourceMutationVariables>;\n\n/**\n * __useDeleteEconomicResourceMutation__\n *\n * To run a mutation, you first call `useDeleteEconomicResourceMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeleteEconomicResourceMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deleteEconomicResourceMutation, { data, loading, error }] = useDeleteEconomicResourceMutation({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useDeleteEconomicResourceMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<DeleteEconomicResourceMutation, DeleteEconomicResourceMutationVariables>) {\n        return ApolloReactHooks.useMutation<DeleteEconomicResourceMutation, DeleteEconomicResourceMutationVariables>(DeleteEconomicResourceDocument, baseOptions);\n      }\nexport type DeleteEconomicResourceMutationHookResult = ReturnType<typeof useDeleteEconomicResourceMutation>;\nexport type DeleteEconomicResourceMutationResult = ApolloReactCommon.MutationResult<DeleteEconomicResourceMutation>;\nexport type DeleteEconomicResourceMutationOptions = ApolloReactCommon.BaseMutationOptions<DeleteEconomicResourceMutation, DeleteEconomicResourceMutationVariables>;\n\n\nexport interface DeleteEconomicResourceMutationOperation {\n  operationName: 'deleteEconomicResource'\n  result: DeleteEconomicResourceMutation\n  variables: DeleteEconomicResourceMutationVariables\n  type: 'mutation'\n}\nexport const DeleteEconomicResourceMutationName:DeleteEconomicResourceMutationOperation['operationName'] = 'deleteEconomicResource'\n\nexport const DeleteEconomicResourceMutationRefetch = (\n  variables:DeleteEconomicResourceMutationVariables, \n  context?:any\n)=>({\n  query:DeleteEconomicResourceDocument,\n  variables,\n  context\n})\n      \n","import { useMemo } from 'react';\nimport { useCallOrNotifyMustLogin } from '../../../HOC/lib/notifyMustLogin';\nimport { EconomicResourceQueryRefetch } from '../../../HOC/pages/resource/EconomicResource.generated';\nimport { useDeleteEconomicResourceMutation } from './useDeleteResource.generated';\n\nexport interface DeleteResourceVarabls {\n  id: string;\n}\n\nexport const useDeleteResource = () => {\n  const [deleteItem, deleteItemStatus] = useDeleteEconomicResourceMutation();\n\n  const deleteResource = useCallOrNotifyMustLogin(\n    async (id: string) => {\n      if (deleteItemStatus.loading) {\n        return;\n      }\n\n      return deleteItem({\n        variables: {\n          id\n        },\n        refetchQueries: [EconomicResourceQueryRefetch({ id: id })]\n      });\n    },\n    [deleteItemStatus, deleteItem]\n  );\n  return useMemo(() => {\n    return {\n      deleteResource,\n      deleteItemStatus\n    };\n  }, [deleteResource, deleteItemStatus]);\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Heading, Text } from 'rebass/styled-components';\nimport Button from 'ui/elements/Button';\nimport styled from 'ui/themes/styled';\n// import { FormikHook } from 'ui/@types/types';\nimport { Actions, Container, ContainerForm, Header, Row } from 'ui/modules/Modal';\n\n// export interface Props {\n//   done(confirmed: boolean): unknown;\n//   modalTitle: string;\n//   modalDescription: string;\n//   modalAction: string;\n//   formik: FormikHook<any>;\n// }\n\n// export const ConfirmationPanel: React.FC<Props> = ({\n//   done,\n//   modalTitle,\n//   modalDescription,\n//   modalAction,\n//   formik\n// }) => {\n//   // const { i18n } = React.useContext(LocaleContext);\n//   return (\n//     <Container>\n//       <Header>\n//         <Heading m={2}>{modalTitle}</Heading>\n//       </Header>\n//       <Row>\n//         <ContainerForm>\n//           <Text>{modalDescription}</Text>\n//         </ContainerForm>\n//       </Row>\n//       <Actions>\n//         <SubmitButton\n//           variant=\"primary\"\n//           isSubmitting={formik.isSubmitting}\n//           isDisabled={formik.isSubmitting}\n//           type=\"submit\"\n//           style={{ marginLeft: '10px' }}\n//           onClick={() => {\n//             formik.submitForm().then(() => done(true));\n//           }}\n//         >\n//           {modalAction}\n//         </SubmitButton>\n//         <Button variant=\"outline\" onClick={() => done(false)}>\n//           <Trans>Cancel</Trans>\n//         </Button>\n//       </Actions>\n//     </Container>\n//   );\n// };\n\nexport interface ConfirmationPanelProps {\n  confirm(): unknown;\n  cancel(): unknown;\n  title: string;\n  description?: string;\n  action: string;\n  waiting: boolean;\n}\n\nexport const ConfirmationPanel: React.FC<ConfirmationPanelProps> = ({\n  title,\n  description,\n  action,\n  cancel,\n  confirm,\n  waiting\n}) => {\n  // const { i18n } = React.useContext(LocaleContext);\n  return (\n    <Container>\n      <Header>\n        <Heading>{title}</Heading>\n      </Header>\n      <Row>\n        <ContainerForm>{description && <Text>{description}</Text>}</ContainerForm>\n      </Row>\n      <Actions>\n        <SubmitButton\n          variant=\"primary\"\n          isSubmitting={waiting}\n          isDisabled={waiting}\n          type=\"submit\"\n          style={{ marginLeft: '10px' }}\n          onClick={confirm}\n        >\n          <Trans>{action}</Trans>\n        </SubmitButton>\n        <Button variant=\"outline\" onClick={cancel}>\n          <Trans>Cancel</Trans>\n        </Button>\n      </Actions>\n    </Container>\n  );\n};\n\nconst SubmitButton = styled(Button)`\n  margin-left: 8px;\n  .--rtl & {\n    margin-right: 8px;\n    margin-left: 0px;\n  }\n`;\n","import React, { FC } from 'react';\nimport { Slide, toast } from 'react-toastify';\nimport { useDeleteResource } from '../../../fe/resource/delete/useDeleteResource';\nimport { ConfirmationPanel, ConfirmationPanelProps } from 'ui/modules/ConfirmationPanel';\nimport { EconomicResource } from '../../pages/inventory/InventoryPage';\n\nexport interface Props {\n  done: () => void;\n  resource: EconomicResource | any;\n}\n\nexport const DeleteEconomicResourceHOC: FC<Props> = ({ done, resource }) => {\n  const { deleteResource, deleteItemStatus } = useDeleteResource();\n\n  const remove = async () =>\n    deleteResource(resource.id)\n      .then((response: any) => {\n        if (!response.errors && response.deleteEconomicResource) {\n          toast.success(`Resource was deleted`, {\n            position: 'top-right',\n            transition: Slide,\n            autoClose: 3000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true\n          });\n          done();\n        } else {\n          toast.error(`Resource not deleted! ${response.errors}`, {\n            position: 'top-right',\n            transition: Slide,\n            autoClose: 3000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true\n          });\n          done();\n        }\n      })\n      .catch((error: any) => console.log(error));\n\n  const DeleteResourcePanelProps: ConfirmationPanelProps = {\n    title: `Do you want to remove economic resource: ${resource.name} `,\n    confirm: remove,\n    cancel: done,\n    action: 'Confirm deleted',\n    waiting: deleteItemStatus.loading\n  };\n\n  return <ConfirmationPanel {...DeleteResourcePanelProps} />;\n};\n","import React, { FC, useReducer } from 'react';\nimport { ResourceItem, Props as ResourceItemProps } from 'ui/pages/resource';\nimport Modal from '../../../ui/modules/Modal';\nimport { useNotifyMustLogin } from '../../lib/notifyMustLogin';\nimport { CreateEconomicEventOnResourcePanelHOC } from '../../modules/EconomicEventOnResourcePanel/CreateEconomicEventOnResourcePanelHOC';\nimport { UpdateEconomicResourceHOC } from '../../modules/EconomicEventOnResourcePanel/UpdateEconomicResourceHOC';\nimport { DeleteEconomicResourceHOC } from '../../modules/EconomicEventOnResourcePanel/DeleteEconomicResourceHOC';\nimport * as GQL from './EconomicResource.generated';\n\ntype ResourcePageProps = {\n  resourceId: string;\n};\n\nexport const EconomicResourceHOK: FC<ResourcePageProps> = ({ resourceId }) => {\n  const { data, loading, error } = GQL.useEconomicResourceQuery({\n    variables: { id: resourceId.trim() }\n  });\n\n  const resource = data?.economicResource;\n\n  const notifiedMustLogin = useNotifyMustLogin();\n  const [showCreateResource, toggleShowCreateResource] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const [showUpdateResource, toggleShowUpdateResource] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const [showDeleteResource, toggleShowDeleteResource] = useReducer(\n    is => (notifiedMustLogin() ? false : !is),\n    false\n  );\n\n  const PerformEventModal = showCreateResource ? (\n    <Modal closeModal={toggleShowCreateResource}>\n      <CreateEconomicEventOnResourcePanelHOC done={toggleShowCreateResource} resource={resource} />\n    </Modal>\n  ) : null;\n\n  const EditResourceModal = showUpdateResource ? (\n    <Modal closeModal={toggleShowUpdateResource}>\n      <UpdateEconomicResourceHOC done={toggleShowUpdateResource} resource={resource} />\n    </Modal>\n  ) : null;\n\n  const DeleteResourceModal = showDeleteResource ? (\n    <Modal closeModal={toggleShowDeleteResource}>\n      <DeleteEconomicResourceHOC done={toggleShowDeleteResource} resource={resource} />\n    </Modal>\n  ) : null;\n\n  const props: ResourceItemProps = {\n    openEditModal: toggleShowCreateResource,\n    openUpdateResourceModal: toggleShowUpdateResource,\n    openDeleteResourceModal: toggleShowDeleteResource,\n    resource,\n    loading,\n    error\n  };\n\n  return (\n    <>\n      {DeleteResourceModal}\n      {EditResourceModal}\n      {PerformEventModal}\n      <ResourceItem {...props} />\n    </>\n  );\n};\n","import React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { EconomicResourceHOK } from 'HOC/pages/resource/EconomicResourceHOK';\nimport { WithSidebarTemplate } from '../HOC/templates/WithSidebar/WithSidebar';\n\ninterface InventoryResourceItemRouteProps {\n  resourceId: string;\n}\n\nconst InventoryResourceItemRoute: FC<RouteComponentProps<InventoryResourceItemRouteProps>> = ({\n  match\n}) => {\n  const resourceId = match.params.resourceId;\n\n  const props = {\n    resourceId: resourceId\n  };\n\n  return (\n    <WithSidebarTemplate>\n      <EconomicResourceHOK {...props} />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const InventoryResourceItemRouter: RouteProps = {\n  exact: false,\n  path: '/resource/:resourceId',\n  component: InventoryResourceItemRoute\n};\n","import * as React from 'react';\nimport { HomeBox, MainContainer, Wrapper, WrapperCont } from 'ui/elements/Layout';\n\nexport interface Props {\n  userId: string | null;\n}\n\nexport const Activity: React.FC<Props> = ({ userId }) => {\n  return (\n    <MainContainer>\n      <HomeBox>\n        <WrapperCont>\n          <Wrapper>hi {userId}</Wrapper>\n        </WrapperCont>\n      </HomeBox>\n    </MainContainer>\n  );\n};\n\nexport default Activity;\n","import * as Types from '../../../graphql/types.generated';\n\nimport { FollowPreviewFragment } from '../../modules/previews/follow/FollowPreview.generated';\nimport { LikePreviewFragment } from '../../modules/previews/like/LikePreview.generated';\nimport { FlagPreviewFragment } from '../../modules/previews/flag/FlagPreview.generated';\nimport { CommentPreviewFragment } from '../../modules/previews/comment/CommentPreview.generated';\nimport { UserPreviewFragment } from '../../modules/previews/user/UserPreview.generated';\nimport { ResourcePreviewFragment } from '../../modules/previews/resource/ResourcePreview.generated';\nimport { CollectionPreviewFragment } from '../../modules/previews/collection/CollectionPreview.generated';\nimport { CommunityPreviewFragment } from '../../modules/previews/community/CommunityPreview.generated';\nimport gql from 'graphql-tag';\nimport { CommunityPreviewFragmentDoc } from '../../modules/previews/community/CommunityPreview.generated';\nimport { CollectionPreviewFragmentDoc } from '../../modules/previews/collection/CollectionPreview.generated';\nimport { ResourcePreviewFragmentDoc } from '../../modules/previews/resource/ResourcePreview.generated';\nimport { UserPreviewFragmentDoc } from '../../modules/previews/user/UserPreview.generated';\nimport { CommentPreviewFragmentDoc } from '../../modules/previews/comment/CommentPreview.generated';\nimport { FlagPreviewFragmentDoc } from '../../modules/previews/flag/FlagPreview.generated';\nimport { LikePreviewFragmentDoc } from '../../modules/previews/like/LikePreview.generated';\nimport { FollowPreviewFragmentDoc } from '../../modules/previews/follow/FollowPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\n\n\n\n\n\n\n\nexport type UserQueryVariables = {\n  userId: Types.Scalars['String']\n};\n\n\nexport type UserQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & { outbox: Types.Maybe<(\n      { __typename: 'ActivitiesPage' }\n      & Pick<Types.ActivitiesPage, 'totalCount'>\n      & { edges: Array<(\n        { __typename: 'Activity' }\n        & Pick<Types.Activity, 'verb'>\n        & { user: Types.Maybe<(\n          { __typename: 'User' }\n          & Pick<Types.User, 'name'>\n          & { icon: Types.Maybe<(\n            { __typename: 'Content' }\n            & Pick<Types.Content, 'id'>\n          )>, image: Types.Maybe<(\n            { __typename: 'Content' }\n            & Pick<Types.Content, 'id'>\n          )> }\n        )>, context: Types.Maybe<{ __typename: 'Category' } | (\n          { __typename: 'Collection' }\n          & CollectionPreviewFragment\n        ) | (\n          { __typename: 'Comment' }\n          & CommentPreviewFragment\n        ) | (\n          { __typename: 'Community' }\n          & CommunityPreviewFragment\n        ) | (\n          { __typename: 'Flag' }\n          & FlagPreviewFragment\n        ) | (\n          { __typename: 'Follow' }\n          & FollowPreviewFragment\n        ) | { __typename: 'Intent' } | (\n          { __typename: 'Like' }\n          & LikePreviewFragment\n        ) | { __typename: 'Organisation' } | (\n          { __typename: 'Resource' }\n          & ResourcePreviewFragment\n        ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n          { __typename: 'User' }\n          & UserPreviewFragment\n        )> }\n      )>, pageInfo: (\n        { __typename: 'PageInfo' }\n        & Pick<Types.PageInfo, 'hasNextPage' | 'hasPreviousPage'>\n      ) }\n    )> }\n  )> }\n);\n\nexport type UserActivityQueryVariables = {\n  userId: Types.Scalars['String']\n};\n\n\nexport type UserActivityQuery = (\n  { __typename: 'RootQueryType' }\n  & { user: Types.Maybe<(\n    { __typename: 'User' }\n    & Pick<Types.User, 'lastActivity'>\n    & { outbox: Types.Maybe<(\n      { __typename: 'ActivitiesPage' }\n      & Pick<Types.ActivitiesPage, 'totalCount'>\n      & { pageInfo: (\n        { __typename: 'PageInfo' }\n        & Pick<Types.PageInfo, 'hasNextPage' | 'startCursor' | 'endCursor' | 'hasPreviousPage'>\n      ), edges: Array<(\n        { __typename: 'Activity' }\n        & { context: Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | (\n          { __typename: 'Community' }\n          & Pick<Types.Community, 'id' | 'displayUsername'>\n        ) | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n      )> }\n    )> }\n  )> }\n);\n\n\nexport const UserDocument = gql`\n    query user($userId: String!) {\n  user(userId: $userId) {\n    outbox(limit: 15) {\n      edges {\n        user {\n          icon {\n            id\n          }\n          name\n          image {\n            id\n          }\n        }\n        verb\n        context {\n          ... on Community {\n            ...CommunityPreview\n          }\n          ... on Collection {\n            ...CollectionPreview\n          }\n          ... on Resource {\n            ...ResourcePreview\n          }\n          ... on User {\n            ...UserPreview\n          }\n          ... on Comment {\n            ...CommentPreview\n          }\n          ... on Flag {\n            ...FlagPreview\n          }\n          ... on Like {\n            ...LikePreview\n          }\n          ... on Follow {\n            ...FollowPreview\n          }\n        }\n      }\n      totalCount\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n      }\n    }\n  }\n}\n    ${CommunityPreviewFragmentDoc}\n${CollectionPreviewFragmentDoc}\n${ResourcePreviewFragmentDoc}\n${UserPreviewFragmentDoc}\n${CommentPreviewFragmentDoc}\n${FlagPreviewFragmentDoc}\n${LikePreviewFragmentDoc}\n${FollowPreviewFragmentDoc}`;\n\n/**\n * __useUserQuery__\n *\n * To run a query within a React component, call `useUserQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *   },\n * });\n */\nexport function useUserQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserQuery, UserQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserQuery, UserQueryVariables>(UserDocument, baseOptions);\n      }\nexport function useUserLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserQuery, UserQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserQuery, UserQueryVariables>(UserDocument, baseOptions);\n        }\nexport type UserQueryHookResult = ReturnType<typeof useUserQuery>;\nexport type UserLazyQueryHookResult = ReturnType<typeof useUserLazyQuery>;\nexport type UserQueryResult = ApolloReactCommon.QueryResult<UserQuery, UserQueryVariables>;\nexport const UserActivityDocument = gql`\n    query userActivity($userId: String!) {\n  user(userId: $userId) {\n    lastActivity\n    outbox {\n      pageInfo {\n        hasNextPage\n        startCursor\n        endCursor\n        hasPreviousPage\n      }\n      totalCount\n      edges {\n        context {\n          ... on Community {\n            id\n            displayUsername\n          }\n        }\n      }\n    }\n  }\n}\n    `;\n\n/**\n * __useUserActivityQuery__\n *\n * To run a query within a React component, call `useUserActivityQuery` and pass it any options that fit your needs.\n * When your component renders, `useUserActivityQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useUserActivityQuery({\n *   variables: {\n *      userId: // value for 'userId'\n *   },\n * });\n */\nexport function useUserActivityQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<UserActivityQuery, UserActivityQueryVariables>) {\n        return ApolloReactHooks.useQuery<UserActivityQuery, UserActivityQueryVariables>(UserActivityDocument, baseOptions);\n      }\nexport function useUserActivityLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<UserActivityQuery, UserActivityQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<UserActivityQuery, UserActivityQueryVariables>(UserActivityDocument, baseOptions);\n        }\nexport type UserActivityQueryHookResult = ReturnType<typeof useUserActivityQuery>;\nexport type UserActivityLazyQueryHookResult = ReturnType<typeof useUserActivityLazyQuery>;\nexport type UserActivityQueryResult = ApolloReactCommon.QueryResult<UserActivityQuery, UserActivityQueryVariables>;\n\n\nexport interface UserQueryOperation {\n  operationName: 'user'\n  result: UserQuery\n  variables: UserQueryVariables\n  type: 'query'\n}\nexport const UserQueryName:UserQueryOperation['operationName'] = 'user'\n\nexport const UserQueryRefetch = (\n  variables:UserQueryVariables, \n  context?:any\n)=>({\n  query:UserDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface UserActivityQueryOperation {\n  operationName: 'userActivity'\n  result: UserActivityQuery\n  variables: UserActivityQueryVariables\n  type: 'query'\n}\nexport const UserActivityQueryName:UserActivityQueryOperation['operationName'] = 'userActivity'\n\nexport const UserActivityQueryRefetch = (\n  variables:UserActivityQueryVariables, \n  context?:any\n)=>({\n  query:UserActivityDocument,\n  variables,\n  context\n})\n      \n","import React, { FC } from 'react';\nimport { useMe } from '../../../fe/session/useMe';\nimport { Activity, Props as ActivityProps } from '../../../ui/pages/activity';\nimport { useUserActivityQuery } from './ActivityPage.generated';\n\nexport interface EconomicResource {\n  id: string;\n  name: string;\n  note: string;\n  image?: string;\n}\n\nexport const ActivityPage: FC<ActivityProps> = () => {\n  const { me } = useMe();\n  const currentUser = me?.user.id;\n\n  const { error, data }: any = useUserActivityQuery({\n    variables: { userId: currentUser ? currentUser : '' }\n  });\n\n  console.log({ data });\n  console.log('Error:', error);\n  const props: ActivityProps = {\n    userId: currentUser ? currentUser : ''\n  };\n\n  return <Activity {...props} />;\n};\n","import React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport { ActivityPage } from 'HOC/pages/activity/ActivityPage';\n\nconst ActivityPageRoute: FC<RouteComponentProps<any>> = ({ match }) => {\n  const userId = match.params.userId;\n\n  const props = {\n    userId: userId,\n    basePath: `/activity`\n  };\n\n  return (\n    <WithSidebarTemplate>\n      <ActivityPage {...props} />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const ActivityPageRouter: RouteProps = {\n  exact: false,\n  path: '/activity',\n  component: ActivityPageRoute\n};\n","import React, { FC } from 'react';\nimport { Map, MapProps } from 'ui/elements/Map';\nimport { HomeBox, MainContainer, Wrapper, WrapperCont } from 'ui/elements/Layout';\n\nexport const Maps: FC<MapProps> = ({ center, zoom = 13, markers = [] }) => {\n  return (\n    <MainContainer>\n      <HomeBox>\n        <WrapperCont>\n          <Wrapper>\n            <Map center={center} zoom={zoom} markers={markers}></Map>\n          </Wrapper>\n        </WrapperCont>\n      </HomeBox>\n    </MainContainer>\n  );\n};\n\nexport default Maps;\n","import gql from 'graphql-tag';\nimport { RootQueryType } from 'graphql/types.generated';\n\nexport const proposedIntents = gql`\n  query communityMapPoints($communityId: [ID]!) {\n    proposalsFiltered(inScopeOf: $communityId) {\n      __typename\n      id\n      name\n      note\n      eligibleLocation {\n        lat\n        long\n        geom\n      }\n    }\n  }\n`;\n\nexport type ProposalsFilteredQuery = { __typename: 'RootQueryType' } & Pick<\n  RootQueryType,\n  'proposalsFiltered'\n>;\n\nexport type ProposalsFilteredQueryVariables = {\n  communityId: string;\n};\n","import React, { useEffect, useState } from 'react';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\nimport Maps from 'ui/pages/maps';\nimport { useApolloClient } from 'react-apollo';\nimport {\n  ProposalsFilteredQuery,\n  ProposalsFilteredQueryVariables,\n  proposedIntents\n} from './MapPageQuery';\nimport { Maybe, Proposal, SpatialThing } from 'graphql/types.generated';\nimport { MarkerProps } from 'ui/elements/Map';\n\ntype ProposalWithGEO = Omit<Proposal, 'eligibleLocation'> & {\n  eligibleLocation: SpatialThing;\n};\n\nconst hasLatLong = (proposal: Maybe<Proposal>) => {\n  if (!proposal) {\n    return false;\n  }\n  const { eligibleLocation } = proposal;\n  return (\n    eligibleLocation && (eligibleLocation.geom || (eligibleLocation?.lat && eligibleLocation.long))\n  );\n};\n\nconst proposalsToMarkers = (proposals: Array<Maybe<Proposal>>) => {\n  return proposals\n    .filter(hasLatLong)\n    .map(proposal => proposal as ProposalWithGEO)\n    .map(proposal => {\n      const { lat, long, geom } = proposal.eligibleLocation;\n      const position =\n        lat && long ? { lat, lng: long } : { lat: geom.coordinates[0], lng: geom.coordinates[1] };\n      const marker: MarkerProps = {\n        position: position,\n        popup: proposal.name\n      };\n      return marker;\n    });\n};\n\ntype IMapPageHOC = {\n  communityId: string;\n};\n\nexport const MapPageHOC = ({ communityId }: IMapPageHOC) => {\n  const client = useApolloClient();\n  const [markers, setMarkers] = useState<Array<MarkerProps>>([]);\n\n  useEffect(() => {\n    const mapPoints = client.query<ProposalsFilteredQuery, ProposalsFilteredQueryVariables>({\n      query: proposedIntents,\n      variables: {\n        communityId\n      }\n    });\n\n    mapPoints.then(result => {\n      if (result.data) {\n        if (result.data.proposalsFiltered) {\n          setMarkers(proposalsToMarkers(result.data.proposalsFiltered));\n        }\n      }\n    });\n  }, [communityId, client]);\n\n  usePageTitle(t`Map`);\n\n  return <Maps markers={markers} zoom={13} center={{ lat: 41.396, lng: 2.192 }} />;\n};\n","// import { MapsPageHOC } from 'HOC/pages/login/MapsPage';\n// import { GuestTemplate } from 'HOC/templates/Guest/Guest';\nimport React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { locationHelper } from './lib/helper';\n// import { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport { MapPageHOC } from 'HOC/pages/map/MapPage';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\n\ninterface MapsPageRouter {\n  communityId: string;\n}\nconst MapsPageRouter: FC<RouteComponentProps<MapsPageRouter>> = ({ match }) => {\n  if (match === null) {\n    return <NotFoundHOC />;\n  }\n\n  return (\n    <WithSidebarTemplate>\n      <MapPageHOC communityId={match.params.communityId} />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const MapsPageRoute: RouteProps = {\n  exact: true,\n  path: '/communities/:communityId/map/',\n  component: MapsPageRouter\n};\n\nexport const mapLocation = locationHelper<undefined, undefined>(MapsPageRoute);\n","import * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport styled from 'ui/themes/styled';\nimport Button from 'ui/elements/Button';\nimport { Text, Box } from 'rebass/styled-components';\nimport { Input } from '@rebass/forms';\nimport { FormikHook } from 'ui/@types/types';\nimport Alert from 'ui/elements/Alert';\nimport { AlertWrapper } from 'ui/modules/Modal';\nimport { i18nMark } from '@lingui/react';\nimport LogoContainer from 'ui/elements/Logo';\nimport { Link } from 'react-router-dom';\n\nexport interface ResetPasswordFormValues {\n  email: string;\n}\n\nexport interface Props {\n  formik: FormikHook<ResetPasswordFormValues>;\n  isSubmitted: boolean;\n}\n\nlet tt = {\n  placeholders: {\n    email: i18nMark('Enter your email')\n  }\n};\n\nexport const ResetPassword: React.FC<Props> = ({ formik, isSubmitted }) => {\n  return (\n    <>\n      <Container>\n        <LoginWrapper>\n          <LogoContainer />\n          {isSubmitted ? (\n            <Wrapper>\n              <VerifiedBox variant=\"text\">\n                <Trans>\n                  If your email is linked to an account in our database, we have sent you an email\n                  with which you can reset your password. It may take a few minutes to arrive\n                  depending on your mail provider.\n                </Trans>\n              </VerifiedBox>\n              <ButtonLink to=\"/login\">\n                <Trans>Login</Trans>\n              </ButtonLink>\n            </Wrapper>\n          ) : (\n            <FormWrapper>\n              <Input\n                placeholder={tt.placeholders.email}\n                name=\"email\"\n                value={formik.values.email}\n                onChange={formik.handleChange}\n              />\n              {formik.errors.email && (\n                <AlertWrapper>\n                  <Alert variant=\"negative\">{formik.errors.email}</Alert>\n                </AlertWrapper>\n              )}\n              <Button\n                variant=\"primary\"\n                isSubmitting={formik.isSubmitting}\n                isDisabled={formik.isSubmitting}\n                type=\"submit\"\n                onClick={formik.submitForm}\n              >\n                <Trans>Reset the password</Trans>\n              </Button>\n            </FormWrapper>\n          )}\n        </LoginWrapper>\n      </Container>\n    </>\n  );\n};\n\nexport default ResetPassword;\n\nconst ButtonLink = styled(Link)`\n  background: ${props => props.theme.colors.primary};\n  padding: 8px 16px;\n  border-radius: 4px;\n  text-decoration: none;\n  font-weight: 600;\n  color: ${props => props.theme.colors.lighter};\n  margin-top: 16px;\n  margin: 0 auto;\n  display: block;\n  text-align: center;\n  margin-top: 16px;\n`;\n\nconst Wrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n  padding: 16px;\n  max-width: 400px;\n`;\n\nconst VerifiedBox = styled(Text)``;\n\nconst LoginWrapper = styled.div`\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: white;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n`;\n\nconst Container = styled.div`\n  margin: 0 auto;\n  max-width: 900px;\n  margin-top: 60px;\n  padding: 16px;\n  padding-bottom: 50px;\n  & button {\n    margin-top: 16px;\n    width: 100%;\n    color: #fff !important;\n    text-transform: uppercase\n      &:hover {\n      background: #d67218 !important;\n    }\n  }\n`;\n\nconst FormWrapper = styled.form`\n  width: 432px;\n`;\n","import { useFormik } from 'formik';\nimport React, { FC } from 'react';\nimport ResetPasswordRequestPage, { ResetPasswordFormValues } from 'ui/pages/resetPassword';\nimport * as Yup from 'yup';\nimport { useAnon } from 'fe/session/useAnon';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n\nexport const validationSchema: Yup.ObjectSchema<ResetPasswordFormValues> = Yup.object<\n  ResetPasswordFormValues\n>({\n  email: Yup.string()\n    .max(50)\n    .required()\n});\nconst initialValues: ResetPasswordFormValues = {\n  email: ''\n};\nexport interface Props {}\n\nconst resetPasswordPageTitle = t`Reset Password`;\n\nexport const ResetPasswordPageHOC: FC<Props> = () => {\n  usePageTitle(resetPasswordPageTitle);\n  const { resetPwdReq } = useAnon();\n  const formik = useFormik<ResetPasswordFormValues>({\n    onSubmit: ({ email }) => resetPwdReq(email),\n    initialValues,\n    validationSchema\n  });\n  return (\n    <ResetPasswordRequestPage\n      formik={formik}\n      isSubmitted={formik.submitCount > 0 ? true : false} // https://github.com/jaredpalmer/formik/issues/213#issuecomment-619593592 // Double-Check if correct\n    />\n  );\n};\n","import React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { GuestTemplate } from 'HOC/templates/Guest/Guest';\nimport { ResetPasswordPageHOC } from 'HOC/pages/resetPasswordRequest/resetPasswordRequestPage';\nimport { RedirectAuthenticatedToHome } from './wrappers/RedirectBySession';\n\ninterface ResetPasswordPageRouter {}\nconst ResetPasswordPageRouter: FC<RouteComponentProps<\n  ResetPasswordPageRouter\n>> = ({ match }) => {\n  return (\n    <RedirectAuthenticatedToHome>\n      <GuestTemplate withoutHeader>\n        <ResetPasswordPageHOC />\n      </GuestTemplate>\n    </RedirectAuthenticatedToHome>\n  );\n};\n\nexport const ResetPasswordPageRoute: RouteProps = {\n  exact: true,\n  path: '/reset',\n  component: ResetPasswordPageRouter\n};\n","import * as Types from '../../graphql/types.generated';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\nexport type SearchHostIndexAndMyFollowsQueryVariables = {};\n\n\nexport type SearchHostIndexAndMyFollowsQuery = (\n  { __typename: 'RootQueryType' }\n  & { instance: Types.Maybe<(\n    { __typename: 'Instance' }\n    & SearchInstanceFragment\n  )> }\n);\n\nexport type SearchInstanceFragment = (\n  { __typename: 'Instance' }\n  & Pick<Types.Instance, 'hostname'>\n);\n\nexport type SearchFollowMutationVariables = {\n  url: Types.Scalars['String']\n};\n\n\nexport type SearchFollowMutation = (\n  { __typename: 'RootMutationType' }\n  & { createFollowByUrl: Types.Maybe<(\n    { __typename: 'Follow' }\n    & Pick<Types.Follow, 'id'>\n  )> }\n);\n\nexport type SearchUnfollowMutationVariables = {\n  contextId: Types.Scalars['String']\n};\n\n\nexport type SearchUnfollowMutation = (\n  { __typename: 'RootMutationType' }\n  & { delete: Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\nexport const SearchInstanceFragmentDoc = gql`\n    fragment SearchInstance on Instance {\n  hostname\n}\n    `;\nexport const SearchHostIndexAndMyFollowsDocument = gql`\n    query SearchHostIndexAndMyFollows {\n  instance {\n    ...SearchInstance\n  }\n}\n    ${SearchInstanceFragmentDoc}`;\n\n/**\n * __useSearchHostIndexAndMyFollowsQuery__\n *\n * To run a query within a React component, call `useSearchHostIndexAndMyFollowsQuery` and pass it any options that fit your needs.\n * When your component renders, `useSearchHostIndexAndMyFollowsQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useSearchHostIndexAndMyFollowsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useSearchHostIndexAndMyFollowsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<SearchHostIndexAndMyFollowsQuery, SearchHostIndexAndMyFollowsQueryVariables>) {\n        return ApolloReactHooks.useQuery<SearchHostIndexAndMyFollowsQuery, SearchHostIndexAndMyFollowsQueryVariables>(SearchHostIndexAndMyFollowsDocument, baseOptions);\n      }\nexport function useSearchHostIndexAndMyFollowsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<SearchHostIndexAndMyFollowsQuery, SearchHostIndexAndMyFollowsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<SearchHostIndexAndMyFollowsQuery, SearchHostIndexAndMyFollowsQueryVariables>(SearchHostIndexAndMyFollowsDocument, baseOptions);\n        }\nexport type SearchHostIndexAndMyFollowsQueryHookResult = ReturnType<typeof useSearchHostIndexAndMyFollowsQuery>;\nexport type SearchHostIndexAndMyFollowsLazyQueryHookResult = ReturnType<typeof useSearchHostIndexAndMyFollowsLazyQuery>;\nexport type SearchHostIndexAndMyFollowsQueryResult = ApolloReactCommon.QueryResult<SearchHostIndexAndMyFollowsQuery, SearchHostIndexAndMyFollowsQueryVariables>;\nexport const SearchFollowDocument = gql`\n    mutation searchFollow($url: String!) {\n  createFollowByUrl(url: $url) {\n    id\n  }\n}\n    `;\nexport type SearchFollowMutationFn = ApolloReactCommon.MutationFunction<SearchFollowMutation, SearchFollowMutationVariables>;\n\n/**\n * __useSearchFollowMutation__\n *\n * To run a mutation, you first call `useSearchFollowMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSearchFollowMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [searchFollowMutation, { data, loading, error }] = useSearchFollowMutation({\n *   variables: {\n *      url: // value for 'url'\n *   },\n * });\n */\nexport function useSearchFollowMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<SearchFollowMutation, SearchFollowMutationVariables>) {\n        return ApolloReactHooks.useMutation<SearchFollowMutation, SearchFollowMutationVariables>(SearchFollowDocument, baseOptions);\n      }\nexport type SearchFollowMutationHookResult = ReturnType<typeof useSearchFollowMutation>;\nexport type SearchFollowMutationResult = ApolloReactCommon.MutationResult<SearchFollowMutation>;\nexport type SearchFollowMutationOptions = ApolloReactCommon.BaseMutationOptions<SearchFollowMutation, SearchFollowMutationVariables>;\nexport const SearchUnfollowDocument = gql`\n    mutation searchUnfollow($contextId: String!) {\n  delete(contextId: $contextId) {\n    __typename\n  }\n}\n    `;\nexport type SearchUnfollowMutationFn = ApolloReactCommon.MutationFunction<SearchUnfollowMutation, SearchUnfollowMutationVariables>;\n\n/**\n * __useSearchUnfollowMutation__\n *\n * To run a mutation, you first call `useSearchUnfollowMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSearchUnfollowMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [searchUnfollowMutation, { data, loading, error }] = useSearchUnfollowMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *   },\n * });\n */\nexport function useSearchUnfollowMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<SearchUnfollowMutation, SearchUnfollowMutationVariables>) {\n        return ApolloReactHooks.useMutation<SearchUnfollowMutation, SearchUnfollowMutationVariables>(SearchUnfollowDocument, baseOptions);\n      }\nexport type SearchUnfollowMutationHookResult = ReturnType<typeof useSearchUnfollowMutation>;\nexport type SearchUnfollowMutationResult = ApolloReactCommon.MutationResult<SearchUnfollowMutation>;\nexport type SearchUnfollowMutationOptions = ApolloReactCommon.BaseMutationOptions<SearchUnfollowMutation, SearchUnfollowMutationVariables>;\n\n\nexport interface SearchHostIndexAndMyFollowsQueryOperation {\n  operationName: 'SearchHostIndexAndMyFollows'\n  result: SearchHostIndexAndMyFollowsQuery\n  variables: SearchHostIndexAndMyFollowsQueryVariables\n  type: 'query'\n}\nexport const SearchHostIndexAndMyFollowsQueryName:SearchHostIndexAndMyFollowsQueryOperation['operationName'] = 'SearchHostIndexAndMyFollows'\n\nexport const SearchHostIndexAndMyFollowsQueryRefetch = (\n  variables:SearchHostIndexAndMyFollowsQueryVariables, \n  context?:any\n)=>({\n  query:SearchHostIndexAndMyFollowsDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface SearchFollowMutationOperation {\n  operationName: 'searchFollow'\n  result: SearchFollowMutation\n  variables: SearchFollowMutationVariables\n  type: 'mutation'\n}\nexport const SearchFollowMutationName:SearchFollowMutationOperation['operationName'] = 'searchFollow'\n\nexport const SearchFollowMutationRefetch = (\n  variables:SearchFollowMutationVariables, \n  context?:any\n)=>({\n  query:SearchFollowDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface SearchUnfollowMutationOperation {\n  operationName: 'searchUnfollow'\n  result: SearchUnfollowMutation\n  variables: SearchUnfollowMutationVariables\n  type: 'mutation'\n}\nexport const SearchUnfollowMutationName:SearchUnfollowMutationOperation['operationName'] = 'searchUnfollow'\n\nexport const SearchUnfollowMutationRefetch = (\n  variables:SearchUnfollowMutationVariables, \n  context?:any\n)=>({\n  query:SearchUnfollowDocument,\n  variables,\n  context\n})\n      \n","import { CollectionHit, CommunityHit, ResourceHit } from 'fe/search/Hits';\nimport Maybe from 'graphql/tsutils/Maybe';\nimport { CollectionPreviewFragment } from 'HOC/modules/previews/collection/CollectionPreview.generated';\nimport { CommunityPreviewFragment } from 'HOC/modules/previews/community/CommunityPreview.generated';\nimport { ResourcePreviewFragment } from 'HOC/modules/previews/resource/ResourcePreview.generated';\n\nexport const resourceHit2gql = (args: {\n  resource: Maybe<ResourceHit>;\n  isLocal: boolean;\n  isFile: boolean;\n}): ResourcePreviewFragment | null => {\n  const { resource, isLocal, isFile } = args;\n  const collection = collectionHit2gql(resource?.collection, isLocal);\n  const url = resource?.url;\n  if (!(resource && collection && url)) {\n    return null;\n  }\n  const {\n    name,\n    canonicalUrl,\n    icon,\n    licence,\n    summary,\n    // url,\n    mediaType,\n    // createdAt,\n    // index_instance,\n    index_mothership_object_id,\n    // index_type,\n    // objectID,\n    // updatedAt,\n    // collection,\n    likes\n  } = resource;\n  return {\n    __typename: 'Resource',\n    canonicalUrl: canonicalUrl || '',\n    collection,\n    icon: icon ? { __typename: 'Content', id: '', url: icon } : null,\n    name,\n    summary: summary || '',\n    license: licence,\n    id: index_mothership_object_id,\n    likers: {\n      __typename: 'LikesPage',\n      totalCount: parseInt(likes?.totalCount || '0') || 0\n    },\n    myFlag: null,\n    myLike: null,\n    payload: {\n      __typename: 'Content',\n      id: '',\n      url,\n      mirror: { __typename: 'ContentMirror', url },\n      mediaType: mediaType || '',\n      upload: isFile ? { __typename: 'ContentUpload' } : null\n    }\n  };\n};\n\nexport const collectionHit2gql = (\n  collection: Maybe<CollectionHit>,\n  isLocal: boolean\n): CollectionPreviewFragment | null => {\n  const community = communityHit2gql(collection?.community, isLocal);\n  if (!(collection && community)) {\n    return null;\n  }\n  const {\n    preferredUsername,\n    canonicalUrl,\n    icon,\n    summary,\n    // createdAt,\n    // index_instance,\n    index_mothership_object_id,\n    // index_type,\n    name\n    // objectID,\n    // community,\n    // followers\n  } = collection;\n  return {\n    __typename: 'Collection',\n    community,\n    displayUsername: name,\n    icon: icon ? { __typename: 'Content', id: '', url: icon } : null,\n    id: index_mothership_object_id,\n    isLocal,\n    myFlag: null,\n    myFollow: null,\n    name,\n    canonicalUrl,\n    summary,\n    preferredUsername\n  };\n};\n\nexport const communityHit2gql = (\n  community: Maybe<CommunityHit>,\n  isLocal: boolean\n): CommunityPreviewFragment | null => {\n  if (!community) {\n    return null;\n  }\n  const {\n    name,\n    preferredUsername,\n    summary,\n    canonicalUrl,\n    icon,\n    // createdAt,\n    // index_instance,\n    index_mothership_object_id,\n    // index_type,\n    // objectID,\n    followers\n    // image\n  } = community;\n  return {\n    __typename: 'Community',\n    icon: icon ? { __typename: 'Content', id: '', url: icon } : null,\n    id: index_mothership_object_id,\n    isLocal,\n    name,\n    canonicalUrl,\n    summary,\n    followerCount: followers?.totalCount || 0,\n    threads: { totalCount: 0, __typename: 'ThreadsPage' },\n    displayUsername: name,\n    myFlag: null,\n    myFollow: null,\n    collectionCount: 0,\n    preferredUsername,\n    creator: null // FIXME: get it from BE\n  };\n};\n","import {\n  ResourceLMS,\n  CollectionLMS,\n  CommunityLMS,\n  ResourceHitMin,\n  CollectionHitMin,\n  CommunityHitMin\n} from './types';\nimport Maybe from 'graphql/tsutils/Maybe';\n\nexport const resourceHit2lms = (resource: Maybe<ResourceHitMin>): ResourceLMS | null => {\n  const collection = collectionHit2lms(resource?.collection);\n  if (!(resource && collection)) {\n    return null;\n  }\n  const { name, canonicalUrl, icon, licence, summary, url, mediaType } = resource;\n  return {\n    canonicalUrl: canonicalUrl || '',\n    collection,\n    icon: icon || '',\n    name,\n    summary: summary || '',\n    url: url || '',\n    licence: licence || '',\n    mediaType: mediaType || ''\n  };\n};\n\nexport const collectionHit2lms = (collection: Maybe<CollectionHitMin>): CollectionLMS | null => {\n  const community = communityHit2lms(collection?.community);\n  if (!(collection && community)) {\n    return null;\n  }\n  const { preferredUsername, canonicalUrl, icon, summary, name } = collection;\n  return {\n    canonicalUrl: canonicalUrl || '',\n    icon,\n    name,\n    preferredUsername,\n    summary: summary || '',\n    community\n  };\n};\n\nexport const communityHit2lms = (community: Maybe<CommunityHitMin>): CommunityLMS | null => {\n  if (!community) {\n    return null;\n  }\n  const { name, preferredUsername, icon, summary, canonicalUrl } = community;\n  return {\n    canonicalUrl: canonicalUrl || '',\n    icon: icon || '',\n    name,\n    preferredUsername,\n    summary: summary || ''\n  };\n};\n","import { Trans } from '@lingui/macro';\nimport React, { SFC, ReactElement } from 'react';\nimport { Box } from 'rebass/styled-components';\nimport { HomeBox, MainContainer, Wrapper, WrapperCont } from 'ui/elements/Layout';\nimport { Nav, Panel, PanelTitle, WrapperPanel } from 'ui/elements/Panel';\nimport { Header } from 'ui/modules/Header';\nimport styled from 'ui/themes/styled';\n\nexport interface Props {\n  previews: ReactElement[];\n  Pagination: ReactElement;\n  Filter: ReactElement;\n}\n\nexport const Search: SFC<Props> = ({ previews, Pagination, Filter }) => {\n  return (\n    <>\n      <link\n        rel=\"stylesheet\"\n        href=\"https://cdn.jsdelivr.net/npm/instantsearch.css@7.1.1/themes/reset-min.css\"\n      />\n      <MainContainer>\n        <HomeBox>\n          <SearchWrapper>\n            <WrapperCont>\n              <Wrapper>\n                <Header name=\"Search results\" />\n                <Box>\n                  {previews.map(El => (\n                    <Box m={2} key={El.key}>\n                      {El}\n                    </Box>\n                  ))}\n                </Box>\n              </Wrapper>\n              <Box m={2}>{Pagination}</Box>\n            </WrapperCont>\n          </SearchWrapper>\n        </HomeBox>\n        <WrapperPanel>\n          <Panel>\n            <PanelTitle fontWeight={'bold'}>\n              <Trans>Filters</Trans>\n            </PanelTitle>\n            <Nav>\n              <NavWrapper>{Filter}</NavWrapper>\n            </Nav>\n          </Panel>\n        </WrapperPanel>\n      </MainContainer>\n    </>\n  );\n};\n\nconst NavWrapper = styled(Box)`\n  li {\n    height: 40px;\n    line-height: 40px;\n    input {\n      margin-right: 8px;\n    }\n  }\n`;\n\nconst SearchWrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  max-width: 600px;\n`;\n","import { useInstanceInfoQuery } from 'fe/instance/info/useInstanceInfo.generated';\nimport { mnCtx } from 'fe/lib/graphql/ctx';\nimport { MoodlePanelHOC } from 'HOC/modules/MoodlePanel/MoodlePanel';\nimport { CollectionHit, CommunityHit, Hit, ResourceHit } from 'fe/search/Hits';\nimport {\n  useSearchFollowMutation,\n  useSearchHostIndexAndMyFollowsQuery,\n  useSearchUnfollowMutation\n} from 'fe/search/SearchData.generated';\nimport { useFormik } from 'formik';\nimport {\n  collectionHit2gql,\n  communityHit2gql,\n  resourceHit2gql\n} from 'fe/lib/moodleLMS/mappings/hit2GQL';\nimport { resourceHit2lms } from 'fe/lib/moodleLMS/mappings/hit2LMS';\nimport { collectionFragment2UIProps } from 'HOC/modules/previews/collection/CollectionPreview';\nimport { communityFragment2UIProps } from 'HOC/modules/previews/community/CommunityPreview';\nimport { resourceFragment2UIProps } from 'HOC/modules/previews/resource/ResourcePreview';\nimport * as React from 'react';\nimport { ReactElement } from 'react';\nimport {\n  Configure,\n  connectInfiniteHits,\n  Pagination,\n  RefinementList\n} from 'react-instantsearch-dom';\nimport Modal from 'ui/modules/Modal';\nimport { Collection } from 'ui/modules/Previews/Collection';\nimport { Community } from 'ui/modules/Previews/Community';\nimport { Props as ResourceProps, Resource } from 'ui/modules/Previews/Resource';\nimport { Props, Search } from 'ui/pages/search';\n\nconst _SearchPageHOC: React.FC<{ hits: Hit[] }> = ({ hits }) => {\n  // console.log(hits);\n  const previews = React.useMemo(\n    () =>\n      hits\n        .map(hit => {\n          if (hit.index_type === 'Collection') {\n            return <CollectionPreviewHit hit={hit} key={hit.objectID} />;\n          } else if (hit.index_type === 'Resource') {\n            return <ResourcePreviewHit hit={hit} key={hit.objectID} />;\n          } else if (hit.index_type === 'Community') {\n            return <CommunityPreviewHit hit={hit} key={hit.objectID} />;\n          } else {\n            console.warn(`Could not preview searchHit:`, hit);\n            return null;\n          }\n        })\n        .filter((_): _ is ReactElement => !!_),\n    [hits]\n  );\n\n  const props: Props = {\n    previews,\n    Pagination: <Pagination showNext />,\n    Filter: <RefinementList attribute=\"index_type\" />\n  };\n\n  return (\n    <>\n      <Configure hitsPerPage={8} />\n      <Search {...props} />\n    </>\n  );\n};\n\nexport const SearchPageHOC = connectInfiniteHits(_SearchPageHOC);\n\nconst CollectionPreviewHit: React.FC<{ hit: CollectionHit }> = ({ hit }) => {\n  const isLocal = useIsLocal(hit);\n  const previewFragment = collectionHit2gql(hit, isLocal);\n  const { toggleFollowFormik } = useFollowHitHelper(hit);\n  const props =\n    previewFragment &&\n    collectionFragment2UIProps({\n      collection: previewFragment,\n      hideActions: false,\n      toggleFollowFormik\n    });\n  !props && console.warn(`Could not preview searchHit:`, hit);\n  // console.log(`Collection:`, props)\n  return props && <Collection isSearch {...props} />;\n};\n\nconst CommunityPreviewHit: React.FC<{ hit: CommunityHit }> = ({ hit }) => {\n  const isLocal = useIsLocal(hit);\n  const previewFragment = communityHit2gql(hit, isLocal);\n  const { toggleFollowFormik: toggleJoinFormik } = useFollowHitHelper(hit);\n  const props =\n    previewFragment &&\n    communityFragment2UIProps({\n      community: previewFragment,\n      hideActions: false,\n      toggleJoinFormik,\n      isCreator: false //!!hitSearchFollow?.isCreator\n    });\n  !props && console.warn(`Could not preview searchHit:`, hit);\n  // console.log(`Community:`, props)\n  return props && <Community isSearch {...props} />;\n};\n\nconst ResourcePreviewHit: React.FC<{ hit: ResourceHit }> = ({ hit }) => {\n  const isLocal = useIsLocal(hit);\n  const { data } = useInstanceInfoQuery();\n\n  const isFile = !!(data?.instance?.uploadResourceTypes || []).find(\n    uploadResType =>\n      uploadResType.toLowerCase() !== 'text/html' &&\n      uploadResType.toLowerCase() === hit.mediaType?.toLowerCase()\n  );\n  // console.table({ name:hit.name, isLocal, isFile })\n  // console.log(hit, data?.instance?.uploadResourceTypes)\n  const previewFragment = resourceHit2gql({ resource: hit, isLocal, isFile });\n\n  const [isOpenSendToMoodle, toggleSendToMoodleModal] = React.useReducer(is => !is, false);\n  const [isOpenDropdown, toggleDropdown] = React.useReducer(is => !is, false);\n\n  const props: ResourceProps | null = previewFragment && {\n    ...resourceFragment2UIProps({\n      resource: previewFragment,\n      hideActions: false,\n      like: null\n    }),\n    isOpenDropdown,\n    toggleDropdown,\n    toggleFlag: null,\n    sendToMoodle: toggleSendToMoodleModal\n  };\n  !props && console.warn(`Could not preview searchHit:`, hit);\n\n  const resourceLMS = React.useMemo(() => resourceHit2lms(hit), [hit]);\n  const MoodleModal =\n    resourceLMS && isOpenSendToMoodle ? (\n      <Modal closeModal={toggleSendToMoodleModal}>\n        <MoodlePanelHOC done={toggleSendToMoodleModal} resource={resourceLMS} />\n      </Modal>\n    ) : null;\n  // console.log(`Resource:`, props)\n  return (\n    props && (\n      <>\n        {MoodleModal}\n        <Resource isSearch {...props} />\n      </>\n    )\n  );\n};\n\nconst useIsLocal = (hit: Hit) => {\n  const { data } = useSearchHostIndexAndMyFollowsQuery({\n    context: mnCtx({ noShowError: true })\n  });\n  const localHostName = data?.instance?.hostname;\n  const isLocal = hit.index_instance === localHostName;\n  // console.log(`hit.index_instance:`, hit.index_instance)\n  // console.log(`localHostName:`, localHostName)\n  // console.log(`isLocal`,isLocal)\n  // console.log(`---`)\n  return isLocal;\n};\nconst useFollowHitHelper = (hit: Hit) => {\n  //TODO: fix this side step - I'm not sure what to do with this search\n  // const { data } = useSearchHostIndexAndMyFollowsQuery({\n  //   context: mnCtx({ noShowError: true })\n  // });\n  const [follow, followResult] = useSearchFollowMutation();\n  const [unfollow, unfollowResult] = useSearchUnfollowMutation();\n  const hitSearchFollow = {}; //React.useMemo(\n  //   () =>\n  //     (data?.me?.searchFollows || []).find(\n  //       searchFollow => searchFollow.canonicalUrl === hit.canonicalUrl\n  //     ),\n  //   [data, hit]\n  // );\n\n  const canFollow = false; //!hitSearchFollow?.followId;\n  const canUnfollow = false; //hitSearchFollow?.followId && !(hitSearchFollow.communityId && hitSearchFollow.isCreator);\n\n  const toggleFollowFormik = useFormik({\n    initialValues: {},\n    onSubmit: async () => {\n      if (!hit.canonicalUrl || followResult.loading || unfollowResult.loading) {\n        return;\n      }\n      if (hitSearchFollow && canUnfollow) {\n        return unfollow({\n          variables: {\n            contextId: '' //hitSearchFollow.followId\n          }\n        });\n      } else if (canFollow) {\n        return follow({ variables: { url: hit.canonicalUrl } });\n      }\n      return;\n    }\n  });\n  return React.useMemo(\n    () => ({\n      toggleFollowFormik,\n      hitSearchFollow\n    }),\n    [toggleFollowFormik, hitSearchFollow]\n  );\n};\n","import { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport { SearchPageHOC } from 'HOC/pages/search/Search';\nimport React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { searchDisabled } from 'mn-constants';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\n\ninterface SearchPageRouter {}\nconst SearchPageRouter: FC<RouteComponentProps<SearchPageRouter>> = () => {\n  return searchDisabled ? (\n    <NotFoundHOC />\n  ) : (\n    <WithSidebarTemplate>\n      <SearchPageHOC />\n    </WithSidebarTemplate>\n  );\n};\n\nexport const SearchPageRoute: RouteProps = {\n  exact: false,\n  path: '/search',\n  component: SearchPageRouter\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input, Textarea } from '@rebass/forms';\nimport * as React from 'react';\nimport {\n  Droplet,\n\n  // Zap,\n  Flag,\n  Link,\n  Mail,\n  MapPin,\n  Monitor,\n  Settings as Sett,\n  Sliders\n} from 'react-feather';\nimport { NavLink, Route, Switch } from 'react-router-dom';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { FormikHook } from 'ui/@types/types';\nimport Button from 'ui/elements/Button';\n// import { useHistory } from 'react-router';\nimport { HomeBox, MainContainer, Wrapper, WrapperCont } from 'ui/elements/Layout';\nimport DropzoneArea from 'ui/modules/DropzoneModal';\nimport { Actions, ContainerForm } from 'ui/modules/Modal';\nimport styled from 'ui/themes/styled';\nimport { ReactElement } from 'react';\n\nconst tt = {\n  placeholders: {\n    name: i18nMark('Display Name'),\n    summary: i18nMark('Please tell us a little bit about yourself...'),\n    location: i18nMark('Choose a location'),\n    website: i18nMark('Enter a URL to share more info about you')\n  }\n};\nexport enum Status {\n  Loading,\n  Loaded\n}\n\nexport interface SettingsLoading {\n  status: Status.Loading;\n}\n\nexport interface Props {\n  status?: Status.Loaded;\n  formik: FormikHook<EditProfile>;\n  sectionPaths: {\n    preferences: string;\n    instance: string;\n    invites: string;\n    flags: string;\n    logs: string;\n    general: string;\n  };\n  displayUsername: string;\n  isAdmin: boolean;\n  Preferences: ReactElement;\n  Instance: ReactElement;\n  Invites: ReactElement;\n  Flags: ReactElement;\n  ModerationLog: ReactElement;\n}\n\nexport interface EditProfile {\n  name: string;\n  summary: string;\n  icon: string | File | undefined;\n  image: string | File | undefined;\n  location: string;\n  website: string;\n}\n\nexport interface AddEmail {\n  email: string;\n}\n\nexport interface EditInstance {\n  inviteOnly: boolean;\n}\n\nexport const Settings: React.FC<Props> = ({\n  formik,\n  Preferences,\n  Instance,\n  Invites,\n  Flags,\n  ModerationLog,\n  displayUsername,\n  isAdmin,\n  sectionPaths\n}) => {\n  const onIconFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, icon: file }),\n    [formik]\n  );\n  const initialIconUrl = 'string' === typeof formik.values.icon ? formik.values.icon : '';\n  const onImageFileSelected = React.useCallback(\n    (file: File) => formik.setValues({ ...formik.values, image: file }),\n    [formik]\n  );\n  const initialImageUrl = 'string' === typeof formik.values.image ? formik.values.image : '';\n\n  return (\n    <MainContainer>\n      <Sidebar sectionPaths={sectionPaths} isAdmin={isAdmin} />\n      <HomeBox>\n        <WrapperCont>\n          <Wrapper>\n            <SettingsWrapper>\n              <Switch>\n                <Route path={sectionPaths.preferences}>{Preferences}</Route>\n                <Route path={sectionPaths.instance}>{Instance}</Route>\n                <Route path={sectionPaths.invites}>{Invites}</Route>\n                <Route path={sectionPaths.flags}>{Flags}</Route>\n                <Route path={sectionPaths.logs}>{ModerationLog}</Route>\n                <Route path={sectionPaths.general}>\n                  <ProfileBox p={1} pb={2}>\n                    <Hero>\n                      <Flex>\n                        <Bg>\n                          <DropzoneArea\n                            initialUrl={initialImageUrl}\n                            filePattern=\"image/*\"\n                            onFileSelect={onImageFileSelected}\n                          />\n                        </Bg>\n                      </Flex>\n                      <FlexProfile>\n                        <WrapperHero>\n                          <Img>\n                            <DropzoneArea\n                              initialUrl={initialIconUrl}\n                              filePattern=\"image/*\"\n                              onFileSelect={onIconFileSelected}\n                            />\n                          </Img>\n                        </WrapperHero>\n                      </FlexProfile>\n                      <HeroInfo mt={2} ml={3}>\n                        <CollectionContainerForm>\n                          <Input\n                            placeholder={tt.placeholders.name}\n                            disabled={formik.isSubmitting}\n                            name=\"name\"\n                            value={formik.values.name}\n                            onChange={formik.handleChange}\n                          />\n                        </CollectionContainerForm>\n\n                        <Username mt={1} p={2}>\n                          {displayUsername}\n                        </Username>\n                        <CollectionContainerForm>\n                          <Textarea\n                            placeholder={tt.placeholders.summary}\n                            disabled={formik.isSubmitting}\n                            name=\"summary\"\n                            value={formik.values.summary}\n                            onChange={formik.handleChange}\n                          />\n                        </CollectionContainerForm>\n                        <Location mt={2}>\n                          <span>\n                            <MapPin strokeWidth={1} size={20} />\n                          </span>\n                          <CollectionContainerForm>\n                            <Input\n                              placeholder={tt.placeholders.location}\n                              disabled={formik.isSubmitting}\n                              name=\"location\"\n                              value={formik.values.location}\n                              onChange={formik.handleChange}\n                            />\n                          </CollectionContainerForm>\n                        </Location>\n                        <RelevantLink mt={2}>\n                          <span>\n                            <Link strokeWidth={1} size={20} />\n                          </span>\n                          <CollectionContainerForm>\n                            <Input\n                              placeholder={tt.placeholders.website}\n                              disabled={formik.isSubmitting}\n                              name=\"website\"\n                              value={formik.values.website}\n                              onChange={formik.handleChange}\n                            />\n                          </CollectionContainerForm>\n                        </RelevantLink>\n                      </HeroInfo>\n                    </Hero>\n                    <Actions sx={{ height: 'inherit !important' }}>\n                      <Button\n                        variant=\"primary\"\n                        isSubmitting={formik.isSubmitting}\n                        isDisabled={formik.isSubmitting}\n                        type=\"submit\"\n                        style={{ marginLeft: '10px' }}\n                        onClick={formik.submitForm}\n                      >\n                        <Trans>Save</Trans>\n                      </Button>\n                    </Actions>\n                  </ProfileBox>\n                </Route>\n              </Switch>\n            </SettingsWrapper>\n          </Wrapper>\n        </WrapperCont>\n        {/* <RepoLink variant=\"text\" my={3} mt={2}>\n          <a href=\"https://gitlab.com/moodlenet/meta/-/issues\" target=\"_blank\">\n            <Trans>Want to report a bug?</Trans>\n          </a>\n        </RepoLink> */}\n      </HomeBox>\n    </MainContainer>\n  );\n};\n\nconst SettingsWrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n`;\n\n// const RepoLink = styled(Text)`\n//   text-align: right;\n//   width: 100%;\n//   a {\n//     text-decoration: underline;\n//     color: ${props => props.theme.colors.dark};\n//     &:hover {\n//       color: ${props => props.theme.colors.darkest};\n//     }\n//   }\n// `;\n\nconst Sidebar: React.FC<{ sectionPaths: Props['sectionPaths']; isAdmin: boolean }> = ({\n  sectionPaths,\n  isAdmin\n}) => {\n  return (\n    <WrapperPanel mr={2}>\n      <Panel>\n        <Nav>\n          <NavItem p={3}>\n            <NavLink exact to={sectionPaths.general}>\n              <Flex alignItems=\"center\" sx={{ textTransform: 'capitalize', fontSize: '14px' }}>\n                <Icon className=\"icon\" mr={1}>\n                  <Sett size={20} />\n                </Icon>\n                <Name>\n                  <Trans>General information</Trans>\n                </Name>\n              </Flex>\n            </NavLink>\n          </NavItem>\n          <NavItem p={3}>\n            <NavLink to={sectionPaths.preferences}>\n              <Flex alignItems=\"center\" sx={{ textTransform: 'capitalize', fontSize: '14px' }}>\n                <Icon className=\"icon\" mr={1}>\n                  <Sliders size={20} />\n                </Icon>\n                <Name>\n                  <Trans>Preferences</Trans>\n                </Name>\n              </Flex>\n            </NavLink>\n          </NavItem>\n          {isAdmin ? (\n            <>\n              <SectionTitle p={3}>\n                <Flex\n                  alignItems=\"center\"\n                  p={3}\n                  sx={{ textTransform: 'capitalize', fontSize: '14px' }}\n                >\n                  {/* <Icon className=\"icon\" mr={1}>\n                <Key size={20} />\n              </Icon> */}\n                  <Text variant=\"suptitle\">Admin</Text>\n                </Flex>\n              </SectionTitle>\n              <NavItem p={3}>\n                <NavLink to={sectionPaths.instance}>\n                  <Flex alignItems=\"center\" sx={{ textTransform: 'capitalize', fontSize: '14px' }}>\n                    <Icon className=\"icon\" mr={1}>\n                      <Droplet size={20} />\n                    </Icon>\n                    <Name>\n                      <Trans>Instance</Trans>\n                    </Name>\n                  </Flex>\n                </NavLink>\n              </NavItem>\n              <NavItem p={3}>\n                <NavLink to={sectionPaths.invites}>\n                  <Flex alignItems=\"center\" sx={{ textTransform: 'capitalize', fontSize: '14px' }}>\n                    <Icon className=\"icon\" mr={1}>\n                      <Mail size={20} />\n                    </Icon>\n                    <Name>\n                      <Trans>Invites</Trans>\n                    </Name>\n                  </Flex>\n                </NavLink>\n              </NavItem>\n              <NavItem p={3}>\n                {/* <NavLink to={`${basePath}/reports`}> */}\n                <NavLink to={sectionPaths.flags}>\n                  <Flex alignItems=\"center\" sx={{ textTransform: 'capitalize', fontSize: '14px' }}>\n                    <Icon className=\"icon\" mr={1}>\n                      <Flag size={20} />\n                    </Icon>\n                    <Name>\n                      <Trans>Flags</Trans>\n                    </Name>\n                  </Flex>\n                </NavLink>\n              </NavItem>\n              <NavItem p={3}>\n                <NavLink to={sectionPaths.logs}>\n                  <Flex alignItems=\"center\" sx={{ textTransform: 'capitalize', fontSize: '14px' }}>\n                    <Icon className=\"icon\" mr={1}>\n                      <Monitor size={20} />\n                    </Icon>\n                    <Name>\n                      <Trans>Moderation log</Trans>\n                    </Name>\n                  </Flex>\n                </NavLink>\n              </NavItem>\n            </>\n          ) : null}\n        </Nav>\n      </Panel>\n    </WrapperPanel>\n  );\n};\n\nconst Name = styled(Text)`\n  ${media.lessThan('medium')`\ndisplay: none;\n`};\n`;\n\nconst SectionTitle = styled(Flex)`\n  border-top: 4px solid ${props => props.theme.colors.lighter};\n  border-bottom: 1px solid ${props => props.theme.colors.lighter};\n`;\n\nconst CollectionContainerForm = styled(ContainerForm)`\n  input {\n    background: #fbfbfb;\n    color: ${props => props.theme.colors.mediumdark};\n    border: 0;\n    font-weight: 700;\n  }\n\n  textarea {\n    background: #fbfbfb;\n    border-radius: 2px;\n    border: 0;\n    height: 120px;\n    resize: none;\n  }\n`;\n\nconst Img = styled.div`\n  width: 120px;\n  height: 120px;\n  border-radius: 6px;\n  background: ${props => props.theme.colors.light};\n  border: 3px solid ${props => props.theme.colors.light};\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 16px;\n`;\n\nconst Bg = styled(Box)`\n  height: 250px;\n  border-radius: 4px;\n  width: 100%;\n  display: inline-block;\n  .thumb {\n    height: 100%;\n  }\n`;\nconst FlexProfile = styled(Flex)`\n  justify-content: space-between;\n  ${media.lessThan('860px')`\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n`};\n`;\n\nconst ProfileBox = styled(Box)``;\n\nconst Username = styled(Text)`\n  color: ${props => props.theme.colors.mediumdark};\n  font-weight: 500;\n`;\n\nconst Location = styled(Flex)`\n  color: ${props => props.theme.colors.medium};\n  font-weight: 500;\n  line-height: 26px;\n  border-radius: 100px;\n  align-items: center;\n  span {\n    margin-right: 8px;\n    & svg {\n      stroke: ${props => props.theme.colors.medium};\n      vertical-align: text-bottom;\n    }\n  }\n`;\n\nconst RelevantLink = styled(Flex)`\n  color: ${props => props.theme.colors.medium};\n  font-weight: 500;\n  line-height: 26px;\n  border-radius: 100px;\n  align-items: center;\n  span {\n    margin-right: 8px;\n    & svg {\n      stroke: ${props => props.theme.colors.medium};\n      vertical-align: text-bottom;\n    }\n  }\n`;\n\nconst WrapperHero = styled.div`\n  padding: 24px;\n  padding-top: 0;\n  z-index: 9999;\n  position: relative;\n  margin-top: -60px;\n  padding-bottom: 0;\n`;\n\nconst Hero = styled.div`\n  width: 100%;\n  position: relative;\n  border-radius: 6px;\n  & p {\n    color: ${props => props.theme.colors.mediumdark};\n    padding: 0 24px;\n    margin-left: 120px;\n    margin: 0;\n    margin-left: 136px;\n    margin-top: -40px;\n    line-height: 26px;\n    padding-bottom: 16px;\n  }\n`;\n\nconst HeroInfo = styled(Box)`\n  & button {\n    span {\n      vertical-align: sub;\n      display: inline-block;\n      height: 30px;\n      margin-right: 4px;\n    }\n  }\n`;\n\nconst Icon = styled(Box)`\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  border-radius: 40px;\n  display: flex;\n  align-items: center;\n  svg {\n    stroke: ${props => props.theme.colors.medium};\n    width: 40px;\n  }\n`;\n\nexport const WrapperPanel = styled(Flex)`\n  width: 350px;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  min-height: 0px;\n  min-width: 0px;\n  padding: 0px;\n  position: relative;\n  z-index: 0;\n  font-family: ${props => props.theme.fontFamily};\n  &.extra {\n    width: 100%;\n  }\n  ${media.lessThan('1095px')`\n  width: 290px;\n`};\n  ${media.lessThan('medium')`\n  width: 80px;\n`};\n`;\n\nexport const Panel = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0px;\n  min-height: 0px;\n  min-width: 0px;\n  padding: 0px;\n  position: relative;\n  z-index: 0;\n  margin-bottom: 8px !important;\n`;\n\nexport const PanelTitle = styled(Text)`\n  text-transform: uppercase;\n  border-bottom: 4px solid ${props => props.theme.colors.lighter};\n  padding: 16px;\n`;\n\nexport const Nav = styled(Box)``;\n\nexport const NavItem = styled(Text)`\ncolor: ${props => props.theme.colors.mediumdark}\nborder-bottom: 1px solid ${props => props.theme.colors.lighter};\na {\n  color: ${props => props.theme.colors.mediumdark}\n  text-decoration: none;\n  font-weight: 700;\n  &.active {\n      color: ${props => props.theme.colors.primary};\n    .icon {\n        background: ${props => props.theme.colors.lighter};\n        svg {\n          stroke: ${props => props.theme.colors.primary};\n        }\n    }\n    \n  }\n}\n&:hover {\n    .icon {\n        background: ${props => props.theme.colors.lighter};\n        svg {\n          stroke: ${props => props.theme.colors.primary};\n        }\n    }\n  }\n  `;\n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { useAllFlagsQuery } from './useAllFlags.generated';\nimport { useMemo } from 'react';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useAllFlags = () => {\n  const allFlagsQ = useAllFlagsQuery();\n  const flagsPage = usePage(allFlagsQ.data?.flags, ({ cursor, update }) => {\n    return allFlagsQ.fetchMore({\n      variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n      updateQuery: (prev, { fetchMoreResult }) => {\n        return fetchMoreResult?.flags && prev.flags\n          ? {\n              ...fetchMoreResult,\n              flags: update({\n                prev: prev.flags,\n                fetched: fetchMoreResult.flags\n              })\n            }\n          : prev;\n      }\n    });\n  });\n  return useMemo(() => {\n    return {\n      flagsPage\n    };\n  }, [flagsPage]);\n};\n","import * as Types from '../../../graphql/types.generated';\n\nimport { FlagPreviewFragment } from '../../../HOC/modules/previews/flag/FlagPreview.generated';\nimport gql from 'graphql-tag';\nimport { FlagPreviewFragmentDoc } from '../../../HOC/modules/previews/flag/FlagPreview.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type FlagPreviewDataQueryVariables = {\n  flagId: Types.Scalars['String']\n};\n\n\nexport type FlagPreviewDataQuery = (\n  { __typename: 'RootQueryType' }\n  & { flag: Types.Maybe<(\n    { __typename: 'Flag' }\n    & FlagPreviewFragment\n  )> }\n);\n\nexport type DeleteFlagMutationVariables = {\n  flagId: Types.Scalars['String']\n};\n\n\nexport type DeleteFlagMutation = (\n  { __typename: 'RootMutationType' }\n  & { delete: Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | (\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  ) | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\nexport type DeleteFlagContextMutationVariables = {\n  contextId: Types.Scalars['String']\n};\n\n\nexport type DeleteFlagContextMutation = (\n  { __typename: 'RootMutationType' }\n  & { delete: Types.Maybe<{ __typename: 'Category' } | (\n    { __typename: 'Collection' }\n    & Pick<Types.Collection, 'id'>\n  ) | (\n    { __typename: 'Comment' }\n    & Pick<Types.Comment, 'id'>\n  ) | (\n    { __typename: 'Community' }\n    & Pick<Types.Community, 'id'>\n  ) | (\n    { __typename: 'Flag' }\n    & Pick<Types.Flag, 'id'>\n  ) | (\n    { __typename: 'Follow' }\n    & Pick<Types.Follow, 'id'>\n  ) | { __typename: 'Intent' } | (\n    { __typename: 'Like' }\n    & Pick<Types.Like, 'id'>\n  ) | { __typename: 'Organisation' } | (\n    { __typename: 'Resource' }\n    & Pick<Types.Resource, 'id'>\n  ) | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | { __typename: 'User' }> }\n);\n\nexport type DeactivateFlaggedUserMutationVariables = {\n  userId: Types.Scalars['String']\n};\n\n\nexport type DeactivateFlaggedUserMutation = (\n  { __typename: 'RootMutationType' }\n  & { delete: Types.Maybe<{ __typename: 'Category' } | { __typename: 'Collection' } | { __typename: 'Comment' } | { __typename: 'Community' } | { __typename: 'Flag' } | { __typename: 'Follow' } | { __typename: 'Intent' } | { __typename: 'Like' } | { __typename: 'Organisation' } | { __typename: 'Resource' } | { __typename: 'SpatialThing' } | { __typename: 'Taggable' } | (\n    { __typename: 'User' }\n    & Pick<Types.User, 'id'>\n  )> }\n);\n\n\nexport const FlagPreviewDataDocument = gql`\n    query flagPreviewData($flagId: String!) {\n  flag(flagId: $flagId) {\n    ...FlagPreview\n  }\n}\n    ${FlagPreviewFragmentDoc}`;\n\n/**\n * __useFlagPreviewDataQuery__\n *\n * To run a query within a React component, call `useFlagPreviewDataQuery` and pass it any options that fit your needs.\n * When your component renders, `useFlagPreviewDataQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useFlagPreviewDataQuery({\n *   variables: {\n *      flagId: // value for 'flagId'\n *   },\n * });\n */\nexport function useFlagPreviewDataQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<FlagPreviewDataQuery, FlagPreviewDataQueryVariables>) {\n        return ApolloReactHooks.useQuery<FlagPreviewDataQuery, FlagPreviewDataQueryVariables>(FlagPreviewDataDocument, baseOptions);\n      }\nexport function useFlagPreviewDataLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<FlagPreviewDataQuery, FlagPreviewDataQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<FlagPreviewDataQuery, FlagPreviewDataQueryVariables>(FlagPreviewDataDocument, baseOptions);\n        }\nexport type FlagPreviewDataQueryHookResult = ReturnType<typeof useFlagPreviewDataQuery>;\nexport type FlagPreviewDataLazyQueryHookResult = ReturnType<typeof useFlagPreviewDataLazyQuery>;\nexport type FlagPreviewDataQueryResult = ApolloReactCommon.QueryResult<FlagPreviewDataQuery, FlagPreviewDataQueryVariables>;\nexport const DeleteFlagDocument = gql`\n    mutation deleteFlag($flagId: String!) {\n  delete(contextId: $flagId) {\n    ... on Flag {\n      id\n    }\n  }\n}\n    `;\nexport type DeleteFlagMutationFn = ApolloReactCommon.MutationFunction<DeleteFlagMutation, DeleteFlagMutationVariables>;\n\n/**\n * __useDeleteFlagMutation__\n *\n * To run a mutation, you first call `useDeleteFlagMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeleteFlagMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deleteFlagMutation, { data, loading, error }] = useDeleteFlagMutation({\n *   variables: {\n *      flagId: // value for 'flagId'\n *   },\n * });\n */\nexport function useDeleteFlagMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<DeleteFlagMutation, DeleteFlagMutationVariables>) {\n        return ApolloReactHooks.useMutation<DeleteFlagMutation, DeleteFlagMutationVariables>(DeleteFlagDocument, baseOptions);\n      }\nexport type DeleteFlagMutationHookResult = ReturnType<typeof useDeleteFlagMutation>;\nexport type DeleteFlagMutationResult = ApolloReactCommon.MutationResult<DeleteFlagMutation>;\nexport type DeleteFlagMutationOptions = ApolloReactCommon.BaseMutationOptions<DeleteFlagMutation, DeleteFlagMutationVariables>;\nexport const DeleteFlagContextDocument = gql`\n    mutation deleteFlagContext($contextId: String!) {\n  delete(contextId: $contextId) {\n    ... on Collection {\n      id\n    }\n    ... on Comment {\n      id\n    }\n    ... on Community {\n      id\n    }\n    ... on Flag {\n      id\n    }\n    ... on Follow {\n      id\n    }\n    ... on Like {\n      id\n    }\n    ... on Resource {\n      id\n    }\n  }\n}\n    `;\nexport type DeleteFlagContextMutationFn = ApolloReactCommon.MutationFunction<DeleteFlagContextMutation, DeleteFlagContextMutationVariables>;\n\n/**\n * __useDeleteFlagContextMutation__\n *\n * To run a mutation, you first call `useDeleteFlagContextMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeleteFlagContextMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deleteFlagContextMutation, { data, loading, error }] = useDeleteFlagContextMutation({\n *   variables: {\n *      contextId: // value for 'contextId'\n *   },\n * });\n */\nexport function useDeleteFlagContextMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<DeleteFlagContextMutation, DeleteFlagContextMutationVariables>) {\n        return ApolloReactHooks.useMutation<DeleteFlagContextMutation, DeleteFlagContextMutationVariables>(DeleteFlagContextDocument, baseOptions);\n      }\nexport type DeleteFlagContextMutationHookResult = ReturnType<typeof useDeleteFlagContextMutation>;\nexport type DeleteFlagContextMutationResult = ApolloReactCommon.MutationResult<DeleteFlagContextMutation>;\nexport type DeleteFlagContextMutationOptions = ApolloReactCommon.BaseMutationOptions<DeleteFlagContextMutation, DeleteFlagContextMutationVariables>;\nexport const DeactivateFlaggedUserDocument = gql`\n    mutation deactivateFlaggedUser($userId: String!) {\n  delete(contextId: $userId) {\n    ... on User {\n      id\n    }\n  }\n}\n    `;\nexport type DeactivateFlaggedUserMutationFn = ApolloReactCommon.MutationFunction<DeactivateFlaggedUserMutation, DeactivateFlaggedUserMutationVariables>;\n\n/**\n * __useDeactivateFlaggedUserMutation__\n *\n * To run a mutation, you first call `useDeactivateFlaggedUserMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeactivateFlaggedUserMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deactivateFlaggedUserMutation, { data, loading, error }] = useDeactivateFlaggedUserMutation({\n *   variables: {\n *      userId: // value for 'userId'\n *   },\n * });\n */\nexport function useDeactivateFlaggedUserMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<DeactivateFlaggedUserMutation, DeactivateFlaggedUserMutationVariables>) {\n        return ApolloReactHooks.useMutation<DeactivateFlaggedUserMutation, DeactivateFlaggedUserMutationVariables>(DeactivateFlaggedUserDocument, baseOptions);\n      }\nexport type DeactivateFlaggedUserMutationHookResult = ReturnType<typeof useDeactivateFlaggedUserMutation>;\nexport type DeactivateFlaggedUserMutationResult = ApolloReactCommon.MutationResult<DeactivateFlaggedUserMutation>;\nexport type DeactivateFlaggedUserMutationOptions = ApolloReactCommon.BaseMutationOptions<DeactivateFlaggedUserMutation, DeactivateFlaggedUserMutationVariables>;\n\n\nexport interface FlagPreviewDataQueryOperation {\n  operationName: 'flagPreviewData'\n  result: FlagPreviewDataQuery\n  variables: FlagPreviewDataQueryVariables\n  type: 'query'\n}\nexport const FlagPreviewDataQueryName:FlagPreviewDataQueryOperation['operationName'] = 'flagPreviewData'\n\nexport const FlagPreviewDataQueryRefetch = (\n  variables:FlagPreviewDataQueryVariables, \n  context?:any\n)=>({\n  query:FlagPreviewDataDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface DeleteFlagMutationOperation {\n  operationName: 'deleteFlag'\n  result: DeleteFlagMutation\n  variables: DeleteFlagMutationVariables\n  type: 'mutation'\n}\nexport const DeleteFlagMutationName:DeleteFlagMutationOperation['operationName'] = 'deleteFlag'\n\nexport const DeleteFlagMutationRefetch = (\n  variables:DeleteFlagMutationVariables, \n  context?:any\n)=>({\n  query:DeleteFlagDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface DeleteFlagContextMutationOperation {\n  operationName: 'deleteFlagContext'\n  result: DeleteFlagContextMutation\n  variables: DeleteFlagContextMutationVariables\n  type: 'mutation'\n}\nexport const DeleteFlagContextMutationName:DeleteFlagContextMutationOperation['operationName'] = 'deleteFlagContext'\n\nexport const DeleteFlagContextMutationRefetch = (\n  variables:DeleteFlagContextMutationVariables, \n  context?:any\n)=>({\n  query:DeleteFlagContextDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface DeactivateFlaggedUserMutationOperation {\n  operationName: 'deactivateFlaggedUser'\n  result: DeactivateFlaggedUserMutation\n  variables: DeactivateFlaggedUserMutationVariables\n  type: 'mutation'\n}\nexport const DeactivateFlaggedUserMutationName:DeactivateFlaggedUserMutationOperation['operationName'] = 'deactivateFlaggedUser'\n\nexport const DeactivateFlaggedUserMutationRefetch = (\n  variables:DeactivateFlaggedUserMutationVariables, \n  context?:any\n)=>({\n  query:DeactivateFlaggedUserDocument,\n  variables,\n  context\n})\n      \n","import { Flag } from 'graphql/types.generated';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\nimport { AllFlagsQueryRefetch } from '../all/useAllFlags.generated';\nimport {\n  useDeactivateFlaggedUserMutation,\n  useDeleteFlagContextMutation,\n  useDeleteFlagMutation,\n  useFlagPreviewDataQuery\n} from './useFlagPreview.generated';\n\nexport const useFlagPreview = (flagId: Flag['id']) => {\n  const flagQ = useFlagPreviewDataQuery({ variables: { flagId } });\n  const [deleteFlagContextMut, deleteFlagContextStatus] = useDeleteFlagContextMutation();\n  const [deleteFlagMut, deleteFlagStatus] = useDeleteFlagMutation();\n  const [\n    deactivateFlaggedUserMut,\n    deactivateFlaggedUserStatus\n  ] = useDeactivateFlaggedUserMutation();\n\n  const flag = flagQ.data?.flag;\n  const deactivateFlaggedUser = useCallOrNotifyMustLogin(async () => {\n    if (!flag || flag.context.__typename !== 'User' || deactivateFlaggedUserStatus.loading) {\n      return;\n    }\n\n    return deactivateFlaggedUserMut({\n      variables: { userId: flag.context.userId }\n    });\n  }, [flag]);\n\n  const deleteFlagContext = useCallOrNotifyMustLogin(async () => {\n    if (\n      !flag ||\n      flag.context.__typename === 'User' ||\n      deleteFlagStatus.loading ||\n      deleteFlagContextStatus.loading\n    ) {\n      return;\n    }\n\n    return Promise.all([\n      deleteFlagMut({\n        variables: { flagId: flag.id },\n        refetchQueries: [AllFlagsQueryRefetch({})]\n      }),\n      deleteFlagContextMut({ variables: { contextId: flag.id } })\n    ]);\n  }, [flag]);\n\n  const ignoreFlag = useCallOrNotifyMustLogin(async () => {\n    if (!flag || deleteFlagStatus.loading) {\n      return;\n    }\n\n    return deleteFlagMut({\n      variables: { flagId: flag.id },\n      refetchQueries: [AllFlagsQueryRefetch({})]\n    });\n  }, [flag]);\n\n  return useMemo(() => {\n    return {\n      flag,\n      deactivateFlaggedUser,\n      deleteFlagContext,\n      ignoreFlag,\n      deleteFlagContextStatus,\n      deactivateFlaggedUserStatus,\n      ignoreFlagStatus: deleteFlagStatus\n    };\n  }, [\n    flag,\n    deactivateFlaggedUser,\n    deleteFlagContext,\n    ignoreFlag,\n    deleteFlagContextStatus,\n    deactivateFlaggedUserStatus,\n    deleteFlagStatus\n  ]);\n};\n","import { Trans } from '@lingui/macro';\nimport { typography } from 'mn-constants';\nimport { darken } from 'polished';\nimport React, { ReactElement } from 'react';\nimport { Flag, Slash, XCircle } from 'react-feather';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\n\nexport interface FlaggedProps {\n  FlaggedItemContextElement: ReactElement;\n  type: string;\n  reason: string;\n  blockUser(): unknown;\n  ignoreFlag(): unknown;\n  deleteContent(): unknown;\n}\n\nexport const FlaggedItem: React.SFC<FlaggedProps> = ({\n  FlaggedItemContextElement,\n  type,\n  reason,\n  blockUser,\n  ignoreFlag,\n  deleteContent\n}) => {\n  return (\n    <Wrapper>\n      <Reason>{FlaggedItemContextElement}</Reason>\n      <Text variant=\"text\" pt={2}>\n        {reason}\n      </Text>\n      <Actions>\n        <Box>\n          <Items>\n            {type === 'User' ? (\n              <ActionItem onClick={blockUser}>\n                <ActionIcon>\n                  <Slash strokeWidth=\"1\" size=\"18\" />\n                </ActionIcon>\n                <Text variant={'suptitle'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  <Trans>Block</Trans>\n                </Text>\n              </ActionItem>\n            ) : (\n              <ActionItem onClick={deleteContent}>\n                <ActionIcon>\n                  <XCircle strokeWidth=\"1\" size=\"18\" />\n                </ActionIcon>\n                <Text variant={'suptitle'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                  <Trans>Delete</Trans>\n                </Text>\n              </ActionItem>\n            )}\n            <ActionItem ml={2} onClick={ignoreFlag}>\n              <ActionIcon className=\"unflag\">\n                <Flag className=\"hover\" strokeWidth=\"1\" size=\"16\" />\n              </ActionIcon>\n              <Text variant={'suptitle'} sx={{ textTransform: 'capitalize' }} ml={1}>\n                <Trans>Ignore</Trans>\n              </Text>\n            </ActionItem>\n          </Items>\n        </Box>\n      </Actions>\n    </Wrapper>\n  );\n};\n\nconst Reason = styled(Box)`\n  color: ${props => props.theme.colors.dark};\n  background: ${props => props.theme.colors.appInverse};\n  border-left: 3px solid ${props => props.theme.colors.light};\n`;\n\nconst Items = styled(Flex)`\n  flex: 1;\n  justify-content: start;\n`;\n\nconst Actions = styled(Box)`\n  position: relative;\n  z-index: 999999999999999999999999999999999999;\n  margin-top: 16px;\n`;\n\nconst ActionItem = styled(Flex)<{ liked?: boolean }>`\n  align-items: center;\n  color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  div {\n    color: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  &:hover {\n    background: ${props =>\n      props.liked\n        ? darken('0.1', props.theme.colors.secondary)\n        : darken('0.05', props.theme.colors.mediumlight)};\n  }\n  cursor: pointer;\n  background: ${props =>\n    props.liked ? props.theme.colors.secondary : props.theme.colors.mediumlight};\n  border-radius: 4px;\n  padding: 0 8px;\n  margin-right: 8px;\n  text-align: center;\n  font-size: ${typography.size.s1};\n  svg {\n    stroke: ${props => (props.liked ? props.theme.colors.lighter : props.theme.colors.mediumdark)};\n  }\n  a {\n    display: flex;\n    align-items: center;\n    position: relative;\n    z-index: 9;\n  }\n  &:hover {\n    svg.hover {\n      stroke: ${props => props.theme.colors.mediumdark};\n      // fill: ${props => props.theme.colors.mediumdark};\n    }\n  }\n`;\n\nconst ActionIcon = styled(Box)`\n  width: 30px;\n  height: 30px;\n  border-radius: 99999px;\n  display: inline-flex;\n  align-items: center;\n  align-content: center;\n  text-align: center;\n  margin-left: -8px;\n  svg {\n    margin: 0 auto;\n  }\n`;\n\nconst Wrapper = styled(Box)`\n  background: ${props => props.theme.colors.appInverse};\n`;\n\n// const Bordered = styled(Box)`\n//   border: ${props => props.theme.colors.border};\n//   border-radius: 4px;\n// `;\n","import { useFlagPreview } from 'fe/flags/preview/useFlagPreview';\nimport { getActivityActor } from 'fe/lib/activity/getActivityActor';\nimport { getCommunityInfoStrings } from 'fe/lib/activity/getContextCommunityInfo';\nimport { Flag } from 'graphql/types.generated';\nimport React, { FC, useMemo, useState, useCallback } from 'react';\nimport { ActivityPreview, Status } from 'ui/modules/ActivityPreview';\nimport { FlaggedItem, FlaggedProps } from 'ui/modules/Previews/FlaggedItem';\nimport { PreviewComponent } from '../activity/PreviewComponent';\nimport { CommentPreviewHOC } from '../comment/CommentPreview';\nimport Modal from 'ui/modules/Modal';\nimport { ConfirmationPanel } from 'ui/modules/ConfirmationPanel';\nimport { i18n } from 'context/global/localizationCtx';\nimport { threadLocation } from 'routes/ThreadPageRoute';\nimport { ActivityContextPreviewFragment } from 'fe/lib/activity/types';\n\ninterface FlagPreviewHOC {\n  flagId: Flag['id'];\n}\n\ntype ConfirmType = 'delete' | 'block' | 'ignore';\n\nexport const FlagPreviewHOC: FC<FlagPreviewHOC> = ({ flagId }) => {\n  const {\n    deactivateFlaggedUser,\n    deleteFlagContext,\n    flag,\n    ignoreFlag,\n    deleteFlagContextStatus,\n    deactivateFlaggedUserStatus,\n    ignoreFlagStatus\n  } = useFlagPreview(flagId);\n\n  const [confirmType, setConfirmType] = useState<ConfirmType>();\n  const closeConfirm = useCallback(() => setConfirmType(undefined), []);\n  const ConfirmActionModal = !(flag && confirmType) ? null : (\n    <Modal closeModal={closeConfirm}>\n      {confirmType === 'delete' ? (\n        <ConfirmationPanel\n          cancel={closeConfirm}\n          confirm={() => deleteFlagContext().then(closeConfirm)}\n          waiting={deleteFlagContextStatus.loading || ignoreFlagStatus.loading}\n          action={i18n._(`Delete flagged content`)}\n          description={i18n._(\n            `Are you sure you want to permanently delete this ${flag.context.__typename} content?`\n          )}\n          title={i18n._(`Delete`)}\n        />\n      ) : confirmType === 'block' ? (\n        <ConfirmationPanel\n          cancel={closeConfirm}\n          confirm={() => deactivateFlaggedUser().then(closeConfirm)}\n          waiting={deactivateFlaggedUserStatus.loading}\n          action={i18n._(`Delete user`)}\n          description={i18n._(`Are you sure you want to permanently delete this user?`)}\n          title={i18n._(`Delete`)}\n        />\n      ) : confirmType === 'ignore' ? (\n        <ConfirmationPanel\n          cancel={closeConfirm}\n          confirm={() => ignoreFlag().then(closeConfirm)}\n          waiting={deleteFlagContextStatus.loading}\n          action={i18n._(`Ignore flag`)}\n          description={i18n._(`Are you sure you want to ignore and delete this flag?`)}\n          title={i18n._(`Ignore`)}\n        />\n      ) : null // never\n      }\n    </Modal>\n  );\n\n  const FlaggedItemContextElement: FlaggedProps['FlaggedItemContextElement'] = useMemo(() => {\n    if (!flag) {\n      return <></>;\n    } else if (flag.context.__typename === 'Comment') {\n      const comment = flag.context;\n      const { communityLink, communityName } = getCommunityInfoStrings(comment);\n      const CommentPreview = (\n        <CommentPreviewHOC commentId={comment.id} mainComment={false} hideActions={true} />\n      );\n      const actor = flag.creator && getActivityActor(flag.creator);\n      return (\n        <ActivityPreview\n          actor={actor}\n          commentActor={comment.creator ? getActivityActor(comment.creator) : undefined}\n          createdAt={comment.createdAt}\n          event={'commented'}\n          communityLink={communityLink}\n          communityName={communityName}\n          status={Status.Loaded}\n          threadUrl={\n            comment.thread?.id && threadLocation.getPath({ threadId: comment.thread.id }, undefined)\n          }\n          preview={CommentPreview}\n        />\n      );\n    } else {\n      if (flag) {\n        return (\n          <PreviewComponent context={(flag.context as unknown) as ActivityContextPreviewFragment} />\n        );\n      } else {\n        return <></>;\n      }\n    }\n  }, [flag]);\n\n  const props = useMemo<FlaggedProps | null>(() => {\n    return flag\n      ? {\n          FlaggedItemContextElement,\n          reason: flag.message,\n          type: flag.context.__typename,\n          blockUser: () => setConfirmType('block'),\n          deleteContent: () => setConfirmType('delete'),\n          ignoreFlag: () => setConfirmType('ignore')\n        }\n      : null;\n  }, [FlaggedItemContextElement, flag]);\n  return (\n    props && (\n      <>\n        {ConfirmActionModal}\n        <FlaggedItem {...props} />\n      </>\n    )\n  );\n};\n","import * as React from 'react';\nimport { Box, Text } from 'rebass/styled-components';\nimport { Trans } from '@lingui/macro';\nimport { Row } from 'ui/modules/Modal';\n// import DropzoneArea from 'ui/modules/DropzoneModal';\nimport { FormikHook } from 'ui/@types/types';\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport { ReactElement } from 'react';\nimport { BottomBordered } from 'ui/elements/Layout';\n\nexport interface Props {\n  FlagPreviews: ReactElement[];\n  loadMoreFlags: FormikHook | null;\n}\n\nconst Flags: React.FC<Props> = ({ FlagPreviews, loadMoreFlags }) => {\n  return (\n    <Box>\n      <Text px={3} mt={2} variant=\"heading\">\n        <Trans>Flags</Trans>\n      </Text>\n      <Row>\n        {FlagPreviews ? (\n          <Box mt={2} sx={{ width: '600px' }}>\n            {FlagPreviews.map(FlagPreview => (\n              <BottomBordered key={FlagPreview.key || ''}>{FlagPreview}</BottomBordered>\n            ))}\n            {loadMoreFlags ? <LoadMore LoadMoreFormik={loadMoreFlags} /> : null}{' '}\n          </Box>\n        ) : (\n          <Text pt={3}>\n            <Trans>No flags yet</Trans>\n          </Text>\n        )}\n      </Row>\n    </Box>\n  );\n};\n\nexport default Flags;\n","import { useAllFlags } from 'fe/flags/all/useAllFlags';\nimport { getActivityActor } from 'fe/lib/activity/getActivityActor';\nimport { FlagPreviewHOC } from 'HOC/modules/previews/flag/FlagPreview';\nimport React, { FC, useMemo } from 'react';\nimport { ActivityPreview, Status } from 'ui/modules/ActivityPreview';\nimport Flags, { Props } from 'ui/pages/settings/flags';\n\nexport interface InstanceFlagsSection {}\n\nexport const InstanceFlagsSection: FC<InstanceFlagsSection> = () => {\n  const { flagsPage } = useAllFlags();\n  const [loadMoreFlags] = flagsPage.formiks;\n  const FlagPreviews = useMemo<Props['FlagPreviews']>(\n    () =>\n      flagsPage.edges.map(flag => {\n        const actor = flag.creator && getActivityActor(flag.creator);\n\n        return (\n          <ActivityPreview\n            key={flag.id}\n            actor={actor}\n            communityLink=\"\"\n            communityName=\"\"\n            createdAt={flag.createdAt}\n            event=\"flagged\"\n            preview={<FlagPreviewHOC flagId={flag.id} />}\n            status={Status.Loaded}\n          />\n        );\n      }),\n\n    [flagsPage.edges]\n  );\n  const props = useMemo<Props>(() => {\n    return {\n      FlagPreviews,\n      loadMoreFlags\n    };\n  }, [FlagPreviews, loadMoreFlags]);\n  return <Flags {...props} />;\n};\n","import * as Types from '../../../../../graphql/types.generated';\n\nimport { FullPageInfoFragment } from '../../../../../@fragments/misc.generated';\nimport gql from 'graphql-tag';\nimport { FullPageInfoFragmentDoc } from '../../../../../@fragments/misc.generated';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\n\n\nexport type AddEmailDomainToAllowListMutationVariables = {\n  domain: Types.Scalars['String']\n};\n\n\nexport type AddEmailDomainToAllowListMutation = (\n  { __typename: 'RootMutationType' }\n  & { createRegisterEmailDomainAccess: (\n    { __typename: 'RegisterEmailDomainAccess' }\n    & Pick<Types.RegisterEmailDomainAccess, 'domain' | 'id'>\n  ) }\n);\n\nexport type RemoveEmailDomainFromAllowListMutationVariables = {\n  id: Types.Scalars['String']\n};\n\n\nexport type RemoveEmailDomainFromAllowListMutation = (\n  { __typename: 'RootMutationType' }\n  & { deleteRegisterEmailDomainAccess: Types.Maybe<(\n    { __typename: 'RegisterEmailDomainAccess' }\n    & Pick<Types.RegisterEmailDomainAccess, 'id'>\n  )> }\n);\n\nexport type AddEmailToAllowListMutationVariables = {\n  email: Types.Scalars['String']\n};\n\n\nexport type AddEmailToAllowListMutation = (\n  { __typename: 'RootMutationType' }\n  & { createRegisterEmailAccess: (\n    { __typename: 'RegisterEmailAccess' }\n    & Pick<Types.RegisterEmailAccess, 'email' | 'id'>\n  ) }\n);\n\nexport type RemoveEmailFromAllowListMutationVariables = {\n  id: Types.Scalars['String']\n};\n\n\nexport type RemoveEmailFromAllowListMutation = (\n  { __typename: 'RootMutationType' }\n  & { deleteRegisterEmailAccess: Types.Maybe<(\n    { __typename: 'RegisterEmailAccess' }\n    & Pick<Types.RegisterEmailAccess, 'id'>\n  )> }\n);\n\nexport type SendInviteEmailMutationVariables = {\n  email: Types.Scalars['String']\n};\n\n\nexport type SendInviteEmailMutation = (\n  { __typename: 'RootMutationType' }\n  & Pick<Types.RootMutationType, 'sendInvite'>\n);\n\nexport type InstanceRegisterEmailAccessesQueryVariables = {\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type InstanceRegisterEmailAccessesQuery = (\n  { __typename: 'RootQueryType' }\n  & { registerEmailAccesses: (\n    { __typename: 'RegisterEmailAccessesPage' }\n    & Pick<Types.RegisterEmailAccessesPage, 'totalCount'>\n    & { pageInfo: (\n      { __typename: 'PageInfo' }\n      & FullPageInfoFragment\n    ), edges: Array<(\n      { __typename: 'RegisterEmailAccess' }\n      & Pick<Types.RegisterEmailAccess, 'id' | 'email'>\n    )> }\n  ) }\n);\n\nexport type InstanceRegisterEmailDomainAccessesQueryVariables = {\n  limit?: Types.Maybe<Types.Scalars['Int']>,\n  before?: Types.Maybe<Array<Types.Scalars['Cursor']>>,\n  after?: Types.Maybe<Array<Types.Scalars['Cursor']>>\n};\n\n\nexport type InstanceRegisterEmailDomainAccessesQuery = (\n  { __typename: 'RootQueryType' }\n  & { registerEmailDomainAccesses: (\n    { __typename: 'RegisterEmailDomainAccessesPage' }\n    & Pick<Types.RegisterEmailDomainAccessesPage, 'totalCount'>\n    & { pageInfo: (\n      { __typename: 'PageInfo' }\n      & FullPageInfoFragment\n    ), edges: Array<(\n      { __typename: 'RegisterEmailDomainAccess' }\n      & Pick<Types.RegisterEmailDomainAccess, 'id' | 'domain'>\n    )> }\n  ) }\n);\n\n\nexport const AddEmailDomainToAllowListDocument = gql`\n    mutation addEmailDomainToAllowList($domain: String!) {\n  createRegisterEmailDomainAccess(domain: $domain) {\n    domain\n    id\n  }\n}\n    `;\nexport type AddEmailDomainToAllowListMutationFn = ApolloReactCommon.MutationFunction<AddEmailDomainToAllowListMutation, AddEmailDomainToAllowListMutationVariables>;\n\n/**\n * __useAddEmailDomainToAllowListMutation__\n *\n * To run a mutation, you first call `useAddEmailDomainToAllowListMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddEmailDomainToAllowListMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addEmailDomainToAllowListMutation, { data, loading, error }] = useAddEmailDomainToAllowListMutation({\n *   variables: {\n *      domain: // value for 'domain'\n *   },\n * });\n */\nexport function useAddEmailDomainToAllowListMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AddEmailDomainToAllowListMutation, AddEmailDomainToAllowListMutationVariables>) {\n        return ApolloReactHooks.useMutation<AddEmailDomainToAllowListMutation, AddEmailDomainToAllowListMutationVariables>(AddEmailDomainToAllowListDocument, baseOptions);\n      }\nexport type AddEmailDomainToAllowListMutationHookResult = ReturnType<typeof useAddEmailDomainToAllowListMutation>;\nexport type AddEmailDomainToAllowListMutationResult = ApolloReactCommon.MutationResult<AddEmailDomainToAllowListMutation>;\nexport type AddEmailDomainToAllowListMutationOptions = ApolloReactCommon.BaseMutationOptions<AddEmailDomainToAllowListMutation, AddEmailDomainToAllowListMutationVariables>;\nexport const RemoveEmailDomainFromAllowListDocument = gql`\n    mutation removeEmailDomainFromAllowList($id: String!) {\n  deleteRegisterEmailDomainAccess(id: $id) {\n    id\n  }\n}\n    `;\nexport type RemoveEmailDomainFromAllowListMutationFn = ApolloReactCommon.MutationFunction<RemoveEmailDomainFromAllowListMutation, RemoveEmailDomainFromAllowListMutationVariables>;\n\n/**\n * __useRemoveEmailDomainFromAllowListMutation__\n *\n * To run a mutation, you first call `useRemoveEmailDomainFromAllowListMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useRemoveEmailDomainFromAllowListMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [removeEmailDomainFromAllowListMutation, { data, loading, error }] = useRemoveEmailDomainFromAllowListMutation({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useRemoveEmailDomainFromAllowListMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<RemoveEmailDomainFromAllowListMutation, RemoveEmailDomainFromAllowListMutationVariables>) {\n        return ApolloReactHooks.useMutation<RemoveEmailDomainFromAllowListMutation, RemoveEmailDomainFromAllowListMutationVariables>(RemoveEmailDomainFromAllowListDocument, baseOptions);\n      }\nexport type RemoveEmailDomainFromAllowListMutationHookResult = ReturnType<typeof useRemoveEmailDomainFromAllowListMutation>;\nexport type RemoveEmailDomainFromAllowListMutationResult = ApolloReactCommon.MutationResult<RemoveEmailDomainFromAllowListMutation>;\nexport type RemoveEmailDomainFromAllowListMutationOptions = ApolloReactCommon.BaseMutationOptions<RemoveEmailDomainFromAllowListMutation, RemoveEmailDomainFromAllowListMutationVariables>;\nexport const AddEmailToAllowListDocument = gql`\n    mutation addEmailToAllowList($email: String!) {\n  createRegisterEmailAccess(email: $email) {\n    email\n    id\n  }\n}\n    `;\nexport type AddEmailToAllowListMutationFn = ApolloReactCommon.MutationFunction<AddEmailToAllowListMutation, AddEmailToAllowListMutationVariables>;\n\n/**\n * __useAddEmailToAllowListMutation__\n *\n * To run a mutation, you first call `useAddEmailToAllowListMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddEmailToAllowListMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addEmailToAllowListMutation, { data, loading, error }] = useAddEmailToAllowListMutation({\n *   variables: {\n *      email: // value for 'email'\n *   },\n * });\n */\nexport function useAddEmailToAllowListMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<AddEmailToAllowListMutation, AddEmailToAllowListMutationVariables>) {\n        return ApolloReactHooks.useMutation<AddEmailToAllowListMutation, AddEmailToAllowListMutationVariables>(AddEmailToAllowListDocument, baseOptions);\n      }\nexport type AddEmailToAllowListMutationHookResult = ReturnType<typeof useAddEmailToAllowListMutation>;\nexport type AddEmailToAllowListMutationResult = ApolloReactCommon.MutationResult<AddEmailToAllowListMutation>;\nexport type AddEmailToAllowListMutationOptions = ApolloReactCommon.BaseMutationOptions<AddEmailToAllowListMutation, AddEmailToAllowListMutationVariables>;\nexport const RemoveEmailFromAllowListDocument = gql`\n    mutation removeEmailFromAllowList($id: String!) {\n  deleteRegisterEmailAccess(id: $id) {\n    id\n  }\n}\n    `;\nexport type RemoveEmailFromAllowListMutationFn = ApolloReactCommon.MutationFunction<RemoveEmailFromAllowListMutation, RemoveEmailFromAllowListMutationVariables>;\n\n/**\n * __useRemoveEmailFromAllowListMutation__\n *\n * To run a mutation, you first call `useRemoveEmailFromAllowListMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useRemoveEmailFromAllowListMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [removeEmailFromAllowListMutation, { data, loading, error }] = useRemoveEmailFromAllowListMutation({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useRemoveEmailFromAllowListMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<RemoveEmailFromAllowListMutation, RemoveEmailFromAllowListMutationVariables>) {\n        return ApolloReactHooks.useMutation<RemoveEmailFromAllowListMutation, RemoveEmailFromAllowListMutationVariables>(RemoveEmailFromAllowListDocument, baseOptions);\n      }\nexport type RemoveEmailFromAllowListMutationHookResult = ReturnType<typeof useRemoveEmailFromAllowListMutation>;\nexport type RemoveEmailFromAllowListMutationResult = ApolloReactCommon.MutationResult<RemoveEmailFromAllowListMutation>;\nexport type RemoveEmailFromAllowListMutationOptions = ApolloReactCommon.BaseMutationOptions<RemoveEmailFromAllowListMutation, RemoveEmailFromAllowListMutationVariables>;\nexport const SendInviteEmailDocument = gql`\n    mutation sendInviteEmail($email: String!) {\n  sendInvite(email: $email)\n}\n    `;\nexport type SendInviteEmailMutationFn = ApolloReactCommon.MutationFunction<SendInviteEmailMutation, SendInviteEmailMutationVariables>;\n\n/**\n * __useSendInviteEmailMutation__\n *\n * To run a mutation, you first call `useSendInviteEmailMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSendInviteEmailMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [sendInviteEmailMutation, { data, loading, error }] = useSendInviteEmailMutation({\n *   variables: {\n *      email: // value for 'email'\n *   },\n * });\n */\nexport function useSendInviteEmailMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<SendInviteEmailMutation, SendInviteEmailMutationVariables>) {\n        return ApolloReactHooks.useMutation<SendInviteEmailMutation, SendInviteEmailMutationVariables>(SendInviteEmailDocument, baseOptions);\n      }\nexport type SendInviteEmailMutationHookResult = ReturnType<typeof useSendInviteEmailMutation>;\nexport type SendInviteEmailMutationResult = ApolloReactCommon.MutationResult<SendInviteEmailMutation>;\nexport type SendInviteEmailMutationOptions = ApolloReactCommon.BaseMutationOptions<SendInviteEmailMutation, SendInviteEmailMutationVariables>;\nexport const InstanceRegisterEmailAccessesDocument = gql`\n    query instanceRegisterEmailAccesses($limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  registerEmailAccesses(limit: $limit, before: $before, after: $after) @connection(key: \"instanceRegisterEmailAccesses\") {\n    totalCount\n    pageInfo {\n      ...FullPageInfo\n    }\n    edges {\n      id\n      email\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}`;\n\n/**\n * __useInstanceRegisterEmailAccessesQuery__\n *\n * To run a query within a React component, call `useInstanceRegisterEmailAccessesQuery` and pass it any options that fit your needs.\n * When your component renders, `useInstanceRegisterEmailAccessesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useInstanceRegisterEmailAccessesQuery({\n *   variables: {\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useInstanceRegisterEmailAccessesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<InstanceRegisterEmailAccessesQuery, InstanceRegisterEmailAccessesQueryVariables>) {\n        return ApolloReactHooks.useQuery<InstanceRegisterEmailAccessesQuery, InstanceRegisterEmailAccessesQueryVariables>(InstanceRegisterEmailAccessesDocument, baseOptions);\n      }\nexport function useInstanceRegisterEmailAccessesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<InstanceRegisterEmailAccessesQuery, InstanceRegisterEmailAccessesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<InstanceRegisterEmailAccessesQuery, InstanceRegisterEmailAccessesQueryVariables>(InstanceRegisterEmailAccessesDocument, baseOptions);\n        }\nexport type InstanceRegisterEmailAccessesQueryHookResult = ReturnType<typeof useInstanceRegisterEmailAccessesQuery>;\nexport type InstanceRegisterEmailAccessesLazyQueryHookResult = ReturnType<typeof useInstanceRegisterEmailAccessesLazyQuery>;\nexport type InstanceRegisterEmailAccessesQueryResult = ApolloReactCommon.QueryResult<InstanceRegisterEmailAccessesQuery, InstanceRegisterEmailAccessesQueryVariables>;\nexport const InstanceRegisterEmailDomainAccessesDocument = gql`\n    query instanceRegisterEmailDomainAccesses($limit: Int, $before: [Cursor!], $after: [Cursor!]) {\n  registerEmailDomainAccesses(limit: $limit, before: $before, after: $after) @connection(key: \"instanceRegisterEmailDomainAccesses\") {\n    totalCount\n    pageInfo {\n      ...FullPageInfo\n    }\n    edges {\n      id\n      domain\n    }\n  }\n}\n    ${FullPageInfoFragmentDoc}`;\n\n/**\n * __useInstanceRegisterEmailDomainAccessesQuery__\n *\n * To run a query within a React component, call `useInstanceRegisterEmailDomainAccessesQuery` and pass it any options that fit your needs.\n * When your component renders, `useInstanceRegisterEmailDomainAccessesQuery` returns an object from Apollo Client that contains loading, error, and data properties \n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useInstanceRegisterEmailDomainAccessesQuery({\n *   variables: {\n *      limit: // value for 'limit'\n *      before: // value for 'before'\n *      after: // value for 'after'\n *   },\n * });\n */\nexport function useInstanceRegisterEmailDomainAccessesQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<InstanceRegisterEmailDomainAccessesQuery, InstanceRegisterEmailDomainAccessesQueryVariables>) {\n        return ApolloReactHooks.useQuery<InstanceRegisterEmailDomainAccessesQuery, InstanceRegisterEmailDomainAccessesQueryVariables>(InstanceRegisterEmailDomainAccessesDocument, baseOptions);\n      }\nexport function useInstanceRegisterEmailDomainAccessesLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<InstanceRegisterEmailDomainAccessesQuery, InstanceRegisterEmailDomainAccessesQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<InstanceRegisterEmailDomainAccessesQuery, InstanceRegisterEmailDomainAccessesQueryVariables>(InstanceRegisterEmailDomainAccessesDocument, baseOptions);\n        }\nexport type InstanceRegisterEmailDomainAccessesQueryHookResult = ReturnType<typeof useInstanceRegisterEmailDomainAccessesQuery>;\nexport type InstanceRegisterEmailDomainAccessesLazyQueryHookResult = ReturnType<typeof useInstanceRegisterEmailDomainAccessesLazyQuery>;\nexport type InstanceRegisterEmailDomainAccessesQueryResult = ApolloReactCommon.QueryResult<InstanceRegisterEmailDomainAccessesQuery, InstanceRegisterEmailDomainAccessesQueryVariables>;\n\n\nexport interface AddEmailDomainToAllowListMutationOperation {\n  operationName: 'addEmailDomainToAllowList'\n  result: AddEmailDomainToAllowListMutation\n  variables: AddEmailDomainToAllowListMutationVariables\n  type: 'mutation'\n}\nexport const AddEmailDomainToAllowListMutationName:AddEmailDomainToAllowListMutationOperation['operationName'] = 'addEmailDomainToAllowList'\n\nexport const AddEmailDomainToAllowListMutationRefetch = (\n  variables:AddEmailDomainToAllowListMutationVariables, \n  context?:any\n)=>({\n  query:AddEmailDomainToAllowListDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface RemoveEmailDomainFromAllowListMutationOperation {\n  operationName: 'removeEmailDomainFromAllowList'\n  result: RemoveEmailDomainFromAllowListMutation\n  variables: RemoveEmailDomainFromAllowListMutationVariables\n  type: 'mutation'\n}\nexport const RemoveEmailDomainFromAllowListMutationName:RemoveEmailDomainFromAllowListMutationOperation['operationName'] = 'removeEmailDomainFromAllowList'\n\nexport const RemoveEmailDomainFromAllowListMutationRefetch = (\n  variables:RemoveEmailDomainFromAllowListMutationVariables, \n  context?:any\n)=>({\n  query:RemoveEmailDomainFromAllowListDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface AddEmailToAllowListMutationOperation {\n  operationName: 'addEmailToAllowList'\n  result: AddEmailToAllowListMutation\n  variables: AddEmailToAllowListMutationVariables\n  type: 'mutation'\n}\nexport const AddEmailToAllowListMutationName:AddEmailToAllowListMutationOperation['operationName'] = 'addEmailToAllowList'\n\nexport const AddEmailToAllowListMutationRefetch = (\n  variables:AddEmailToAllowListMutationVariables, \n  context?:any\n)=>({\n  query:AddEmailToAllowListDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface RemoveEmailFromAllowListMutationOperation {\n  operationName: 'removeEmailFromAllowList'\n  result: RemoveEmailFromAllowListMutation\n  variables: RemoveEmailFromAllowListMutationVariables\n  type: 'mutation'\n}\nexport const RemoveEmailFromAllowListMutationName:RemoveEmailFromAllowListMutationOperation['operationName'] = 'removeEmailFromAllowList'\n\nexport const RemoveEmailFromAllowListMutationRefetch = (\n  variables:RemoveEmailFromAllowListMutationVariables, \n  context?:any\n)=>({\n  query:RemoveEmailFromAllowListDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface SendInviteEmailMutationOperation {\n  operationName: 'sendInviteEmail'\n  result: SendInviteEmailMutation\n  variables: SendInviteEmailMutationVariables\n  type: 'mutation'\n}\nexport const SendInviteEmailMutationName:SendInviteEmailMutationOperation['operationName'] = 'sendInviteEmail'\n\nexport const SendInviteEmailMutationRefetch = (\n  variables:SendInviteEmailMutationVariables, \n  context?:any\n)=>({\n  query:SendInviteEmailDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface InstanceRegisterEmailAccessesQueryOperation {\n  operationName: 'instanceRegisterEmailAccesses'\n  result: InstanceRegisterEmailAccessesQuery\n  variables: InstanceRegisterEmailAccessesQueryVariables\n  type: 'query'\n}\nexport const InstanceRegisterEmailAccessesQueryName:InstanceRegisterEmailAccessesQueryOperation['operationName'] = 'instanceRegisterEmailAccesses'\n\nexport const InstanceRegisterEmailAccessesQueryRefetch = (\n  variables:InstanceRegisterEmailAccessesQueryVariables, \n  context?:any\n)=>({\n  query:InstanceRegisterEmailAccessesDocument,\n  variables,\n  context\n})\n      \n\n\nexport interface InstanceRegisterEmailDomainAccessesQueryOperation {\n  operationName: 'instanceRegisterEmailDomainAccesses'\n  result: InstanceRegisterEmailDomainAccessesQuery\n  variables: InstanceRegisterEmailDomainAccessesQueryVariables\n  type: 'query'\n}\nexport const InstanceRegisterEmailDomainAccessesQueryName:InstanceRegisterEmailDomainAccessesQueryOperation['operationName'] = 'instanceRegisterEmailDomainAccesses'\n\nexport const InstanceRegisterEmailDomainAccessesQueryRefetch = (\n  variables:InstanceRegisterEmailDomainAccessesQueryVariables, \n  context?:any\n)=>({\n  query:InstanceRegisterEmailDomainAccessesDocument,\n  variables,\n  context\n})\n      \n","import { usePage } from 'fe/lib/helpers/usePage';\nimport { useCallOrNotifyMustLogin } from 'HOC/lib/notifyMustLogin';\nimport { useMemo } from 'react';\nimport * as GQL from './instanceRegistrationAllowLists.generated';\nimport { DEFAULT_PAGE_SIZE } from 'mn-constants';\n// import { DEFAULT_PAGE_SIZE } from 'mn-constants';\n\nexport const useInstanceRegistrationAllowLists = () => {\n  const [addEmailDomainMut, addEmailDomainStatus] = GQL.useAddEmailDomainToAllowListMutation();\n  const [\n    removeEmailDomainMut,\n    removeEmailDomainStatus\n  ] = GQL.useRemoveEmailDomainFromAllowListMutation();\n  // const [\n  //   addEmailMut /* ,addEmailStatus */\n  // ] = GQL.useAddEmailToAllowListMutation();\n  const [removeEmailMut, removeEmailStatus] = GQL.useRemoveEmailFromAllowListMutation();\n  const [sendInviteEmailMut, sendInviteEmailStatus] = GQL.useSendInviteEmailMutation();\n\n  const listEmailsQ = GQL.useInstanceRegisterEmailAccessesQuery({\n    variables: {\n      limit: DEFAULT_PAGE_SIZE\n    }\n  });\n  const listEmailsPage = usePage(listEmailsQ.data?.registerEmailAccesses, ({ cursor, update }) => {\n    return listEmailsQ.fetchMore({\n      variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n      updateQuery: (prev, { fetchMoreResult }) => {\n        return fetchMoreResult?.registerEmailAccesses && prev.registerEmailAccesses\n          ? {\n              ...fetchMoreResult,\n              registerEmailAccesses: update({\n                prev: prev.registerEmailAccesses,\n                fetched: fetchMoreResult.registerEmailAccesses\n              })\n            }\n          : prev;\n      }\n    });\n  });\n\n  const listEmailDomainsQ = GQL.useInstanceRegisterEmailDomainAccessesQuery({\n    variables: {\n      limit: DEFAULT_PAGE_SIZE\n    }\n  });\n  const listEmailDomainsPage = usePage(\n    listEmailDomainsQ.data?.registerEmailDomainAccesses,\n    ({ cursor, update }) => {\n      return listEmailDomainsQ.fetchMore({\n        variables: { ...cursor, limit: DEFAULT_PAGE_SIZE },\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return fetchMoreResult?.registerEmailDomainAccesses && prev.registerEmailDomainAccesses\n            ? {\n                ...fetchMoreResult,\n                registerEmailDomainAccesses: update({\n                  prev: prev.registerEmailDomainAccesses,\n                  fetched: fetchMoreResult.registerEmailDomainAccesses\n                })\n              }\n            : prev;\n        }\n      });\n    }\n  );\n  const addEmailDomain = useCallOrNotifyMustLogin(\n    (domain: string) => {\n      return addEmailDomainMut({\n        variables: { domain },\n        refetchQueries: [GQL.InstanceRegisterEmailDomainAccessesQueryRefetch({})]\n      });\n    },\n    [addEmailDomainMut]\n  );\n  const removeEmailDomain = useCallOrNotifyMustLogin(\n    (id: string) => {\n      return removeEmailDomainMut({\n        variables: { id },\n        refetchQueries: [GQL.InstanceRegisterEmailDomainAccessesQueryRefetch({})]\n      });\n    },\n    [removeEmailDomainMut]\n  );\n\n  const sendInviteEmail = useCallOrNotifyMustLogin(\n    (email: string) => {\n      return sendInviteEmailMut({ variables: { email } });\n    },\n    [sendInviteEmailMut]\n  );\n\n  const addEmail = useCallOrNotifyMustLogin(\n    (email: string) => {\n      return sendInviteEmailMut({\n        variables: { email },\n        refetchQueries: [GQL.InstanceRegisterEmailAccessesQueryRefetch({})]\n      });\n    },\n    [sendInviteEmailMut]\n  );\n\n  const removeEmail = useCallOrNotifyMustLogin(\n    (id: string) => {\n      return removeEmailMut({\n        variables: { id },\n        refetchQueries: [GQL.InstanceRegisterEmailAccessesQueryRefetch({})]\n      });\n    },\n    [removeEmailMut]\n  );\n\n  return useMemo(() => {\n    return {\n      listEmailDomainsPage,\n      listEmailsPage,\n      addEmailDomain,\n      removeEmailDomain,\n      addEmail,\n      removeEmail,\n      sendInviteEmail,\n      addEmailDomainStatus,\n      removeEmailDomainStatus,\n      removeEmailStatus,\n      sendInviteEmailStatus\n    };\n  }, [\n    listEmailDomainsPage,\n    listEmailsPage,\n    addEmailDomain,\n    removeEmailDomain,\n    addEmail,\n    removeEmail,\n    sendInviteEmail,\n    addEmailDomainStatus,\n    removeEmailDomainStatus,\n    removeEmailStatus,\n    sendInviteEmailStatus\n  ]);\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { /* Textarea,*/ /* Checkbox, */ Input, Label } from '@rebass/forms';\nimport React from 'react';\nimport { XCircle } from 'react-feather';\nimport { Box, /* Flex, */ Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport Button from 'ui/elements/Button';\nimport { LoadMore } from 'ui/modules/Loadmore';\nimport { Actions, ContainerForm, Row } from 'ui/modules/Modal';\n// import DropzoneArea from 'ui/modules/DropzoneModal';\nimport styled from 'ui/themes/styled';\n\nconst tt = {\n  placeholders: {\n    domain: i18nMark('Enter domain (e.g. moodle.com)')\n  }\n};\n\nexport interface Props {\n  formikAddDomain: FormikHook<WithDomain>;\n  removeDomain(domain: string): unknown;\n  domainsList: string[];\n  loadMoreDomains: FormikHook | null;\n}\n\nexport interface WithDomain {\n  domain: string;\n}\n\n// export const Instance = props => (\nconst Instance: React.FC<Props> = ({\n  formikAddDomain,\n  removeDomain,\n  domainsList,\n  loadMoreDomains\n}) => {\n  return (\n    <Box>\n      <Text px={3} mt={2} variant=\"heading\">\n        <span style={{ marginRight: '8px' }} aria-label=\"icon\" role=\"img\">\n          \n        </span>\n        Customize your instance\n      </Text>\n      {/* <Row>\n      <ContainerForm>\n        <label>\n          <Trans>Name</Trans>\n        </label>\n        <Input />\n      </ContainerForm>\n    </Row>\n    <Row>\n      <ContainerForm>\n        <label>\n          <Trans>Description</Trans>\n        </label>\n        <Textarea />\n      </ContainerForm>\n    </Row>\n    <Row>\n      <ContainerForm>\n        <label>\n          <Trans>Instance background</Trans>\n        </label>\n        <Bg>\n          <DropzoneArea\n            initialUrl={''}\n            // formikForm={}\n          />\n        </Bg>\n      </ContainerForm>\n    </Row> */}\n      {/* <Row>\n        <ContainerForm>\n          <Invite>\n            <Label>\n              <Checkbox id=\"inviteOnly\" name=\"inviteOnly\" />\n              This instance is invite only\n            </Label>\n          </Invite>\n        </ContainerForm>\n      </Row> */}\n      <DomainWrapper>\n        <Label pt={3}>\n          <Trans>Add Domain to allowlist</Trans>\n        </Label>\n        <DomainContainerForm>\n          <DomainInput\n            placeholder={tt.placeholders.domain}\n            disabled={formikAddDomain.isSubmitting}\n            name=\"domain\"\n            value={formikAddDomain.values.domain}\n            onChange={formikAddDomain.handleChange}\n          />\n          <Actions>\n            <Button\n              variant=\"primary\"\n              isSubmitting={formikAddDomain.isSubmitting}\n              isDisabled={formikAddDomain.isSubmitting}\n              type=\"submit\"\n              style={{ marginLeft: '10px' }}\n              onClick={formikAddDomain.submitForm}\n            >\n              <Trans>Add</Trans>\n            </Button>\n          </Actions>\n        </DomainContainerForm>\n      </DomainWrapper>\n      <Box p={3}>\n        <Text p={3} variant=\"suptitle\">\n          <Trans>Allowed Domains</Trans>\n        </Text>\n        {domainsList.map(domain => (\n          <ListRow key={domain}>\n            <DomainText>{domain}</DomainText>\n            <Delete onClick={() => removeDomain(domain)}>\n              <XCircle size={21} />\n            </Delete>\n          </ListRow>\n        ))}\n        {loadMoreDomains ? <LoadMore LoadMoreFormik={loadMoreDomains} /> : null}{' '}\n        {/* FIX ME after add LoadMoreFormik */}\n      </Box>\n\n      <Text variant=\"suptitle\" p={3}>\n        <Trans>More options will be available soon</Trans>\n      </Text>\n    </Box>\n  );\n};\n\n// const Invite = styled(Flex)`\n//   align-items: center;\n//   label {\n//     width: 100%;\n//     line-height: auto;\n//     align-items: center;\n//   }\n// `;\n\nconst DomainText = styled(Text)`\n  flex:1;\n  // color: ${props => props.theme.colors.medium};\n`;\n\nconst DomainContainerForm = styled(ContainerForm)`\n  display: flex;\n  align-items: center;\n`;\n\nconst DomainWrapper = styled.div`\n  padding: 20px;\n  border-bottom: 1px solid ${props => props.theme.colors.lighter};\n`;\n\nconst DomainInput = styled(Input)`\n  && {\n    flex: 1;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n`;\n\nconst ListRow = styled(Row)`\n  align-items: center;\n`;\n\nconst Delete = styled(Box)`\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  border-radius: 30px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  svg{\n    stroke: ${props => props.theme.colors.medium};\n  }\n  &:hover {\n    // background: ${props => props.theme.colors.lighter};\n    svg{\n      stroke: ${props => props.theme.colors.primary};\n    }\n  }\n`;\n\nexport default Instance;\n// const Bg = styled(Box)``;\n","import { i18n } from 'context/global/localizationCtx';\nimport { useInstanceRegistrationAllowLists } from 'fe/settings/instance/registration/allowlist/instanceRegistrationAllowLists';\nimport { useFormik } from 'formik';\nimport { DOMAIN_REGEX } from 'mn-constants';\nimport React, { FC, useCallback, useMemo, useState } from 'react';\nimport { ConfirmationPanel } from 'ui/modules/ConfirmationPanel';\nimport Modal from 'ui/modules/Modal';\nimport Instance, { Props } from 'ui/pages/settings/instance';\nimport * as Yup from 'yup';\n\nexport const withEmailDomainValidation = Yup.object().shape({\n  domain: Yup.string().matches(DOMAIN_REGEX)\n});\n\nexport interface InstanceSettingsSection {}\n\nexport const InstanceSettingsSection: FC<InstanceSettingsSection> = () => {\n  const [domainToRemove, setDomainToRemove] = useState<string>();\n  const unsetDomainToRemove = useCallback(() => setDomainToRemove(undefined), []);\n  const {\n    removeEmailDomain,\n    addEmailDomain,\n    listEmailDomainsPage,\n    removeEmailDomainStatus\n  } = useInstanceRegistrationAllowLists();\n  const [loadMoreDomains] = listEmailDomainsPage.formiks;\n  const formikAddDomain = useFormik<{ domain: string }>({\n    initialValues: { domain: '' },\n    validationSchema: withEmailDomainValidation,\n    onSubmit: ({ domain }, { resetForm }) => {\n      return domain ? addEmailDomain(domain).then(() => resetForm()) : undefined;\n    }\n  });\n\n  const domainsList: Props['domainsList'] = useMemo(\n    () => listEmailDomainsPage.edges.map(_ => _.domain),\n    [listEmailDomainsPage]\n  );\n\n  const removeDomain = useCallback(() => {\n    const domainId = listEmailDomainsPage.edges.find(_ => domainToRemove === _.domain)?.id;\n    if (!domainId) {\n      unsetDomainToRemove();\n      return;\n    }\n    removeEmailDomain(domainId).then(unsetDomainToRemove);\n  }, [domainToRemove, listEmailDomainsPage.edges, removeEmailDomain, unsetDomainToRemove]);\n\n  const RemoveDomainConfirmModal = domainToRemove ? (\n    <Modal closeModal={() => setDomainToRemove(undefined)}>\n      <ConfirmationPanel\n        cancel={unsetDomainToRemove}\n        confirm={removeDomain}\n        action={i18n._(`Delete domain from allowlist`)}\n        description={i18n._(`Are you sure you want to delete ${domainToRemove} from allowlist?`)}\n        title={i18n._(`Delete`)}\n        waiting={removeEmailDomainStatus.loading}\n      />\n    </Modal>\n  ) : null;\n\n  const props = useMemo<Props>(() => {\n    return {\n      formikAddDomain,\n      removeDomain: setDomainToRemove,\n      domainsList,\n      loadMoreDomains\n    };\n  }, [formikAddDomain, domainsList, loadMoreDomains]);\n  return (\n    <>\n      {RemoveDomainConfirmModal}\n      <Instance {...props} />\n    </>\n  );\n};\n","import { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { Input, Label } from '@rebass/forms';\nimport React from 'react';\nimport { Box, Text } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport Button from 'ui/elements/Button';\nimport { LoadMore } from 'ui/modules/Loadmore';\n// import { FormikHook } from 'ui/@types/types';\nimport { Actions, ContainerForm, Row } from 'ui/modules/Modal';\nimport styled from 'ui/themes/styled';\n\nconst tt = {\n  placeholders: {\n    email: i18nMark('Add email addresses (comma-separated) to invite to instance')\n  }\n};\nexport interface Props {\n  sendInvite(email: string): unknown;\n  formikAddEmail: FormikHook<WithEmail>;\n  emailsList: string[];\n  loadMoreEmails: FormikHook | null;\n}\n\nexport interface WithEmail {\n  email: string;\n}\n\nconst Emails: React.FC<Props> = ({ emailsList, formikAddEmail, sendInvite, loadMoreEmails }) => {\n  return (\n    <Box>\n      <Text variant=\"heading\" px={3} mt={2}>\n        Manage your instance registration\n      </Text>\n      <EmailWrapper>\n        <Label pt={3}>\n          <Trans>Email</Trans>\n        </Label>\n        <EmailContainerForm>\n          <EmailInput\n            placeholder={tt.placeholders.email}\n            disabled={formikAddEmail.isSubmitting}\n            name=\"email\"\n            value={formikAddEmail.values.email}\n            onChange={formikAddEmail.handleChange}\n          />\n          <Actions>\n            <Button\n              variant=\"primary\"\n              isSubmitting={formikAddEmail.isSubmitting}\n              isDisabled={formikAddEmail.isSubmitting}\n              type=\"submit\"\n              style={{ marginLeft: '10px' }}\n              onClick={formikAddEmail.submitForm}\n            >\n              <Trans>Add</Trans>\n            </Button>\n          </Actions>\n        </EmailContainerForm>\n      </EmailWrapper>\n      <Box p={3}>\n        <Text p={3} variant=\"suptitle\">\n          <Trans>Sent invitations</Trans>\n        </Text>\n        {emailsList.map((email, i) => (\n          <ListRow key={`${i}-${email}`}>\n            <EmailText>{email}</EmailText>\n            {/* <Resend\n              onClick={() => {\n                formikSendInvite.setValues({ email });\n                formikSendInvite.submitForm();\n              }}\n            >\n              <RotateCw size={16} />\n            </Resend> */}\n            <Button variant=\"outline\" onClick={() => sendInvite(email)}>\n              <Trans>Send again</Trans>\n            </Button>\n          </ListRow>\n        ))}\n        {loadMoreEmails ? <LoadMore LoadMoreFormik={loadMoreEmails} /> : null}{' '}\n      </Box>\n    </Box>\n  );\n};\n\nexport default Emails;\n\nconst EmailText = styled(Text)`\n  flex:1;\n  // color: ${props => props.theme.colors.medium};\n`;\n\nconst EmailInput = styled(Input)`\n  && {\n    flex: 1;\n    color: ${props => props.theme.colors.mediumdark};\n  }\n`;\nconst ListRow = styled(Row)`\n  align-items: center;\n`;\n\n// const Resend = styled(Box)`\n//   cursor: pointer;\n//   width: 30px;\n//   height: 30px;\n//   border-radius: 30px;\n//   display: flex;\n//   justify-content: space-around;\n//   align-items: center;\n//   svg {\n//     stroke: ${props => props.theme.colors.medium};\n//   }\n\n//   &:hover {\n//     // background: ${props => props.theme.colors.lighter};\n//     svg {\n//       stroke: ${props => props.theme.colors.primary};\n//     }\n//   }\n// }\n// `;\n\nconst EmailContainerForm = styled(ContainerForm)`\n  display: flex;\n  align-items: center;\n`;\n\nconst EmailWrapper = styled.div`\n  padding: 20px;\n  border-bottom: 1px solid ${props => props.theme.colors.lighter};\n`;\n","import { useMe } from 'fe/session/useMe';\nimport { useFormik } from 'formik';\nimport React, { FC, useMemo } from 'react';\nimport {\n  EditProfile,\n  Props as SettingsUIProps,\n  Settings as SettingsPageUI\n} from 'ui/pages/settings';\nimport { InstanceFlagsSection } from './flags/InstanceFlagsSection';\nimport { InstanceSettingsSection } from './instance/InstanceSettingsSection';\nimport { InstanceInvitesSection } from './invites/InstanceInvitesSection';\nimport { InstanceModerationLogSection } from './moderationLog/InstanceModerationLogSection';\nimport { PreferencesSettingsSection } from './preferences/PreferencesSettingsSection';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\nimport { settingsLocation } from 'routes/SettingsPageRoute';\n\nexport enum SettingsPageTab {\n  Preferences,\n  Invites,\n  Instance,\n  Flags,\n  ModerationLogs,\n  General\n}\nexport interface SettingsPage {\n  tab: SettingsPageTab;\n  basePath: string;\n}\n\nconst settingsPreferencesPageTitle = t`Settings - Preferences`;\nconst settingsInvitesPageTitle = t`Settings - Invites`;\nconst settingsInstancePageTitle = t`Settings - Instance`;\nconst settingsFlagsPageTitle = t`Settings - Flags`;\nconst settingsModerationLogsPageTitle = t`Settings - Moderation`;\nconst settingsGeneralPageTitle = t`Settings - General`;\n\nexport const SettingsPage: FC<SettingsPage> = ({ basePath, tab }) => {\n  const settingsPageTitle =\n    tab === SettingsPageTab.Preferences\n      ? settingsPreferencesPageTitle\n      : tab === SettingsPageTab.Invites\n      ? settingsInvitesPageTitle\n      : tab === SettingsPageTab.Instance\n      ? settingsInstancePageTitle\n      : tab === SettingsPageTab.Flags\n      ? settingsFlagsPageTitle\n      : tab === SettingsPageTab.ModerationLogs\n      ? settingsModerationLogsPageTitle\n      : tab === SettingsPageTab.General\n      ? settingsGeneralPageTitle\n      : settingsGeneralPageTitle; //never\n  usePageTitle(settingsPageTitle);\n\n  const { me, updateProfile } = useMe();\n  const profile = me?.user;\n\n  const initialValues = useMemo<EditProfile>(\n    () => ({\n      icon: profile?.icon?.url || undefined,\n      image: profile?.image?.url || undefined,\n      location: profile?.location || '',\n      name: profile?.name || '',\n      website: profile?.website || '',\n      summary: profile?.summary || ''\n    }),\n    [profile]\n  );\n\n  const updateProfileFormik = useFormik<EditProfile>({\n    initialValues,\n    enableReinitialize: true,\n    onSubmit: ({ icon, image, ...profile }) => updateProfile({ profile, icon, image })\n  });\n  const sectionPaths: SettingsUIProps['sectionPaths'] = useMemo(\n    () => ({\n      preferences: settingsLocation.getPath({ tab: 'preferences' }, undefined),\n      instance: settingsLocation.getPath({ tab: 'instance' }, undefined),\n      invites: settingsLocation.getPath({ tab: 'invites' }, undefined),\n      flags: settingsLocation.getPath({ tab: 'flags' }, undefined),\n      logs: settingsLocation.getPath({ tab: 'logs' }, undefined),\n      general: settingsLocation.getPath({ tab: undefined }, undefined)\n    }),\n    []\n  );\n  const settingsPageProps = useMemo<SettingsUIProps | null>(() => {\n    const props: SettingsUIProps = {\n      sectionPaths,\n      displayUsername: profile?.displayUsername || '',\n      isAdmin: !!me?.isInstanceAdmin,\n      formik: updateProfileFormik,\n      Preferences: <PreferencesSettingsSection />,\n      Instance: <InstanceSettingsSection />,\n      Invites: <InstanceInvitesSection />,\n      Flags: <InstanceFlagsSection />,\n      ModerationLog: <InstanceModerationLogSection />\n    };\n    return props;\n  }, [me, profile, sectionPaths, updateProfileFormik]);\n\n  return settingsPageProps && <SettingsPageUI {...settingsPageProps} />;\n};\n","import { useInstanceRegistrationAllowLists } from 'fe/settings/instance/registration/allowlist/instanceRegistrationAllowLists';\nimport { useFormik } from 'formik';\nimport { EMAIL_REGEX } from 'mn-constants';\nimport React, { FC, useMemo } from 'react';\nimport Invites, { Props } from 'ui/pages/settings/invites';\nimport * as Yup from 'yup';\n\nexport interface InstanceInvitesSection {}\n\nexport const withEmailValidation = Yup.object().shape({\n  email: Yup.string().matches(EMAIL_REGEX)\n});\n\nexport const InstanceInvitesSection: FC<InstanceInvitesSection> = () => {\n  const { addEmail, listEmailsPage, sendInviteEmail } = useInstanceRegistrationAllowLists();\n  const [loadMoreEmails] = listEmailsPage.formiks;\n  const formikAddEmail = useFormik<{ email: string }>({\n    initialValues: { email: '' },\n    validationSchema: withEmailValidation,\n    onSubmit: ({ email }, { resetForm }) => {\n      return email ? addEmail(email).then(() => resetForm()) : undefined;\n    }\n  });\n\n  const emailsList: Props['emailsList'] = useMemo(() => listEmailsPage.edges.map(_ => _.email), [\n    listEmailsPage\n  ]);\n\n  const props = useMemo<Props>(() => {\n    return {\n      formikAddEmail,\n      sendInvite: sendInviteEmail,\n      emailsList,\n      loadMoreEmails\n    };\n  }, [formikAddEmail, sendInviteEmail, emailsList, loadMoreEmails]);\n  return <Invites {...props} />;\n};\n","import React from 'react';\nimport { Box, Text } from 'rebass/styled-components';\nimport { Trans } from '@lingui/macro';\n\nexport interface Props {}\nconst ModerationLog: React.FC<Props> = () => {\n  return (\n    <Box>\n      <Text px={3} mt={2} variant=\"heading\">\n        <Trans>Moderation Log</Trans>\n      </Text>\n\n      <Text variant=\"suptitle\" p={3}>\n        <Trans>Logs will be available soon</Trans>\n      </Text>\n    </Box>\n  );\n};\n\nexport default ModerationLog;\n","import React, { FC } from 'react';\nimport ModerationLog from 'ui/pages/settings/logs';\n\nexport const InstanceModerationLogSection: FC = () => {\n  return <ModerationLog />;\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport Select from 'react-select';\nimport { Box } from 'rebass/styled-components';\nimport { FormikHook } from 'ui/@types/types';\nimport Button from 'ui/elements/Button';\nimport { ActionsSimple, ContainerForm, Row } from 'ui/modules/Modal';\n// import { ArrowLeft, ArrowRight } from 'react-feather';\n// import media from 'styled-media-query';\n\n// const Header = styled(Flex)`\n//   border-bottom: ${props => props.theme.colors.border};\n//   svg {\n//     cursor: pointer;\n//   }\n//   ${media.greaterThan('1005px')`\n// display: none;\n// `};\n// `;\n\n// const TabHeading = styled(Heading)`\n//   margin-left: 8px;\n//   .--rtl & {\n//     margin-right: 8px;\n//     margin-left: 0px;\n//   }\n// `;\n\nexport interface EditPreferences {\n  moodleWebsite: string;\n}\n\nexport interface Props extends LanguageSelectProps {\n  formik: FormikHook<EditPreferences>;\n}\n\ntype LanguageSelectProps = {\n  current: { value: string; label: string };\n  locales: { value: string; label: string }[];\n  setLocale(code: string): unknown;\n};\n\nexport const LanguageSelect: React.FC<LanguageSelectProps> = props => {\n  return (\n    <Select\n      options={props.locales as any}\n      defaultValue={props.current}\n      onChange={selectedCode => {\n        const selection = Array.isArray(selectedCode) ? selectedCode[0] : selectedCode;\n        if (!selection) {\n          return;\n        }\n        props.setLocale(selection.value);\n      }}\n    />\n  );\n};\nconst Preferences: React.FC<Props> = props => (\n  <Box>\n    <Row>\n      <ContainerForm>\n        <label>\n          <Trans>Select language</Trans>\n        </label>\n        <LanguageSelect {...props} />\n        {/*<Box width={1 / 2} mt={2}>*/}\n        {/*  <Label htmlFor=\"moodleWebsite\">Moodle LMS site location</Label>*/}\n        {/*  <Input*/}\n        {/*    id=\"moodleWebsite\"*/}\n        {/*    disabled={props.formik.isSubmitting}*/}\n        {/*    value={props.formik.values.moodleWebsite}*/}\n        {/*    onChange={props.formik.handleChange}*/}\n        {/*    name=\"moodleWebsite\"*/}\n        {/*    placeholder={'Type your Moodle LMS instance'}*/}\n        {/*  />*/}\n        {/*</Box>*/}\n        <ActionsSimple sx={{ height: 'inherit !important' }}>\n          <Button\n            variant=\"primary\"\n            isSubmitting={props.formik.isSubmitting}\n            isDisabled={props.formik.isSubmitting}\n            type=\"submit\"\n            style={{ marginLeft: '10px' }}\n            onClick={props.formik.submitForm}\n          >\n            <Trans>Save</Trans>\n          </Button>\n        </ActionsSimple>\n      </ContainerForm>\n    </Row>\n    {/*<TransifexLink variant=\"text\" my={3} mt={2}>*/}\n    {/*  <a*/}\n    {/*    href=\"https://www.transifex.com/moodlenet/moodlenet/\"*/}\n    {/*    target=\"_blank\"*/}\n    {/*    rel=\"noopener noreferrer\"*/}\n    {/*  >*/}\n    {/*    <Trans>Want to contibute to MoodleNet translation?</Trans>*/}\n    {/*  </a>*/}\n    {/*</TransifexLink>*/}\n  </Box>\n);\n\nexport default Preferences;\n\n// const TransifexLink = styled(Text)`\n//   text-align: right;\n//   padding: 0px 20px;\n//\n//   a {\n//     text-decoration: underline;\n//     color: ${props => props.theme.colors.dark};\n//     &:hover {\n//       color: ${props => props.theme.colors.darkest};\n//     }\n//   }\n// `;\n","import React, { FC, useCallback, useMemo } from 'react';\nimport Preferences, { EditPreferences } from 'ui/pages/settings/preferences';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { DOMAIN_REGEX } from 'mn-constants';\nimport { useMe } from 'fe/session/useMe';\nimport { LocaleContext } from 'context/global/localizationCtx';\n\nconst validationSchema = Yup.object<EditPreferences>({\n  moodleWebsite: Yup.string().matches(DOMAIN_REGEX)\n});\n\nexport const PreferencesSettingsSection: FC = () => {\n  const { available, current, set } = React.useContext(LocaleContext);\n\n  const { me, updateProfile } = useMe();\n  const profile = me?.user;\n  const formik = useFormik<EditPreferences>({\n    enableReinitialize: true,\n    initialValues: { moodleWebsite: profile?.extraInfo?.LMS?.site || '' },\n    validationSchema,\n    onSubmit: ({ moodleWebsite }) => {\n      return updateProfile({\n        profile: {\n          extraInfo: {\n            LMS: {\n              site: moodleWebsite\n            }\n          }\n        }\n      });\n    }\n  });\n\n  const localesOptions = useMemo(\n    () =>\n      available.map(locale => ({\n        value: locale.code,\n        label: locale.desc\n      })),\n    [available]\n  );\n\n  const currentOption = useMemo(\n    () => localesOptions.find(option => option.value === current.code) || localesOptions[0],\n    [current.code, localesOptions]\n  );\n\n  const setLocale = useCallback(\n    (code: string) => {\n      const locale = available.find(locale => locale.code === code);\n      locale && set(locale);\n    },\n    [available, set]\n  );\n  return (\n    <Preferences\n      formik={formik}\n      current={currentOption}\n      locales={localesOptions}\n      setLocale={setLocale}\n    />\n  );\n};\n","import React, { ReactElement } from 'react';\nimport { Box } from 'rebass/styled-components';\nimport styled from 'ui/themes/styled';\nimport media from 'styled-media-query';\nimport { Burger, Menu } from 'ui/modules/Burger';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { ChevronLeft } from 'react-feather';\nimport Avatar from 'ui/elements/Avatar';\nimport { Image } from 'rebass';\nimport { logo_small_url } from 'mn-constants';\n\nexport interface Props {\n  SidebarBox: ReactElement;\n  HeaderBox: ReactElement;\n  SearchBox: ReactElement;\n  userImage: string;\n  userLink: string;\n  username: string;\n  name: string;\n  signout(): any;\n}\nexport const WithoutSidebar: React.FC<Props> = ({\n  SidebarBox,\n  HeaderBox,\n  SearchBox,\n  children,\n  userImage,\n  userLink,\n  username,\n  name,\n  signout\n}) => {\n  const [open, setOpen] = React.useState(false);\n  const history = useHistory();\n\n  return (\n    <Page>\n      <SearchBar>\n        <Icon onClick={() => history.goBack()}>\n          <ChevronLeft size=\"20\" />\n        </Icon>\n        {SearchBox}\n      </SearchBar>\n      <Header>{HeaderBox}</Header>\n      <Wrapper>\n        <CenteredWrapper>{children}</CenteredWrapper>\n      </Wrapper>\n      <Footer>\n        <FootWrapper>\n          <Burger open={open} setOpen={setOpen} />\n          <Menu\n            username={username}\n            name={name}\n            userImage={userImage}\n            signout={signout}\n            open={open}\n            setOpen={setOpen}\n            Side={SidebarBox}\n          />\n        </FootWrapper>\n        <FootWrapper>\n          <NavLink to=\"/\">\n            <Logo>\n              <Image src={logo_small_url} />\n            </Logo>\n          </NavLink>\n        </FootWrapper>\n        <FootWrapper>\n          <Bavatar>\n            <NavLink to={userLink}>\n              <Avatar src={userImage} size=\"m\" />\n            </NavLink>\n          </Bavatar>\n        </FootWrapper>\n      </Footer>\n    </Page>\n  );\n};\n\nconst Logo = styled(Box)`\n  img {\n    width: 36px;\n    height: 36px;\n    border-radius: 36px;\n    margin-top: 15px;\n  }\n`;\n\nconst Icon = styled(Box)`\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  border-radius: 40px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: ${props => props.theme.colors.lighter};\n    svg {\n      stroke: ${props => props.theme.colors.primary};\n    }\n  }\n  svg {\n    stroke: ${props => props.theme.colors.mediumdark};\n    margin: 0 auto;\n  }\n`;\n\nconst Bavatar = styled(Box)`\n  div {\n    max-width: 36px;\n    height: 36px;\n    min-width: 36px;\n    margin: 0 auto;\n    border-radius: 36px;\n    margin-top: 15px;\n  }\n`;\n\nconst Header = styled(Box)`\n  ${media.lessThan('medium')`\n    display: none;\n  `}\n`;\n\nconst SearchBar = styled(Box)`\nheight: 75px;\nline-height: 75px;\ntext-align: center;\nbackground: ${props => props.theme.colors.appInverse}\nborder-bottom: ${props => props.theme.colors.border};\ndisplay: flex;\nalign-items: center;\ninput {\n  width: 100%;\n  border-radius: 4px;\n  max-width: 500px;\n  height: 40px;\n  margin: 0;\n  border: 0;\n  background: ${props => props.theme.colors.app};\n}\n.ais-SearchBox {\n  border: 0;\n  height: auto;\n  margin: 0;\n  width: auto;\n  margin: 0;\n  margin-right: 24px;\n  flex:1;\n}\n${media.greaterThan('medium')`\n    display: none;\n  `}\n`;\n\nconst FootWrapper = styled(Box)`\n  height: 75px;\n  line-height: 75px;\n  text-align: center;\n  ${media.lessThan('medium')`\n    background: #fff;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  `}\n`;\n\nconst Footer = styled(Box)`\n  position: fixed;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 500;\n  background: ${props => props.theme.colors.appInverse}\n  display: grid;\n  border-top: ${props => props.theme.colors.border};\n  grid-template-columns: 1fr 1fr 1fr;\n  ${media.greaterThan('medium')`\n    display: none;\n  `}\n\n`;\n\nconst Page = styled(Box)`\n  height: 100vh;\n  display: grid;\n  ${media.greaterThan('large')`\n    grid-template-rows: 50px auto;\n    row-gap: 8px;\n  `}\n  ${media.lessThan('medium')`\n    display: block;\n  `}\n`;\n\nconst Wrapper = styled(Box)`\n  max-width: 1096px;\n  margin: 0 auto;\n  display: grid;\n  \n  ${media.greaterThan('medium')`\n  grid-template-rows: auto;\n  grid-template-columns:  1fr;\n  `}\n  ${media.lessThan('medium')`\n  // height: calc(100vh - 150px);\n  overflow: overlay;\n  grid-template-rows: auto;\n  grid-template-columns:1fr;\n  column-gap: 0px;\n  margin: 0;\n  margin: 0 8px;\n  `}\n  ${media.lessThan('small')`\n    grid-template-rows: auto;\n    grid-template-columns:1fr;\n    column-gap: 0px;\n    margin: 0;\n    margin: 0 8px;\n  `}\n`;\n\nconst CenteredWrapper = styled(Box)`\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n  margin-top: 16px;\n`;\n","import { useMe } from 'fe/session/useMe';\nimport { MainHeaderHOC } from 'HOC/modules/Header/Header';\nimport React, { FC, useMemo } from 'react';\nimport { Props, WithoutSidebar } from 'ui/templates/withoutSidebar';\nimport { GuestTemplate } from '../Guest/Guest';\nimport { SidebarHOC } from 'HOC/modules/Sidebar/Sidebar';\nimport { SearchBox } from 'HOC/modules/SearchBox/SearchBox';\n\nexport interface WithoutSidebarTemplate {}\nexport const WithoutSidebarTemplate: FC<WithoutSidebarTemplate> = ({ children }) => {\n  const { me, logout } = useMe();\n  const withoutSidebarProps = useMemo<null | Props>(() => {\n    const user = me?.user;\n    if (!user) {\n      return null;\n    }\n    const userImage = user.icon?.url || '';\n    const userLink = `/user/${user.id}`;\n    const props: Props = {\n      SidebarBox: <SidebarHOC />,\n      HeaderBox: <MainHeaderHOC />,\n      SearchBox: <SearchBox />,\n      userImage,\n      userLink,\n      signout: logout,\n      username: user.displayUsername || '',\n      name: user.preferredUsername || ''\n    };\n    return props;\n  }, [logout, me]);\n\n  return withoutSidebarProps ? (\n    <WithoutSidebar {...withoutSidebarProps}>{children}</WithoutSidebar>\n  ) : (\n    <GuestTemplate>{children}</GuestTemplate>\n  );\n};\n","import { SettingsPage, SettingsPageTab } from 'HOC/pages/settings/SettingsPage';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\nimport React, { FC, useMemo } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { WithoutSidebarTemplate } from 'HOC/templates/WithoutSidebar/WithoutSidebar';\nimport { RedirectAnonymousToLogin } from './wrappers/RedirectBySession';\nimport { locationHelper } from './lib/helper';\n\ninterface SettingsPageRouter {\n  tab?: string;\n}\nconst SettingsPageRouter: FC<RouteComponentProps<SettingsPageRouter>> = ({ match }) => {\n  const maybeTabStr = match.params.tab;\n  const tab =\n    maybeTabStr === 'preferences'\n      ? SettingsPageTab.Preferences\n      : maybeTabStr === 'logs'\n      ? SettingsPageTab.ModerationLogs\n      : maybeTabStr === 'invites'\n      ? SettingsPageTab.Invites\n      : maybeTabStr === 'instance'\n      ? SettingsPageTab.Instance\n      : maybeTabStr === 'flags'\n      ? SettingsPageTab.Flags\n      : !maybeTabStr\n      ? SettingsPageTab.General\n      : null;\n\n  const props = useMemo<SettingsPage | null>(\n    () =>\n      tab === null\n        ? null\n        : {\n            tab,\n            basePath: `/settings`\n          },\n    [tab]\n  );\n\n  if (!props) {\n    return <NotFoundHOC />;\n  }\n\n  return (\n    <RedirectAnonymousToLogin>\n      <WithoutSidebarTemplate>\n        <SettingsPage {...props} />\n      </WithoutSidebarTemplate>\n    </RedirectAnonymousToLogin>\n  );\n};\n\nexport const SettingsPageRoute: RouteProps = {\n  exact: true,\n  path: '/settings/:tab(preferences|logs|invites|instance|flags)?',\n  component: SettingsPageRouter\n};\n\ntype Tab = undefined | 'preferences' | 'logs' | 'invites' | 'instance' | 'flags';\ntype Params = {\n  tab: Tab;\n};\nexport const settingsLocation = locationHelper<Params, undefined>(SettingsPageRoute);\n","import * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport { i18nMark } from '@lingui/react';\nimport { FormikHook } from 'ui/@types/types';\nimport Alert from '../../elements/Alert';\nimport { Input, Label, Checkbox } from '@rebass/forms';\nimport Button from 'ui/elements/Button';\nimport { Box, Text, Flex } from 'rebass/styled-components';\nimport styled from '../../themes/styled';\nimport { AlertCircle } from 'react-feather';\nimport { AlertWrapper } from 'ui/modules/Modal';\nimport { INVITE_ONLY_TEXT } from 'mn-constants';\nimport media from 'styled-media-query';\nimport { NavLink, Link } from 'react-router-dom';\nimport LogoContainer from 'ui/elements/Logo';\n\nlet tt = {\n  login: i18nMark('Sign in'),\n  placeholders: {\n    email: i18nMark('eg. mary@moodlers.org'),\n    preferredUsername: i18nMark('eg. moodlerMary'),\n    name: i18nMark('eg. Moodler Mary'),\n    password: i18nMark('Choose your password'),\n    passwordConfirm: i18nMark('Confirm your password')\n  }\n};\n\nexport interface Props {\n  formik: FormikHook<SignUpFormValues>;\n  registeredUsername?: string;\n  registeredEmail?: string;\n}\n\nexport interface SignUpFormValues {\n  name: string;\n  email: string;\n  password: string;\n  username: string;\n  passwordConfirm: string;\n  terms: boolean;\n}\n\nexport const SignUpPage: React.FC<Props> = ({ formik, registeredUsername, registeredEmail }) => {\n  return (\n    <Container>\n      {!formik.isSubmitting && formik.submitCount && registeredUsername && registeredEmail ? (\n        <Box mt={3}>\n          <LogoContainer />\n          <Wrapper>\n            <Box>\n              <Text variant=\"suptitle\">\n                <Trans>Welcome</Trans> <b>{registeredUsername}</b>\n              </Text>\n              <Text mt={2} variant=\"text\">\n                <Trans>Please confirm your email address</Trans>\n                <b>{' ' + registeredEmail + ' '}</b>\n                <Trans>\n                  by clicking on the link we emailed you (check your spam folder if necessary).\n                </Trans>\n              </Text>\n            </Box>\n            <Browse>\n              <Link to={'/'}>\n                <Button mt={3} variant=\"primary\">\n                  <Trans>Sign in</Trans>\n                </Button>\n              </Link>\n            </Browse>\n          </Wrapper>\n          {/* <Alert variant=\"negative\">{formik.errors.email}</Alert> */}\n        </Box>\n      ) : (\n        <LoginWrapper>\n          <LogoContainer />\n          <Header>\n            <Aware p={3}>\n              <Box mr={2}>\n                <AlertCircle size=\"20\" color=\"white\" />\n              </Box>\n              <Text variant=\"suptitle\">{INVITE_ONLY_TEXT}</Text>\n            </Aware>\n          </Header>\n          <Flex mt={2}>\n            <FormWrapper onSubmit={formik.handleSubmit}>\n              <Box>\n                <label>\n                  <Trans>Email</Trans>\n                </label>\n                <Input\n                  placeholder={tt.placeholders.email}\n                  name=\"email\"\n                  value={formik.values.email}\n                  onChange={formik.handleChange}\n                />\n                {formik.errors.email && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.email}</Alert>\n                  </AlertWrapper>\n                )}\n              </Box>\n              <Box mt={3}>\n                <label>\n                  <Trans>Full name</Trans>\n                </label>\n                <Input\n                  placeholder={tt.placeholders.name}\n                  name=\"name\"\n                  value={formik.values.name}\n                  onChange={formik.handleChange}\n                />\n                {formik.errors.name && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.name}</Alert>\n                  </AlertWrapper>\n                )}\n              </Box>\n              <Box mt={3}>\n                <label>\n                  <Trans>Preferred username</Trans>\n                </label>\n                <Input\n                  placeholder={tt.placeholders.preferredUsername}\n                  name=\"username\"\n                  value={formik.values.username}\n                  onChange={formik.handleChange}\n                />\n                {formik.errors.username && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.username}</Alert>\n                  </AlertWrapper>\n                )}\n              </Box>\n              <Box mt={3}>\n                <label>\n                  <Trans>Password</Trans>\n                </label>\n                <Input\n                  placeholder={tt.placeholders.password}\n                  name=\"password\"\n                  type=\"password\"\n                  value={formik.values.password}\n                  onChange={formik.handleChange}\n                />\n                {formik.errors.password && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.password}</Alert>\n                  </AlertWrapper>\n                )}\n              </Box>\n              <Box mt={3}>\n                <label>\n                  <Trans>Confirm password</Trans>\n                </label>\n                <Input\n                  placeholder={tt.placeholders.passwordConfirm}\n                  name=\"passwordConfirm\"\n                  type=\"password\"\n                  value={formik.values.passwordConfirm}\n                  onChange={formik.handleChange}\n                />\n                {formik.errors.passwordConfirm && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.passwordConfirm}</Alert>\n                  </AlertWrapper>\n                )}\n              </Box>\n              <Box mt={3} mb={3}>\n                <Label alignItems=\"center\">\n                  <Checkbox\n                    name=\"terms\"\n                    id=\"remember\"\n                    value={formik.values.terms}\n                    onChange={formik.handleChange}\n                  />\n                  <Text mr={1}>I have read and agreed the</Text>\n                  <NavLink to=\"/terms\" target=\"_blank\">\n                    Terms and Conditions\n                  </NavLink>\n                </Label>\n                {formik.errors.terms && (\n                  <AlertWrapper>\n                    <Alert variant=\"negative\">{formik.errors.terms}</Alert>\n                  </AlertWrapper>\n                )}\n              </Box>\n              <Box mt={3}>\n                <Button\n                  variant=\"primary\"\n                  isSubmitting={formik.isSubmitting}\n                  isDisabled={formik.isSubmitting}\n                  type=\"submit\"\n                  // onClick={formik.submitForm}\n                >\n                  <Trans>Sign up</Trans>\n                </Button>\n              </Box>\n            </FormWrapper>\n          </Flex>\n        </LoginWrapper>\n      )}\n    </Container>\n  );\n};\nexport default SignUpPage;\n\nconst Browse = styled(Box)`\n  text-align: center;\n  margin-top: 10px;\n`;\n\nconst Wrapper = styled.div`\n  background: #fff;\n  border-radius: 4px;\n  height: inherit;\n  padding: 30px 20px;\n  text-align: center;\n  height: fit-content;\n`;\n\nconst LoginWrapper = styled(Box)`\n  ${media.lessThan('medium')`\n    // display: grid;\n    // grid-template-columns: 1fr;\n    padding: 16px\n  `};\n`;\n\nconst Container = styled.div`\n  margin: 0 auto;\n  max-width: 900px;\n  padding-bottom: 50px;\n`;\n\nconst Header = styled.div`\n  grid-area: header;\n  text-align: center;\n`;\n\nconst FormWrapper = styled.form`\n  margin: 0;\n  flex: 1;\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: transparent;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n  background: ${props => props.theme.colors.appInverse};\n  border-radius: 4px;\n  height: inherit;\n  border: 1px solid #dddfe2;\n  text-align: left;\n  height: fit-content;\n  padding: 16px;\n`;\n\n// const Right = styled(Box)`\n//   .extra {\n//     width: 100%;\n//     margin-right: 0;\n//   }\n// `;\n\n// const Footer = styled(Box)`\n//   border-top: ${props => props.theme.colors.border};\n//   padding-top: 24px;\n//   & ul {\n//     list-style-type: none;\n//     margin: 0;\n//     padding: 0;\n//     text-align: center;\n//     margin: 0 auto;\n//     justify-content: center;\n//     align-items: center;\n//     display: flex;\n//     flex: 1;\n//     ${clearFix()}\n//     & li {\n//       float: left;\n//       margin-right: 16px;\n//       & a {\n//         color: rgba(0, 0, 0, 0.45);\n//         text-decoration: none;\n//         &:hover {\n//           text-decoration: underline;\n//         }\n//       }\n//     }\n//   }\n// `;\n\nconst Aware = styled(Flex)<{ green: boolean }>`\n  background: ${props => (props.green ? '#546d4f' : props.theme.colors.secondary)};\n  border-radius: 4px;\n  align-items: center;\n  div {\n    color: white;\n  }\n`;\n","import { useFormik } from 'formik';\nimport React, { FC, useMemo } from 'react';\nimport SignUpPage, { SignUpFormValues, Props } from 'ui/pages/signUp';\nimport * as Yup from 'yup';\nimport { useAnon } from 'fe/session/useAnon';\nimport { USERNAME_REGEX } from 'mn-constants';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n\nconst initialValues: SignUpFormValues = {\n  name: '',\n  email: '',\n  password: '',\n  username: '',\n  passwordConfirm: '',\n  terms: false\n};\nexport interface SignUpPageHOC {}\nconst signUpPageTitle = t`Sign Up`;\n\nexport const SignUpPageHOC: FC<SignUpPageHOC> = () => {\n  usePageTitle(signUpPageTitle);\n  const { signUp, signUpStatus, usernameAvailable } = useAnon();\n  const validationSchema: Yup.ObjectSchema<SignUpFormValues> = Yup.object<SignUpFormValues>({\n    username: Yup.string()\n      .min(3)\n      .max(16)\n      .matches(USERNAME_REGEX)\n      .required()\n      .test(\n        'checkDuplUsername',\n        'username already exists',\n        username => username && usernameAvailable(username)\n      ),\n    email: Yup.string()\n      .max(50)\n      .required(),\n    name: Yup.string()\n      .max(50)\n      .required(),\n    password: Yup.string()\n      .min(6)\n      .max(50)\n      .required(),\n    passwordConfirm: Yup.string()\n      .oneOf([Yup.ref('password'), null], 'Passwords must match')\n      .required(),\n    terms: Yup.boolean().oneOf([true], 'Must Accept Terms and Conditions')\n  });\n\n  const formik = useFormik<SignUpFormValues>({\n    initialValues,\n    enableReinitialize: true,\n    validateOnChange: false,\n    validateOnBlur: false,\n    validationSchema,\n    onSubmit: regInput =>\n      signUp({\n        email: regInput.email,\n        name: regInput.name,\n        password: regInput.password,\n        preferredUsername: regInput.username,\n        wantsEmailDigest: false,\n        wantsNotifications: false\n      })\n  });\n\n  const props = useMemo<Props>(\n    () =>\n      signUpStatus.called && signUpStatus.data?.createUser?.user.name\n        ? {\n            formik,\n            registeredUsername: signUpStatus.data.createUser.user.name,\n            registeredEmail: signUpStatus.data.createUser.email\n          }\n        : {\n            formik\n          },\n    [signUpStatus, formik]\n  );\n\n  return <SignUpPage {...props} />;\n};\n","import { SignUpPageHOC } from 'HOC/pages/signUp/SignUpPage';\nimport React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { GuestTemplate } from 'HOC/templates/Guest/Guest';\n\ninterface SignupPageRouter {}\nconst SignupPageRouter: FC<RouteComponentProps<SignupPageRouter>> = ({\n  match\n}) => {\n  return (\n    <GuestTemplate withoutHeader>\n      <SignUpPageHOC />\n    </GuestTemplate>\n  );\n};\n\nexport const SignupPageRoute: RouteProps = {\n  exact: true,\n  path: '/signup',\n  component: SignupPageRouter\n};\n","import React, { FC } from 'react';\nimport { LMSPrefs } from 'fe/lib/moodleLMS/LMSintegration';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\n\nexport type LMSMoodleSearch =\n  | {\n      params: LMSPrefs;\n      badParams?: false;\n    }\n  | {\n      badParams: true;\n    };\n\nconst moodleLMSEntryPageTitle = t`Moodle LMS`;\n\nexport const LMSMoodleSearch: FC<LMSMoodleSearch> = props => {\n  usePageTitle(moodleLMSEntryPageTitle);\n\n  if (props.badParams) {\n    return (\n      <div>\n        <h2>Bad Params</h2>\n      </div>\n    );\n  } else {\n    const { course, site, section } = props.params;\n    return (\n      <div>\n        <h1>Welcome from Moodle LMS !</h1>\n        <h2>Site: {site}</h2>\n        {course && <h3>course: {course}</h3>}\n        {section && <h3>section: {section}</h3>}\n      </div>\n    );\n  }\n};\n","import { getUrlParamsFromEntryPointForMoodleLMS } from 'fe/lib/moodleLMS/LMSintegration';\nimport { useLMSPrefs } from 'fe/lib/moodleLMS/useSendToMoodle';\nimport { LMSMoodleSearch } from 'HOC/pages/lmsMoodleSearch/lmsMoodleSearch';\nimport { WithSidebarTemplate } from 'HOC/templates/WithSidebar/WithSidebar';\nimport React, { FC, useEffect, useRef, useState } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { RedirectAnonymousToLogin } from './wrappers/RedirectBySession';\n\ninterface LMSMoodleSearchRouter {}\nconst LMSMoodleSearchRouter: FC<RouteComponentProps<LMSMoodleSearchRouter>> = ({ match }) => {\n  const { updateLMSPrefs, loading } = useLMSPrefs();\n  const paramsRef = useRef(getUrlParamsFromEntryPointForMoodleLMS());\n  const done = useRef(false);\n  const [props, setProps] = useState<LMSMoodleSearch>();\n  useEffect(() => {\n    const { current: params } = paramsRef;\n    if (done.current || loading) {\n      return;\n    } else if (!params) {\n      setProps({ badParams: true });\n    } else {\n      updateLMSPrefs(params).then(() => setProps({ params }));\n    }\n    done.current = true;\n  }, [updateLMSPrefs, loading]);\n  return (\n    <RedirectAnonymousToLogin>\n      <WithSidebarTemplate>{props && <LMSMoodleSearch {...props} />}</WithSidebarTemplate>\n    </RedirectAnonymousToLogin>\n  );\n};\n\nexport const LMSMoodleSearchRoute: RouteProps = {\n  exact: true,\n  path: '/lms/moodle/search',\n  component: LMSMoodleSearchRouter\n};\n","import Markdown from 'markdown-to-jsx';\nimport * as React from 'react';\nimport { Eye } from 'react-feather';\nimport { Box, Flex, Text } from 'rebass/styled-components';\nimport media from 'styled-media-query';\nimport { Panel } from 'ui/elements/Panel';\nimport styled from '../../themes/styled';\nimport LogoContainer from 'ui/elements/Logo';\n\nexport interface Props {\n  terms_users_data: string;\n  terms_users_text_data: string;\n  terms_privacy_enabled: boolean;\n  privacy_url_text_data: string;\n  terms_privacy_text_data: string;\n  terms_cookies_data: string;\n  terms_cookies_text_data: string;\n  terms_indexing_data: string;\n  terms_indexing_text_data: string;\n}\n\nconst TermsAndConditionsPage: React.FC<Props> = ({\n  terms_users_text_data,\n  terms_cookies_text_data,\n  terms_indexing_text_data,\n  terms_users_data,\n  terms_privacy_enabled,\n  privacy_url_text_data,\n  terms_privacy_text_data,\n  terms_cookies_data,\n  terms_indexing_data\n}) => {\n  return (\n    <Container>\n      <LoginWrapper>\n        <LogoContainer />\n        <Flex mt={2}>\n          <Right>\n            <Aware green mb={3} mt={3} p={3}>\n              <Box mr={2}>\n                <Eye size=\"20\" color=\"white\" />\n              </Box>\n              <Text variant=\"suptitle\">\n                {' '}\n                Please read the following. By using this instance of WeLoop you are consenting to\n                these agreements.\n              </Text>\n            </Aware>\n            <Panel className=\"extra\">\n              <Box p={3}>\n                <Markdown>{terms_users_data || terms_users_text_data}</Markdown>\n              </Box>\n              <Box p={3}>\n                {terms_privacy_enabled ? (\n                  <Markdown>{privacy_url_text_data || terms_privacy_text_data}</Markdown>\n                ) : null}\n              </Box>\n              <Box p={3}>\n                <Markdown>{terms_cookies_data || terms_cookies_text_data}</Markdown>\n              </Box>\n              <Box p={3}>\n                <Markdown>{terms_indexing_data || terms_indexing_text_data}</Markdown>\n              </Box>\n            </Panel>\n          </Right>\n        </Flex>\n      </LoginWrapper>\n      {/* )} */}\n    </Container>\n  );\n};\nexport default TermsAndConditionsPage;\n\nconst LoginWrapper = styled(Box)`\n  ${media.lessThan('medium')`\n    // display: grid;\n    // grid-template-columns: 1fr;\n    padding: 16px\n  `};\n`;\n\nconst Container = styled.div`\n  margin: 0 auto;\n  max-width: 1020px;\n`;\n\nconst Right = styled(Box)`\n  .extra {\n    width: 100%;\n    margin-right: 0;\n    margin-left: 0;\n  }\n`;\n\n// const Footer = styled(Box)`\n//   border-top: ${props => props.theme.colors.border};\n//   padding-top: 24px;\n//   & ul {\n//     list-style-type: none;\n//     margin: 0;\n//     padding: 0;\n//     text-align: center;\n//     margin: 0 auto;\n//     justify-content: center;\n//     align-items: center;\n//     display: flex;\n//     flex: 1;\n//     ${clearFix()}\n//     & li {\n//       float: left;\n//       margin-right: 16px;\n//       & a {\n//         color: rgba(0, 0, 0, 0.45);\n//         text-decoration: none;\n//         &:hover {\n//           text-decoration: underline;\n//         }\n//       }\n//     }\n//   }\n// `;\n\nconst Aware = styled(Flex)<{ green: boolean }>`\n  background: ${props => (props.green ? '#546d4f' : props.theme.colors.primary)};\n  border-radius: 4px;\n  align-items: center;\n  div {\n    color: white;\n  }\n`;\n","import React, { FC, useMemo, useEffect } from 'react';\nimport TermsAndConditionsPage, { Props } from 'ui/pages/termsAndConditions';\nimport useAxios from 'axios-hooks';\nimport { terms_markdown_text, terms_markdown_urls, terms_privacy } from 'mn-constants';\nimport { LocaleContext } from 'context/global/localizationCtx';\nimport { t } from '@lingui/macro';\nimport { usePageTitle } from 'context/global/pageCtx';\nconst termsAndConditionsPageTitle = t`Terms and Conditions`;\n\nexport const TermsAndConditionsPageHOC: FC = () => {\n  usePageTitle(termsAndConditionsPageTitle);\n  const { i18n } = React.useContext(LocaleContext);\n  const terms_users_text = { data: i18n._(terms_markdown_text.terms_users) };\n  const terms_privacy_text = { data: i18n._(terms_privacy.text_markdown) };\n  const terms_cookies_text = { data: i18n._(terms_markdown_text.terms_cookies) };\n  const terms_indexing_text = { data: i18n._(terms_markdown_text.terms_indexing) };\n\n  const [terms_users, exec_terms_users] = useAxios(terms_markdown_urls.terms_users, {\n    useCache: true,\n    manual: true\n  });\n\n  const [terms_cookies, exec_terms_cookies] = useAxios(terms_markdown_urls.terms_cookies, {\n    useCache: true,\n    manual: true\n  });\n  const [terms_indexing, exec_terms_indexing] = useAxios(terms_markdown_urls.terms_indexing, {\n    useCache: true,\n    manual: true\n  });\n  const [privacy_url_text, exec_privacy_url_text] = useAxios(terms_privacy.url_markdown, {\n    useCache: true\n  });\n  useEffect(\n    () => {\n      if (terms_markdown_urls.enabled) {\n        exec_terms_users();\n        exec_terms_cookies();\n        exec_terms_indexing();\n      }\n      if (terms_privacy.enabled) {\n        exec_privacy_url_text();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const props = useMemo<Props>(\n    () => ({\n      terms_privacy_enabled: terms_privacy.enabled,\n      terms_users_data: terms_users.data,\n      terms_users_text_data: terms_users_text.data,\n      privacy_url_text_data: privacy_url_text.data,\n      terms_privacy_text_data: terms_privacy_text.data,\n      terms_cookies_data: terms_cookies.data,\n      terms_cookies_text_data: terms_cookies_text.data,\n      terms_indexing_data: terms_indexing.data,\n      terms_indexing_text_data: terms_indexing_text.data\n    }),\n    [\n      privacy_url_text.data,\n      terms_cookies.data,\n      terms_cookies_text.data,\n      terms_indexing.data,\n      terms_indexing_text.data,\n      terms_privacy_text.data,\n      terms_users.data,\n      terms_users_text.data\n    ]\n  );\n\n  return <TermsAndConditionsPage {...props} />;\n};\n","import React, { FC } from 'react';\nimport { RouteComponentProps, RouteProps } from 'react-router-dom';\nimport { GuestTemplate } from 'HOC/templates/Guest/Guest';\nimport { TermsAndConditionsPageHOC } from 'HOC/pages/termsAndConditions/TermsAndConditionsPage';\n\ninterface TermsAndConditionsPageRouter {}\nconst TermsAndConditionsPageRouter: FC<RouteComponentProps<TermsAndConditionsPageRouter>> = () => {\n  return (\n    <GuestTemplate withoutHeader>\n      <TermsAndConditionsPageHOC />\n    </GuestTemplate>\n  );\n};\n\nexport const TermsAndConditionsPageRoute: RouteProps = {\n  exact: true,\n  path: '/terms',\n  component: TermsAndConditionsPageRouter\n};\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { AllCollectionsPageRoute } from 'routes/AllCollectionsPageRoute';\nimport { AllCommunitiesPageRoute } from 'routes/AllCommunitiesPageRoute';\nimport { CollectionPageRoute } from 'routes/CollectionPageRoute';\nimport { CommunityPageRoute } from 'routes/CommunityPageRoute';\nimport { ConfirmEmailRoute } from 'routes/ConfirmEmailPageRoute';\nimport { CreateNewPasswordPageRoute } from 'routes/CreateNewPasswordPageRoute';\nimport { DiscoverPageRoute } from 'routes/DiscoverPageRoute';\nimport { InventoryResourceItemRouter } from 'routes/InventoryResourceItemRouter';\nimport { ActivityPageRouter } from 'routes/ActivityPageRoute';\nimport { HomePageRoute } from 'routes/HomePageRoute';\nimport { LoginPageRoute } from 'routes/LoginPageRoute';\nimport { MapsPageRoute } from 'routes/MapsPageRoute';\nimport { ResetPasswordPageRoute } from 'routes/ResetPasswordPageRoute';\nimport { SearchPageRoute } from 'routes/SearchPageRoute';\nimport { SettingsPageRoute } from 'routes/SettingsPageRoute';\nimport { SignupPageRoute } from 'routes/SignupPageRoute';\nimport { ThreadPageRoute } from 'routes/ThreadPageRoute';\nimport { UserPageRoute } from 'routes/UserPageRoute';\nimport { LMSMoodleSearchRoute } from 'routes/LMSMoodleSearchRoute';\nimport { TermsAndConditionsPageRoute } from 'routes/TermsAndConditionsPage';\nimport { NotFoundHOC } from 'HOC/pages/not-found/NotFound';\n\nexport const Router: React.FC = () => {\n  return (\n    <Switch>\n      <Route {...UserPageRoute} />\n      <Route {...CommunityPageRoute} />\n      <Route {...CollectionPageRoute} />\n      <Route {...SettingsPageRoute} />\n      <Route {...AllCollectionsPageRoute} />\n      <Route {...AllCommunitiesPageRoute} />\n      <Route {...ThreadPageRoute} />\n      <Route {...InventoryResourceItemRouter} />\n      <Route {...ActivityPageRouter} />\n      <Route {...DiscoverPageRoute} />\n      <Route {...SearchPageRoute} />\n      <Route {...CreateNewPasswordPageRoute} />\n      <Route {...ResetPasswordPageRoute} />\n      <Route {...LoginPageRoute} />\n      <Route {...SignupPageRoute} />\n      <Route {...ConfirmEmailRoute} />\n      <Route {...TermsAndConditionsPageRoute} />\n      <Route {...LMSMoodleSearchRoute} />\n      <Route {...HomePageRoute} />\n      <Route {...MapsPageRoute} />\n      <Route component={NotFoundHOC} />\n    </Switch>\n  );\n};\n","import * as React from 'react';\nimport Alert from 'ui/elements/Alert/index';\nimport { X } from 'react-feather';\nimport styled from 'ui/themes/styled';\nimport { Box } from 'rebass';\n\nexport const TopMessage: React.FC = () => {\n  const [show, setShow] = React.useState(true);\n  return show ? (\n    <AlertWrap>\n      <Alert variant=\"warning\">\n        <div style={{ textAlign: 'center' }}>\n          This site is currently in active development. We are looking forward to reading your\n          feedback and ideas in our{' '}\n          <a\n            href=\"https://github.com/reflow-project/weloop/issues\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Issues Tracker\n          </a>\n          <span\n            style={{\n              cursor: 'pointer',\n              position: 'absolute',\n              top: '10px',\n              right: '10px'\n            }}\n            onClick={() => setShow(false)}\n          >\n            <X size={16} />\n          </span>\n        </div>\n      </Alert>\n    </AlertWrap>\n  ) : null;\n};\n\nconst AlertWrap = styled(Box)`\n  position: relative;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 4010;\n`;\n","import * as React from 'react';\nimport ThemeProvider from 'ui/styleguide/Wrapper';\nimport { Router } from './Router';\nimport { TopMessage } from './topMessage';\n\nexport const App: React.FC = () => {\n  return (\n    <ThemeProvider>\n      <>\n        <TopMessage />\n        <Router />\n      </>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import algoliasearch from 'algoliasearch/lite';\nimport qs from 'qs';\nimport React from 'react';\nimport { InstantSearch } from 'react-instantsearch-dom';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { LocationDescriptorObject } from 'history';\nimport { mothershipCreds } from '../../mn-constants';\nconst createURL = (searchState: any) => `?${qs.stringify(searchState)}`;\n\nconst searchStateToUrl = (searchState: any) => `/search/${createURL(searchState)}`;\n\nconst urlToSearchState = (search: string) => qs.parse(search.slice(1));\nconst DEBOUNCE_TIME = 500;\nconst searchClient =\n  mothershipCreds &&\n  mothershipCreds.appId &&\n  mothershipCreds.apiKey &&\n  algoliasearch(mothershipCreds.appId, mothershipCreds.apiKey);\n\nexport const ProvideAlgoliaContext: React.FC = ({ children }) => {\n  const { push } = useHistory();\n  const location = useLocation();\n  const backLoc = React.useRef<LocationDescriptorObject | undefined>();\n  const searching = React.useRef(isSearchLocation(location.pathname));\n  const [searchState, setSearchState] = React.useState(urlToSearchState(location.search));\n  React.useEffect(() => {\n    // console.log(\n    //   '\\nsearchState',\n    //   searchState,\n    //   '\\nlocation:',\n    //   location,\n    //   '\\nbackLoc:',\n    //   backLoc.current,\n    //   '\\nisInSearch:',\n    //   searching.current\n    // );\n    const setUrlTO = setTimeout(() => {\n      if (searching.current && !isSearchLocation(location.pathname)) {\n        backLoc.current = undefined;\n        searching.current = false;\n        setSearchState(EMPTY_QUERY);\n      } else if (searchState.query) {\n        backLoc.current =\n          backLoc.current || (isSearchLocation(location.pathname) ? undefined : location);\n        searching.current = true;\n        push(searchStateToUrl(searchState));\n      } else if (isSearchLocation(location.pathname)) {\n        if (backLoc.current) {\n          push(backLoc.current);\n        } else {\n          push('/');\n        }\n        backLoc.current = undefined;\n      }\n    }, DEBOUNCE_TIME);\n    return () => {\n      clearTimeout(setUrlTO);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchState, location.pathname, location.hash, location.search, push]);\n  const handleSetSearchState = React.useCallback(\n    newSearchState => {\n      // console.table({ newSearchState, searchState });\n      if (\n        'query' in newSearchState &&\n        // eslint-disable-next-line eqeqeq\n        (newSearchState?.query != searchState?.query ||\n          // eslint-disable-next-line eqeqeq\n          newSearchState?.refinementList?.index_type != searchState?.refinementList?.index_type ||\n          // eslint-disable-next-line eqeqeq\n          newSearchState?.page != searchState?.page)\n      ) {\n        setSearchState(newSearchState);\n      }\n    },\n    [searchState]\n  );\n  return searchClient && mothershipCreds ? (\n    <InstantSearch\n      searchState={searchState}\n      onSearchStateChange={handleSetSearchState}\n      searchClient={searchClient}\n      refresh={true}\n      indexName={mothershipCreds.indexName || ''}\n      createURL={createURL}\n    >\n      {children}\n    </InstantSearch>\n  ) : (\n    <>{children}</>\n  );\n};\nconst isSearchLocation = (locationPathname: string) => locationPathname === '/search/';\nconst EMPTY_QUERY = { query: '' };\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ProvideAlgoliaContext } from './algolia';\nimport { ProvideLocalizationCtx } from './localizationCtx';\nimport { ProvidePageCtx } from './pageCtx';\n\ninterface Props {\n  children: React.ReactNode;\n}\nexport const ProvideContexts: React.FC<Props> = ({ children }) => {\n  return (\n    <ProvideLocalizationCtx>\n      <ProvidePageCtx>\n        <BrowserRouter>\n          <ProvideAlgoliaContext>{children}</ProvideAlgoliaContext>\n        </BrowserRouter>\n      </ProvidePageCtx>\n    </ProvideLocalizationCtx>\n  );\n};\n","import { IS_DEV, PUBLIC_URL } from './mn-constants';\n\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (!IS_DEV && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as Sentry from '@sentry/browser';\nimport { MngErrorLink } from 'fe/lib/graphql/ctx';\nimport * as React from 'react';\nimport { ApolloProvider } from 'react-apollo';\nimport ReactDOM from 'react-dom';\nimport { Slide, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { createGlobalStyle } from 'styled-components';\nimport media from 'styled-media-query';\nimport getApolloClient from './apollo/client';\nimport App from './containers/App/App';\nimport { ProvideContexts } from './context/global';\nimport * as K from './mn-constants';\nimport { colors, typography } from './mn-constants';\nimport registerServiceWorker from './registerServiceWorker';\nimport { createLocalSessionKVStorage } from './util/keyvaluestore/localSessionStorage';\n\nK.SENTRY_KEY &&\n  Sentry.init({\n    dsn: K.SENTRY_KEY\n  });\n\nrun();\nasync function run() {\n  const Global = createGlobalStyle`\n      body, html {\n          border: 0;\n          margin: 0;\n          padding: 0;\n          width: 100%;\n          height: 100%;\n          font-family: ${typography.type.primary} !important;\n      }\n\n      * {\n        box-sizing: border-box;\n      }\n      input, textarea {\n        ::placeholder {\n          font-family: ${typography.type.primary} !important;\n        }\n      }\n      h1 {\n        font-size: 50px;\n      }\n      h2 {\n        font-size: 30px;\n      }\n      h3 {\n        font-size: 18px;\n      }\n      p {\n        font-size: 18px;\n      }\n\n      body {\n        background: ${colors.app};\n        .ais-SearchBox {\n          border-radius: 4px;\n          border: ${colors.border}\n          height: 34px;\n          width: 380px;\n          background: ${colors.app}\n          input {\n            border: none;\n            margin: 0 !important; \n            border-radius: 4px;\n            text-indent: 30px;\n            padding: 0;\n            height: 32px;\n            background: ${colors.app};\n          }\n        }\n        .ais-InstantSearch__root { \n          display: flex;\n        width: 100%;\n        }\n      }\n\n      .Toastify__toast--success{\n        background-color: ${colors.secondary};\n      }\n\n      .Toastify__toast-container--top-right{\n        top:60px !important;\n        ${media.lessThan('480px')` \n          width: 90vw !important;\n          margin: 0 auto; \n        `}; \n    }\n\n    input, textarea{\n      &:focus::placeholder{\n        color: transparent;\n      }\n    }\n\n    input:focus::-webkit-input-placeholder, textarea:focus::-webkit-input-placeholder { color:transparent; }\n    input:focus:-moz-placeholder, textarea:focus:-moz-placeholder { color:transparent; } /* FF 4-18 */\n    input:focus::-moz-placeholder, textarea:focus::-moz-placeholder { color:transparent; } /* FF 19+ */\n    input:focus:-ms-input-placeholder, textarea:focus:-ms-input-placeholder { color:transparent; } /* IE 10+ */\n  `;\n  const createLocalKVStore = createLocalSessionKVStorage('local');\n\n  const apolloClient = await getApolloClient({\n    localKVStore: createLocalKVStore('APOLLO#'),\n    appLinks: [MngErrorLink]\n  });\n\n  const ApolloApp = () => (\n    <ApolloProvider client={apolloClient.client}>\n      <ProvideContexts>\n        <Global />\n        <ToastContainer hideProgressBar transition={Slide} autoClose={3000} newestOnTop />\n        <App />\n      </ProvideContexts>\n    </ApolloProvider>\n  );\n\n  ReactDOM.render(<ApolloApp />, document.getElementById('root'));\n\n  registerServiceWorker();\n}\n"],"sourceRoot":""}